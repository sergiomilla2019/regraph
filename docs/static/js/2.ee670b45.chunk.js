/*! For license information please see 2.ee670b45.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-regraph-app"]=this["webpackJsonpmy-regraph-app"]||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(320)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(5);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";t.exports=n(172)},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var i=n(96),o=r(n(121)),a=r(n(73)),s=n(3),u=r(n(319));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?g(t):e}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}var b=function(t){h(n,s.PureComponent);var e=y(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),d(g(r=e.call(this,t)),"unmounted",void 0),d(g(r),"componentDidMount",(function(){r.load()})),d(g(r),"componentDidUpdate",(function(t){var e=r.props.config;a(t.config,e)||r.load()})),d(g(r),"load",(function(){var t=r.props.config;o(t)&&console.error("FontLoader: no config prop passed");var e=c(c({},t),{},{active:r.done,inactive:r.problem});u.load(e),r.setState({loaded:!1})})),d(g(r),"done",(function(){r.unmounted||r.setState({loaded:!0})})),d(g(r),"problem",(function(){if(!r.unmounted){var t=r.props.config;console.error("FontLoader: font could not be loaded: ".concat(JSON.stringify(t))),r.setState({loaded:!0})}})),r.state={loaded:!1},r.unmounted=!1,r}return function(t,e,n){e&&f(t.prototype,e),n&&f(t,n)}(n,[{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var t=this.state.loaded,e=this.props.children;return t?e:null}}]),n}();Object.defineProperty(e,"Chart",{enumerable:!0,get:function(){return i.Chart}}),Object.defineProperty(e,"TimeBar",{enumerable:!0,get:function(){return i.TimeBar}}),e.FontLoader=b},function(t,e,n){var r=n(97),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(197),i=n(235),o=n(31),a=n(2),s=n(240);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(151),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(18),i=n(177),o=n(178),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(105),i=n(106),o=n(14);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(40),i=n(66);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(404),i=n(165);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(183),i=n(186);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(333),i=n(338);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(7).Symbol;t.exports=r},function(t,e,n){var r=n(102);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(42),i=n(196)(r);t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(173)},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return i}))},function(t,e,n){var r=n(192),i=n(9),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(7),i=n(193),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(21)(t))},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(230),i=n(67),o=n(231),a=n(232),s=n(233),u=n(12),l=n(103),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=l(r),g=l(i),m=l(o),y=l(a),b=l(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=c||o&&x(o.resolve())!=f||a&&x(new a)!=d||s&&x(new s)!=h)&&(x=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case g:return c;case m:return f;case y:return d;case b:return h}return e}),t.exports=x},function(t,e,n){var r=n(41);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(105),i=n(244),o=n(14);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(75),i=n(19);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?i(n,l,c):r(n,l,c)}return n}},function(t,e,n){var r=n(56),i=n(334),o=n(335),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(93);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},function(t,e,n){t.exports=n(405)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(12),i=n(4);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(12),i=n(9);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(104),i=n(13);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(194),i=n(27),o=n(45),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){(function(t){var r=n(97),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(21)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(48),i=n(204),o=n(205),a=n(206),s=n(207),u=n(208);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},function(t,e,n){var r=n(199),i=n(200),o=n(201),a=n(202),s=n(203);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(28);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(16)(Object,"create");t.exports=r},function(t,e,n){var r=n(217);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(221),i=n(9);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(2),i=n(72),o=n(236),a=n(118);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(323),i=n(324),o=n(325),a=n(326),s=n(327);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(81);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(11).Symbol;t.exports=r},function(t,e,n){var r=n(17)(Object,"create");t.exports=r},function(t,e,n){var r=n(347);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(150),i=n(89);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){var r=n(10),i=n(92),o=n(378),a=n(381);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(147),i=n(148),o=n(388),a=n(392);t.exports=function(t,e){if(null==t)return{};var n=r(a(t),(function(t){return[t]}));return e=i(e),o(t,n,(function(t,n){return e(t,n[0])}))}},function(t,e,n){var r=n(160),i=n(162),o=n(85),a=n(10),s=n(59),u=n(86),l=n(90),c=n(88),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||c(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(l(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(t,e,n){var r=n(99)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(101),i=n(4),o=n(41),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r=n(16)(n(7),"Map");t.exports=r},function(t,e,n){var r=n(209),i=n(216),o=n(218),a=n(219),s=n(220);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(112),i=n(113),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e,n){var r=n(53),i=n(30);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(2),i=n(41),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(52);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(22),i=n(8),o=n(243),a=n(123);t.exports=function(t,e){if(null==t)return{};var n=r(a(t),(function(t){return[t]}));return e=i(e),o(t,n,(function(t,n){return e(t,n[0])}))}},function(t,e,n){var r=n(19),i=n(28),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(131),i=n(20),o=n(257),a=n(2);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e,n){var r=n(12),i=n(9);t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},function(t,e,n){var r=n(109);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(28),i=n(14),o=n(43),a=n(4);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(22),i=n(8),o=n(295),a=n(2);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(17)(n(11),"Map");t.exports=r},function(t,e,n){var r=n(339),i=n(346),o=n(348),a=n(349),s=n(350);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(159),i=n(160),o=n(59);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(365),i=n(36),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(11),i=n(366),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(21)(t))},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(367),i=n(368),o=n(369),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(60),i=n(37);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(10),i=n(93),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(34),i=n(36);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){var r=n(167),i=n(168),o=n(148);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},function(t,e,n){"use strict";(function(t){function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(40)),o=r(n(98)),a=r(n(179)),s=n(3),u=r(s),l=r(n(23)),c=r(n(182)),f=r(n(121)),d=r(n(73)),h=r(n(74)),p=r(n(246)),v=r(n(248)),g=r(n(250)),m=r(n(76)),y=r(n(132)),b=r(n(133)),x=r(n(134)),w=r(n(135)),A=r(n(137)),_=r(n(77)),k=r(n(116)),C=r(n(261)),E=r(n(276)),M=r(n(277)),S=r(n(283)),I=r(n(285)),T=r(n(286)),P=r(n(13)),O=r(n(289)),R=r(n(290)),B=r(n(292)),z=r(n(4)),D=r(n(80)),j=r(n(296)),F=r(n(297)),Z=r(n(300)),N=n(301),V=r(n(302)),G=r(n(303)),Y=r(n(304)),W=r(n(100)),U=r(n(306)),X=r(n(307)),H=r(n(318)),K={},Q=null;function J(t,e,n){t&&(t.parentNode&&t.parentNode.removeChild(t),e&&e.appendChild(t),n())}function q(t,e){if(t&&"object"==typeof t)if(Array.isArray(t))t.forEach(e);else for(var n=Object.keys(t),r=n.length,i=0;i<r;i++){var o=n[i];e(t[o],o)}}function $(t){return"rtl"===window.getComputedStyle(t).direction}function tt(t){return t*(Math.PI/180)}function et(t,e,n){var r,i=e,o=n;if(2===arguments.length&&"string"==typeof i&&(o=i,i=!0),null===t)return null;if("object"==typeof t){if(Array.isArray(t)){for(var a=[],s=0;s<t.length;s++)a.push(et(t[s],i,o));return a}return it(t)?nt(t,!0):t instanceof Date?new Date(t.getTime()):(r={},q(t,(function(t,e){i&&"_"===e.charAt(0)||(r[e]=et(t,i&&e!==o))})),r)}return"boolean"==typeof t||"string"==typeof t||"number"==typeof t?t:void 0}function nt(t,e){void 0===e&&(e=!1);var n,r=Object.getPrototypeOf(t).constructor;return e?(n=new r,et(Array.from(t)).forEach((function(t){n.add?n.add(t):n.set(t[0],t[1])}))):n=new r(t),n}function rt(){return Object.isPrototypeOf&&Array.from&&"undefined"!=typeof Set&&"undefined"!=typeof Map}function it(t){return null==Q&&rt&&(Q=rt()),!!Q&&(Object.prototype.isPrototypeOf.call(Map.prototype,t)||Object.prototype.isPrototypeOf.call(Set.prototype,t))}var ot="undefined"!=typeof requestAnimationFrame;function at(t){return ot?requestAnimationFrame(t):setTimeout(t,16.666666666666668)}function st(t){ot?cancelAnimationFrame(t):clearTimeout(t)}function ut(t,e){return void 0===e&&(e=0),vt(t)?setTimeout(t,e):null}function lt(t,e){if(vt(t))return setInterval(t,e)}function ct(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log([].slice.call(t).join(" "))}var ft=Number.isNaN||function(t){return t!=t};var dt=Number.isFinite||ht;function ht(t){return"number"==typeof t&&isFinite(t)}function pt(t){return t>>>0===parseFloat(t)}function vt(t){return"function"==typeof t}function gt(t){return!("object"!=typeof t||St(t)||t instanceof Date||function(t){return Array.isArray(t)}(t))}function mt(t){return"[object Date]"===Object.prototype.toString.call(t)&&!ft(t.getTime())}function yt(t,e){return gt(t)&&gt(e)?Object.keys(e).every((function(n){return yt(t[n],e[n])})):function(t,e){return void 0===t&&void 0===e||!(!ft(t)||!ft(e)||"number"!=typeof t||"number"!=typeof e)||(Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every((function(t,n){return yt(t,e[n])})):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t===e)}(t,e)}function bt(t,e){vt(t)&&ut((function(){t(e)}))}function xt(t,e){vt(t)&&t(e)}var wt=Number.isInteger||function(t){return ht(t)&&Math.floor(t)===t};function At(t){if("object"==typeof t&&t&&!Array.isArray(t)){var e=t;if(e.items)return e.items}return t}function _t(t){return Array.isArray(t)?t:[t]}function kt(t,e){for(var n=[],r=_t(t),i=0;i<r.length;i++)e[r[i]]&&n.push(r[i]);return n}function Ct(t,e){var n=et(t)||{};return"string"==typeof t?t:(q(e,(function(t,e){Mt(n,e)&&!It(n[e])||(n[e]=t)})),n)}function Et(t){return void 0!==t}function Mt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function St(t){return null===t}function It(t){return St(t)||function(t){return void 0===t}(t)}function Lt(t){return!("number"!=typeof t||!ft(t))||It(t)}function Tt(t){return t.lastIndexOf("\u2704")}function Pt(t){if(It(t))return null;var e=""+t,n=Tt(e);return-1!==n&&(e=e.substring(0,n)),e}function Ot(t){if(It(t))return null;var e=""+t,n=Tt(e);return-1!==n?e.substring(n+1):null}function Rt(t,e){return t.indexOf(e)>-1}var Bt=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))};function zt(t){return Object.keys(t)}function Dt(t){return Object.keys(t).length>0}function jt(t){return _t(t).reduce((function(t,e){return t[Pt(e)]=!0,t}),{})}function Ft(t){return _t(t).reduce((function(t,e){return t.add(Pt(e)),t}),new Set)}function Zt(t){var e={};return t.forEach((function(t){e[t.id]=t})),e}function Nt(t){return t.map((function(t){return t.id}))}function Vt(t,e){return t?(q(e,(function(e,n){t[n]=e})),t):e}var Gt=Number.assign||function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=function(t){var n=e[t];null!=n&&Object.keys(n).forEach((function(t){r[t]=n[t]}))},o=0;o<e.length;o++)i(o);return r};function Yt(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}function Wt(t,e){return Math.max(1e-4,Yt(0,0,t,e))}function Ut(t,e){var n=t,r=e,i=Wt(n,r);return[n/=i,r/=i]}function Xt(t,e,n,r){var i=Ut(t,e),o=Ut(n,r);return i[0]*o[0]+i[1]*o[1]}function Ht(){}function Kt(t,e){var n,r,i;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=Date.now();function u(){r=Date.now(),t.apply(void 0,i)}i=o,n||(!r||s-r>=e?u():n=ut((function(){n=null,u()}),e-(s-r)))}}function Qt(t){void 0===t&&(t=null);var e=t,n=2147483647,r=n/48271;return{setSeed:function(t){e=t},next:function(){if(e){var t=e%r*48271-e/r*3399;return 4.656612875245797e-10*(e=t>0?t:t+n)}return Math.random()}}}var Jt,qt={};function $t(t){if(!qt[t]){var e=t;t.match(/'/)&&(e=t.replace(/'/g,"\\'")),e.match(/\s/)&&(e="'"+e+"'"),qt[t]=e}return qt[t]}function te(t){return gt(t.pos)&&!It(t.pos.lat)&&!It(t.pos.lng)}function ee(t,e){for(var n=t.split("."),r=e.split("."),i=0;i<n.length&&i<r.length;i++){var o=parseInt(n[i],10),a=parseInt(r[i],10);if(o!==a)return o-a}return n.length!==r.length?n.length-r.length:0}function ne(t){return 0===t?0:t<0?-1:1}function re(t,e,n){return Math.max(e,Math.min(n,t))}function ie(t){for(var e=0,n=t.length;e<n;e++){var r=t.charCodeAt(e);if(r>=1536&&(r<=1791||r>=64336&&r<=65023||r>=65136&&r<=65279||r>=1872&&r<=1919||r>=2208&&r<=2303))return!0}return!1}function oe(t){return Math.floor(t*(11/14))}function ae(t){var e=t.charCodeAt(0);return e<=55295||e>=57344?e:1024*(e-55296)+(t.charCodeAt(1)-56320)+65536}function se(t){return[[169,169],[174,174],[8252,8252],[8265,8265],[8419,8419],[8482,8482],[8505,8505],[8596,8601],[8617,8618],[8986,8987],[9e3,9e3],[9096,9096],[9167,9167],[9193,9203],[9208,9210],[9410,9410],[9642,9643],[9654,9654],[9664,9664],[9723,9726],[9728,9733],[9735,9746],[9748,9861],[9872,9989],[9992,10002],[10004,10004],[10006,10006],[10013,10013],[10017,10017],[10024,10024],[10035,10036],[10052,10052],[10055,10055],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10083,10087],[10133,10135],[10145,10145],[10160,10160],[10175,10175],[10548,10549],[11013,11015],[11035,11036],[11088,11088],[11093,11093],[12336,12336],[12349,12349],[12951,12951],[12953,12953],[65039,65039],[126976,127231],[127245,127247],[127279,127279],[127340,127345],[127358,127359],[127374,127374],[127377,127386],[127405,127487],[127489,127503],[127514,127514],[127535,127535],[127538,127546],[127548,127551],[127561,128317],[128326,128591],[128640,128767],[128884,128895],[128981,129023],[129036,129039],[129096,129103],[129114,129119],[129160,129167],[129198,129279],[129292,129338],[129340,129349],[129351,131069],[917536,917631]].some((function(e){return t>=e[0]&&t<=e[1]}))}function ue(t){return le(t).some((function(t){return se(ae(t))}))}function le(t){for(var e,n=0,r=t.length,i=[];n<r;++n){e=!1;var o=t.charCodeAt(n);o>=55296&&o<=56319&&n+1<r&&(o=t.charCodeAt(n+1))>=56320&&o<=57343&&(i.push(t.slice(n,n+2)),++n,e=!0),e||i.push(t.charAt(n))}return i}function ce(t){var e,n,r,i=[],o=t.length;for(e=0;e<o;e++)r=ae(n=t[e]),0===e?i.push(n):u(r)||65038===r||65039===r||a(r)||s(r)&&2===i[i.length-1].length&&s(ae(i[i.length-1]))?i[i.length-1]+=n:8205===r&&ue(i[i.length-1])&&e<o-1&&se(ae(t[e+1]))?(i[i.length-1]+=n,i[i.length-1]+=t[++e]):r>=917536&&r<=917631?i[i.length-1]+=n:i.push(n);function a(t){return t>=127995&&t<=127999}function s(t){return t>=127462&&t<=127487}function u(t){return t>=768&&t<=879||t>=8400&&t<=8447}return i}!function(t){t[t.Neutral=0]="Neutral",t[t.Ltr=1]="Ltr",t[t.Rtl=2]="Rtl"}(Jt||(Jt={}));var fe,de={forced:{},auto:{}};!function(t){t[t.L=0]="L",t[t.R=1]="R",t[t.EN=2]="EN",t[t.AN=3]="AN",t[t.ON=4]="ON",t[t.B=5]="B",t[t.S=6]="S",t[t.AL=7]="AL",t[t.WS=8]="WS",t[t.CS=9]="CS",t[t.ES=10]="ES",t[t.ET=11]="ET",t[t.NSM=12]="NSM",t[t.LRE=13]="LRE",t[t.RLE=14]="RLE",t[t.PDF=15]="PDF",t[t.LRO=16]="LRO",t[t.RLO=17]="RLO",t[t.BN=18]="BN"}(fe||(fe={}));var he,pe=fe.L,ve=fe.R,ge=fe.EN,me=fe.AN,ye=fe.ON,be=fe.B,xe=fe.S,we=fe.AL,Ae=fe.WS,_e=fe.CS,ke=fe.ES,Ce=fe.ET,Ee=fe.NSM,Me=fe.LRE,Se=fe.RLE,Ie=fe.PDF,Le=fe.LRO,Te=fe.RLO,Pe=fe.BN;!function(t){t[t.D=2]="D",t[t.C=3]="C",t[t.U=4]="U",t[t.T=5]="T"}(he||(he={}));var Oe=he.D,Re=he.T,Be=[9,Pe,10,xe,11,be,12,xe,13,Ae,14,be,28,Pe,31,be,32,xe,33,Ae,35,ye,38,Ce,43,ye,44,ke,45,_e,46,ke,48,_e,58,ge,59,_e,65,ye,91,pe,97,ye,123,pe,127,ye,133,Pe,134,be,160,Pe,161,_e,162,ye,166,Ce,170,ye,171,pe,173,ye,174,Pe,176,ye,178,Ce,180,ge,181,ye,182,pe,185,ye,186,ge,187,pe,192,ye,215,pe,216,ye,247,pe,248,ye,697,pe,699,ye,706,pe,720,ye,722,pe,736,ye,741,pe,750,ye,751,pe,768,ye,880,Ee,884,pe,886,ye,894,pe,895,ye,900,pe,902,ye,903,pe,904,ye,1014,pe,1015,ye,1155,pe,1162,Ee,1418,pe,1423,ye,1425,Ce,1470,Ee,1471,ve,1472,Ee,1473,ve,1475,Ee,1476,ve,1478,Ee,1479,ve,1488,Ee,1536,ve,1542,me,1544,ye,1545,we,1547,Ce,1548,we,1549,_e,1550,we,1552,ye,1563,Ee,1611,we,1632,Ee,1642,me,1643,Ce,1645,me,1648,we,1649,Ee,1750,we,1757,Ee,1758,me,1759,ye,1765,Ee,1767,we,1769,Ee,1770,ye,1774,Ee,1776,we,1786,ge,1809,we,1810,Ee,1840,we,1869,Ee,1958,we,1969,Ee,1984,we,2027,ve,2036,Ee,2038,ve,2042,ye,2070,ve,2074,Ee,2075,ve,2084,Ee,2085,ve,2088,Ee,2089,ve,2096,Ee,2137,ve,2142,Ee,2208,ve,2260,we,2274,Ee,2275,me,2307,Ee,2362,pe,2363,Ee,2364,pe,2365,Ee,2369,pe,2377,Ee,2381,pe,2382,Ee,2385,pe,2392,Ee,2402,pe,2404,Ee,2433,pe,2434,Ee,2492,pe,2493,Ee,2497,pe,2503,Ee,2509,pe,2510,Ee,2530,pe,2534,Ee,2546,pe,2548,Ce,2555,pe,2561,Ce,2563,Ee,2620,pe,2622,Ee,2625,pe,2649,Ee,2672,pe,2674,Ee,2677,pe,2691,Ee,2748,pe,2749,Ee,2753,pe,2761,Ee,2765,pe,2768,Ee,2786,pe,2790,Ee,2801,pe,2809,Ce,2817,pe,2818,Ee,2876,pe,2877,Ee,2879,pe,2880,Ee,2881,pe,2887,Ee,2893,pe,2903,Ee,2914,pe,2918,Ee,2946,pe,2947,Ee,3008,pe,3009,Ee,3021,pe,3024,Ee,3059,pe,3065,ye,3066,Ce,3072,ye,3073,Ee,3134,pe,3137,Ee,3142,pe,3160,Ee,3170,pe,3174,Ee,3192,pe,3199,ye,3201,pe,3202,Ee,3260,pe,3261,Ee,3276,pe,3285,Ee,3298,pe,3302,Ee,3329,pe,3330,Ee,3393,pe,3398,Ee,3405,pe,3406,Ee,3426,pe,3430,Ee,3530,pe,3535,Ee,3538,pe,3544,Ee,3633,pe,3634,Ee,3636,pe,3647,Ee,3648,Ce,3655,pe,3663,Ee,3761,pe,3762,Ee,3764,pe,3773,Ee,3784,pe,3792,Ee,3864,pe,3866,Ee,3893,pe,3894,Ee,3895,pe,3896,Ee,3897,pe,3898,Ee,3902,ye,3953,pe,3967,Ee,3968,pe,3973,Ee,3974,pe,3976,Ee,3981,pe,4030,Ee,4038,pe,4039,Ee,4141,pe,4145,Ee,4146,pe,4152,Ee,4153,pe,4155,Ee,4157,pe,4159,Ee,4184,pe,4186,Ee,4190,pe,4193,Ee,4209,pe,4213,Ee,4226,pe,4227,Ee,4229,pe,4231,Ee,4237,pe,4238,Ee,4253,pe,4254,Ee,4957,pe,4960,Ee,5008,pe,5024,ye,5120,pe,5121,ye,5760,pe,5761,Ae,5787,pe,5792,ye,5906,pe,5920,Ee,5938,pe,5941,Ee,5970,pe,5984,Ee,6002,pe,6016,Ee,6068,pe,6070,Ee,6071,pe,6078,Ee,6086,pe,6087,Ee,6089,pe,6100,Ee,6107,pe,6108,Ce,6109,pe,6112,Ee,6128,pe,6155,ye,6158,Ee,6160,Pe,6277,pe,6279,Ee,6313,pe,6314,Ee,6432,pe,6435,Ee,6439,pe,6441,Ee,6450,pe,6451,Ee,6457,pe,6464,Ee,6470,ye,6622,pe,6656,ye,6679,pe,6681,Ee,6683,pe,6686,Ee,6742,pe,6743,Ee,6744,pe,6753,Ee,6754,pe,6755,Ee,6757,pe,6765,Ee,6771,pe,6784,Ee,6832,pe,6916,Ee,6964,pe,6965,Ee,6966,pe,6971,Ee,6972,pe,6973,Ee,6978,pe,6979,Ee,7019,pe,7028,Ee,7040,pe,7042,Ee,7074,pe,7078,Ee,7080,pe,7082,Ee,7083,pe,7086,Ee,7142,pe,7143,Ee,7144,pe,7146,Ee,7149,pe,7150,Ee,7151,pe,7154,Ee,7212,pe,7220,Ee,7222,pe,7227,Ee,7376,pe,7379,Ee,7380,pe,7393,Ee,7394,pe,7401,Ee,7405,pe,7406,Ee,7412,pe,7413,Ee,7416,pe,7424,Ee,7616,pe,7680,Ee,8125,pe,8126,ye,8127,pe,8130,ye,8141,pe,8144,ye,8157,pe,8160,ye,8173,pe,8178,ye,8189,pe,8192,ye,8203,Ae,8206,Pe,8207,pe,8208,ve,8232,ye,8233,Ae,8234,be,8235,Me,8236,Se,8237,Ie,8238,Le,8239,Te,8240,_e,8245,Ce,8260,ye,8261,_e,8287,ye,8288,Ae,8294,Pe,8298,ye,8304,Pe,8305,ge,8308,pe,8314,ge,8316,ke,8319,ye,8320,pe,8330,ge,8332,ke,8336,ye,8352,pe,8400,Ce,8448,Ee,8450,ye,8451,pe,8455,ye,8456,pe,8458,ye,8468,pe,8469,ye,8470,pe,8473,ye,8478,pe,8484,ye,8485,pe,8486,ye,8487,pe,8488,ye,8489,pe,8490,ye,8494,pe,8495,Ce,8506,pe,8508,ye,8512,pe,8517,ye,8522,pe,8526,ye,8528,pe,8544,ye,8585,pe,8722,ye,8723,ke,8724,Ce,9014,ye,9083,pe,9109,ye,9110,pe,9352,ye,9372,ge,9450,pe,9900,ye,9901,pe,10240,ye,10496,pe,11264,ye,11493,pe,11499,ye,11503,pe,11506,Ee,11513,pe,11520,ye,11647,pe,11648,Ee,11744,pe,11776,Ee,12288,ye,12289,Ae,12293,ye,12296,pe,12321,ye,12330,pe,12334,Ee,12336,pe,12337,ye,12342,pe,12344,ye,12349,pe,12353,ye,12441,pe,12443,Ee,12445,ye,12448,pe,12449,ye,12539,pe,12540,ye,12736,pe,12784,ye,12829,pe,12832,ye,12880,pe,12896,ye,12924,pe,12927,ye,12977,pe,12992,ye,13004,pe,13008,ye,13175,pe,13179,ye,13278,pe,13280,ye,13311,pe,13312,ye,19904,pe,19968,ye,42128,pe,42192,ye,42509,pe,42512,ye,42607,pe,42611,Ee,42612,ye,42622,Ee,42624,ye,42654,pe,42656,Ee,42736,pe,42738,Ee,42752,pe,42786,ye,42888,pe,42889,ye,43010,pe,43011,Ee,43014,pe,43015,Ee,43019,pe,43020,Ee,43045,pe,43047,Ee,43048,pe,43056,ye,43064,pe,43072,Ce,43124,pe,43136,ye,43204,pe,43214,Ee,43232,pe,43250,Ee,43302,pe,43310,Ee,43335,pe,43346,Ee,43392,pe,43395,Ee,43443,pe,43444,Ee,43446,pe,43450,Ee,43452,pe,43453,Ee,43493,pe,43494,Ee,43561,pe,43567,Ee,43569,pe,43571,Ee,43573,pe,43584,Ee,43587,pe,43588,Ee,43596,pe,43597,Ee,43644,pe,43645,Ee,43696,pe,43697,Ee,43698,pe,43701,Ee,43703,pe,43705,Ee,43710,pe,43712,Ee,43713,pe,43714,Ee,43756,pe,43758,Ee,43766,pe,43777,Ee,44005,pe,44006,Ee,44008,pe,44009,Ee,44013,pe,44016,Ee,64285,pe,64286,ve,64287,Ee,64297,ve,64298,ke,64336,ve,64830,we,64848,ye,65021,we,65024,ye,65040,Ee,65056,ye,65072,Ee,65104,ye,65105,_e,65106,ye,65108,_e,65109,ye,65110,_e,65119,ye,65120,Ce,65122,ye,65124,ke,65129,ye,65131,Ce,65136,ye,65279,we,65281,Pe,65283,ye,65286,Ce,65291,ye,65292,ke,65293,_e,65294,ke,65296,_e,65306,ge,65307,_e,65313,ye,65339,pe,65345,ye,65371,pe,65382,ye,65504,pe,65506,Ce,65509,ye,65512,Ce,1114109,ye],ze={1536:{t:4},1537:{t:4},1538:{t:4},1539:{t:4},1540:{t:4},1541:{t:4},1544:{t:4},1547:{t:4},1568:{t:2},1569:{t:4,isolated:65152},1570:{t:1,isolated:65153,initial:65154},1571:{t:1,isolated:65155,initial:65156},1572:{t:1,isolated:65157,initial:65158},1573:{t:1,isolated:65159,initial:65160},1574:{t:2,isolated:65161,final:65163,median:65164,initial:65162},1575:{t:1,isolated:65165,initial:65166},1576:{t:2,isolated:65167,final:65169,median:65170,initial:65168},1577:{t:1,isolated:65171,initial:65172},1578:{t:2,isolated:65173,final:65175,median:65176,initial:65174},1579:{t:2,isolated:65177,final:65179,median:65180,initial:65178},1580:{t:2,isolated:65181,final:65183,median:65184,initial:65182},1581:{t:2,isolated:65185,final:65187,median:65188,initial:65186},1582:{t:2,isolated:65189,final:65191,median:65192,initial:65190},1583:{t:1,isolated:65193,initial:65194},1584:{t:1,isolated:65195,initial:65196},1585:{t:1,isolated:65197,initial:65198},1586:{t:1,isolated:65199,initial:65200},1587:{t:2,isolated:65201,final:65203,median:65204,initial:65202},1588:{t:2,isolated:65205,final:65207,median:65208,initial:65206},1589:{t:2,isolated:65209,final:65211,median:65212,initial:65210},1590:{t:2,isolated:65213,final:65215,median:65216,initial:65214},1591:{t:2,isolated:65217,final:65219,median:65220,initial:65218},1592:{t:2,isolated:65221,final:65223,median:65224,initial:65222},1593:{t:2,isolated:65225,final:65227,median:65228,initial:65226},1594:{t:2,isolated:65229,final:65231,median:65232,initial:65230},1595:{t:2},1596:{t:2},1597:{t:2},1598:{t:2},1599:{t:2},1600:{t:3,isolated:1600,final:1600,median:1600,initial:1600},1601:{t:2,isolated:65233,final:65235,median:65236,initial:65234},1602:{t:2,isolated:65237,final:65239,median:65240,initial:65238},1603:{t:2,isolated:65241,final:65243,median:65244,initial:65242},1604:{t:2,isolated:65245,final:65247,median:65248,initial:65246},1605:{t:2,isolated:65249,final:65251,median:65252,initial:65250},1606:{t:2,isolated:65253,final:65255,median:65256,initial:65254},1607:{t:2,isolated:65257,final:65259,median:65260,initial:65258},1608:{t:1,isolated:65261,initial:65262},1609:{t:2,isolated:65263,initial:65264},1610:{t:2,isolated:65265,final:65267,median:65268,initial:65266},1646:{t:2},1647:{t:2},1649:{t:1},1650:{t:1},1651:{t:1},1652:{t:4},1653:{t:1},1654:{t:1},1655:{t:1},1656:{t:2},1657:{t:2},1658:{t:2},1659:{t:2},1660:{t:2},1661:{t:2},1662:{t:2,isolated:64342,final:64344,median:64345,initial:64343},1663:{t:2},1664:{t:2},1665:{t:2},1666:{t:2},1667:{t:2},1668:{t:2},1669:{t:2},1670:{t:2,isolated:64378,final:64380,median:64381,initial:64379},1671:{t:2},1672:{t:1},1673:{t:1},1674:{t:1},1675:{t:1},1676:{t:1},1677:{t:1},1678:{t:1},1679:{t:1},1680:{t:1},1681:{t:1},1682:{t:1},1683:{t:1},1684:{t:1},1685:{t:1},1686:{t:1},1687:{t:1},1688:{t:1,isolated:64394,initial:64395},1689:{t:1},1690:{t:2},1691:{t:2},1692:{t:2},1693:{t:2},1694:{t:2},1695:{t:2},1696:{t:2},1697:{t:2},1698:{t:2},1699:{t:2},1700:{t:2},1701:{t:2},1702:{t:2},1703:{t:2},1704:{t:2},1705:{t:2,isolated:64398,final:64400,median:64401,initial:64399},1706:{t:2},1707:{t:2},1708:{t:2},1709:{t:2},1710:{t:2},1711:{t:2,isolated:64402,final:64404,median:64405,initial:64403},1712:{t:2},1713:{t:2},1714:{t:2},1715:{t:2},1716:{t:2},1717:{t:2},1718:{t:2},1719:{t:2},1720:{t:2},1721:{t:2},1722:{t:2},1723:{t:2},1724:{t:2},1725:{t:2},1726:{t:2},1727:{t:2},1728:{t:1},1729:{t:2},1730:{t:2},1731:{t:1},1732:{t:1},1733:{t:1},1734:{t:1},1735:{t:1},1736:{t:1},1737:{t:1},1738:{t:1},1739:{t:1},1740:{t:2,isolated:64508,final:64510,median:64511,initial:64509},1741:{t:1},1742:{t:2},1743:{t:1},1744:{t:2},1745:{t:2},1746:{t:1},1747:{t:1},1749:{t:1},1757:{t:4},1774:{t:1},1775:{t:1},1786:{t:2},1787:{t:2},1788:{t:2},1791:{t:2},1808:{t:1},1810:{t:2},1811:{t:2},1812:{t:2},1813:{t:1},1814:{t:1},1815:{t:1},1816:{t:1},1817:{t:1},1818:{t:2},1819:{t:2},1820:{t:2},1821:{t:2},1822:{t:1},1823:{t:2},1824:{t:2},1825:{t:2},1826:{t:2},1827:{t:2},1828:{t:2},1829:{t:2},1830:{t:2},1831:{t:2},1832:{t:1},1833:{t:2},1834:{t:1},1835:{t:2},1836:{t:1},1837:{t:2},1838:{t:2},1839:{t:1},1869:{t:1},1870:{t:2},1871:{t:2},1872:{t:2},1873:{t:2},1874:{t:2},1875:{t:2},1876:{t:2},1877:{t:2},1878:{t:2},1879:{t:2},1880:{t:2},1881:{t:1},1882:{t:1},1883:{t:1},1884:{t:2},1885:{t:2},1886:{t:2},1887:{t:2},1888:{t:2},1889:{t:2},1890:{t:2},1891:{t:2},1892:{t:2},1893:{t:2},1894:{t:2},1895:{t:2},1896:{t:2},1897:{t:2},1898:{t:2},1899:{t:1},1900:{t:1},1901:{t:2},1902:{t:2},1903:{t:2},1904:{t:2},1905:{t:1},1906:{t:2},1907:{t:1},1908:{t:1},1909:{t:2},1910:{t:2},1911:{t:2},1912:{t:1},1913:{t:1},1914:{t:2},1915:{t:2},1916:{t:2},1917:{t:2},1918:{t:2},1919:{t:2},2208:{t:2},2209:{t:2},2210:{t:2},2211:{t:2},2212:{t:2},2213:{t:2},2214:{t:2},2215:{t:2},2216:{t:2},2217:{t:2},2218:{t:1},2219:{t:1},2220:{t:1},2221:{t:4},2222:{t:1},2223:{t:2},2224:{t:2},2225:{t:1},2226:{t:1},2227:{t:2},2228:{t:2},2230:{t:2},2231:{t:2},2232:{t:2},2233:{t:1},2234:{t:2},2235:{t:2},2236:{t:2},2237:{t:2},2274:{t:4},8204:{t:4},8205:{t:3},8239:{t:4},8294:{t:4},8295:{t:4},8296:{t:4},8297:{t:4},65269:{t:1,isolated:65269,initial:65270},65271:{t:1,isolated:65271,initial:65272},65273:{t:1,isolated:65273,initial:65274},65275:{t:1,isolated:65275,initial:65276}},De={1611:!0,1612:!0,1613:!0,1614:!0,1615:!0,1616:!0,1617:!0,1618:!0,1619:!0,1620:!0,1621:!0,1648:!0},je={1456:!0,1457:!0,1458:!0,1459:!0,1460:!0,1461:!0,1462:!0,1463:!0,1464:!0,1465:!0,1466:!0,1467:!0,1473:!0,1474:!0},Fe={"\u0644":{"\u0627":"\ufefb","\u0622":"\ufef5","\u0623":"\ufef7","\u0625":"\ufef9"},"\u0627":{"\u0644":{"\u0644":{"\u0647":"\ufdf2"}}}},Ze={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{",">":"<","<":">"};function Ne(t,e,n){var r=n?de.forced:de.auto;if(r[e])return r[e];var i={characters:[],logicalOrder:t,result:[]},o=function(t){return t.map((function(t){return function(t){for(var e=t.charCodeAt(0),n=0;n<Be.length;n+=2)if(e<Be[n])return Be[n+1];return ye}(t)||0}))}(t),a=function(t,e){var n=0,r=[],i=[];function o(e){var i=n,o=e.map((function(e){return{text:t[n++],level:0,embeddingLevel:void 0,type:e,index:0}})),a=t.slice(i,i+e.length);r.push({symbols:a,level:0,characters:o})}return e.forEach((function(t){t!==be?i.push(t):i.length>0&&(o(i),n++,i.length=0)})),i.length>0&&o(i),r}(t,o),s=a.length;return a.forEach((function(t,e){t.level=n?1:0,function(t){var e=t.level,n=[];n.push({level:t.level,override:Jt.Neutral});var r=0,i=n[0],o=i.level,a=[];function s(t,e){if(t<63)return n.push({level:t,override:e}),t}t.characters.forEach((function(t){var u=t.type;u===Se?(o+=He(o)?2:1,e=s(o,Jt.Neutral)):u===Me?(o+=Xe(o)?2:1,e=s(o,Jt.Neutral)):u===Te?(o+=He(o)?2:1,e=s(o,Jt.Rtl)):u===Le&&(o+=Xe(o)?2:1,e=s(o,Jt.Ltr)),u===Ie?n.length>1&&(i=n.pop()):i=n[n.length-1],e=i.level,o=e,-1===[Pe,Se,Me,Te,Le,Ie].indexOf(u)&&(i.override>Jt.Neutral&&(t.type=i.override===Jt.Rtl?ve:pe),t.embeddingLevel=e,t.index=r++,a.push(t))})),t.characters=a}(t),0!==t.characters.length&&(!function(t,e){(function(t){t.characters.filter(Ke(Ee)).forEach((function(e){if(e.isNSM=!0,e.index>0){var n=t.characters[e.index-1].type;n===we&&(e.type=we),ve===n&&(e.type=ve)}}))})(t),function(t){t.characters.filter(Ke(ge)).forEach((function(e){for(var n=e.index-1;n>=0;n--){var r=t.characters[n].type;if(r===we){e.type=me;break}if([ve,pe].indexOf(r)>-1)break}}))}(t),function(t){t.characters.filter(Ke(we)).forEach((function(t){t.type=ve,t.isAL=!0}))}(t),function(t){t.characters.filter(Ke([ke,_e])).forEach((function(e){var n=e.index;if(n>0&&n<t.characters.length-1){var r=t.characters[n-1].type;r!==t.characters[n+1].type||r!==ge&&r!==me||(e.type=r)}}))}(t),function(t){t.characters.filter(Ke(Ce)).forEach((function(e){var n=e.index,r=n;if(n>0){for(var i=t.characters[n-1].type;r-- >0&&i===Ce;)i=t.characters[r].type;if(i===ge)return void(e.type=ge)}if(n<t.characters.length-1){var o=t.characters[n+1].type;for(r=n;r++<t.characters.length-1&&o===Ce;)o=t.characters[r].type;o===ge&&(e.type=ge)}}))}(t),function(t){t.characters.filter(Ke([Ce,_e,ke])).forEach((function(t){t.type=ye}))}(t),function(t,e){t.characters.filter(Ke(ge)).forEach((function(n){for(var r=n.index-1;r>=0;r--){var i=t.characters[r].type;if(i===ve)return;if(i===pe)return void(n.type=pe)}e||(n.type=pe)}))}(t,e)}(t,n),function(t){(function(t){t.characters.filter(Ke([be,xe,Ae,ye])).forEach((function(e){var n=e.index;if(t.level<e.embeddingLevel)e.type=Xe(e.embeddingLevel)?pe:ve;else if(0!==n&&n!==t.characters.length-1&&n>0&&n<t.characters.length-1){for(var r=t.characters[n-1].type,i=t.characters[n+1].type,o=n;o-- >0&&-1===[ve,we,ge,me,pe].indexOf(r);)r=t.characters[o].type;for(o=n;o++<t.characters.length-1&&-1===[ve,we,ge,me,pe].indexOf(i);)i=t.characters[o].type;[ve,we,ge,me].indexOf(r)>-1&&[ve,we,ge,me].indexOf(i)>-1?e.type=ve:e.type=r===pe&&i===pe||Xe(e.embeddingLevel)?pe:ve}}))})(t),function(t){t.characters.filter(Ke([be,xe,Ae,ye])).forEach((function(t){t.type=Xe(t.embeddingLevel)?pe:ve}))}(t)}(t),function(t){var e;t.characters.forEach((function(t){var n=t.type;e=t.embeddingLevel,n===pe?He(e)&&e++:n===ve||n===we?Xe(e)&&e++:n!==ge&&n!==me||(Xe(e)?e+=2:e++),t.level=e}))}(t),function(t){t.characters.filter((function(t){return Ze[t.text]&&He(t.level)})).forEach((function(t){t.text=Ze[t.text]}))}(t),function(t){var e=0;t.characters.forEach((function(t){t.level>e&&(e=t.level)})),t.highestLevel=e}(t),function(t){var e=[],n=0,r=0,i={idx:0,length:0,level:t.characters[0].level};t.characters.forEach((function(t){t.level!==n&&0!==r&&(e.push(i),i={idx:r,length:0,level:t.level}),i.length++,r++,n=t.level})),e.push(i),t.levelRuns=e}(t),Ve(t),Ye(t,je,!1),function(t){Ye(t,De,!0),function(t){for(var e=t.reorderedCharacters.reverse(),n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=Fe[o.text[0]];if(a){var s=Ue(r,a,e);s&&(r+=s.length,o.text=s.text)}n.push(o)}var u=0;t.reorderedCharacters=n.reverse(),t.reorderedCharacters.forEach((function(t){t.index=u++}))}(t),function(t){var e,n=function(){t.arabicTextRuns.push(e),e=void 0},r=t.reorderedCharacters;t.arabicTextRuns=[];for(var i=0,o=r.length;i<o;i++){var a=r[i].text.charCodeAt(0),s=ze[a];if(s&&[ve,Oe,pe].indexOf(s.t)>-1){if(e?e.endIndex=i+1:e={startIndex:i,endIndex:i+1},i+1<o){var u=r[i+1].text.charCodeAt(0),l=ze[u];l&&l.t===ve&&n()}else n();s.t===pe&&n()}else s&&s.t===Re||e&&n()}e&&n()}(t),function(t){t.arabicTextRuns.forEach((function(e){for(var n,r=e.startIndex,i=e.endIndex,o=r;o<i;o++){var a=t.reorderedCharacters[o],s=ze[a.text.charCodeAt(0)];n=null,i-r>1?o===r?n=s.initial:o===i-1?n=s.final:o>r&&o<i-1&&(n=s.median):n=s.isolated,n&&(a.text=String.fromCharCode(n)+a.text.substring(1))}}))}(t)}(t),i.result=i.result.concat(t.reorderedCharacters),e<s-1&&i.result.push({text:"\n",level:0,type:be,index:0}),i.characters=i.characters.concat(t.characters))})),i.types=o,r[e]=i,i}function Ve(t){var e=t.highestLevel;for(t.reorderedCharacters=et(t.characters);e>0;)Ge(t,e),e--}function Ge(t,e){var n,r=[];t.levelRuns.forEach((function(t){t.level>=e?n?n.endIndex+=t.length:(n={startIndex:t.idx,endIndex:t.idx+t.length},r.push(n)):n=null})),r.forEach((function(e){!function(t,e){var n=e.startIndex,r=e.endIndex,i=t.reorderedCharacters.slice(n,r).reverse();t.reorderedCharacters=t.reorderedCharacters.slice(0,n).concat(i).concat(t.reorderedCharacters.slice(r))}(t,e)}))}function Ye(t,e,n){for(var r=t.reorderedCharacters.reverse(),i=[],o=0,a=r.length;o<a;o++){var s=r[o],u=We(o,r,e);o+=u.length,n||(s.text+=u.join("")),i.push(s)}var l=0;t.reorderedCharacters=i.reverse(),t.reorderedCharacters.forEach((function(t){t.index=l++}))}function We(t,e,n){for(var r=[],i=t+1;i<e.length;i++){if(!n[e[i].text.charCodeAt(0)])return r;r.push(e[i].text)}return r}function Ue(t,e,n){for(var r=0,i=e,o=t+1;o<n.length;o++){var a=i[n[o].text[0]];if(!a)return!1;if(r++,"string"==typeof a)return{text:a,length:r};i=a}return!1}function Xe(t){return t%2==0}function He(t){return t%2!=0}function Ke(t){var e=_t(t);return function(t){return e.indexOf(t.type)>-1}}var Qe={},Je={},qe="rgb(128, 128, 128)",$e={aqua:"rgb(0, 255, 255)",black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",fuchsia:"rgb(255, 0, 255)",green:"rgb(0, 128, 0)",grey:qe,gray:qe,lime:"rgb(0, 255, 0)",maroon:"rgb(128, 0, 0)",navy:"rgb(0, 0, 128)",olive:"rgb(128, 128, 0)",orange:"rgb(255,165,0)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",silver:"rgb(192, 192, 192)",teal:"rgb(0, 128, 128)",yellow:"rgb(255, 255, 0)",white:"rgb(255, 255, 255)",ci:"rgb(0, 174, 239)",cia:"rgba(0, 174, 239, 0.5)",keyline:"rgb(88, 89, 91)",midgrey:"rgb(145, 146, 149)",darkmodegrey:"rgba(221, 221, 221, 0.5)",darkmodeblue:"rgb(45, 56, 63)",lightgrey:"rgb(208, 209, 211)",darkmodedefault:"rgb(255, 222, 189)",edit:"rgb(114, 179, 0)",attention:"rgb(220, 0, 0)",information:"rgb(0, 150, 255)",description:"rgb(255, 175, 0)",textback:"rgba(255,255,255,0.6)",transparent:"rgba(255,255,255,0.0)",touch:"rgba(255,0,0,0.6)"};function tn(t,e,n){return"rgb("+t+","+e+","+n+")"}function en(t,e,n,r){return"rgba("+t+","+e+","+n+","+r+")"}var nn,rn,on,an,sn=/^(?:rgb)?\(\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?\)$/i,un=/^(?:rgba)?\(\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),\s?(0|1|0\.\d{0,20}|1\.0)\)$/i,ln=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,cn=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i;function fn(t){return!!dn(t).length}function dn(t){var e=[];if("string"!=typeof t)return e;var n=$e[t.toLowerCase()]||t,r=n.match(sn);if(r||(r=n.match(un)),r){for(var i=1;i<4;i++)e.push(parseInt(r[i],10));void 0!==r[4]&&e.push(+r[4])}else{if(!(r=n.match(cn))&&(r=n.match(ln)))for(i=1;i<4;i++)r[i]+=r[i];if(r)for(i=1;i<4;i++)e.push(parseInt(r[i],16))}return e}function hn(t){if("transparent"===t)return 0;var e=t.match(un);return e?parseFloat(e[4]):1}function pn(t){var e=dn(t),n=xn(e[0],e[1],e[2]);return n.push(hn(t)),n}function vn(t){var e=An(t[0],t[1],t[2]);return en(e[0],e[1],e[2],t[3])}function gn(t,e){return 1===e?t:_n(t,e)}function mn(t){for(var e=dn(t),n="",r=0,i=Math.min(3,e.length);r<i;r++){var o=e[r];n+=(o<16?"0":"")+o.toString(16)}return n}function yn(t){function e(){return Math.floor(239*Math.random())+1}var n=tn(e(),e(),e());return t&&n in t?yn(t):n}function bn(t,e,n){var r=null;return t&&(t.bg&&t.gh?r=e*n:t.bg?r=e:t.gh&&(r=n)),0===r?1e-6:r}function xn(t,e,n){var r,i=t/255,o=e/255,a=n/255,s=Math.max(i,o,a),u=Math.min(i,o,a),l=0,c=(s+u)/2;if(s===u)l=0,r=0;else{var f=s-u;switch(r=c>.5?f/(2-s-u):f/(s+u),s){case i:l=(o-a)/f+(o<a?6:0);break;case o:l=(a-i)/f+2;break;case a:l=(i-o)/f+4}l/=6}return[l,r,c]}function wn(t,e,n){var r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function An(t,e,n){var r,i,o;if(0===e)r=n,i=n,o=n;else{var a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;r=wn(s,a,t+1/3),i=wn(s,a,t),o=wn(s,a,t-1/3)}return[Math.round(255*r),Math.round(255*i),Math.round(255*o)]}function _n(t,e){if(t){if(null===e||1===e)return t;var n=t+e;if(!Qe[n]){var r=dn(t),i=hn(t);Qe[n]=en(r[0],r[1],r[2],i*e)}return Qe[n]}}function kn(t){var e=dn(t),n=hn(t);return[e[0],e[1],e[2],Math.floor(255*n)]}function Cn(t,e){if(void 0===e&&(e=!1),t){if(e)return kn(t);var n=Je[t];return n||(n=kn(t),Je[t]=n),n}}function En(t,e){var n=dn(t),r=n[0],i=n[1],o=n[2],a=n[3],s=xn(r,i,o),u=s[0],l=s[1],c=s[2],f=An(u,l,Math.min(c*e,1)),d=f[0],h=f[1],p=f[2];return void 0===a?tn(d,h,p):en(d,h,p,a)}function Mn(t,e){void 0===e&&(e=1);var n=dn(t);return{colour:"rgb("+n[0]+","+n[1]+","+n[2]+")",opacity:4===n.length?n[3]*e:e}}!function(t){t[t.None=0]="None",t[t.Line=1]="Line",t[t.Arc=2]="Arc",t[t.Bezier=3]="Bezier"}(nn||(nn={})),function(t){t.arc="arc",t.bezier="bezier",t.circle="circle",t.image="image",t.line="line",t.rect="rectangle",t.text="text",t.triangle="triangle"}(rn||(rn={})),(on||(on={})).smootharea="smootharea",function(t){t[t.MoveTo=0]="MoveTo",t[t.LineTo=1]="LineTo"}(an||(an={}));var Sn=14,In=26,Ln=Math.PI/2,Tn=new Map,Pn=(new Date).getTime()/36774,On="LTMxLC02NCwtNTgsLTYwLDgsLTY4LC02OSwtNjIsLTU3LC02NywtNjYsNDMsMTMsMzcsNzAsLTM3LC00NiwtNDM=",Rn={};function Bn(){Rn={}}var zn="sans-serif",Dn={browserMinimumFontSize:1,minimumFontChecked:!1};function jn(t){Dn.browserMinimumFontSize=t}function Fn(t,e,n,r){var i=!!n,o=$t(r||zn);if(t!==Rn.context||e!==Rn.fontSize||i!==Rn.bold||o!==Rn.family){Rn.context=t,Rn.fontSize=e,Rn.bold=i,Rn.family=o;var a="normal "+(i?"bold":"normal")+" "+e+"px "+o;t.font=a,t.textBaseline="bottom"}}function Zn(t,e){var n=0,r=0,i=0,o=0,a=function(t){var e={x:0,y:0},n=t.itemPrimitives;if(n.hiddenByGenerator)return e;if(t.anchorIndex>-1){var r=n.positionIndex[t.anchorIndex];r>-1&&(e.x=n.anchorBuffer.getData()[r],e.y=n.anchorBuffer.getData()[r+1])}return e}(e);switch(e.type){case rn.circle:n=e.x-e.r,r=e.x+e.r,i=e.y-e.r,o=e.y+e.r;break;case rn.line:case rn.rect:case rn.image:case rn.text:n=Math.min(e.x1,e.x2),r=Math.max(e.x1,e.x2),i=Math.min(e.y1,e.y2),o=Math.max(e.y1,e.y2);break;case rn.triangle:n=Math.min(e.x1,e.x2,e.x3),r=Math.max(e.x1,e.x2,e.x3),i=Math.min(e.y1,e.y2,e.y3),o=Math.max(e.y1,e.y2,e.y3);break;case rn.arc:var s=e.x+e.r*Math.cos(e.startAngle),u=e.y+e.r*Math.sin(e.startAngle),l=e.x+e.r*Math.cos(e.endAngle),c=e.y+e.r*Math.sin(e.endAngle);n=Math.min(s,l),r=Math.max(s,l),i=Math.min(u,c),o=Math.max(u,c);for(var f=(Math.floor(e.startAngle/Ln)+1)*Ln;f<e.endAngle;){var d=e.x+e.r*Math.cos(f),h=e.y+e.r*Math.sin(f);n=Math.min(n,d),r=Math.max(r,d),i=Math.min(i,h),o=Math.max(o,h),f+=Ln}break;case rn.bezier:var p=e.bezier.xs,v=e.bezier.ys;n=p[0],r=p[0],i=v[0],o=v[0];for(var g=1;g<p.length;g++)n=Math.min(n,p[g]),r=Math.max(r,p[g]),i=Math.min(i,v[g]),o=Math.max(o,v[g])}return{x1:n+=a.x,y1:i+=a.y,x2:r+=a.x,y2:o+=a.y}}function Nn(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2}function Vn(t,e,n,r,i,o){var a=o||0;return Math.sqrt((t-r)*(t-r)+(e-i)*(e-i))+a<n}function Gn(t,e,n,r,i){return t.x1<e&&r<t.x2&&t.y1<n&&i<t.y2}function Yn(t){return"transparent"===t||t===$e.transparent}function Wn(t,e,n,r,i,o,a){var s=e.x(n.x),u=e.y(n.y),l=Yn(a)?$e.transparent:$e.white;t.rect(s-r,u-r,s+r,u+r,a,i,l,!0,o,-1)}function Un(t,e,n,r,i,o,a){var s=Yn(a)?$e.transparent:$e.white;t.circle(e.x(n.x),e.y(n.y),r+1,a,i,s,!0,o,-1,void 0,!1)}function Xn(t,e,n,r,i,o,a,s){!function(t,e,n,r,i,o,a){var s=Math.floor((n.x2-n.x1)/2),u=Math.floor((n.y2-n.y1)/2),l="-resize",c=Math.floor(4*r);Un(t,e,{x:n.x1,y:n.y1},c,1,i+a+"nw"+l,o),Wn(t,e,{x:n.x1+s,y:n.y1},c,1,i+a+"n"+l,o),Un(t,e,{x:n.x2,y:n.y1},c,1,i+a+"ne"+l,o),Wn(t,e,{x:n.x2,y:n.y1+u},c,1,i+a+"e"+l,o),Un(t,e,{x:n.x2,y:n.y2},c,1,i+a+"se"+l,o),Wn(t,e,{x:n.x2-s,y:n.y2},c,1,i+a+"s"+l,o),Un(t,e,{x:n.x1,y:n.y2},c,1,i+a+"sw"+l,o),Wn(t,e,{x:n.x1,y:n.y2-u},c,1,i+a+"w"+l,o)}(t,n,Zn(0,r),i,o,a,s)}function Hn(t,e,n,r,i,o){var a=gn(e,n);if(o)t.fillStyle=a,t.fillRect(0,0,r,i);else{var s=t;Qn(s.webgl?s.webglCanvas:t.canvas,[{r:0,c:a},{r:1,c:a}],n)}}function Kn(t,e,n,r,i,o){if(e)if(o){for(var a=t.createLinearGradient(0,0,0,i),s=0;s<e.length;s++)a.addColorStop(e[s].r,gn(e[s].c,n));t.fillStyle=a,t.fillRect(0,0,r,i)}else{var u=t;Qn(u.webgl?u.webglCanvas:t.canvas,e,n)}}function Qn(t,e,n){for(var r="linear-gradient(",i=0,o=e.length;i<o;i++){var a=e[i];r+=gn(a.c,n),r+=" "+100*a.r+"%",i+1<o&&(r+=",")}r+=")",t.style.background=r}function Jn(t){var e;return"string"==typeof t&&(e=t.split(",")[0]),e}var qn=null;function $n(){if(qn)return qn;var t=document.createElement("span");return t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.style.visibility="hidden",t.style.lineHeight="normal",t.style.fontSize="200px",t.style.fontVariant="normal",t.style.fontStyle="normal",t.style.letterSpacing="0",t.style.width="auto",t.style.height="auto",t.style.display="block",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="nowrap",qn=t,t}function tr(t,e,n){t.style.fontFamily=n,t.innerText=e}function er(t,e,n){var r=$n();document.body.appendChild(r),tr(r,t,n);var i=r.offsetHeight;return tr(r,"",""),i/200*e||e}var nr={},rr={};function ir(t,e,n,r,i,o){var a=i||zn,s=e+!!r+a,u=0,l=0,c=nr[s],f=(dt(n)?n:Sn)/In;return rr[a]||(rr[a]=er("|M",In,a)),l=rr[a],void 0===c&&(Fn(t,In,r,i),o&&(l=er(e,In,a)),t.webgl?(ie(e)&&(l=oe(In)),u=function(t,e,n,r,i,o){var a,s,u=0,l=ce(le(e));if(ie(e)){var c=Ne(l,e,!1).result;for(a=0,s=c.length;a<s;a++){var f=c[a];ie(f.text)?Fn(t,n,i,o):Fn(t,r,i,o),u+=t.measureText(f.text).width}}else for(a=0,s=l.length;a<s;a++)u+=t.measureText(l[a]).width;return u}(t,e,l,In,r,a)):u=t.measureText(e).width,c={width:u,height:l},nr[s]=c),{width:Math.round(c.width*f),height:Math.round(c.height*f)}}function or(t){var e=t.id||"canvas",n=Tn.get(e);return n||(n=$(t),Tn.set(e,n)),n}function ar(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function sr(){for(var t=arguments.length,e=[],n=0;n<t;n++)for(var r=arguments[n],i=r.length,o=0;o<i;o++)e.push(r[o]);return e}function ur(t){if(t){var e=t.match(/[\d.]+/g);if(null==e?void 0:e.length)return Math.round(e.map(Number)[0])}return null}function lr(t,e,n,r){var i=window.devicePixelRatio,o=t.width,a=t.height;if(r){t.style.width="100%",t.style.height="100%",t.style.display="block";var s=window.getComputedStyle(t),u=Math.round(t.clientWidth-o),l=Math.round(t.clientHeight-a),c=ur(s.width),f=ur(s.height);c&&(o=c-u),f&&(a=f-l)}t.style.width=o+"px",t.style.height=a+"px",t.width=Math.round(o*i),t.height=Math.round(a*i),n||e.scale(i,i),Bn()}function cr(t,e,n){var r=Math.max(n-t,0),i=Math.max(1e-4,e-t);return Math.min(1,r/i)}function fr(t,e,n){return t*(1-n)+e*n}function dr(t){return t>.15?fr(.75,1,cr(.15,.2,t)):t>.08?fr(.4,.75,cr(.08,.15,t)):fr(.2,.4,cr(.01,.08,t))}function hr(t){var e=null;if(t)if("string"==typeof t){if(!(e=document.getElementById(t)))throw new Error("container element not found with id: "+t)}else{if("object"!=typeof t||!t||void 0===t.parentNode)throw new Error("container must be valid DOM element or element id");e=t}return e}function pr(t,e,n){var r={all:!0,positions:!0},i=Date.now(),o=!1,a=!0;return{update:function(){var s=Date.now(),u=e(s-i);if(i=s,o=o||u){var l=n();if(l){var c=l.canvas;l.webgl&&(c=l.webglCanvas),c&&c.clientWidth>0&&c.clientHeight>0&&(o=!1,a&&t(!0,!1,r))}}else t(!1,!1,r)},redraw:function(t){o=!0;var e=t||{all:!0,positions:!0};r.all||(r.all=e.all),r.positions||(r.positions=e.positions)},allowDraw:function(t){t&&!a&&(o=!0),a=t}}}function vr(t,e){var n=!0;return{rebuild:e,animate:function(e){var r=t(e,n);return n=!1,r}}}function gr(t){var e=[],n=[];return{push:function(t,r){t&&(t.queue=r,r?n.push(t):e.push(t))},cancel:function(){e=[],n=[],t()},animate:function(r,i){var o=!1,a=!1;if(e.length>0){var s=e;e=[];for(var u=0;u<s.length;u++){var l=s[u].rebuild;s[u].animate(r)&&(a=a||s[u].queue,e.push(s[u])),t(l)}o=!0}return!a&&n.length>0&&(e.push(n.shift()),o=!0),i&&(o=o||i.animated()),o}}}function mr(t,e){var n,r,i,o=null;return function(a,s,u){var l=e();l===a||o&&r===a||(n=l,r=a,i=0,o||(o=vr((function(t){i=Math.min(s,i+t),e(s<=0?r:n+(r-n)*i/s);var a=i<s;return a||(o=null,xt(u)),a})),t.push(o,!1)))}}var yr=!1;function br(t,e){for(var n=t.replace(/^\s*|\s*$/g,"").split(/[(\s*,\s*)|(\s+)]/),r=0;r<n.length;r++)e(n[r])}function xr(){var t={};function e(e,n,r){br(e,(function(e){t[e]||(t[e]=[]),t[e].push({handler:n,context:r})}))}function n(e,n){e?br(e,(function(e){if(n){if(t[e]){for(var r=[],i=0;i<t[e].length;i++)n!==t[e][i].handler&&r.push(t[e][i]);t[e]=r}}else t[e]=[]})):t={}}function r(e){var n=!1,r=Array.prototype.slice.call(e);return t&&(n=function(e){if(yr)return!1;var n=e[0],r=!1;if(t)for(var i=2,o=void 0;i--;){var s=i?n:"all",u=i?e.slice(1):e;if(t[s]){var l=t[s].slice(0);for(o=0;o<l.length;o++){var c=l[o];try{r=c.handler.apply(c.context||this,u)||r}catch(t){a(n,t)}}}}return r}(r)),n}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)}var o=[];function a(t,e){var n=(new Date).toString()+" Function bound to '"+t+"' threw error: "+e.toString();i("error",n,e),ct(n),o.push(n),o.length>10&&o.shift()}return{bind:function(t,n,r){e(t,n,r)},getErrors:function(){return o},suppress:function(t){yr=t},trigger:i,unbind:function(t,e){n(t,e)}}}var wr={bind:function(){},trigger:function(){return!1},getErrors:function(){return[]},unbind:function(){},suppress:function(){}},Ar=[0,0],_r=[];function kr(t,e){t.lineCap=e.dash>1?"butt":"round",Ar[0]=e.dash,Ar[1]=e.gap,t.setLineDash(Ar)}function Cr(t){Ar[0]&&(Ar[0]=0,t.setLineDash(_r),t.lineCap="butt",t.lineDashOffset=0)}function Er(t,e){return"gradient"===e.type?function(t,e){for(var n=t.createLinearGradient(e.direction.start.x,e.direction.start.y,e.direction.end.x,e.direction.end.y),r=0;r<e.stops.length;r++)Mr(n,e.stops[r]);return n}(t,e):_n(e.colour,e.opacity)}function Mr(t,e){var n=_n(e.colour,e.opacity);t.addColorStop(e.offset,n)}function Sr(t,e){var n=e.dashing,r=e.strokeWidth,i=e.x,o=e.y,a=e.r,s=e.segments,u=0;n&&(kr(t,n),u=n.dashOffset||0),t.lineWidth=r,s.forEach((function(e){var r=e.strokeStyle,s=e.startAngle,l=e.endAngle;n&&(t.lineDashOffset=e.offset+u),t.beginPath(),t.strokeStyle=Er(t,r),t.arc(i,o,a,s,l,!1),t.stroke(),t.closePath()})),e.dashing&&Cr(t)}var Ir=2*Math.PI;function Lr(t,e){var n=e.fill,r=e.stroke,i=e.dashing,o=e.x,a=e.y,s=e.r;t.fillStyle=n?_n(n.colour,n.opacity):$e.transparent;var u=r&&r.width>0;if(u){var l=r,c=l.width,f=l.colour,d=l.opacity;i&&kr(t,i),t.lineWidth=c,t.strokeStyle=_n(f,d)}t.beginPath(),t.arc(o,a,s,0,Ir,!1),t.closePath(),n&&t.fill(),u&&(t.stroke(),i&&Cr(t))}function Tr(t,e,n){var r=e.src,i=e.specifier,o=e.rotation,a=e.x1,s=e.y1,u=e.x2,l=e.y2,c=e.alpha,f="url"===r.type?n.getHTMLElement(r.url,i):r.el;if(f){var d=t.globalAlpha;t.globalAlpha=c,o&&(t.save(),t.translate(o.origin.x,o.origin.y),t.rotate(o.angle)),t.imageSmoothingQuality="high",t.drawImage(f,a,s,u-a,l-s),e.rotation&&t.restore(),t.globalAlpha=d}}function Pr(t,e){var n=e.dashing,r=e.strokeWidth,i=e.strokeStyle,o=e.start,a=e.end;n&&(kr(t,n),t.lineDashOffset=n.dashOffset||0),t.lineWidth=r,t.beginPath(),t.strokeStyle=Er(t,i),t.moveTo(o.x,o.y),t.lineTo(a.x,a.y),t.stroke(),t.closePath(),n&&Cr(t)}function Or(t,e){var n,r=function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.rotation;return a&&(t.save(),t.translate(a.origin.x,a.origin.y),t.rotate(a.angle)),{x1:n,y1:r,x2:i,y2:o}}(t,e),i=r.x1,o=r.y1,a=r.x2,s=r.y2,u=e.stroke,l=e.rotation,c=e.fill;if(c&&(n=Er(t,c)),e.cornerRadius&&e.cornerRadius>0)!function(t,e,n,r){var i=r.x1,o=r.y1,a=r.x2,s=r.y2,u=e.cornerRadius,l=e.stroke,c=e.rotation,f=u;t.beginPath(),t.moveTo(i+f,o),t.lineTo(a-f,o),t.arcTo(a,o,a,o+f,f),t.lineTo(a,s-f),t.arcTo(a,s,a-f,s,f),t.lineTo(i+f,s),t.arcTo(i,s,i,s-f,f),t.lineTo(i,o+f),t.arcTo(i,o,i+f,o,f),t.closePath(),n&&(t.fillStyle=n,t.fill());if(l&&l.width>=0){var d=l.width,h=l.colour,p=l.opacity;t.lineWidth=Math.max(1,d),t.strokeStyle=_n(h,p),t.stroke()}c&&t.restore()}(t,e,n,{x1:i,y1:o,x2:a,y2:s});else{if(n&&(t.fillStyle=n,t.fillRect(i,o,a-i,s-o)),u&&u.width>=0){var f=u.width,d=u.colour,h=u.opacity;t.lineWidth=f,t.strokeStyle=_n(d,h),t.strokeRect(i,o,a-i,s-o)}l&&t.restore()}}function Rr(t,e){var n=e.x,r=e.y,i=e.size,o=e.isBold,a=e.fontFamily,s=e.colour,u=e.textAlign,l=e.rotation;Fn(t,i,o,a),t.fillStyle=_n(s.colour,s.opacity),t.textAlign=u,l&&(t.save(),t.translate(l.origin.x,l.origin.y),t.rotate(l.angle)),t.textBaseline="middle",t.fillText(e.text,n,r),l&&t.restore()}function Br(t,e){var n=e.x1,r=e.x2,i=e.x3,o=e.y1,a=e.y2,s=e.y3,u=e.rotation,l=e.fill,c=e.stroke;if(u&&(t.save(),t.translate(u.origin.x,u.origin.y),t.rotate(u.angle)),(Math.abs(r-n)>1||Math.abs(a-o)>1)&&(t.beginPath(),t.moveTo(n,o),t.lineTo(r,a),t.lineTo(i,s),t.lineTo(n,o),t.closePath(),l&&(t.fillStyle=_n(l.colour,l.opacity),t.fill()),c&&c.colour&&c.width>=0)){var f=c.width,d=c.colour,h=c.opacity;t.lineWidth=Math.max(1,f),t.strokeStyle=_n(d,h),t.stroke()}u&&t.restore()}function zr(t,e){var n,r=e.dashing,i=e.strokeWidth,o=e.segments,a=0;r&&(kr(t,r),a=r.dashOffset||0,t.lineDashOffset=(null===(n=e.dashing)||void 0===n?void 0:n.dashOffset)||0),t.lineWidth=i,t.beginPath(),o.forEach((function(e,n){var i=e.strokeStyle,o=e.offset,s=e.xs,u=e.ys;i&&(n>0&&(t.stroke(),t.closePath(),r&&(t.lineDashOffset=o+a),t.beginPath()),t.strokeStyle=Er(t,i),t.moveTo(s[0],u[0])),t.bezierCurveTo(s[1],u[1],s[2],u[2],s[3],u[3])})),t.stroke(),t.closePath(),e.dashing&&Cr(t)}function Dr(t){var e=0,n=0,r=[],i={bg:!1,gh:!1,anchorBuffer:t,dirty:0,positionIndex:[-1,-1,-1],hiddenByGenerator:!1,isHitTested:!0,goToBeginning:function(){n=0},reset:function(){e=0,n=0,i.hiddenByGenerator=!1},getNext:function(){return r[n++]},getPrevious:function(){return n>0?r[n-1]:null},add:function(t){r[e++]=t,i.dirty=e,n++},forEach:function(t){for(var n=0;n<e;n++)t(r[n])},setAnchorPosition:function(n,r,o,a){var s=i.positionIndex[a];-1===s&&(s=t.getUsedSize(),i.positionIndex[a]=s,t.add());var u=t.getData();u[s]=n,u[s+1]=r,u[s+2]=o,i.dirty=e},getAnchorPosition:function(t){var e=i.positionIndex[t],n=i.anchorBuffer.getData();return{x:n[e],y:n[e+1]}},getAnchorAngle:function(t){var e=i.positionIndex[t];return i.anchorBuffer.getData()[e+2]}};return i}function jr(t,e,n,r,i){t[0]=e,t[1]=n,t[2]=0;var o=r.anchorBuffer.getData();if(i>-1){var a=r.positionIndex[i];if(a>-1){var s=o[a+2];if(s){var u=Math.sin(-s),l=Math.cos(-s);t[0]=e*l+n*u,t[1]=n*l-e*u}t[0]+=o[a],t[1]+=o[a+1],t[2]=s}}}function Fr(t,e,n,r,i,o,a){t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=0;var s=o.anchorBuffer.getData();if(a>-1){var u=o.positionIndex[a];if(u>-1){var l=s[u],c=s[u+1],f=s[u+2];t[0]+=l,t[1]+=c,t[2]+=l,t[3]+=c,t[4]=f}}}function Zr(t){return"solid"!==t&&"flow"!==t}function Nr(t,e,n,r){var i,o;void 0===r&&(r=!1),"dotted"===n?(i=.5,o=2*e):o=(i=Math.max(2,2*e))/2;var a=Math.round(r?t/(i+o):(t+o)/(i+o));return a>1&&(o=r?(t-a*i)/a:(t-a*i)/(a-1)),{dash:i,gap:o}}function Vr(t,e,n,r){var i=15*t*e;return(i=ne(t)*Math.min(16*n,Math.abs(i)))*(r/1e3)%n}function Gr(t,e,n,r,i,o,a){if("flow"===t||Zr(t))return"flow"===t?function(t,e,n,r,i){var o=Math.max(30*r,3*e)/3,a=2*o;return{dash:a,gap:o,dashOffset:-(t/2-o+Vr(n,r,a+o,i))}}(o,a,e*n,r,i):Nr(o,a,t)}function Yr(t,e,n){return t>=0&&void 0!==n&&Zr(e)}function Wr(t,e,n,r){return t+n<0||t-n>r.scale(r.width())||e+n<0||e-n>r.scale(r.height())}function Ur(t,e,n,r,i){return t>i.scale(i.width())||n<0||e>i.scale(i.height())||r<0}var Xr=new Float32Array(3);function Hr(t,e,n,r,i,o,a,s){return{type:"gradient",direction:{start:Kr(t,e,n,r),end:Kr(t,e,n,i)},stops:o.map((function(t,e){return ar(ar({},Mn(t,a)),{offset:s[e]})}))}}function Kr(t,e,n,r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}function Qr(t,e,n){return n?e>=0?Math.max(1,e):-1:e>0?t-e<4?Math.max(.2,e*((t-e)/4)):Math.max(1,e):-1}function Jr(t,e,n,r,i){var o,a,s=!(!t.isFilled||!t.fillColour),u=!!(e>0&&t.borderColour);if(!s&&!u)return null;if(n){if(!t.shadowColour)return null;s&&(o=Mn(t.shadowColour)),u&&(a=ar(ar({},Mn(t.shadowColour)),{width:e}))}else{var l=bn(t.itemPrimitives,r,i),c=null===l?1:l;s&&(o=Mn(t.fillColour,c)),u&&(a=ar(ar({},Mn(t.borderColour,c)),{width:e}))}return{fill:o,stroke:a}}var qr=2*Math.PI,$r=new Float32Array(3);var ti=new Float32Array(5);function ei(t,e,n,r){jr(ti,0,0,t.itemPrimitives,t.anchorIndex);var i,o,a,s,u,l=t.anchorIndex>-1&&ti[2]||void 0,c=r._rendering&&r._rendering.canvasSkipItemsOutOfView;if(l){i=e.worldToViewDistance(t.x1+n),o=e.worldToViewDistance(t.y1+n),a=e.worldToViewDistance(t.x2-n),s=e.worldToViewDistance(t.y2-n);var f=e.x(ti[0]),d=e.y(ti[1]);if(c&&Ur(i+f,o+d,a+f,s+d,e))return;u={origin:{x:f,y:d},angle:l}}else if(Fr(ti,t.x1,t.y1,t.x2,t.y2,t.itemPrimitives,t.anchorIndex),i=e.x(ti[0]+n),o=e.y(ti[1]+n),a=e.x(ti[2]-n),s=e.y(ti[3]-n),c&&Ur(i,o,a,s,e))return;return{x1:i,y1:o,x2:a,y2:s,rotation:u}}var ni=new Float32Array(5);var ri=new Float32Array(3);var ii=new Float32Array(3);var oi=50,ai=[[-.058808,.057624,.001176,8e-6],[-.056456,.052968,.003432,56e-6],[-.054152,.048456,.005544,152e-6],[-.051896,.044088,.007512,296e-6],[-.049688,.039864,.009336,488e-6],[-.047528,.035784,.011016,728e-6],[-.045416,.031848,.012552,.001016],[-.043352,.028056,.013944,.001352],[-.041336,.024408,.015192,.001736],[-.039368,.020904,.016296,.002168],[-.037448,.017544,.017256,.002648],[-.035576,.014328,.018072,.003176],[-.033752,.011256,.018744,.003752],[-.031976,.008328,.019272,.004376],[-.030248,.005544,.019656,.005048],[-.028568,.002904,.019896,.005768],[-.026936,408e-6,.019992,.006536],[-.025352,-.001944,.019944,.007352],[-.023816,-.004152,.019752,.008216],[-.022328,-.006216,.019416,.009128],[-.020888,-.008136,.018936,.010088],[-.019496,-.009912,.018312,.011096],[-.018152,-.011544,.017544,.012152],[-.016856,-.013032,.016632,.013256],[-.015608,-.014376,.015576,.014408],[-.014408,-.015576,.014376,.015608],[-.013256,-.016632,.013032,.016856],[-.012152,-.017544,.011544,.018152],[-.011096,-.018312,.009912,.019496],[-.010088,-.018936,.008136,.020888],[-.009128,-.019416,.006216,.022328],[-.008216,-.019752,.004152,.023816],[-.007352,-.019944,.001944,.025352],[-.006536,-.019992,-408e-6,.026936],[-.005768,-.019896,-.002904,.028568],[-.005048,-.019656,-.005544,.030248],[-.004376,-.019272,-.008328,.031976],[-.003752,-.018744,-.011256,.033752],[-.003176,-.018072,-.014328,.035576],[-.002648,-.017256,-.017544,.037448],[-.002168,-.016296,-.020904,.039368],[-.001736,-.015192,-.024408,.041336],[-.001352,-.013944,-.028056,.043352],[-.001016,-.012552,-.031848,.045416],[-728e-6,-.011016,-.035784,.047528],[-488e-6,-.009336,-.039864,.049688],[-296e-6,-.007512,-.044088,.051896],[-152e-6,-.005544,-.048456,.054152],[-56e-6,-.003432,-.052968,.056456],[-8e-6,-.001176,-.057624,.058808]],si=[[-.115264,.110592,.004608,64e-6],[-.106048,.092544,.013056,448e-6],[-.097216,.075648,.020352,.001216],[-.088768,.059904,.026496,.002368],[-.080704,.045312,.031488,.003904],[-.073024,.031872,.035328,.005824],[-.065728,.019584,.038016,.008128],[-.058816,.008448,.039552,.010816],[-.052288,-.001536,.039936,.013888],[-.046144,-.010368,.039168,.017344],[-.040384,-.018048,.037248,.021184],[-.035008,-.024576,.034176,.025408],[-.030016,-.029952,.029952,.030016],[-.025408,-.034176,.024576,.035008],[-.021184,-.037248,.018048,.040384],[-.017344,-.039168,.010368,.046144],[-.013888,-.039936,.001536,.052288],[-.010816,-.039552,-.008448,.058816],[-.008128,-.038016,-.019584,.065728],[-.005824,-.035328,-.031872,.073024],[-.003904,-.031488,-.045312,.080704],[-.002368,-.026496,-.059904,.088768],[-.001216,-.020352,-.075648,.097216],[-448e-6,-.013056,-.092544,.106048],[-64e-6,-.004608,-.110592,.115264]];var ui,li={num:oi,segmentDelta:function(t,e){var n=ai[t];return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}},ci={num:25,segmentDelta:function(t,e){if(t>=25&&7===e.length){var n=si[t-25];return n[0]*e[3]+n[1]*e[4]+n[2]*e[5]+n[3]*e[6]}var r=si[t];return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3]}};function fi(t,e,n){return n>1?t(e,3,n-1):t(e,0,n)}function di(t,e,n){return.5===n?e:n<.5?2*e*n:e+2*(t-e)*(n-.5)}function hi(t,e){var n=pi(t[0],t[1],e),r=pi(t[1],t[2],e),i=pi(t[2],t[3],e),o=pi(n,r,e),a=pi(r,i,e),s=vi(t,0,e);return[t[0],n,o,s,a,i,t[3]]}function pi(t,e,n){return t+n*(e-t)}function vi(t,e,n){var r=1-n,i=r*r,o=n*n,a=3*i*n,s=3*r*o,u=o*n;return i*r*t[e]+a*t[e+1]+s*t[e+2]+u*t[e+3]}function gi(t,e,n){var r=1-n,i=n*n,o=3*r*(1-3*n),a=3*(2*n-3*i),s=3*i;return-3*r*r*t[e]+o*t[e+1]+a*t[e+2]+s*t[e+3]}function mi(t,e){return Yt(t.x,t.y,e.x,e.y)}function yi(t,e,n,r){return(n-t)*(n-t)+(r-e)*(r-e)}function bi(t,e,n,r,i){var o=Math.atan2(e-i,t-r),a=Yt(r,i,t,e)*Math.cos(o-n);return{x:r+a*Math.cos(n),y:i+a*Math.sin(n)}}function xi(t,e,n,r,i,o,a,s,u,l,c,f,d,h){var p,v={x:t,y:e},g=bi(n,r,i,t,e),m=bi(o,a,i,t,e),y=0;if(u===o&&l===a)p=m;else{var b=bi(u,l,i,t,e),x=mi(m,p={x:m.x+(b.x-m.x)/c,y:m.y+(b.y-m.y)/c}),w=s?g:v,A=mi(m,w);A<x&&(w.x=p.x,w.y=p.y,y=(x-A)/x)}var _=mi(v,g),k=mi(v,m)/_,C=mi(v,p)/_;return{gradient:{type:"gradient",direction:{start:v,end:g},stops:[ar(ar({},Mn(s?f:d,h)),{offset:Math.min(1,k)}),ar(ar({},Mn(s?d:f,h)),{offset:Math.min(1,C)})]},undrawnFrac:y}}var wi,Ai=((ui={})[rn.arc]=function(t,e,n,r,i,o,a,s,u){jr(Xr,t.x,t.y,t.itemPrimitives,t.anchorIndex);var l=e.x(Xr[0]),c=e.y(Xr[1]),f=e.worldToViewDistance(t.r),d=a.zoom&&a.zoom.adaptiveStyling,h=n?e.sw(t.width):e.w(t.width);if(h=Math.max(d?dr(e.getZoomScale()):1,h),!a._rendering||!a._rendering.canvasSkipItemsOutOfView||!Wr(l,c,f+h,e)){var p,v,g=1;if(n){var m=t.colour&&t.shadowColour;if(!m)return;p=ar({type:"solid"},Mn(m))}else{var y=bn(t.itemPrimitives,r,i);g=null===y?1:y,p=ar({type:"solid"},Mn(t.colour,g)),v=Gr(t.lineStyle,t.flowVelocity,ne(t.offset),s,u,f*(t.endAngle-t.startAngle),h)}var b=!n&&t.colour2?function(t,e,n,r,i,o,a,s,u,l){var c=u?[a,o]:[o,a];if(0===l)return[{startAngle:r,endAngle:i,strokeStyle:v=Hr(t,e,n,r,i,c,s,[.5,.5]),offset:0}];var f=[],d=i-r,h=0,p=0;if(l<1){h=d*(1-l)/2;var v=ar({type:"solid"},Mn(c[0],s));f.push({startAngle:r,endAngle:r+h,strokeStyle:v,offset:p}),p+=n*h}for(var g=d-2*h,m=Math.ceil(g/(Math.PI/2)),y=g/m,b=n*y,x=function(t,e){var n=[t[0]],r=dn(t[0]);3===r.length&&r.push(1);var i=dn(t[1]);3===i.length&&i.push(1);for(var o=(i[0]-r[0])/e,a=(i[1]-r[1])/e,s=(i[2]-r[2])/e,u=(i[3]-r[3])/e,l=1;l<=e;l++)n.push(en(Math.floor(r[0]+l*o),Math.floor(r[1]+l*a),Math.floor(r[2]+l*s),r[3]+l*u));return n}(c,m),w=1/n,A=0;A<m;A++){var _=r+h+A*y-.25*w,k=r+h+(A+1)*y;A===m-1&&(k+=.25*w),v=Hr(t,e,n,_,k,[x[A],x[A+1]],s,[0,1]),f.push({startAngle:_,endAngle:k,strokeStyle:v,offset:p}),p+=b}h>0&&(v=ar({type:"solid"},Mn(c[1],s)),f.push({startAngle:i-h,endAngle:i,strokeStyle:v,offset:p}));return f}(l,c,f,t.startAngle,t.endAngle,t.colour,t.colour2,g,t.offset<0,a.linkStyle.transition):[{strokeStyle:p,startAngle:t.startAngle,endAngle:t.endAngle,offset:0}];o({type:t.type,x:l,y:c,r:f,strokeWidth:h,dashing:v,segments:b})}},ui[rn.circle]=function(t,e,n,r,i,o,a){jr($r,t.x,t.y,t.itemPrimitives,t.anchorIndex);var s=a._rendering&&a._rendering.canvasSkipItemsOutOfView,u=e.x($r[0]),l=e.y($r[1]),c=e.worldToViewDistance(t.r);if(!s||!Wr(u,l,c,e)){var f=n?e.sw(t.borderWidth):e.w(t.borderWidth);f=t.noMinBorderWidth?Math.max(1,f):Qr(c,f,n);var d=!n&&Yr(f,t.borderStyle,t.borderColour)?Nr(qr*c,f,t.borderStyle,!0):void 0,h=Jr(t,f,n,r,i);h&&o(ar(ar({type:t.type,x:u,y:l,r:c},h),{dashing:d}))}},ui[rn.image]=function(t,e,n,r,i,o,a){var s=ei(t,e,0,a);if(s){if(t.imageInflate){var u=s.x1,l=s.x2,c=s.y1,f=s.y2,d=e.w(t.imageInflate),h=(Math.min(l-u,f-c)+d)/2,p=Math.min(Qr(h,d,!1)/2,1);s.x1-=p,s.y1-=p,s.x2+=p,s.y2+=p}if(n){if(!t.shadowColour)return;var v=Mn(t.shadowColour);o(ar(ar({type:rn.rect},s),{stroke:void 0,fill:ar({type:"solid"},v)}))}else{var g=bn(t.itemPrimitives,r,i);o(ar(ar({type:t.type},s),{src:{type:"url",url:t.url},specifier:t.specifier,alpha:null===g?1:g}))}}},ui[rn.line]=function(t,e,n,r,i,o,a,s,u,l){Fr(ni,t.x1,t.y1,t.x2,t.y2,t.itemPrimitives,t.anchorIndex);var c=e.x(ni[0]),f=e.y(ni[1]),d=e.x(ni[2]),h=e.y(ni[3]),p=n?e.sw(t.width):e.w(t.width);if(!l){var v=a.zoom&&a.zoom.adaptiveStyling?dr(e.getZoomScale()):1;p=Math.max(v,p)}if(!a._rendering||!a._rendering.canvasSkipItemsOutOfView||!function(t,e,n,r,i,o){var a=i/2;return t+a<0&&n+a<0||e+a<0&&r+a<0||t-a>o.scale(o.width())&&n-a>o.scale(o.width())||e-a>o.scale(o.height())&&r-a>o.scale(o.height())}(c,f,d,h,p,e)){var g,m,y={x:c,y:f},b={x:d,y:h};if(n){if(!t.shadowColour)return;g=ar({type:"solid"},Mn(t.colour&&t.shadowColour))}else{var x=bn(t.itemPrimitives,r,i),w=null===x?1:x;if(t.colour2){var A=a.linkStyle.transition;g={type:"gradient",direction:{start:y,end:b},stops:[ar(ar({},Mn(t.colour,w)),{offset:(1-A)/2}),ar(ar({},Mn(t.colour2,w)),{offset:(1+A)/2})]}}else g=ar({type:"solid"},Mn(t.colour,w));var _=Yt(c,f,d,h);m=Gr(t.lineStyle,t.flowVelocity,1,s,u,_,p)}o({type:t.type,start:y,end:b,strokeWidth:p,strokeStyle:g,offset:0,dashing:m})}},ui[rn.rect]=function(t,e,n,r,i,o,a){var s=0;t.rectMargins&&(s=Math.max(0,t.borderWidth/2)+t.rectMargins.reduce((function(t,e){return t+e}),0));var u=ei(t,e,s,a);if(u){var l=u.x1,c=u.y1,f=u.x2,d=u.y2,h=u.x2-u.x1,p=u.y2-u.y1,v=n?e.sw(t.borderWidth):e.w(t.borderWidth);if(v>=0){var g=Math.min(h,p)/2;v=Qr(g,v,n)}var m=Jr(t,v,n,r,i);if(m||t.gradientStops&&0!==t.gradientStops.length){var y;t.gradientStops?y={type:"gradient",direction:{start:{x:l,y:c},end:{x:l,y:d}},stops:t.gradientStops}:(null==m?void 0:m.fill)&&(y=ar({type:"solid"},m.fill));var b=!n&&Yr(v,t.borderStyle,t.borderColour);if(!y&&b||o(ar(ar({type:t.type},u),{stroke:b||null==m?void 0:m.stroke,fill:y,cornerRadius:t.cornerRadius?e.worldToViewDistance(t.cornerRadius):void 0})),b&&(null==m?void 0:m.stroke)){var x=Nr(h+v,v,t.borderStyle,!1),w=Nr(p+v,v,t.borderStyle,!1),A={type:"solid",colour:m.stroke.colour,opacity:m.stroke.opacity},_=function(t,e,n){o({type:rn.line,start:t,end:e,strokeWidth:v,strokeStyle:A,offset:0,dashing:{dash:x.dash,gap:n}})},k=v/2;_({x:l-k,y:c},{x:f+k,y:c},x.gap),_({x:f,y:c-k},{x:f,y:d+k},w.gap),_({x:f+k,y:d},{x:l-k,y:d},x.gap),_({x:l,y:d+k},{x:l,y:c-k},w.gap)}}}},ui[rn.text]=function(t,e,n,r,i,o,a,s,u,l){jr(ri,0,0,t.itemPrimitives,t.anchorIndex);var c=e.x(ri[0]),f=e.y(ri[1]),d=e.worldToViewDistance(t.x1),h=e.worldToViewDistance(t.y1),p=e.worldToViewDistance(t.x2),v=e.worldToViewDistance(t.y2),g=a.linkStyle&&a.linkStyle.inline,m=g&&ri[2]||void 0,y=Math.max(Math.abs(d),Math.abs(h),Math.abs(p),Math.abs(v));if(!a._rendering||!a._rendering.canvasSkipItemsOutOfView||!Ur(c-y,f-y,c+y,f+y,e)){var b=m?{origin:{x:c,y:f},angle:m}:void 0,x=m?{x:0,y:0}:{x:c,y:f},w=function(t,e,n,r,i){return{type:rn.rect,x1:t+x.x,y1:e+x.y,x2:n+x.x,y2:r+x.y,rotation:b,stroke:void 0,fill:ar({type:"solid"},i)}};if(n){if(!t.shadowColour)return;t.back&&o(w(d,h,p,v+e.worldToViewDistance(t.fontSize)*t.paddingFactor,Mn(t.shadowColour)))}else{var A=e.worldToViewDistance(t.x),_=e.worldToViewDistance(t.y);g||(_+=e.worldToViewDistance(t.yOffset));var k=e.worldToViewDistance(t.fontSize),C=t.isFontIcon?0:k*t.paddingFactor,E=bn(t.itemPrimitives,r,i),M=null===E?1:E,S=Mn(t.fontColour,M),I=1;if(!l)if(a.zoom&&a.zoom.adaptiveStyling){if(!t.isFontIcon&&k<=5){if(0==(I=Math.max(0,k-3)/2))return;S.opacity*=I}}else if(t.textWidth&&(k<=3||k<Dn.browserMinimumFontSize)){var L=e.worldToViewDistance(t.textWidth);return t.isCentred&&(A-=Math.floor(L/2)),t.back&&t.backColour!==$e.textback&&o(w(A,_-k,A+L,_+C,Mn(t.backColour,M))),void o(w(A,_-k,A+L,_+C,t.isSel?Mn(t.backColour,M):Mn(t.fontColour,.4*M)))}t.back&&o(w(d,h,p,v+C,Mn(t.backColour,M*I))),o({type:t.type,rotation:b,x:A+x.x,y:_+x.y,text:t.text,colour:S,size:k,isBold:t.isBold,isFontIcon:t.isFontIcon,fontFamily:t.fontFamily,textAlign:t.isCentred?"center":"left"})}}},ui[rn.triangle]=function(t,e,n,r,i,o,a){jr(ii,0,0,t.itemPrimitives,t.anchorIndex);var s=e.worldToViewDistance(t.x1),u=e.worldToViewDistance(t.y1),l=e.worldToViewDistance(t.x2),c=e.worldToViewDistance(t.y2),f=e.worldToViewDistance(t.x3),d=e.worldToViewDistance(t.y3),h=e.x(ii[0])||0,p=e.y(ii[1])||0,v=t.anchorIndex>-1&&ii[2]||void 0,g=v?{origin:{x:h,y:p},angle:v}:void 0,m=v?{x:0,y:0}:{x:h,y:p},y=Math.min(s,Math.min(l,f)),b=Math.min(u,Math.min(c,d)),x=Math.max(s,Math.max(l,f)),w=Math.max(u,Math.max(c,d));if(!a._rendering||!a._rendering.canvasSkipItemsOutOfView||!Ur(y+h,b+p,x+h,w+p,e)){var A=Jr(t,n?e.sw(t.borderWidth):e.w(t.borderWidth),n,r,i);A&&o(ar(ar({type:t.type,x1:s+m.x,y1:u+m.y,x2:l+m.x,y2:c+m.y,x3:f+m.x,y3:d+m.y},A),{rotation:g}))}},ui[rn.bezier]=function(t,e,n,r,i,o,a,s,u){var l,c,f=t.bezier.xs.map(e.x),d=t.bezier.ys.map(e.y),h=a.zoom&&a.zoom.adaptiveStyling,p=n?e.sw(t.width):e.w(t.width);if(p=Math.max(h?dr(e.getZoomScale()):1,p),a._rendering&&a._rendering.canvasSkipItemsOutOfView){for(var v=1/0,g=-1/0,m=1/0,y=-1/0,b=0;b<f.length;b++)v=Math.min(v,f[b]),g=Math.max(g,f[b]),m=Math.min(m,d[b]),y=Math.max(y,d[b]);if(Ur(v,m,g,y,e))return}if(n){var x=t.colour&&t.shadowColour;if(!x)return;l=[ar({type:"solid"},Mn(x))]}else{var w=bn(t.itemPrimitives,r,i),A=null===w?1:w;l=t.colour2&&t.colour2!==t.colour?function(t,e,n,r,i,o,a){var s=(1-a)/2,u=(1+a)/2,l=[],c=4===t.length?1:2,f=n<1?0:3,d=fi(gi,t,n),h=fi(gi,e,n),p=Math.atan2(h,d),v=di(c,n,s),g=fi(vi,t,v),m=fi(vi,e,v),y=di(c,n,u),b=fi(vi,t,y),x=fi(vi,e,y),w=fi(vi,t,n),A=fi(vi,e,n);if(4===t.length||y<=1||v>=1)v>=1&&l.push(ar({type:"solid"},Mn(r,o))),l.push(xi(t[f],e[f],t[f+3],e[f+3],p,g,m,!0,b,x,1,r,i,o).gradient),y<=1&&7===t.length&&l.push(ar({type:"solid"},Mn(i,o)));else if(n<1){var _=xi(t[f],e[f],t[f+3],e[f+3],p,g,m,!0,w,A,.5,r,i,o);if(l.push(_.gradient),_.undrawnFrac){var k=Math.atan2(e[6]-e[3],t[6]-t[3]);l.push(xi(t[3],e[3],t[6],e[6],k,b,x,!1,t[3],e[3],_.undrawnFrac,r,i,o).gradient)}else l.push(ar({type:"solid"},Mn(i,o)))}else(_=xi(t[f],e[f],t[f+3],e[f+3],p,b,x,!1,w,A,.5,r,i,o)).undrawnFrac?(k=Math.atan2(e[3]-e[0],t[3]-t[0]),l.push(xi(t[0],e[0],t[3],e[3],k,g,m,!0,t[3],e[3],_.undrawnFrac,r,i,o).gradient)):l.push(ar({type:"solid"},Mn(r,o))),l.push(_.gradient);return l}(f,d,t.bezier.midpoint,t.colour,t.colour2,A,a.linkStyle.transition):[ar({type:"solid"},Mn(t.colour,A))],c=Gr(t.lineStyle,t.flowVelocity,1,s,u,100,p)}var _,k={strokeStyle:l[0],offset:0,xs:f.slice(0,4),ys:d.slice(0,4)};if(f.length<7&&d.length<7)_=[k];else{var C=Ut(f[4]-f[3],d[4]-d[3]),E=f.slice(3,7),M=d.slice(3,7);E[0]=f[3]-C[0]/2,M[0]=d[3]-C[1]/2;var S=c?function(t,e,n){for(var r=0,i=0;i<n.num;i++){var o=n.segmentDelta(i,t),a=n.segmentDelta(i,e);r+=Math.sqrt(o*o+a*a)}return r}(f,d,li):-1;_=1===l.length?[k,{xs:E,ys:M,offset:S,strokeStyle:void 0}]:[k,{xs:E,ys:M,offset:S,strokeStyle:l[1]}]}o({type:t.type,strokeWidth:p,dashing:c,segments:_})},ui[on.smootharea]=function(t,e,n,r,i,o){var a,s;if(n){if(!t.shadowColour)return;a=ar(ar({},Mn(t.lineColour&&t.shadowColour)),{width:Math.max(1,e.sw(t.lineWidth))}),s=t.fillColour?Mn(t.fillColour&&t.shadowColour):void 0}else{var u=bn(t.itemPrimitives,r,i),l=null===u?1:u;a=ar(ar({},Mn(t.lineColour,l)),{width:Math.max(1,e.w(t.lineWidth))}),s=t.fillColour?Mn(t.fillColour):void 0}o(ar(ar({type:t.type},t.custom),{stroke:a,fill:s}))},ui);function _i(t,e,n,r,i,o,a,s,u,l,c,f){void 0===c&&(c=1);var d,h=e,p=!1,v="boolean"==typeof u,g=e?e.settings().zoom:1,m=performance.now(),y=!1,b=function(t){var e=function(e){return e*t};return{getZoomScale:function(){return t},height:function(){return 1/0},scale:e,sw:e,viewToWorldDistance:function(e){return e/t},w:e,width:function(){return 1/0},worldToViewDistance:function(e){return e*t},x:e,y:e}}(c),x=l.drawPrimitive;function w(){y&&(y=!1,l.commitBackground())}t.forEach((function(t){if(!p){d.bg&&(y=!0);var e=!0;v&&!r&&(e=u?h!==b:h===b),e&&function(t,e,n,r,i,o,a,s,u,l,c){var f,d;if(!t.itemPrimitives.hiddenByGenerator){var h=void 0;if(r){var p=r.shadowType;h=n?t.shadowColour&&(!p||p>-1)&&(null===(f=t.itemPrimitives)||void 0===f?void 0:f.isHitTested):!p||p<1}else h=!n||t.shadowColour&&(null===(d=t.itemPrimitives)||void 0===d?void 0:d.isHitTested);if(h){var v=Ai[t.type];if(v){var g=t.itemPrimitives;v(t,e,n,g.bg?i:1,g.gh?o:1,a,s,u,l,c)}}}}(t,h,r,d,o,a,x,n,g,m,f)}}),(function(t,n){(d=t).layerHasContent=!1,l.overview&&t.blatOverview&&!s&&l.overview();var r=i&&!t.overview;p=t.hideFromExport&&s||r,n&&n.bg&&(t.bg?l.drawToBackground():(w(),l.drawToForeground())),h=t.useView&&e?e:b}),!1,!1),w()}var ki=((wi={})[rn.arc]=Sr,wi[rn.circle]=Lr,wi[rn.image]=Tr,wi[rn.line]=Pr,wi[rn.rect]=Or,wi[rn.text]=Rr,wi[rn.triangle]=Br,wi[rn.bezier]=zr,wi);function Ci(t){t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore()}function Ei(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n.getContext("2d")}function Mi(t,e,n,r,i,o,a,s,u,l,c,f,d,h){var p=d?d.createImageLookup():void 0,v=e,g={overview:s?function(){s(e,r)}:void 0,commitBackground:function(){e!==n&&(null==n?void 0:n.canvas)&&(!function(t,e,n){t.globalAlpha=n,t.drawImage(e,0,0,e.width,e.height),t.globalAlpha=1}(e,n.canvas,l),Ci(n))},drawToForeground:function(){v=e},drawToBackground:function(){n&&(v=n)},drawPrimitive:function(t){var e=t.type;h&&h[t.type]?h[e](v,t):ki[e]&&(0,ki[e])(v,t,p)}};n&&Ci(n),_i(t,r,i,o,a,l,c,u,f,g)}function Si(t,e,n,r){var i,o,a=yn(),s=!0,u=null,l={webgl:[0,0,0,0],rgb:void 0},c=(i={},o={},{getColour:function(t){if(!t)return l;var e=i[t];if(!e){var n=yn(o);e={rgb:n,webgl:Cn(n,!0)},i[t]=e,o[n]=t}return e},getId:function(t){return o[t]||null}});return{dirty:function(){s=!0},debugCanvas:function(t){u=t},getShadowColourMap:function(){return c},test:function i(o,l,f,d){var h;e.webgl?h=r.drawShadowCanvas(Math.floor(o),Math.floor(l)):(s&&(u&&f.drawShadowCanvas(e,n),f.drawShadowCanvas(t,n),s=!1),h=t.getImageData(Math.floor(o),Math.floor(l),1,1).data);var p=tn(h[0],h[1],h[2]);if(p===a)return null;var v=c.getId(p);if(v)return v;if(r)return null;var g=d||1;return g>5?null:o+g>5&&l+g>5?i(o-1,l-1,f,++g):i(o+1,l+1,f,++g)}}}function Ii(t){var e=new Map;return{append:function(n,r){var i=function(t,e,n){var r=new Map,i=Gt({},t,{isStart:!0,isGroup:!0}),o=Gt({},t,{isStart:!1,isGroup:!0});return i.endMarker=o,o.startMarker=i,{insert:function(t){n.insertBefore(o,t)},getStartMarker:function(){return i},getEndMarker:function(){return o},getValue:function(){return t},getParent:function(){return e},getChildren:function(){return r}}}(n,r,t);return r?(r.getChildren().set(n.id,i),t.insertBefore(r.getEndMarker(),i.getStartMarker()),t.insertAfter(i.getStartMarker(),i.getEndMarker())):(e.set(n.id,i),t.append(i.getStartMarker()),t.append(i.getEndMarker())),i},hasPath:function(t){var n;return t.every((function(t){return!!(n=n?n.getChildren().get(t):e.get(t))}))},get:function(t){var n,r;if(!t.every((function(t){return(n=n?n.getChildren().get(t):e.get(t))&&(r=t),!!n})))throw new Error("Path not found: "+t+". Last entry: "+r);return n}}}function Li(t,e){return function(n,r,i,o,a,s,u,l,c,f,d,h,p){var v=e(c,rn.arc);v.x=n,v.y=r,v.r=i,v.startAngle=o,v.endAngle=a,v.width=l,v.lineStyle=p?"flow":f||"solid",v.colour=s,v.webglColour=Cn(s),v.colour2=u,v.webglColour2=Cn(u),v.isDonut=d,v.anchorIndex=d?0:-1,v.offset=h,v.flowVelocity=p&&p.velocity||0,t(v)}}function Ti(t,e){return function(n,r,i,o,a,s,u){var l=e(a,rn.bezier);l.bezier=n,l.width=o,l.anchorIndex=-1,l.colour=r,l.webglColour=Cn(r),l.colour2=i,l.webglColour2=Cn(i),l.lineStyle=u?"flow":s||"solid",l.flowVelocity=(null==u?void 0:u.velocity)||0,t(l)}}function Pi(t,e){return function(n,r,i,o,a,s,u,l,c,f,d){void 0===f&&(f="solid");var h=e(l,rn.circle);h.x=n,h.y=r,h.anchorIndex=c,h.r=i,h.borderWidth=a,h.isFilled=u,h.borderStyle=f,h.noMinBorderWidth=d,h.borderColour=o,h.webglBorderColour=Cn(o),h.fillColour=s,h.webglFillColour=Cn(s),t(h)}}function Oi(t,e){return function(n,r,i,o,a,s,u,l,c,f){var d=e(s,rn.image);d.x1=n,d.y1=r,d.x2=i,d.y2=o,d.anchorIndex=u,d.url=a,d.specifier=l,d.imageInflate=c,d.useHighRes=f,t(d)}}function Ri(t,e){return function(n,r,i,o,a,s,u,l,c,f){var d=e(l,rn.line);d.x1=n,d.y1=r,d.x2=i,d.y2=o,d.anchorIndex=-1,d.colour=a,d.webglColour=Cn(a),d.colour2=s,d.webglColour2=Cn(s),d.width=u,d.lineStyle=f?"flow":c||"solid",d.flowVelocity=(null==f?void 0:f.velocity)||0,t(d)}}function Bi(t,e){return function(n,r,i,o,a,s,u,l,c,f,d,h,p,v){void 0===h&&(h="solid"),void 0===v&&(v=!1);var g=e(c,rn.rect);g.x1=n,g.y1=r,g.x2=i,g.y2=o,g.cornerRadius=d,g.borderWidth=s,g.isFilled=l,g.borderStyle=h,g.rectMargins=p,g.anchorIndex=f,g.isSelectionBorder=v,g.borderColour=a,g.webglBorderColour=Cn(a),g.fillColour=u,g.webglFillColour=Cn(u),t(g)}}function zi(t,e){return function(n,r,i,o,a,s,u,l,c,f,d,h,p,v,g,m,y,b,x,w,A){void 0===x&&(x=!1);var _=e(u,rn.text);_.x=n,_.y=r,_.yOffset=0|(A||0),_.text=i,_.anchorIndex=l,_.fontSize=a,_.isBold=s,_.fontFamily=c||zn,_.wmargin=w||0,_.isCentred=f,_.textWidth=d,_.isFontIcon=h,_.isSel=x,_.fontColour=o,_.webglFontColour=Cn(o),_.x1=v,_.y1=g,_.x2=m,_.y2=y,_.back=p,_.backColour=p?b:void 0,_.webglBackColour=p?Cn(b):void 0,_.paddingFactor=.08,t(_)}}function Di(t,e){return function(n,r,i,o,a,s,u,l,c,f,d,h,p,v){void 0===v&&(v=!1);var g=e(d,rn.triangle);g.x1=n,g.y1=r,g.x2=i,g.y2=o,g.x3=a,g.y3=s,g.anchorIndex=h,g.borderWidth=l,g.isFilled=f,g.arrowhead=p,g.borderColour=u,g.webglBorderColour=Cn(u),g.fillColour=c,g.webglFillColour=Cn(c),g.borderStyle="solid",g.hiddenByGenerator=v,t(g)}}var ji=[8,16,32,64,128,256,512,1024,2048,4096];function Fi(){var t=8,e=new Float32Array(t*t),n=0;return{getData:function(){return e},add:function(){if(n+3>e.length){var r=e;t=function(t){for(var e=Math.ceil(Math.sqrt(t)),n=8,r=1,i=ji.length;r<i&&!(e<=n);r++)n=ji[r];return n}(n+3),(e=new Float32Array(t*t)).set(r)}n+=3},getUsedSize:function(){return n},getTextureSize:function(){return t}}}function Zi(t,e,n){var r,i,o,a,s,u,l,c,f,d,h=t||{},p={isContentLayer:!1,alwaysUpdate:!1},v=Ct(e,p),g=Object.keys(v),m=!1;try{var y=new Date/12636}catch(t){}function b(t,e){var n;if(m)(n=c.getNext()).type=e;else{var r=x(t);n={id:t,type:e,itemPrimitives:c,shadowColour:r.rgb,webglShadowColour:r.webgl}}return n}function x(t){return o?o.getColour(t):{rgb:"rgb(0,0,0)",webgl:[0,0,0,0]}}function w(){l=new Map,d=Fi(),l.set("_extras",Dr(d)),r=function(){var t=null,e=null;function n(t){r(e,t)}function r(n,r){if(!r||"object"!=typeof r)throw new Error("Object Required");var i=r;i._prev=n||null,n?(i._next=n._next,n._next=i):(i._next=t,t=i),i._next?i._next._prev=i:e=i}return{append:n,clear:function(){t=null,e=null},forEach:function(e){for(var n=t;n;n=n._next){var r=e(n);r&&(n=r)}},getFirst:function(){return t},getLast:function(){return e},getNext:function(t){return t._next},getPrevious:function(t){return t._prev},insertAfter:r,insertBefore:function(t,e){t?r(t._prev||null,e):n(e)},remove:function(n){var r=n;r._prev?r._prev._next=r._next:t=r._next,r._next?r._next._prev=r._prev:e=r._prev},toArray:function(){for(var e=[],n=t;n;n=n._next)e.push(n);return e}}}(),i=Ii(r)}function A(t){m||(c.add(t),s.insert(t))}function _(t){var e=l.get(t);e&&(e.forEach(r.remove),e.reset())}function k(t,e,n){var r=e[n];return t[n]!==r&&(t[n]=r,!0)}function C(){c=l.get("_extras"),m=!1}function E(t){return l.get(t)}w();var M={arc:Li(A,b),circle:Pi(A,b),image:Oi(A,b),line:Ri(A,b),rect:Bi(A,b),bezier:Ti(A,b),text:zi(A,b),triangle:Di(A,b),copyPrimitive:function(t){var e=b(t.id,t.type);q(t,(function(t,n){e[n]=t})),A(e)},createDummyShapePrimitive:function(t,e,n,r){var i,o,a,s;if("circle"===r){var u=Math.min(e,n);i=-u,o=-u,a=u,s=u}else i=-e,o=-n,a=e,s=n;var l=x(t);return{id:t,type:rn.rect,itemPrimitives:c,shadowColour:l.rgb,webglShadowColour:l.webgl,x1:i,y1:o,x2:a,y2:s,fillColour:void 0,webglFillColour:void 0,isFilled:!1,anchorIndex:0,borderColour:void 0,webglBorderColour:void 0,borderStyle:"solid",borderWidth:0}},createLayer:function(t,e){var n="";e&&(n=e.getValue().data.path+".");var r={id:t,data:Gt({path:n+=t},h[t])};return e&&(r.data=Ct(r.data,e.getValue().data)),r.data=Ct(r.data,v),r.data.bg=r.data.bg&&!r.data.perItemAlpha,i.append(r,e)},destroy:function(){l&&l.clear(),h={},p={},v={},g=[],r.clear(),i=Ii(r),o=null,s=null,u=null,l=new Map,c=null,f=null;var t=M;Object.keys(t).forEach((function(e){t[e]=void 0,delete t[e]})),M=void 0},drawShadowCanvas:function(t,e){Ci(t),Mi(M,t,t,e,{},!0,!1,null,!1,1,1,!1,void 0,a||void 0)},forEach:function(t,e,n,i){var o,a,s,u,l=Gt({},v),c={},f=130071794-y;f===Math.abs(f)&&r.forEach((function(r){if(r.isGroup){if(r.isStart){var f=r;if(i)return e(f.data);if(n&&!f.data.alwaysUpdate)return r.endMarker._prev;for(a=0,s=g.length;a<s;a++){u=g[a];var d=k(l,f.data,u);d&&(c[u]=!0),o=o||d}if(o&&f.data.isContentLayer)for(e(f.data,c),o=!1,a=0,s=g.length;a<s;a++)u=g[a],c[u]=!1}}else t(r);return!1}))},getAnchorBuffer:function(){return d},getAnchorPosition:function(t,e){return E(t).getAnchorPosition(e)},getItem:E,getLayer:function(){return s?s.getValue().id:null},getLayerAt:function(t){return i.get(t)},getLayerPath:function(){return f},hasLayerPathAt:function(t){return i.hasPath(t)},itemExtents:function(t,e){var n=null,r=[];return t&&t.size?t.forEach((function(t){var e=l.get(t);e&&r.push(e)})):l.forEach((function(t,e){"_extras"!==e&&r.push(t)})),r.forEach((function(t){n=function(t,e,n){return e.forEach((function(t){var e=t;if(!e.itemPrimitives.hiddenByGenerator&&!e.hiddenByGenerator){var r=Zn(0,e);r&&(n=n?function(t,e){return{x1:Math.min(t.x1,e.x1),y1:Math.min(t.y1,e.y1),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}}(n,r):r)}})),n}(0,t,n)})),n},removeItem:function(t){_(t),l.delete(t)},resetExtras:function(){C(),_("_extras")},setAnchorPosition:function(t,e,n,r,i){E(t).setAnchorPosition(e,n,r,i)},setHiddenByGenerator:function(){c.hiddenByGenerator=!0},setLayer:function(t){if(t){if(!(s=u?u.getChildren().get(t)||null:i.get([t])))throw new Error("Layer: "+t+" at "+f+" not found")}else s=null},setLayerPath:function(t){f=t,u=t?i.get(t):null},setShadowColourMap:function(t){o=t},setShadowCustomCanvasPrimitives:function(t){a=t},setup:w,startGeneratingForExtras:C,useItem:function(t,e){return c=E(t),m=e,c?e?c.goToBeginning():_(t):(c=Dr(d),l.set(t,c)),c}};return n&&n(A,b),M}var Ni={MAIN:"MAIN",BG:"BG",FG:"FG",COMBOS:"COMBOS",REVEALED:"REVEALED",TRANSIENT:"TRANSIENT",OVERVIEW_IMAGE:"OVERVIEW_IMAGE",COMBO_CONTAINER:"COMBO_CONTAINER",TIMEBAR:"TIMEBAR",BANDS:"BANDS",UNDERLAYS:"UNDERLAYS",SHAPES_SEL_BORDER:"SHAPES_SEL_BORDER",SHAPES:"SHAPES",HALOS:"HALOS",HANDLES:"HANDLES",NODES_SEL_BORDER:"NODES_SEL_BORDER",LINKS:"LINKS",NODES:"NODES",DRAGGERS:"DRAGGERS",BUBBLES:"BUBBLES",NODESSEL:"NODESSEL",BUBBLESSEL:"BUBBLESSEL",BANDLABELS:"BANDLABELS",OVERLAYS:"OVERLAYS",OVERLAYS_REQUIRED:"OVERLAYS_REQUIRED",OVERLAYSSHADOW:"OVERLAYSSHADOW",OVERVIEW:"OVERVIEW",OVERVIEWSHADOW:"OVERVIEWSHADOW",WAIT:"WAIT"},Vi={};Vi[Ni.COMBO_CONTAINER]=Ni.NODES_SEL_BORDER,Vi[Ni.NODES]=Ni.NODES_SEL_BORDER,Vi[Ni.SHAPES]=Ni.SHAPES_SEL_BORDER;var Gi={UNDERLAYS:{alwaysUpdate:!0,isContentLayer:!0,useView:!1,hideFromExport:!0},BANDLABELS:{alwaysUpdate:!0,isContentLayer:!0,useView:!1,hideFromExport:!0},BANDS:{alwaysUpdate:!0,isContentLayer:!0,useView:!1,hideFromExport:!0},MAIN:{overview:!0},COMBOS:{perItemAlpha:!0,overview:!0},COMBO_CONTAINER:{isContentLayer:!0,overview:!0},REVEALED:{},OVERLAYS:{shadowType:-1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERLAYS_REQUIRED:{shadowType:-1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},HANDLES:{useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERLAYSSHADOW:{shadowType:1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERVIEWSHADOW:{shadowType:1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},WAIT:{useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERVIEW:{shadowType:-1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},OVERVIEW_IMAGE:{shadowType:-1,blatOverview:!0,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!0},DRAGGERS:{alwaysUpdate:!0,isContentLayer:!0},BG:{bg:!0,overview:!1},FG:{bg:!1,overview:!0},SHAPES_SEL_BORDER:{isContentLayer:!0},NODES_SEL_BORDER:{isContentLayer:!0},LINKS:{isContentLayer:!0,newDrawCall:!0},SHAPES:{isContentLayer:!0},NODES:{isContentLayer:!0},HALOS:{isContentLayer:!0},BUBBLES:{isContentLayer:!0}},Yi=[Ni.SHAPES_SEL_BORDER,Ni.SHAPES,Ni.HALOS,Ni.NODES_SEL_BORDER,Ni.LINKS,Ni.NODES,Ni.BUBBLES],Wi={shadowType:0,bg:!1,blatOverview:!1,useView:!0,alwaysUpdate:!1,isContentLayer:!1,overview:!1,newDrawCall:!1,perItemAlpha:!1,hideFromExport:!1};function Ui(t){var e=Gi;t&&(e=Gt({},e,t));var n=Zi(e,Wi),r="COMBO_";function i(t){return 0===t.indexOf(r)}function o(t){var e=n.createLayer(Ni.BG,t);Yi.forEach((function(t){return n.createLayer(t,e)}));var r=n.createLayer(Ni.FG,t);Yi.forEach((function(t){return n.createLayer(t,r)}))}function a(){n.setup(),n.createLayer(Ni.BANDS,null),n.createLayer(Ni.UNDERLAYS,null),o(n.createLayer(Ni.MAIN,null)),n.createLayer(Ni.COMBOS,null);var t=n.createLayer(Ni.TRANSIENT,null);o(n.createLayer(Ni.MAIN,t)),n.createLayer(Ni.COMBOS,t);var e=n.createLayer(Ni.REVEALED,null);o(n.createLayer(Ni.MAIN,e)),n.createLayer(Ni.COMBOS,e),[Ni.DRAGGERS,Ni.HANDLES,Ni.BANDLABELS,Ni.OVERLAYS,Ni.OVERLAYS_REQUIRED,Ni.OVERVIEW_IMAGE,Ni.OVERVIEW,Ni.OVERLAYSSHADOW,Ni.OVERVIEWSHADOW,Ni.WAIT].forEach((function(t){n.createLayer(t,null)}))}return a(),ar(ar({},n),{createComboSegment:function(t){return r+t},createItemLayersAt:function(t){var e,r=[],a=null;t.forEach((function(t){r.push(t);var s=r;i(t)&&(s=s.concat([Ni.FG])),n.hasLayerPathAt(s)?e=n.getLayerAt(r):(e=n.createLayer(t,a),n.createLayer(Ni.COMBO_CONTAINER,e),o(e)),a=e}))},destroy:function(){n.destroy(),n=null},hasPath:n.hasLayerPathAt,removeAllItems:a,setNodeAnchorPosition:function(t,e,r){n.setAnchorPosition(t.id,e,r,0,0),t._sx=e,t._sy=r},setShadowColourMap:function(t){n.setShadowColourMap(t),a()},startGeneratingFor:function(t,e,r){var i=n.useItem(t.id,e);i.hiddenByGenerator=!1,i.gh=!!t.gh,i.bg=r&&!!t.bg,i.isHitTested=!t._disableHitTesting}})}var Xi="_combolink_",Hi={small:6,normal:10,large:20,xlarge:30};function Ki(t,e,n,r){return e*(1.7*t+n*(dt(Hi[r])?Hi[r]:Hi.normal))}var Qi=Math.PI/7,Ji=Math.cos(Qi);function qi(t,e,n,r){return Ji*Ki(t,e,n,r)}function $i(t,e,n,r,i,o,a,s,u,l,c){var f=Ki(r,i,l,c.arrows),d=o+Math.PI;t.triangle(e+f*Math.cos(d+Qi),n+f*Math.sin(d+Qi),e+f*Math.cos(d-Qi),n+f*Math.sin(d-Qi),e,n,a,-1,a,!0,s,-1,u)}function to(t){return Math.abs(t)<1e-5}function eo(t){return t&&t.length>0&&Array.isArray(t)}function no(t){return eo(t.g)}function ro(t){return Fc(t)||t._combo&&t._combo.open}function io(t){return t._combo&&t._combo.open}function oo(){return new Float32Array(6)}var ao=function(t,e,n,r){if(!e)return t[0]=-n,t[1]=-r,t[2]=n,t[3]=r,t[4]=0,t[5]=0,t;t[4]=e.dx/100*n,t[5]=e.dy/100*r;var i=e.e*n,o=e.e*r;return t[0]=t[4]-i,t[1]=t[5]-o,t[2]=t[4]+i,t[3]=t[5]+o,t};function so(t,e){return t.oc&&(void 0===t.oc.bw?e.defaultOpenComboStyle.bw:t.oc.bw)||0}function uo(t,e,n,r){var i,o=t.getLayerPath(),a=t.getLayer();e&&(n.isRevealed&&(n.isParentRevealed||(i=o.slice(1)),n.isParentTransient&&(i||(i=o.slice(0)),i.unshift(Ni.TRANSIENT))),!n.isTransient||n.isInCombo&&n.isParentTransient||(i=o.slice(1)),n.isOpenCombo&&((i=(i=i||o).slice(0,i.length-1))[i.length-1]===Ni.COMBOS&&(i[i.length-1]=Ni.MAIN),i.push(n.isInBackground?Ni.BG:Ni.FG)),i&&(t.hasPath(i)||t.createItemLayersAt(i),t.setLayerPath(i)),t.setLayer(e)),r(),e&&(t.setLayerPath(o),t.setLayer(a))}function lo(t){return!!t.r}function co(t,e,n,r,i,o,a){var s=o-r,u=a-i;return{x:(s*n-u*e)/t,y:(s*e+u*n)/t}}function fo(t,e,n,r,i,o,a,s,u,l){var c=co(e,n,r,i,o,a,s),f=co(e,n,r,i,o,u,l);if(c.y>t&&f.y>t||c.y<-t&&f.y<-t)return-1/0;if(to(f.y-c.y))return Math.max(c.x,f.x);var d,h,p=c.y>f.y?c:f,v=c.y>f.y?f:c;return(d=t<p.y?p.x-(p.y-t)*(p.x-v.x)/(p.y-v.y):p.x)>(h=v.y<-t?v.x-(v.y- -t)*(v.x-p.x)/(v.y-p.y):v.x)?d:h}function ho(t,e,n,r,i,o,a,s){void 0===a&&(a=0),void 0===s&&(s=0);var u=r.x1+i-a,l=r.y1+o-s,c=r.x2+i-a,f=r.y2+o-s,d=[fo(0,t,e,n,i,o,u,l,c,l),fo(0,t,e,n,i,o,c,l,c,f),fo(0,t,e,n,i,o,c,f,u,f),fo(0,t,e,n,i,o,u,f,u,l)].filter((function(t){return t>=0}));if(1===d.length)return d[0];if(2===d.length){var h=Math.max(d[0],d[1]);if(h<=1)return h}return-1/0}function po(t,e,n,r,i,o,a){var s=i.x1+o,u=i.y1+a,l=i.x2+o,c=i.y2+a,f=t/e/2;return Math.max(fo(f,e,n,r,o,a,s,u,l,u),fo(f,e,n,r,o,a,l,u,l,c),fo(f,e,n,r,o,a,l,c,s,c),fo(f,e,n,r,o,a,s,c,s,u))}function vo(t,e,n,r,i,o){var a=-1/0,s=t*t,u=-2*t*(i*n-o*e),l=u*u-4*s*(i*i+o*o-r*r);return l>=0&&(a=(-u+Math.sqrt(l))/(2*s)),a}function go(t,e,n,r,i,o,a){var s=0;return r&&(s=r/e),s>1||i&&(s=Math.max(s,function(t,e,n,r,i,o){for(var a,s=-1/0,u=Math.sin(-n),l=Math.cos(-n),c=0;c<r.length;c++){var f=r[c];if((a=lo(f)?vo(e,u,l,f.r,f.cx,f.cy):po(t,e,u,l,f,i,o))>1)return a;s=Math.max(s,a)}return s}(t,e,n,i,o,a))),s}function mo(t,e,n,r,i,o,a,s,u,l){var c=-1/0;return r&&r>l&&(c=vo(t,e,n,r-l,-s,-u)),c>1||i&&(c=Math.max(c,function(t,e,n,r,i,o,a,s,u){for(var l,c=-1/0,f=0;f<r.length;f++){var d=r[f];if(lo(d))d.r>u&&(l=vo(t,e,n,d.r-u,d.cx-a,d.cy-s));else{var h=ho(t,e,n,d,i,o,a,s);h>0&&(l=h)}if(l){if(l>1)return l;c=Math.max(c,l)}}return c}(t,e,n,i,o,a,s,u,l))),c}var yo=9007199254740,bo={xs:[0,0,0,0],ys:[0,0,0,0],midpoint:.5,joinFraction:1};function xo(t,e,n,r,i,o,a,s,u,l,c,f,d,h){t.setHiddenByGenerator();var p=nn.Line;"arc"===l?(t.arc(0,0,0,0,0,a,s,u,e,c,!1,f,d),p=nn.Arc):"bezier"===l?(t.bezier(bo,a,s,u,e,c,d),p=nn.Bezier):t.line(0,0,0,0,a,s,u,e,c,d),n&&t.triangle(0,0,0,0,0,0,a,-1,a,!0,e+"\u2704a1",-1,p),r&&t.triangle(0,0,0,0,0,0,s||a,-1,s||a,!0,e+"\u2704a2",-1,p),h&&(h.pos.t.lx=(i._sx+o._sx)/2,h.pos.t.ly=(i._sy+o._sy)/2),t.setAnchorPosition(e,yo,yo,0,0),t.setAnchorPosition(e,yo,yo,0,1),t.setAnchorPosition(e,yo,yo,0,2)}function wo(t,e,n){var r,i,o=ro(t);return e&&n.selectedNode?(r=n.selectedNode.b||t.b,i=n.selectedNode.c||t.c):(r=t.b,i=t.c),!(!r&&!i||o)}var Ao={t:.5,t1:.15,t2:.85},_o=Math.PI/2;function ko(t){var e=t;return(e>_o+.01||e<.01-_o)&&(e+=Math.PI),e}function Co(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,v,g,m,y,b,x,w,A){var _=!0,k=p,C=g;0===n.length&&(_=!1);for(var E=o+"\u2704"+(y||"t");f&&k>h;)k=ir(t,n,C*=.85,l,m).width;var M,S=4*x*b,I=r-k/2,L={x1:I-S,y1:(M=d?i+(b||1)+C/2:i+(1+C)/2)-C,x2:I+k+S,y2:M};if(_){var T=d?w.labelOffset:0;e.text(r,(L.y1+L.y2)/2,n,s,C,l,E,A,m,!0,k,!1,a,L.x1,L.y1,L.x2,L.y2,u,v,S,T)}return c&&function(t,e,n,r,i){if(t._edit){t._edit.hib=!1;var o=t._edit;o.x1=Math.min(o.x1,e.x1),o.x2=Math.max(o.x2,e.x2),o.y1=Math.min(o.y1,e.y1),o.y2=Math.max(o.y2,e.y2)}else t._edit={fs:n,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,hib:!1};var a=t;i.avoidLabels&&r&&a._cl&&a._cl.push(e)}(c,L,C,_,w),_}function Eo(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p){void 0===p&&(p=i);var v={},g=n-t,m=r-e,y=Math.sqrt(g*g+m*m);if(to(y))v.skip=!0;else{var b=Math.atan2(m,g),x=go(h.tight&&u&&p!==i?0:i,y,b,a._c,a._cl,t,e),w=go(h.tight&&l&&p!==i?0:i,y,b+Math.PI,s._c,s._cl,n,r),A=c||0,_=f||0,k=1-((x=Math.max(A,x))+(w=Math.max(_,w))),C=0;(u||l)&&(C=qi(i,o,d.unzoom,h.arrows)/y,u&&l&&(C*=1.5)),v.skip=k<Math.max(Math.min(6/y,.1),C),v.skip||(v.cx1=t+x*g,v.cy1=e+x*m,v.cx2=n+w*-g,v.cy2=r+w*-m)}return v}function Mo(t,e,n,r,i,o){var a=t,s=e,u=Math.ceil(o/8),l=Yt(a,s,n,r);return{x:a+=(a-n)/l*(u-i),y:s+=(s-r)/l*(u-i)}}function So(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,v,g,m,y,b){void 0===y&&(y=!0),void 0===b&&(b=c);var x=Eo(a._sx,a._sy,s._sx,s._sy,b,f,a,s,e,n,r,i,g,m);if(x.skip)return xo(t,o,e,n,a,s,u,l,c,"straight",d,0,p,v),!1;var w,A=x.cx1,_=x.cy1,k=x.cx2,C=x.cy2,E=k-A,M=C-_,S=0,I=0,L=0,T=0,P=0,O=0,R=0;(e||n)&&(R=qi(c,f,g.unzoom,m.arrows));var B,z=0,D=0,j=0,F=!1,Z=!1,N=!1,V=!1,G=!1,Y=y&&e,W=y&&n;if(m.tight&&(e||(Z=wo(a,h,m),V=io(a),F=Z||V),n||(N=wo(s,h,m),G=io(s),F=F||N||G),F)){var U=Math.max(.001,M*M+E*E),X=Math.sqrt(U);z=E/X,D=M/X,j=.25*b}if(e?(S=Math.atan2(M,E),L=A,T=_,w=Mo(A,_,k,C,R,c),A=w.x,_=w.y):m.tight&&Z?(A-=j*z,_-=j*D):m.tight&&V&&(B=so(a,m),A-=z*B,_-=D*B),n?(I=Math.atan2(M,E),P=k,O=C,w=Mo(k,C,A,_,R,c),k=w.x,C=w.y):m.tight&&N?(k+=j*z,C+=j*D):m.tight&&G&&(B=so(s,m),k+=z*B,C+=D*B),t.line(A,_,k,C,u,l,c,o,d,p),Y&&$i(t,L,T,c,f,S+Math.PI,u,o+"\u2704a1",nn.Line,g.unzoom,m),W&&$i(t,P,O,c,f,I,l||u,o+"\u2704a2",nn.Line,g.unzoom,m),v){var H=0,K=0;m.labelAlongLink&&(K=ko(K=+Math.atan2(s.y-a.y,s.x-a.x).toFixed(14))),q(v.pos,(function(e,n){if("t"===n||v.present[n]){var r=Ao[n];if(e.lx=A+r*(k-A),e.ly=_+r*(C-_),m.glyphsAlongLink){var i=s._sx-a._sx,u=s._sy-a._sy;0===i&&0===u&&(i=1,u=-1);var l=Wt(i,u);e.tdx=i/l,e.tdy=u/l,e.tangent=Math.atan2(u,i),e.R=0}t.setAnchorPosition(o,e.lx,e.ly,K,H)}H++}))}return!0}function Io(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,v,g,m,y,b,x){void 0===b&&(b=!0),void 0===x&&(x=c);var w=a._sx,A=a._sy,_=s._sx,k=s._sy,C=mi(a,s),E=x+1;if(Eo(w,A,_,k,x,f,a,s,!1,!1,0,0,g,m).skip||r+i>1)return xo(t,o,e,n,a,s,u,l,c,"bezier",d,y,p,v),!1;var M=function(t,e,n,r,i,o){var a=n-t,s=r-e,u="horizontal"===i?Math.min(.5+45/Math.abs(a)*Math.min(Math.abs(s)/80,1),1)*a:0,l="vertical"===i?Math.min(.5+45/Math.abs(s)*Math.min(Math.abs(a)/80,1),1)*s:0,c=[t,t+u,n-u,n],f=[e,e+l,r-l,r];if(0!==o){c=hi(c,.5);for(var d=(f=hi(f,.5))[4]-f[2],h=c[2]-c[4],p=Yt(d,h,0,0),v=d/p,g=h/p,m=.45*o,y=2;y<=4;y++)c[y]+=v*m,f[y]+=g*m}return{xs:c,ys:f}}(w,A,_,k,m.linkStylePath,y),S=M.xs,I=M.ys,L=r||i?(s.x-a.x)/C:0,T=r||i?(s.y-a.y)/C:0,P=Math.max(r*C-.5*E,0),O=Math.max(i*C-.5*E,0);7===S.length&&(To(S[3],I[3],a,E,P,L,T)?(S.splice(0,3),I.splice(0,3)):To(S[3],I[3],s,E,O,-L,-T)&&(S.splice(4,3),I.splice(4,3)));var R=[],B=function(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,v){var g=4===t.length?li:ci,m=o?a:0,y=[0],b=[0],x=Ro(t,e,n,d,g,i?a:0,s,l,c,h,v,y),w=x?Ro(t.reverse(),e.reverse(),r,d,g,m,u,-l,-c,p,v,b):void 0;if(w&&x&&!(w.t+x.t>=50/g.num)){var A=function(t,e,n,r,i,o,a){for(var s=51-i.length,u=r.length-1;u<s;u++){var l=n.segmentDelta(u,t),c=n.segmentDelta(u,e);r.push(r[u]+Math.sqrt(l*l+c*c))}for(var f=i.length-1,d=r[u]+i[f--];f>=0;f--)r.push(d-i[f]);var h=o*n.num|0,p=o*n.num-h,v=pi(r[h],r[h+1],p),g=oi-a*n.num|0,m=oi-a*n.num-g,y=g<oi?pi(r[g],r[g+1],m):r[oi],b=.5*(y-v)+v;for(u=25;r[u]>b;)u--;for(;r[u]<b;)u++;var x=(r[u]-b)/(r[u]-r[u-1]),w=h<=n.num&&g>n.num?(r[n.num]-v)/(y-v):0;return{midpoint:(u-x)/n.num,joinFraction:w}}(t,e,g,b,y,w.t,x.t),_=A.midpoint,k=A.joinFraction,C=function(t,e,n,r,i){var o=4===t.length?1:2,a=i,s=n,u=r;s>1&&(t.splice(0,3),e.splice(0,3),o=1,s-=1,a-=1);for(var l=hi(t,s),c=hi(e,s),f=0;f<4;f++)t[f]=l[f+3],e[f]=c[f+3];t.reverse(),e.reverse(),a=o-a,1===o?(u/=1-s,a/=1-s):a>1&&(a=1+(a-1)/(1-s));u>1&&(t.splice(0,3),e.splice(0,3),o=1,u=(u-1)/(1-s));for(l=hi(t,u),c=hi(e,u),f=0;f<4;f++)t[f]=l[f+3],e[f]=c[f+3];if(a<1&&(a=(a-u)/(1-u)),2===o){var d=function(t,e){var n=yi(t[0],e[0],t[3],e[3]),r=yi(t[3],e[3],t[6],e[6]);if(n<r/2500)return t.splice(1,3),e.splice(1,3),1;if(r<n/2500)return t.splice(3,3),e.splice(3,3),2;return 0}(t,e);d&&(a=1===d?Math.max(0,a-1):Math.min(1,a))}return a}(t,e,w.t,x.t,_),E=i&&o;if(E||!function(t,e,n,r,i,o){var a=Yt(t,e,n,r)-2*o;return Math.min(6,.1*i)>a}(x.x,x.y,w.x,w.y,f,d)){if(i||o){var M=v[0]||x,S=v[1]||w;if(function(t,e,n,r,i,o){return(i?1.5*o:o)>Yt(t,e,n,r)}(M.x,M.y,S.x,S.y,E,a))return}return t[0]=x.x,e[0]=x.y,t.splice(-1,1,w.x),e.splice(-1,1,w.y),{joinFraction:1-k,midpoint:C}}}}(S,I,a,s,e,n,b?qi(c,f,g.unzoom,m.arrows):0,P,O,L,T,C,E,Lo(m,a,e,h,E),Lo(m,s,n,h,E),R);if(!B)return xo(t,o,e,n,a,s,u,l,c,"bezier",d,y,p,v),!1;var z=B.midpoint,D={xs:S,ys:I,midpoint:z,joinFraction:B.joinFraction};return t.bezier(D,u,l,c,o,d,p),R[0]&&$i(t,R[0].x,R[0].y,c,f,R[0].angle,u,o+"\u2704a1",nn.Bezier,g.unzoom,m),R[1]&&$i(t,R[1].x,R[1].y,c,f,R[1].angle,l||u,o+"\u2704a2",nn.Bezier,g.unzoom,m),v&&Po(t,o,S,I,4===S.length?1:2,z,v,m),!0}function Lo(t,e,n,r,i){if(t.tight&&!n){if(wo(e,r,t))return i;if(io(e))return so(e,t)}return 0}function To(t,e,n,r,i,o,a){var s=Yt(n.x,n.y,t,e),u=Math.atan2(e-n.y,t-n.x),l=(t-n.x)*o+(e-n.y)*a;return go(0,s+r,u,n._c,[],n.x,n.y)>1||i>0&&l<i}function Po(t,e,n,r,i,o,a,s){var u=0,l=s.labelAlongLink?function(s,l){if("t"===l||a.present[l]){var c=di(i,o,Ao[l]),f=0;s.lx=fi(vi,n,c),s.ly=fi(vi,r,c);var d=fi(gi,n,c),h=fi(gi,r,c);0!==(f=Math.atan2(h,d))&&(f=ko(f=+f.toFixed(14))),t.setAnchorPosition(e,s.lx,s.ly,f,u)}u++}:s.glyphsAlongLink?function(s,l){if("t"===l||a.present[l]){var c=di(i,o,Ao[l]);s.lx=fi(vi,n,c),s.ly=fi(vi,r,c);var f=fi(gi,n,c),d=fi(gi,r,c),h=Yt(f,d,0,0);s.tdx=f/h,s.tdy=d/h,s.tangent=Math.atan2(d,f),s.R=0,t.setAnchorPosition(e,s.lx,s.ly,0,u)}u++}:function(s,l){if("t"===l||a.present[l]){var c=di(i,o,Ao[l]);s.lx=fi(vi,n,c),s.ly=fi(vi,r,c),t.setAnchorPosition(e,s.lx,s.ly,0,u)}u++};q(a.pos,l)}function Oo(t,e,n,r,i,o,a,s,u,l,c,f,d,h){var p=mo(l,-c,f,t,e,d.x+o,d.y+a,o,a,h);if(p>1||0===n)return p;var v=o*r+a*i,g=s*r+u*i;return Math.max(p,(n-v)/g)}function Ro(t,e,n,r,i,o,a,s,u,l,c,f){for(var d,h,p,v,g,m,y,b,x,w=function(t){var e=t._c||0;return(t._cl||[]).reduce((function(t,e){return lo(e)?(t.x1=Math.min(t.x1,e.cx-e.r),t.y1=Math.min(t.y1,e.cy-e.r),t.x2=Math.max(t.x2,e.cx+e.r),t.y2=Math.max(t.y2,e.cy+e.r),t):(t.x1=Math.min(t.x1,e.x1),t.y1=Math.min(t.y1,e.y1),t.x2=Math.max(t.x2,e.x2),t.y2=Math.max(t.y2,e.y2),t)}),{x1:-e,y1:-e,x2:e,y2:e})}(n),A=!0,_=t[0]-n.x,k=e[0]-n.y,C=n._cl&&n._cl.length>0?function(){return m>1||Oo(0,[w],a,s,u,_,k,d,h,p,v,g,n,0)>1}:function(){return m>1},E=0;E<oi&&(A||y);E++){if(d=i.segmentDelta(E,t),h=i.segmentDelta(E,e),p=Math.sqrt(d*d+h*h),v=h/p,g=d/p,A&&((m=Oo(n._c,n._cl,a,s,u,_,k,d,h,p,v,g,n,l))<0&&!b&&!y&&(m=0),m>=0&&m<=1&&(o>0?(b=void 0,x=void 0,y={cx:_+m*d,cy:k+m*h,r:Math.max(o-r,2*o/3)}):b={x:n.x+_+m*d,y:n.y+k+m*h,t:(E+m)/i.num}),C()||(A=!1)),y&&(m=Oo(0,[y],a,s,u,_,k,d,h,p,v,g,n,0))>=0&&m<=1){var M=n.x+y.cx,S=n.y+y.cy;b={x:n.x+_+m*d,y:n.y+k+m*h,t:(E+m)/i.num},x={x:M,y:S,angle:Math.atan2(S-b.y,M-b.x)},y=void 0}f[E+1]=f[E]+p,_+=d,k+=h}return c.push(x),b}function Bo(t){return"b"in t?t.b:$e.keyline}function zo(t){var e=9;return Bo(t)&&(e+=1),t.e&&(e*=t.e),e}function Do(t){return zo(t)+3}function jo(t,e){return zo(t)+1+zo(e)}var Fo=oo();function Zo(t,e){return Yt(t,e,0,0)}function No(t,e,n,r,i,o,a,s,u,l,c,f){t.rect(o-s,a-s,o+s,a+s,$e.transparent,-1,$e.transparent,!0,r,i,0);var d=2*s,h=ir(n,u,d,!1,c||e.fontFamily,!0),p=Zo(h.width,h.height),v=d-(p-d)/2;p=Zo((h=ir(n,u,v,!1,c||e.fontFamily,!0)).width,h.height);var g=f.getImage(u);ao(Fo,g,s,s);var m=g?g.e:1,y=v*m,b=.8333333333333334*s*m,x=o-b+Fo[4],w=a-b+Fo[5],A=o+b+Fo[4],_=a+b+Fo[5],k=o+Fo[4],C=a+Fo[5];t.text(k,C,u,l,y,!1,r,i,c,!0,p,!0,!1,x,w,A,_)}var Vo=oo(),Go=[12,9,7,7];function Yo(t,e,n,r){t._cl.push({cx:e,cy:n,r:r})}function Wo(t,e,n,r,i,o,a,s,u,l,c,f,d,h){var p=r,v=i,g=o,m=0;if(a&&!(s&&s._combo&&s._combo.open)){a.e&&(g*=a.e);var y=a.a?c.easingValue:1,b=9*g*y,x=Bo(a),w=x?2*g:-1,A=!!(a.u||a.fi&&a.fi.t);m=b+(x?w/2:0);var _=s&&!dt(a.r);if(a.c){if(a.t){var k=!Mt(a,"fb")||a.fb,C=a.fc||$e.white,E=a.ff||f.fontFamily,M=void 0,S=void 0,I=void 0,L=void 0;if(a.w&&l){M=g*Go[1]*y,S=ir(e,I=(""+a.t).substring(0,25),M,k,E).width;var T=(L=Math.max(S,b))+b,P=void 0,O=void 0;switch(u){case"left":P=(O=p+b)-T,p=O-T/2;break;case"centre":P=p-T/2,O=p+T/2;break;default:O=(P=p-b)+T,p=P+T/2}var R=v-b,B=v+b;t.rect(P,R,O,B,x,w,a.c,!0,n,d,b),_&&(Yo(s,P+b,v,m),Yo(s,O-b,v,m),function(t,e,n,r,i){t._cl.push({x1:e,x2:r,y1:n,y2:i})}(s,P+b,R-w/2,O-b,B+w/2))}else t.circle(p,v,b,x,w,a.c,!0,n,d,void 0,!1),S=ir(e,I=(""+a.t).substring(0,4),M=g*Go[I.length-1]*y,k,E).width,L=1.7*b,_&&Yo(s,p,v,m);Co(e,t,I,p,v,n,!1,C,$e.white,k||!1,null,!0,!1,L,S,!1,M,E,null,1,c.unzoom,f,d)}else if(t.circle(p,v,b,x,w,a.c,!0,n,d,void 0,!1),_&&Yo(s,p,v,m),A){var z=b/1.41421;if(a.u){var D=h.getImage(a.u);ao(Vo,D,z,z),t.image(p+Vo[0],v+Vo[1],p+Vo[2],v+Vo[3],a.u,n,d,null,0,!1)}else No(t,f,e,n,d,p,v,z,a.fi.t,a.fi.c||$e.black,a.fi.ff||f.iconFontFamily,h)}}else if(A)if(_&&Yo(s,p,v,b),a.u){var j=1,F=0,Z=0;(D=h.getImage(a.u))&&(j=D.e,F=D.dx/100*b,Z=D.dy/100*b),t.image(p-b*j+F,v-b*j+Z,p+b*j+F,v+b*j+Z,a.u,n,d,null,0,!1)}else No(t,f,e,n,d,p,v,b,a.fi.t,a.fi.c||$e.black,a.fi.ff||f.iconFontFamily,h);a.a&&c.stillDirty.set(Pt(n),2)}return m}function Uo(t,e,n,r,i){var o=e;return""===o||o||(o=t.t||""),o?(function(t,e,n,r,i){return!!n&&!function(t){return"node"!==t.type&&"link"!==t.type}(t)&&i.unicodeAwareLength(e)>n&&!function(t,e){return!(!e||e!==t)}(t.id,r)}(t,o,n,r,i)&&(o=i.unicodeAwareTruncate(o,n-3)+"..."),o.split(/\r\n|\r|\n/)):[""]}function Xo(t,e,n,r,i,o){for(var a=[],s=0;s<t.length;s++)a[s]=ir(e,t[s],n,r,i||o).width;return a}function Ho(t,e,n,r,i,o,a,s,u,l,c,f,d,h){var p=i*s.unzoom;if(o.t){var v=0,g=0,m=t.getLayer();a||t.setLayer(Ni.BUBBLES);var y=o.p?""+o.p:"ne",b="w"===y.substring(1,2),x="s"===y.substring(0,1),w=n+"\u2704bu",A=+(o.fs?o.fs:f)*p,_=o.b?o.b:$e.keyline,k=o.c?o.c:$e.white,C=o.fc?o.fc:$e.black,E=Uo(o,null,u.truncateLabel,l.showFullLabel||null,c),M=A+3*p,S=M*E.length,I=Xo(E,e,A,!!o.fb,o.ff,u.fontFamily),L=function(t){for(var e=0,n=0;n<t.length;n++)e=Math.max(e,t[n]);return e}(I),T=13*p,P=6*p,O=2*i,R=9*p,B=13*p,z=10*p,D=r+B,j=S+2*P,F=2*p,Z=Math.max(F/2,1),N=3*p;o.g&&delete o.g.e;var V=o.g?17*p:0;b&&(v-=L+2*O+2*T+V),x&&(g+=(A+3)*E.length+2*D+2*P);var G=v+O+.5,Y=v+O+2*T+L+V+.5,W=g-D-j+.5,U=g-D+.5;t.rect(G,W,Y,U,_,F,k,!0,w,d,8*p),Wo(t,e,w,v+V,(W+U)/2,p,o.g,null,null,!1,s,u,d,h);var X=W-.5+P+M/2,H=G+T+V-.5,K=void 0;for(K=0;K<E.length;K++){var Q=I[K];t.text(H,X,E[K],C,A,!!o.fb,w,d,o.ff||u.fontFamily,!1,Q,!1,!1,H-1.5,X-A/2,Y,U),X+=M}b&&(G=Y,R=-R,z=-z,Z=-Z),x&&(U=W,B=-B,N=-N),t.triangle(G+R,U,G+R+z,U,G+R,U+B,_,F,k,!0,w,d,nn.None),t.triangle(G+R+Z,U-N,G+R+z+Z,U-N,G+R+Z,U+B-N,_,-1,k,!0,w,d,nn.None),t.setLayer(m)}}function Ko(t,e,n,r,i,o){var a=r-e;if(Math.abs(a)>n)return[];var s=Math.max(i,o),u=Math.min(i,o);if(s<t-n||t+n<u)return[];var l=Math.asin(a/n),c=n*Math.cos(l),f=[];return u<=t-c&&t-c<=s&&f.push(a>0?Math.PI-l:-Math.PI-l),u<=t+c&&t+c<=s&&f.push(l),f}function Qo(t,e,n,r,i,o){var a=r-t;if(Math.abs(a)>n)return[];var s=Math.max(i,o),u=Math.min(i,o);if(s<e-n||e+n<u)return[];var l=Math.acos(a/n),c=n*Math.sin(l),f=[];return u<=e-c&&e-c<=s&&f.push(-l),u<=e+c&&e+c<=s&&f.push(l),f}function Jo(t,e,n,r,i,o){var a=Ko(t,e,n,r.y2+o,r.x1+i,r.x2+i),s=Ko(t,e,n,r.y1+o,r.x1+i,r.x2+i),u=Qo(t,e,n,r.x1+i,r.y1+o,r.y2+o),l=Qo(t,e,n,r.x2+i,r.y1+o,r.y2+o);return a.concat(s,l,u)}function qo(t,e,n,r,i,o){var a=r-t,s=i-e,u=Math.sqrt(a*a+s*s);if(u>n+o||u<Math.abs(n-o)||0===u)return[];var l=n*n,c=(l-o*o+u*u)/(2*u),f=Math.sqrt(l-c*c),d=t+c*a/u,h=e+c*s/u,p=f*(a/u),v=f*(s/u),g=d+v,m=d-v,y=h-p,b=h+p;return[Math.atan2(y-e,g-t),Math.atan2(b-e,m-t)]}function $o(t,e,n,r,i){for(var o=Math.PI,a=t,s=0;s<e.length;s++)e[s]+2*Math.PI<r&&(e[s]+=2*Math.PI),n<e[s]&&e[s]<r&&(i?e[s]-a<o&&(a=Math.max(a,e[s])):a-e[s]<o&&(a=Math.min(a,e[s])));return a}function ta(t,e,n,r,i,o,a){var s=a?r:i,u=o._sx,l=o._sy;if(o._c&&(s=$o(s,qo(t,e,n,u,l,o._c),r,i,a)),o._cl)for(var c=0;c<o._cl.length;c++){var f=o._cl[c];s=$o(s,lo(f)?qo(t,e,n,u+f.cx,l+f.cy,f.r):Jo(t,e,n,f,u,l),r,i,a)}return s}function ea(t,e,n,r,i,o,a,s){var u=t+n*Math.cos(r),l=e+n*Math.sin(r),c=t+n*Math.cos(i),f=e+n*Math.sin(i);if(lo(s)){var d=o+s.cx,h=a+s.cy,p=Yt(u,l,d,h),v=Yt(c,f,d,h);if(p<=s.r+4&&v<=s.r+4)return!0}else{var g=o+s.x1-4,m=o+s.x2+4,y=a+s.y1-4,b=a+s.y2+4;if(g<=u&&u<=m&&y<=l&&l<=b&&g<=c&&c<=m&&y<=f&&f<=b)return!0}return!1}function na(t,e,n,r,i,o){var a=o.x,s=o.y;if(o._c&&ea(t,e,n,r,i,a,s,{cx:0,cy:0,r:o._c}))return!1;if(o._cl)for(var u=0;u<o._cl.length;u++)if(ea(t,e,n,r,i,a,s,o._cl[u]))return!1;return!0}var ra=2*Math.PI;function ia(t,e,n,r,i,o,a,s,u,l,c,f,d){var h=qo(i,o,qi(s,u,f,d.arrows),e,n,r);2===h.length?$i(t,i,o,s,u,(a?h[0]:h[1])-Math.PI,l,c,nn.Arc,f,d):t.triangle(0,0,0,0,0,0,l,-1,l,!0,c,-1,nn.Arc,!0)}function oa(t,e,n,r,i){return.9*qi(t,e,r,i)/n}function aa(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,v,g,m,y,b,x){void 0===b&&(b=!0),void 0===x&&(x=f);var w=s===u,A=s._sx,_=s._sy,k=u._sx,C=u._sy,E=r||0,M=i||0,S=+(o||0)*d;w&&(S+=34*s._sl.e);var I=S>0;if(w){var L=(s._sl.w?180:225)*(Math.PI/180),T=Math.cos(L),P=Math.sin(L);k=A+=s._sl.x,C=_+=s._sl.y;var O=34*-s._sl.e/2;A+=T*O+.5*P,_+=P*O-.5*T,k+=T*O-.5*P,C+=P*O+.5*T}var R=(A+k)/2,B=(_+C)/2,z=k-A,D=C-_,j=Math.max(.001,D*D+z*z),F=Math.sqrt(j),Z=+(j/4+S*S)/(2*Math.abs(S)),N=Z-Math.abs(S);if(Z>1e5)return m.useSlowPathRendering=!0,m.useSlowPathRenderingLastTime=!0,So(t,e,n,E,M,a,s,u,l,c,f,d,h,p,v,g,m,y);var V=I?1:-1,G=R-D*V*N/F,Y=B+z*V*N/F,W=Math.atan2(_-Y,A-G),U=Math.atan2(C-Y,k-G),X=I?W:U,H=I?U:W;X>H&&(H+=2*Math.PI);var K,Q,J,$,tt,et,nt=X+(I?E:M)*(H-X),rt=X+(I?1-M:1-E)*(H-X),it=ta(G,Y,Z,X,H,S>0?s:u,!0),ot=ta(G,Y,Z,it,H,S>0?u:s,!1),at={startangle:0,endangle:0};if(s===u||na(G,Y,Z,it,ot,s)&&na(G,Y,Z,it,ot,u)?(at.startangle=it,at.endangle=ot):(at.startangle=ra,at.endangle=ra),at.startangle=Math.max(nt,at.startangle),at.endangle=Math.min(rt,at.endangle),at.startangle>=at.endangle)return xo(t,a,e,n,s,u,l,c,f,"arc",h,S,v,g),!1;var st,ut,lt,ct=0;if((e||n)&&(ct=oa(f,d,Z,m.unzoom,y.arrows)),y.tight&&(!e||!n)){if(io(s)||io(u)){var ft=at.endangle-at.startangle;st=ft/(ft*Z)}(wo(s,p,y)||wo(u,p,y))&&(ct=oa(x,d,Z,m.unzoom,y.arrows))}var dt=b&&e,ht=b&&n;if(e?(K=I?at.startangle:at.endangle,Q=G+Z*Math.cos(K),J=Y+Z*Math.sin(K),I?at.startangle+=ct:at.endangle-=ct):y.tight&&(wo(s,p,y)?I?at.startangle+=-.25*ct:at.endangle-=-.25*ct:io(s)&&(ut=so(s,y))&&(lt=ut*st,I?at.startangle-=lt:at.endangle+=lt)),n?($=I?at.endangle:at.startangle,tt=G+Z*Math.cos($),et=Y+Z*Math.sin($),I?at.endangle-=ct:at.startangle+=ct):y.tight&&(wo(u,p,y)?I?at.endangle-=-.25*ct:at.startangle+=-.25*ct:io(u)&&(ut=so(u,y))&&(lt=ut*st,I?at.endangle+=lt:at.startangle-=lt)),at.startangle>=at.endangle)return xo(t,a,e,n,s,u,l,c,f,"arc",h,S,v,g),!1;if(t.arc(G,Y,Z,at.startangle,at.endangle,l,c,f,a,h,!1,S,v),dt&&ia(t,G,Y,Z,Q,J,I,f,d,l,a+"\u2704a1",m.unzoom,y),ht&&ia(t,G,Y,Z,tt,et,!I,f,d,c||l,a+"\u2704a2",m.unzoom,y),g){var pt=0,vt=0;q(g.pos,(function(e,n){if("t"===n||g.present[n]){var r=V>0?at.startangle:at.endangle,i=r+((V>0?at.endangle:at.startangle)-r)*Ao[n];e.lx=G+Z*Math.cos(i),e.ly=Y+Z*Math.sin(i),y.glyphsAlongLink&&(e.tdx=-V*Math.sin(i),e.tdy=V*Math.cos(i),e.tangent=i,e.R=Z,e.signf=V),y.labelAlongLink&&(i>ra&&(i%=ra),vt=ko(vt=+((i-Math.PI/2)*V).toFixed(14))),t.setAnchorPosition(a,e.lx,e.ly,vt*V,pt)}pt++}))}return!0}var sa=Math.PI/256;function ua(){var t=new Map;function e(e){var n=t.get(e);return n||(n=ce(le(e)),t.set(e,n)),n}return{destroy:function(){t=null},unicodeAwareCharacters:e,unicodeAwareLength:function(t){return e(t).length},unicodeAwareTruncate:function(t,n){return e(t).slice(0,Math.max(n,0)).join("")}}}var la={b:"grey",bw:1,c:"rgba(240,240,240,0.8)",bs:"solid",re:!1,w:0,h:0},ca=["_ha0","_ha1","_ha2","_ha3","_ha4"],fa=ca.concat(["ha0","ha1","ha2","ha3","ha4","ha5","ha6","ha7","ha8","ha9"]),da=fa.reduce((function(t,e){return t[e]=!0,t}),{});function ha(t,e){return t+(dt(e)?"-"+e:"")}function pa(t){if(t&&t.maxLength&&dt(t.maxLength)&&t.maxLength>0)return t.maxLength}function va(t,e,n,r){var i=e||Ht,o=n||Ht,a=r||Ht,s=ua(),u={b:"rgb(255, 255, 255)",bw:2,c:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],w:10},l=Ct(t,{numbers:{},numOrString:{},negatives:{},strings:{},stringValues:{},colours:{},booleans:{},reserved:{},mapPos:{},halos:[]});function c(t){if(gt(t)){var e=t;q(e,(function(t,n){y(e,n),e.g&&(e.g=A(e.g,!0)),_(e,n,l.reserved)}))}}function f(t){"w"in t&&(t.w=!!t.w)}function d(t,e,n){var r=t,i=n||{};p(r,e),b(r),r.g&&(Array.isArray(r.g)?(h(r.g),r.g.forEach(f),r.g=A(r.g,"link"===r.type||!!i[r.id])):delete r.g),function(t,e){l.halos.forEach((function(n){var r=t[n];r&&(e?"c"in r||"r"in r||"w"in r||delete t[n]:"c"in r&&"r"in r&&"w"in r?(m(r,"c"),It(r.c)||It(r.r)||It(r.w)||!dt(+r.r)||!dt(+r.w)?delete t[n]:(r.r=+r.r,r.w=+r.w)):delete t[n])}))}(r,e),r.donut&&function(t,e){if(t.donut)if(e||Array.isArray(t.donut.v)){if(t.donut.v){var n=t.donut.v;n.forEach((function(t,e){(!dt(t)||t<0)&&(n[e]=0)}))}t.donut.c&&(Array.isArray(t.donut.c)&&0!==t.donut.c.length&&!t.donut.c.some((function(t){return!fn(t)}))||delete t.donut.c),t.donut.bw&&v(t.donut,"bw"),t.donut.w&&v(t.donut,"w"),"b"in t.donut&&m(t.donut,"b"),e||(t.donut=Ct(t.donut,u))}else delete t.donut}(r,e),r.oc&&function(t){gt(t.oc)?d(t.oc):delete t.oc}(r),r.bu&&function(t){if(Array.isArray(t.bu))delete t.bu;else{var e=t.bu;e.p||(e.p="ne");var n=e.p;/^(ne|nw|se|sw)$/.test(n)?e.g&&b(e.g):delete t.bu}}(r),r.t1&&c(r.t1),r.t2&&c(r.t2),r.flow&&function(t){var e=t.flow;if(!0===e)t.flow={velocity:2};else if(gt(e)){var n=e;dt(n.velocity)?n.velocity=Math.max(-10,Math.min(10,+n.velocity)):delete t.flow}else delete t.flow}(r)}function h(t,e,n){if(t)for(var r=0;r<t.length;r++)d(t[r],e,n)}function p(t,e){q(t,(function(n,r){y(t,r),_(t,r,l.reserved),e&&_(t,r,l.booleans)}))}function v(t,e){var n=+t[e];(n<0&&!l.negatives[e]||ft(n))&&(n=null),t[e]=n}function g(t,e){It(t[e])||(t[e]+="",l.stringValues[e]&&!l.stringValues[e][t[e]]&&delete t[e])}function m(t,e){t[e]&&(t[e]=fn(t[e])?t[e]:void 0)}function y(t,e){l.strings[e]?g(t,e):l.numbers[e]?v(t,e):l.numOrString[e]?function(t,e){if(!It(t[e])){var n=""+t[e];ft(+n)||""===n?g(t,e):v(t,e)}}(t,e):l.colours[e]?m(t,e):l.mapPos[e]&&function(t,e){var n=t[e],r=!0;gt(n)&&q(n,(function(t,e){v(n,e),r=r&&dt(+t)})),r||delete t[e]}(t,e)}function b(t){if(gt(t.fi)){var e=t.fi;if(!It(e.t))if("string"==typeof e.t){var n=s.unicodeAwareCharacters(e.t);e.t=n[0]}else e.t=String.fromCharCode(e.t);e.c&&(e.c=fn(e.c)?e.c:void 0),"ff"in e&&"string"!=typeof e.ff&&(e.ff=void 0)}else null!==t.fi&&delete t.fi}function x(t){return/^(ne|nw|se|sw|n|s|e|w)$/.test(t)}function w(t){return wt(t)&&t>=0&&t<360}function A(t,e){var n=t;if(!Array.isArray(n))return!1;if(!e){var r=function(t){var e=function(t){for(var e=0;e<t.length;e++){var n=t[e].p;if(w(n))return!0;if(x(n))return!1}return!1}(t),n=e?w:x,r={};return function(t){var i=t,o=i.p;if(!n(o))return!1;(!e||i.r<0)&&delete i.r;var a=e?ha(o,i.r):o;return!r[a]&&(r[a]=!0,!0)}}(n);n=n.filter(r)}return n.forEach(b),n}function _(t,e,n){n[e]&&delete t[e]}function k(t){"node"===t.type&&(t.x=t.x||0,t.y=t.y||0)}function C(t){var e=et(t);return q(t,(function(t){t.parentId&&delete e[t.parentId]})),e}function E(t,e,n,r){var i={};return q(t,(function(t,o){if(M(t,e,n,r))i[o]=t;else{var a=t.parentId;if(a){var s=e[a]||n[a];s&&s._combo&&(s._combo.linkIds=s._combo.linkIds.filter((function(e){return e!==t.id})))}}})),i}function M(t,e,n,r){if(!r&&t.id1===t.id2)return!1;var i=e||{},o=n||{};return!(!o[t.id1]&&!i[t.id1]||!o[t.id2]&&!i[t.id2])}function S(t,e,n){var r={};L(t,e,n,r),I(r,t,n),a(t),"hi"===t&&o()}function I(t,e,n){Object.keys(t).forEach((function(t){var r=n[t];r._combo.linkIds.every((function(t){return n[t][e]}))?(r[e]=!0,i(t)):void 0!==r[e]&&(delete r[e],i(t))}))}function L(t,e,n,r){q(n,(function(o,a){var s=o.parentId;!0!==e[o.id1][t]&&!0!==e[o.id2][t]||!0===o[t]||(o[t]=!0,s&&n[s]&&(r[s]=!0),i(a))}))}return{donutDefaults:u,typeCheck:function(t,e){h(t.items,!1,e)},filterNodesAndLinks:function(t,e,n,r){var i=r||{},o=function(t,e,n,r){var i=e||{},o=n||{},a={nodes:{},links:{}};function s(t){return!!("node"===t.type&&t.id in o||"link"===t.type&&t.id in i)}return t&&(a=t.reduce((function(t,e){if(e.id&&!function(t,e){return t.id in e.nodes||t.id in e.links}(e,t)&&!s(e)){if("node"===e.type){var n=!0;r&&i[e.id]&&(n=!1),n&&k(e)}var o="node"===e.type?"nodes":"links";o in t&&(t[o][e.id]=e)}return t}),a)),a}(t,e,n,!!i.carefulWithXandY);return r.filterComboNodes&&(o.nodes=C(o.nodes)),o.links=E(o.links,o.nodes,e,i.selfLinks),o},ensureObject:d,ensureTypesInArray:h,setZeroXY:k,hasValidEnds:M,ensureHiddenItemConsistency:function(t,e){S("hi",t,e)},ensureConsistency:S,applyPropertyRuleToComboLinks:I}}function ga(t,e,n,r,i){var o,a,s=tt(t);if("circle"===i)o=Math.sin(s)*r,a=-Math.cos(s)*r;else{var u=[Math.atan2(e,n),Math.atan2(e,-n),Math.atan2(-e,-n),Math.atan2(-e,n)],l=void 0;for(l=0;l<u.length;l++)u[l]<0&&(u[l]+=2*Math.PI);s<u[0]||s>u[3]?o=-(a=-n)*Math.tan(s):s<u[1]?(o=e,a=s===Math.PI/2?0:-o/Math.tan(s)):s<u[2]?o=-(a=n)*Math.tan(s):(o=-e,a=s===Math.PI/2*3?0:-o/Math.tan(s))}return{gdx:o,gdy:a}}function ma(t,e){return{gdx:Math.sin(tt(t))*e,gdy:-Math.cos(tt(t))*e}}function ya(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p){var v,g=0,m=dt(l.r);if(-1!==["n","ne","e","se","s","sw","w","nw"].indexOf(l.p))v=function(t,e,n,r,i,o){var a=0,s=0,u="centre";return-1===t.indexOf("n")&&-1===t.indexOf("s")||(s=-n,2===t.length&&(s-=r.dy),-1!==t.indexOf("s")&&(s*=-1)),-1===t.indexOf("e")&&-1===t.indexOf("w")||(a=e,u="right",2===t.length&&(a+=r.dx),-1!==t.indexOf("w")&&(a*=-1,u="left")),!i&&o&&(-1!==["n","s"].indexOf(t)?s*=Math.sqrt(2):-1!==["e","w"].indexOf(t)&&(a*=Math.sqrt(2))),{gdx:a,gdy:s,growDirection:u}}(l.p,n,r,c,u,s);else{var y="box",b=0;s&&(y="circle",b=u?Math.min(n,r):Math.sqrt(2)*n);var x=l.p;(v=m?ma(x,l.r*o):ga(x,n,r,b,y)).growDirection=function(t){var e="centre";return t>0&&t<180?e="right":t>180&&(e="left"),e}(x)}return null!==v.gdx&&(v.gdx<0&&v.gdy<0&&l.e&&(i._sl.e=Math.max(i._sl.e,l.e)),g=Wo(t,e,a+"\u2704"+ha(l.p,l.r),v.gdx,v.gdy,o,l,i,v.growDirection,!0,f,d,h,p)),v.gdy+g}function ba(t,e,n,r,i,o){var a=e+r,s=n+r;"circle"===t?i(Math.min(a,s)):o(-a,-s,a,s)}function xa(t,e,n,r,i,o,a,s,u,l,c,f,d,h){ba(f,e,n,r,(function(e){t.circle(0,0,e,i,o,s,u,l,c,a,!1)}),(function(e,n,r,f){t.rect(e,n,r,f,i,o,s,u,l,c,0,a,d,h)}))}function wa(t){return t<0?0:t>1?1:t}function Aa(t){return t<0?0:t>1?1:function(t,e,n,r,i,o){var a=3*e,s=3*(r-e)-a,u=1-a-s,l=3*n,c=3*(i-n)-l,f=1-l-c;function d(t){return((u*t+s)*t+a)*t}return function(t,e){var n=function(t,e){var n,r,i,o,l,c;for(i=t,c=0;c<8;c++){if(o=d(i)-t,Math.abs(o)<e)return i;if(l=(3*u*i+2*s)*i+a,Math.abs(l)<1e-6)break;i-=o/l}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=d(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=(r-n)/2+n}return i}(t,e);return((f*n+c)*n+l)*n}(t,1/(200*o))}(t,.25,.01,.25,1,1)}function _a(t){return Math.atan(t-.5)/(2*Math.atan(.5))+.5}var ka=27,Ca=oo();function Ea(t,e,n){var r=Sn,i="\u2704",o={b1:0,b2:0,c:"",c2:void 0,fb:!1,fbc:"",fc:"",ff:"",flow:void 0,fs:0,t1:void 0,t2:void 0,w:0},a={arrows:"normal",combos:{shape:"circle"},fontFamily:void 0,glyphsAlongLink:!1,iconFontFamily:void 0,editcolour:void 0,tight:!1,avoidLabels:!1,selectionFontColour:void 0,selectedNode:null,isNodeSelStyle:!1,selectedLink:null,isLinkSelStyle:!1,labelOffset:0,truncateLabel:!1,defaultOpenComboStyle:la,labelAlongLink:!1,linkStylePath:"direct"},s={dx:0,dy:0},u={},l={present:{t:!0,t1:!1,t2:!1},pos:{t:{lx:0,ly:0,tdx:1,tdy:0,tangent:0,R:0,signf:1},t1:{lx:0,ly:0,tdx:1,tdy:0,tangent:0,R:0,signf:1},t2:{lx:0,ly:0,tdx:1,tdy:0,tangent:0,R:0,signf:1}}},c={},f={unzoom:1,easingValue:0,resizeRect:null,stillDirty:new Map,useSlowPathRendering:!1,useSlowPathRenderingLastTime:!1,alwaysRedraw:!1};function d(){var t;return null!==(t=a.editcolour)&&void 0!==t?t:$e.edit}function h(){return a.selectionFontColour||$e.white}function p(e,n,r,i,s,u,d){var h,p=d.isSelected,g=d.isRevealed,m=1;n._edit=null;var b=n.id;p&&a.isLinkSelStyle?v(h=o,a.selectedLink,n):h=n;var x=!1;g&&(x=t.privateTopParentId(n.id1)!==t.privateTopParentId(n.id2)),i.parentId&&(m=y(1,i.parentId,r)),s.parentId&&(m=Math.min(m,y(1,s.parentId,r)));var w=(h.w||1)*m*f.unzoom,A=h.c||$e.midgrey;if(l.present.t=!!(n.t||n.g&&n.g.length||u),l.present.t1=!!n.t1,l.present.t2=!!n.t2,c[n.id])Io(e,!!n.a1,!!n.a2,h.b1||0,h.b2||0,b,i,s,A,h.c2,w,m,h.ls,p,h.flow,l,f,a,n.off||0);else if(n.off||i===s){var _=n.off||0;x&&(_/=m),aa(e,!!n.a1,!!n.a2,h.b1||0,h.b2||0,_,b,i,s,A,h.c2,w,m,h.ls,p,h.flow,l,f,a)}else So(e,!!n.a1,!!n.a2,h.b1||0,h.b2||0,b,i,s,A,h.c2,w,m,h.ls,p,h.flow,l,f,a);n._x=l.pos.t.lx,n._y=l.pos.t.ly}function v(t,e,n){t.b1=(e.b1||0)>=0?e.b1:n.b1,t.b2=(e.b2||0)>=0?e.b2:n.b2,t.c=e.c||n.c,t.c2=e.c2||n.c2,t.fb=e.fb||n.fb,t.fbc=e.fbc||n.fbc,t.fc=e.fc||n.fc,t.flow=e.flow||n.flow,t.ff=e.ff||n.ff,t.fs=e.fs||n.fs,t.t1=e.t1||n.t1,t.t2=e.t2||n.t2,t.ls=e.ls||n.ls,t.w=e.w||n.w}function g(i,s,p,g,b,x,w,A){var _,k=A.isSelected,C=A.isRevealed,E=1;p._edit=null;var M=p.id,S=k&&!a.isLinkSelStyle,I=S;k&&a.isLinkSelStyle?v(_=o,a.selectedLink,p):_=p,gt(_.flow)&&(f.alwaysRedraw=!0);var L=!1;C&&(L=t.privateTopParentId(p.id1)!==t.privateTopParentId(p.id2)),b.parentId&&(E=y(1,b.parentId,g)),x.parentId&&(E=Math.min(E,y(1,x.parentId,g)));var T=(_.w||1)*E*f.unzoom,P=_.c||$e.midgrey,O=0;l.present.t=!!(p.t||p.g&&p.g.length||w),l.present.t1=!!p.t1,l.present.t2=!!p.t2;var R,B=l.present.t||l.present.t1||l.present.t2;if(c[p.id]=function(e,n,r){return("horizontal"===e||"vertical"===e)&&n!==r&&t.privateTopParentId(n)!==t.privateTopParentId(r)}(a.linkStylePath,b.id,x.id),c[p.id])R=Io(s,!!p.a1,!!p.a2,_.b1||0,_.b2||0,M,b,x,P,_.c2,T,E,_.ls,k,_.flow,l,f,a,p.off||0);else if(p.off||b===x){var z=p.off||0;L&&(z/=E),R=aa(s,!!p.a1,!!p.a2,_.b1||0,_.b2||0,z,M,b,x,P,_.c2,T,E,_.ls,k,_.flow,l,f,a)}else R=So(s,!!p.a1,!!p.a2,_.b1||0,_.b2||0,M,b,x,P,_.c2,T,E,_.ls,k,_.flow,l,f,a);if(p._x=l.pos.t.lx,p._y=l.pos.t.ly,B){var D=0;q(l.pos,(function(t,o){if(l.present[o]){var c=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,x=null;if("t"===o||"string"==typeof p[o])b=p[o];else{x="t1"===o?_.t1:"t2"===o?_.t2:p[o];var w=p[o];b=x.t?x.t:w.t,c=x.fb?x.fb:w.fb,v=x.fbc?x.fbc:w.fbc,g=x.fc?x.fc:w.fc,m=x.ff?x.ff:w.ff,y=x.fs?x.fs:w.fs}var A=!1;y=+(y||_.fs||r)*E*f.unzoom,b=b||"",m=m||_.ff||a.fontFamily;var k=g||_.fc||$e.black,C=v||_.fbc||$e.textback,L=!!(void 0!==c?c:_.fb);S&&(k=h(),C=d());var T=Uo(p,b,a.truncateLabel,u.showFullLabel||null,e),P=Xo(T,i,y,L,m,a.fontFamily),B=y+3*f.unzoom;O=B*T.length;var z=0,j=0;T.length>0&&(z-=P[0]/2);for(var F=-(T.length-1)*B/2,Z=0;Z<T.length;Z++){0===Z&&(j=F);var N=T[Z],V=Co(i,s,N,0,F,M,!0,k,C,L,p,!1,!0,99,P[Z],S,y,m,o,1,f.unzoom,a,D);N.length>0&&!R&&(p._edit={hib:!0}),A=A||V,F+=B}A&&(I=!1);var G="t"===o?p.g:x&&x.g;eo(G)&&(!function(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,v){var g,m,y,b=n||[],x=r,w=i,A=0,_=function(t,e){return jo(t,e)*o},k=function(t,e){return 0};if(a)if(c.R&&h.glyphsAlongLink){var C=0,E=c.signf,M=c.R;for(A=c.tangent,y=0;y<b.length-1;y++)m=jo(b[y],b[y+1]),C+=E*Math.asin(m/(2*M));var S=A+C/2,I=2*E*M*Math.sin(C/2);x+=E*I*-Math.sin(S),w+=E*I*Math.cos(S),A+=C,_=function(t,e){g-=E*Math.asin(jo(t,e)/(2*M));var n=-E*Math.sin(g);return jo(t,e)*o*n},k=function(t,e){var n=E*Math.cos(g);return g-=E*Math.asin(jo(t,e)/(2*M)),jo(t,e)*o*n}}else{var L=0;for(y=0;y<b.length-1;y++)L+=jo(b[y],b[y+1])*o;h.glyphsAlongLink?(_=function(t,e){return jo(t,e)*o*c.tdx},k=function(t,e){return jo(t,e)*o*c.tdy},x+=L*c.tdx/2,w+=L*c.tdy/2):x+=L/2}else b.length>0?x-=Do(b[b.length-1])*o:x-=Do({});function T(t){g=A;for(var e=b.length-1,n=x,r=w;e>=0;e--)t(b[e],n,r),e>0&&(n-=_(b[e-1],b[e]),r-=k(b[e-1],b[e]))}a&&s&&T((function(e,n,r){t.circle(n,r,zo(e)*o*1.25,$e.white,-1,f(),!0,u,p,void 0,!1)}));var P=0;T((function(n,r,i){var a=u+"\u2704"+P;l&&(a+="-"+l),Wo(t,e,a,r,i,o,n,null,null,!1,d,h,p,v),P++}))}(s,i,G,z,j,E,!A,S,M,"t"===o?null:o,t,d,f,a,D,n),I=!1)}D++}))}if(I){var j=Math.max(.66*(_.w||0),+(_.fs||r)*f.unzoom/2);s.circle(0,0,j,$e.white,-1,d(),!0,M,0,void 0,!1)}p.bu&&Ho(s,i,M,O/2+4,E,p.bu,!1,f,a,u,e,r,0,n),b.du&&(p._du=!0,m(b,"id1",M,s,T,P,R)),x.du&&(p._du=!0,m(x,"id2",M,s,T,P,R)),p._noHalos||function(t,e,n,r,i,o,a,s,u,l,c){var f,d=t.getLayer(),h="solid",p=ca;t.setLayer(Ni.HALOS);for(var v=!0,g=0;g<p.length;g++)(f=i[p[g]])&&(v=!1,c?Io(t,i.a1||!1,i.a2||!1,i.b1||0,i.b2||0,e,n,r,f.c,void 0,f.w,o,h,a,void 0,void 0,s,u,i.off||0,!1,l):i.off||n===r?aa(t,!1,!1,i.b1||0,i.b2||0,i.off||0,e,n,r,f.c,void 0,f.w,o,h,a,void 0,void 0,s,u,!1,l):So(t,!1,!1,i.b1||0,i.b2||0,e,n,r,f.c,void 0,f.w,o,h,a,void 0,void 0,s,u,!1,l));i._noHalos=v,t.setLayer(d)}(s,M,b,x,p,E,k,f,a,T,c[p.id]),R||(p._edit={hib:!0})}function m(t,e,n,r,o,a,s){var u=s?o:0,l=r.getAnchorPosition(t.id,0);r.circle(l.x,l.y,1.5*u,a,u,$e.white,!0,n+i+e,-1,void 0,!1)}function y(t,e,n){var r=t,i=n[e];return i&&(r*=i._combo.comboScale,i.parentId&&(r=y(r,i.parentId,n))),r}function b(t,e){for(var n=t,r=n.x,i=n.y;n.parentId;){var o=(n=e[n.parentId])._combo.comboScale;r=n.x+(r-n.x)*o,i=n.y+(i-n.y)*o}return{x:r,y:i}}function x(t,e,r,o,s){var u;if(!r.hi){var l,c,h,p,v,g,m,x,A,_=s.isOpenCombo,k=1,C=r.id,E=ro(r),M=function(t,e,n){return t._combo&&t._combo.open?"rectangle"===n?"box":"circle":e?"circle"===t.sh?t.sh:"box":"box"===t.sh||"circle"===t.sh?t.sh:t.sq?"box":"circle"}(r,E,a.combos.shape),S="box"===M,I=s.isSelected,L=I&&a.isNodeSelStyle,T=I&&!a.isNodeSelStyle,P=a.selectedNode,O=L&&P.b||r.b,R=L&&P.bs||r.bs,B=L&&P.c||r.c,z=(E?1:L&&P.e||r.e||1)*f.unzoom;c=E&&(L&&P.re||r.re)||!1,h=L&&P.u||r.u,p=L&&P.fi||r.fi,v=L&&dt(P.bw)?P.bw:r.bw,g=r.w,m=r.h,x=r.x,A=r.y;var D,j=1,F=!r.donut||S||_?void 0:r.donut;if(_){var Z=r.oc;if(Z?(v=0,null===Z.b?O=void 0:(void 0===Z.bw?v=a.defaultOpenComboStyle.bw:Z.bw>0&&(v=Z.bw),O=Z.b||a.defaultOpenComboStyle.b),R=Z.bs||a.defaultOpenComboStyle.bs,B=Z.c||a.defaultOpenComboStyle.c,c=Z.re||a.defaultOpenComboStyle.re,g=Z.w||a.defaultOpenComboStyle.w,m=null!==(u=Z.h)&&void 0!==u?u:g):(O=a.defaultOpenComboStyle.b,v=a.defaultOpenComboStyle.bw,R=a.defaultOpenComboStyle.bs,B=a.defaultOpenComboStyle.c,c=a.defaultOpenComboStyle.re,m=g=a.defaultOpenComboStyle.w),L){var N=a.selectedNode.oc;N&&(O=N.b||O,v=N.bw||v,R=N.bs||R,B=N.c||B)}if(p=void 0,h=void 0,k=L&&a.selectedNode.e||r.e||1,z=j=r._combo.comboScale,Fc(r)){if(!S){var V=Math.max(g,m);g=V,m=V}g=r.w+z*(g-r.w),m=r.h+z*(m-r.h)}else{var G=ka*k*2;g=G+z*(g-G),m=G+z*(m-G),S||(m=g)}}if(r.parentId){j=y(1,r.parentId,o);var Y=b(r,o);g*=j,m*=j,z*=j,x=Y.x,A=Y.y}if(e.setNodeAnchorPosition(r,x,A),!r.du){F?(D=!0,l=F.b,v=z*(F.w+2*F.bw),R=void 0):O&&(void 0===v||v>0)?(D=!0,l=O,v=z*(v||4)):(D=!1,l=$e.white,v=0,R=void 0);var W,U,X=!!B,H=!!h||!(!p||!p.t),K=X?B:$e.white;r._c=0,r._cl=[],r._edit=null,r._sl?r._sl.e=z:r._sl={x:0,y:0,e:z,w:!1},E?(W=g/2,U=m/2):U=W=z*ka;var Q,J,q,$=W+(S?v:v/2),tt=U+(S?v:v/2);if(F?(Q=z*F.w,J=v/2):(J=.75*(Q=D?v:4*z),!D&&S&&(J+=Q/2)),q=a.tight?D||X?S?0:v/2:S?J-Q:J-Q/2:S?J:J+Q/2,(H||D||X)&&(function(t,e,n,r,i){ba(i,e,n,r,(function(e){t._c=e}),(function(e,n,r,i){t._cl.push({x1:e,y1:n,x2:r,y2:i})}))}(r,$,tt,q,M),I&&(!T&&c||T))){var et=Vi[e.getLayer()];uo(e,et,s,(function(){if(T){var t=d();xa(e,$,tt,J,t,Q,void 0,t,!1,C,0,M,[],!0)}c&&(!_||_&&1===j)&&(f.resizeRect=e.createDummyShapePrimitive(C,$+J,tt+J,M))}))}var nt=S&&T?J:0;if(X&&xa(e,$,tt,nt,l,-1,R,K,X,C,0,M,[nt,S?v/2:0]),H)if(h){var rt=n.getImage(h);ao(Ca,rt,W,U);var it=r.ci?"ci":null,ot=D?v:0;e.image(Ca[0],Ca[1],Ca[2],Ca[3],h,C,0,it,ot,!1)}else{var at=E?Math.min(W,U):W;No(e,a,t,C,0,0,0,at,p.t,p.c||$e.black,p.ff||a.iconFontFamily,n)}if(D){var st=F&&0===F.bw?-1:v||-1;st>=0&&xa(e,$,tt,nt,l,st,R,K,!1,C,0,M,[nt])}F&&function(t,e,n,r,i){var o=n.bw*r,a=n.w*r;if(a>0){var s=n.v.filter((function(t){return t>0})).length;if(1===s){var u=0;n.v.forEach((function(t,e){t>0&&(u=e)})),t.circle(0,0,e,n.c[u],a,$e.white,!1,i+"do"+u,0,void 0,!1)}else{var l=n.v.reduce((function(t,e){return t+e}),0),c=o/e,f=c*s,d=2*Math.PI-f,h=-Math.PI/2+c/2;d>0&&n.v.reduce((function(r,u,f){var h=r;if(0===u)return h;var p=h+d*u/l,v=p+c,g=n.c[f%n.c.length];return 0===o&&(0===f?h-=sa:f!==s-1&&(p+=sa)),t.arc(0,0,e,h,p,g,void 0,a,i+"do"+f,void 0,!0,0,void 0),v}),h)}}}(e,Math.min($,tt),F,z,C+i),w(e,t,v,W,U,r,E,M,D,X,H,T,z,k,C,L,s)}}}function w(t,i,o,l,c,p,v,g,m,y,b,x,w,A,_,k,C){var E,M,S,I,L,T,P,O="circle"===a.combos.shape,R=0,B=0,z=0,D=no(p),j=!1,F=C.isOpenCombo,Z=p._combo&&p._combo.open?A:w;if(k){var N=a.selectedNode;M=N.fb||p.fb,S=N.fbc||p.fbc,I=N.fc||p.fc,L=N.ff||p.ff,T=(N.fs||p.fs||r)*Z,P=N.tc||p.tc}else M=p.fb,S=p.fbc,I=p.fc,L=p.ff,T=(p.fs||r)*Z,P=p.tc;F&&(P=!1);var V=3*Z+T/2,G=I||$e.black,Y=S||$e.textback;x&&(G=h(),Y=d());var W=c+V,U=Uo(p,null,a.truncateLabel,u.showFullLabel||null,e),X=Xo(U,i,T,!!M,L,a.fontFamily),H=T+3,K=H,Q=H*U.length;U.length>0&&(R-=X[0]/2);var J=b||m||y,q=Et(P)?!!P:!b&&!v,$=(U.length-1)*(K/2);if(J)q&&(W=-$);else{if(D){var tt=Do((ut=p.g)[ut.length-1])*Z;R=tt,z+=X[0]/2+tt}W=0}if(U.length>0&&(B=W),m&&!q&&(W+=o-3*Z),J){var et=3,nt=3;s.dx=0,s.dy=b?-8:0,v||"circle"!==g||(et+=2,nt+=2,b&&(s.dx+=2,s.dy+=2)),v&&!F&&(et++,nt++);var rt=et*Z,it=nt*Z;if(s.dx*=Z,s.dy*=Z,F&&O){var ot=((p.oc.w||a.defaultOpenComboStyle.w||0)+(p.oc.bw||a.defaultOpenComboStyle.bw||0))/2/Math.sqrt(2),at=p.oc.w/2/ka;p._sl.e=l/ka,p._sl.x=-ot*p._sl.e/at-rt/A,p._sl.y=-ot*p._sl.e/at-it/A}else F&&"rectangle"===a.combos.shape&&(p._sl.e=1),p._sl.x=-l+(rt-s.dx),p._sl.y=-c+(it-s.dy);if(D){var st="circle"===g,ut=p.g;for(E=0;E<ut.length;E++){var lt=ya(t,i,l-rt,c-it,p,w,_,st,v,ut[E],s,f,a,0,n),ct=dt(ut[E].r);q||ct||(W=Math.max(W,lt+V))}}}for(var ft=0;ft<U.length;ft++){var ht=Co(i,t,U[ft],z,W,_,!0,G,Y,!!M,p,!1,!0,99,X[ft],x,T,L||a.fontFamily,null,Z,f.unzoom,a,0);j=j||ht,W+=K}if(!J){var pt=!p.t||!j;!function(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,v){var g=n||[],m=r;if(a){for(var y=0,b=0;b<g.length-1;b++)y+=jo(g[b],g[b+1])*o;m+=y/2}else g.length>0?m-=Do(g[g.length-1])*o:m-=Do({});if(l){var x=m;if(g.length>0){A((function(t,e){x=e}));var w=g[0].e||1;x-=w*o*34/2,l._sl.e*=w}l._sl.x=x,l._sl.y=i,l._sl.w=!0}function A(t){for(var e=g.length-1,n=m;e>=0;e--)t(g[e],n),e>0&&(n-=jo(g[e-1],g[e])*o)}if(a&&s){var _=Vi[t.getLayer()];uo(t,_,p,(function(){A((function(e,n){t.circle(n,i,zo(e)*o*1.25,$e.white,-1,c(),!0,u,h,void 0,!1)}))}))}var k=0;A((function(n,r){Wo(t,e,u+"\u2704"+k,r,i,o,n,l,null,!1,f,d,h,v),k++}))}(t,i,p.g||null,pt?0:R,B,Z,pt,x,_,p,d,f,a,0,C,n)}var vt=!p._noHalos||k;if(!v&&vt&&uo(t,Ni.HALOS,C,(function(){!function(t,e,n,r,i,o){for(var a,s=!0,u=0;u<fa.length;u++){var l=fa[u];if(a=i&&o.selectedNode[l]||r[l]){s=!1;var c=e+"\u2704"+l,f=a.r*n,d=a.w*n;d/2>=f?t.circle(0,0,f+d/2,$e.white,-1,a.c,!0,c,0,void 0,!1):t.circle(0,0,f,a.c,d,$e.white,!1,c,0,void 0,!1)}}r._noHalos=s&&!i}(t,_,Z,p,k,a)})),p.bu){var gt=0;J?gt=c:Q>0?gt=Q/2+4:no(p)&&(gt=13*Z),Ho(t,i,_,gt,Z,p.bu,F,f,a,u,e,r,0,n)}}return{animated:function(){return f.stillDirty.size>0},contains:function(t,e){var n=[],r=Ct(t,{sh:"box",x:0,y:0});function i(t,e){t&&n.push(e)}if(ro(r))if("circle"===r.sh){var o=Math.min(r.w,r.h)/2;q(e,(function(t){if(ro(t)){var e=t.w,n=t.h;"circle"===t.sh?i(Vn(r.x,r.y,o,t.x,t.y,Math.min(e,n)/2),t.id):i(function(t,e,n,r,i,o,a){var s=n*n;return(t-r)*(t-r)+(e-i)*(e-i)<s&&(t-r)*(t-r)+(e-a)*(e-a)<s&&(t-o)*(t-o)+(e-i)*(e-i)<s&&(t-o)*(t-o)+(e-a)*(e-a)<s}(r.x,r.y,o,t.x-e/2,t.y-n/2,t.x+e/2,t.y+n/2),t.id)}else i(Vn(r.x,r.y,o,t.x,t.y),t.id)}))}else{var a={x1:r.x-r.w/2,y1:r.y-r.h/2,x2:r.x+r.w/2,y2:r.y+r.h/2};q(e,(function(t){if(ro(t)){var e=t.w,n=t.h;if("circle"===t.sh){var r=Math.min(e,n)/2;i(Gn(a,t.x-r,t.y-r,t.x+r,t.y+r),t.id)}else i(Gn(a,t.x-e/2,t.y-n/2,t.x+e/2,t.y+n/2),t.id)}else i(Nn(a,t.x,t.y),t.id)}))}return n},currentArrowLength:function(t,e){return qi(t,e,f.unzoom,a.arrows)},editColour:d,fontSize:r,generate:function(e,n,r,i,o,s,u,l,c,d,h,v){var m,y,w,A,_={isSelected:!1,isOpenCombo:!1,isInCombo:!1,isInBackground:!1,isTransient:!1,isParentTransient:!1,isRevealed:!1,isParentRevealed:!1};f.useSlowPathRendering=f.useSlowPathRenderingLastTime,f.useSlowPathRenderingLastTime=!1;var k=v&&!f.useSlowPathRendering&&!r.allDirty,C=new Set;if(l.forEach((function(e){var r=n[e];if(r){var i=t.privateFirstVisibleItemInAncestry(r.id1),o=t.privateFirstVisibleItemInAncestry(r.id2);!i||i._combo&&i._combo.open||C.add(i.id),!o||o._combo&&o._combo.open||C.add(o.id)}})),f.resizeRect){var E=r.dirty.get(f.resizeRect.id);(r.allDirty||2===E)&&(f.resizeRect=null)}function M(t,r){var i=t.parentId,o=!1;if(i){if(!r&&u(i)||c(i))return!0;var a=e[i]||n[i];a&&a.parentId&&(o=M(a,!1))}i=t.id;var s=r&&l.has(i)||C.has(i)||d(i),f=!r&&u(i),h=!r&&c(i);return o||!s&&(f||h)}function S(n){k=!1;var r,a,s,l=[],c=!1,f=!!n._combo&&n._combo.open,h=!(!n.parentId&&!f);if(_.isOpenCombo=f,_.isInBackground=!!n.bg,_.isSelected=u(n.id),_.isInCombo=!!n.parentId,C.has(n.id)||d(n.id)||n.du?(_.isRevealed=!0,C.add(n.id),l.push(Ni.REVEALED)):_.isRevealed=!1,h){var p=t.privateGetAncestryIds(n.id);l.push(Ni.COMBOS),r=!1;for(var v=0;v<p.length-1;v++){var g=p[v];l.push(i.createComboSegment(g));var m=e[g];r||(r=m&&m._combo&&M(m,!1)),_.isRevealed||a||!(a=C.has(g)||d(g))||(_.isRevealed=!0,C.add(n.id),l.unshift(Ni.REVEALED))}_.isParentTransient=!!r,_.isParentRevealed=!!a,f&&l.push(i.createComboSegment(n.id))}else l.push(Ni.MAIN),_.isParentTransient=!1,_.isParentRevealed=!1;_.isRevealed||(c=M(n,!1)&&(!ro(n)||h))&&l.unshift(Ni.TRANSIENT),_.isTransient=c,i.startGeneratingFor(n,k,_.isInCombo||_.isOpenCombo),f?s=Ni.COMBO_CONTAINER:(s=ro(n)?Ni.SHAPES:Ni.NODES,l.push(n.bg?Ni.BG:Ni.FG)),h&&!i.hasPath(l)&&i.createItemLayersAt(l),i.setLayerPath(l),i.setLayer(s),x(o,i,n,e,_)}function I(r){k=!1;var a,s,c,f=[],p=!1,v=r.parentId&&(r._combo||e[r.parentId]),m=r.parentId&&n[r.parentId];if(_.isInBackground=!!r.bg,_.isSelected=u(r.id),_.isInCombo=!!r.parentId,_.isRevealed=l.has(r.id)||d(r.id)||C.has(r.parentId)||!!r._du,_.isRevealed||((c=M(r,!0))?(f.push(Ni.TRANSIENT),_.isTransient=!0):_.isTransient=!1),i.startGeneratingFor(r,k,_.isInCombo),a=e[r.id1],s=e[r.id2],_.isRevealed){if(a=t.privateFirstVisibleItemInAncestry(r.id1),s=t.privateFirstVisibleItemInAncestry(r.id2),!a||!s||a===s&&a!==e[r.id1])return;f.push(Ni.REVEALED)}if(a&&s){if(v){for(var y=t.privateGetAncestryIds(r.id),b=[],x=m?2:1,w=0;w<y.length-x;w++){var A=y[w];if(b.push(i.createComboSegment(A)),!c){var E=e[A];p||_.isRevealed||(p=E&&E._combo&&M(E,!1)),p&&f.unshift(Ni.TRANSIENT)}}_.isParentTransient=p,b.length>0?(f.push(Ni.COMBOS),f=f.concat(b),i.hasPath(f)||i.createItemLayersAt(f)):f.push(Ni.MAIN)}else f.push(Ni.MAIN);f.push(r.bg?Ni.BG:Ni.FG),i.setLayerPath(f),i.setLayer(Ni.LINKS),g(o,i,r,e,a,s,h,_)}}function L(n){var r;_.isInBackground=!!n.bg,_.isSelected=u(n.id),_.isInCombo=!!n.parentId,_.isRevealed=l.has(n.id)||d(n.id)||C.has(n.parentId),_.isRevealed||(r=M(n,!0),_.isTransient=r),i.startGeneratingFor(n,!0,_.isInCombo);var o=e[n.id1],a=e[n.id2];_.isRevealed&&(o=t.privateFirstVisibleItemInAncestry(n.id1),a=t.privateFirstVisibleItemInAncestry(n.id2),!o||!a||o===a&&o!==e[n.id1])||p(i,n,e,o,a,h,_)}function T(t){var e=n[t];!function(t){return t.parentId||a.glyphsAlongLink&&function(t){return!!eo(t.g)||!(!t.t1||!eo(t.t1.g))||!(!t.t2||!eo(t.t2.g))}(t)||!!t._du}(e)?L(e):I(e)}if(f.stillDirty.clear(),f.easingValue=_a(Date.now()%1e3/1e3),f.unzoom=s.getUnzoom(),r.allDirty){for(i.removeAllItems(),f.alwaysRedraw=!1,A=Object.keys(e),w=Object.keys(n),m=0,y=A.length;m<y;m++)S(e[A[m]]);for(m=0,y=w.length;m<y;m++)I(n[w[m]])}else{var P=[],O=[];if(r.dirty.forEach((function(t,r){var o=e[r];if(o)if(o.parentId||o._combo)S(o);else if(1===t)if(o.parentId){var a=b(o,e);i.setNodeAnchorPosition(o,a.x,a.y)}else i.setNodeAnchorPosition(o,o.x,o.y);else S(o);else n[r]?2===t?P.push(r):O.push(r):(k=!1,i.removeItem(r))})),r.allLinksMoved)for(m=0,y=(w=Object.keys(n)).length;m<y;m++)T(w[m]);else if(r.allLinksDirty)for(f.alwaysRedraw=!1,m=0,y=(w=Object.keys(n)).length;m<y;m++)I(n[w[m]]);else P.forEach((function(t){I(n[t])})),O.forEach(T)}return{stillDirty:f.stillDirty,rebuildAll:f.useSlowPathRendering||!k}},generateHandles:function(t,e,n,r){var o=t.getLayerPath();t.setLayerPath(null),t.startGeneratingForExtras(),t.setLayer(Ni.HANDLES),f.resizeRect&&1===r.size&&(Xn(t,0,n,f.resizeRect,1,f.resizeRect.id,d(),i),Xn(t,0,n,f.resizeRect,4,f.resizeRect.id,$e.transparent,i)),t.setLayerPath(o)},getAlwaysRedraw:function(){return f.alwaysRedraw},setOptions:function(t,e){a.arrows=t.arrows,a.combos=t.combos,dt(t.labelOffset)&&(a.labelOffset=t.labelOffset);var n=pa(t.truncateLabels);a.truncateLabel=void 0!==n&&n,a.editcolour=t.selectionColour,a.fontFamily=t.fontFamily,a.glyphsAlongLink=!t.linkStyle.inline&&"along"===t.linkStyle.glyphs,a.iconFontFamily=t.iconFontFamily,a.avoidLabels=!!t.linkEnds.avoidLabels,a.tight="loose"!==t.linkEnds.spacing,a.selectionFontColour=t.selectionFontColour,a.selectedNode=t.selectedNode||null,a.isNodeSelStyle=gt(t.selectedNode),a.selectedLink=t.selectedLink||null,a.isLinkSelStyle=gt(t.selectedLink),a.labelAlongLink=!!t.linkStyle.inline,a.linkStylePath=e?t.linkStyle.path:"direct"},setSpecialOptions:function(t,e){u[t]=e}}}var Ma=1e-6,Sa=22e-17;function Ia(t){return function(t){return"number"==typeof t&&isFinite(t)}(t)&&(0|t)===t}function La(t,e){return Math.sqrt(t*t+e*e)}function Ta(t,e){return t*t+e*e}function Pa(t,e,n,r){return La(t-n,e-r)}function Oa(t,e,n){return t<e?e:t>n?n:t}function Ra(t,e,n){return n*t+(1-n)*e}function Ba(t,e,n,r,i,o){return void 0===o&&(o=12),function(t,e,n,r,i,o){return t+(e-t)/(1+Math.pow(i*Math.E,-r*(o-n)))}(t,e,.5*(r-n),o/(r-n),1,i-n)}var za=2147483647;function Da(t){var e=Math.round(t)%za;function n(){var t=48271*(e%44488|0)-3399*(e/44488|0);return(e=t>0?t:t+za)-1}return n.reset=function(t){return e=t},n.state=function(){return e},n}var ja,Fa=function(){var t=function(){throw"Invalid operation"},e=function(){return Math.random()*za|0};return e.reset=t,e.state=t,e}();function Za(){return Fa}function Na(t,e){function n(){this.constructor=t}Object.setPrototypeOf(t,e),null!==e?(n.prototype=e.prototype,t.prototype=new n):t.prototype=Object.create(t)}function Va(){return{next:function(){return $a},size:0}}function Ga(t){var e={value:t,done:!1};return{next:function(){var t=e;return e=$a,t},size:1}}function Ya(t,e){var n=0,r={value:null,done:!1},i={next:function(){var i=t.next();return i.done?r.done=!0:r.value=e(i.value,n++),r},size:0};return"size"in t&&(i.size=t.size),i}function Wa(t,e){for(var n=0,r=t.next();!r.done;n++,r=t.next())e(r.value,n)}function Ua(t,e,n){for(var r=t.next(),i=0;!r.done;r=t.next(),i++)n=e(n,r.value,i);return n}function Xa(t,e){return{next:function(){for(;;){var n=t.next();if(n.done)return n;if(e(n.value))return n}}}}function Ha(t,e,n){void 0===n&&(n=1);var r=Math.round((e-t)/n),i={value:t,done:!1};return{next:function(){return(n>0&&t>=e||n<0&&t<=e)&&(i.done=!0),i.value=t,t+=n,i},size:r}}function Ka(t,e){return void 0!==e?function(t,e){var n={value:null,done:!1,i:-1};return{next:function(){return n.i++,n.i<t.length?n.value=e(t[n.i],n.i):n.done=!0,n},size:t.length}}(t,e):function(t){var e={value:null,done:!1,i:-1};return{next:function(){return e.i++,e.i<t.length?e.value=t[e.i]:e.done=!0,e},size:t.length}}(t)}function Qa(t,e,n){return"function"==typeof e?function(t,e,n){void 0===n&&(n=[]);for(var r=t.next(),i=0;!r.done;r=t.next(),i++)n.push(e(r.value,i));return n}(t,e,n):function(t,e){void 0===e&&(e=[]);for(var n=t.next();!n.done;n=t.next())e.push(n.value);return e}(t,e)}function Ja(t,e){void 0===e&&(e=[null,null]);var n={value:e,done:!1},r={next:function(){var r=t.next();return r.done?(n.done=!0,n):(e[0]=r.value,(r=t.next()).done?(n.done=!0,n):(e[1]=r.value,n))},size:0};return"size"in t&&(r.size=Math.floor(t.size/2)),r}function qa(t,e){for(var n=t.next();!n.done;n=t.next())e=n.value;return e}!function(t){t.uniform=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=Za());var r=e-t,i=function(){return t+r*(n()/za)};return i.rng=n,i},t.uniformi32=function(t,e,n){void 0===n&&(n=Za());var r=e-t+1,i=function(){return Math.floor(t+r*(n()/za))};return i.rng=n,i},t.gaussian=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=Za());var r=2/za,i=-1,o=!1,a=function(){if(o)return o=!1,t+e*i;var a,s,u;do{u=(a=n()*r-1)*a+(s=n()*r-1)*s}while(u>=1||0===u);var l=Math.sqrt(-2*Math.log(u)/u);return i=s*l,o=!0,t+e*a*l};return a.rng=n,a}}(ja||(ja={}));var $a={value:null,done:!0},ts={__proto__:null,empty:Va,single:Ga,map:Ya,forEach:Wa,take:function(t,e){if(0===e)return Va();var n={value:null,done:!0};return{next:function(){return e-- >0?t.next():n}}},flatMap:function(t,e){var n=Va(),r=0;return{next:function(){for(var i=n.next();i.done;){var o=t.next();if(o.done)break;i=(n=e(o.value,r++)).next()}return i}}},reduce:Ua,filter:Xa,fromRange:Ha,linspace:function(t,e,n){return Ha(t,e,Math.abs(e-t)/n)},from:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ka(t)},fromArray:Ka,toArray:Qa,pairs:Ja,last:qa,first:function(t,e){var n=t.next();return n.done?e:n.value},withSize:function(t,e){return{next:function(){return t.next()},size:e}}};function es(t){return t.buffer&&t.buffer instanceof ArrayBuffer}function ns(t,e){for(var n=0;n<t.length;n++)t[n]=e}function rs(t,e){return t<e}function is(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function os(t,e){void 0===e&&(e=0);for(var n=e,r=0,i=t.length;r<i;r++)t[r]=n++}function as(t,e){for(var n=0;n<e.length;n++)if(e[n]<0)e[n]=~e[n];else for(var r=n,i=e[n];i!==n;)is(t,r,i),i=e[r=i],e[r]=~i}var ss,us,ls=function(){function t(t,e,n,r,i,o){void 0===r&&(r=ss.sizeFromShape(t)),void 0===i&&(i=0),void 0===o&&(o=ss.computeStrides(t)),this.shape=t,this.dtype=e,this.values=n,this.size=r,this.offset=i,this.strides=o,this.rank=this.shape.length,this.lastIndex=ss.lastIndex(this),this.lastStride=this.strides[this.rank-1],this.contiguous=this.lastIndex-i==r-1}return t.prototype.getNextIndex=function(t){return t<0?this.offset:(t+=this.lastStride)>this.lastIndex?-1:t},t}(),cs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rankType=0,e}return Na(e,t),e.prototype.get=function(){return this.values[this.index()]},e.prototype.set=function(t){this.values[this.index()]=t},e.prototype.index=function(){return 0|this.offset},e}(ls),fs=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,i,o,a)||this;return s.rankType=1,s.stride0=s.strides[0],s}return Na(e,t),e.prototype.get=function(t){return this.values[this.index(t)]},e.prototype.set=function(t,e){this.values[this.index(t)]=e},e.prototype.index=function(t){return this.offset+t*this.stride0|0},e}(ls),ds=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,i,o,a)||this;return s.rankType=2,s.stride0=s.strides[0],s.stride1=s.strides[1],s}return Na(e,t),e.prototype.get=function(t,e){return this.values[this.index(t,e)]},e.prototype.set=function(t,e,n){this.values[this.index(t,e)]=n},e.prototype.index=function(t,e){return this.offset+t*this.stride0+e*this.stride1|0},e}(ls),hs=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,i,o,a)||this;return s.rankType=3,s.stride0=s.strides[0],s.stride1=s.strides[1],s.stride2=s.strides[2],s}return Na(e,t),e.prototype.get=function(t,e,n){return this.values[this.index(t,e,n)]},e.prototype.set=function(t,e,n,r){this.values[this.index(t,e,n)]=r},e.prototype.index=function(t,e,n){return this.offset+t*this.stride0+e*this.stride1+n*this.stride2|0},e}(ls);function ps(t,e,n){null==e&&(e=ss.inferShape(t)),null==n&&(n=ss.inferDType(t,"f32"));var r=es(t)||Array.isArray(t)?t:[t],i=ss.asTypedArray(r,n);return new(ss.getViewCtor(e.length))(e,n,i)}function vs(t,e,n){void 0===e&&(e="f32");var r=ss.sizeFromShape(t),i=gs(e,r,n);return new(ss.getViewCtor(t.length))(t,e,i,r)}function gs(t,e,n){var r;switch(t){case"f64":r=new Float64Array(e);break;case"f32":r=new Float32Array(e);break;case"i32":r=new Int32Array(e);break;default:ss.throwUnknownDType(t)}return void 0!==n&&ns(r,n),r}function ms(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=[],i=[],o=t.offset,a=0,s=e.length;a<s;a++){var u=t.strides[a];Ia(e[a])?o+=u*e[a]:(i.push(t.shape[a]),r.push(u))}return new(ss.getViewCtor(i.length))(i,t.dtype,t.values,ss.sizeFromShape(i),o,r)}function ys(t,e){void 0===e&&(e=0);for(var n=t.rank,r=t.shape,i=[],o=0;o<n;o++)i.push("all");var a=[];for(o=0;o<r[e];o++){i[e]=o;var s=[t].concat(i);a.push(ms.apply(null,s))}return a}function bs(t){for(var e=vs(t.shape,t.dtype),n=-1,r=t.values,i=-1,o=e.values;(n=t.getNextIndex(n))>=0&&(i=e.getNextIndex(i))>=0;)o[i]=r[n];return e}function xs(t,e){for(var n=-1,r=t.values;(n=t.getNextIndex(n))>=0;)r[n]=e}function ws(t,e){void 0===e&&(e=[0,0]);for(var n=Number.MAX_VALUE,r=Number.MIN_VALUE,i=-1,o=t.values;(i=t.getNextIndex(i))>=0;)o[i]>r&&(r=o[i]),o[i]<n&&(n=o[i]);return e[0]=n,e[1]=r,e}function As(t){for(var e=0,n=-1,r=t.values;(n=t.getNextIndex(n))>=0;)e+=r[n];return e}function _s(t,e){for(var n=-1,r=t.values;(n=t.getNextIndex(n))>=0;)r[n]+=e}function ks(t,e){for(var n=-1,r=t.values;(n=t.getNextIndex(n))>=0;)r[n]*=e}function Cs(t){return Es(t)[1]}function Es(t,e){void 0===e&&(e=0);var n=t.size;if(0===n)return[NaN,NaN];for(var r=0,i=0,o=1,a=t.values,s=-1;(s=t.getNextIndex(s))>=0;){var u=a[s],l=r;i+=(u-(r+=(u-r)/o))*(u-l),o++}return n>1?[Math.sqrt(i/(t.size-e)),r]:[0,r]}function Ms(t,e,n){void 0===n&&(n=1);for(var r=-1,i=-1,o=t.values,a=e.values;(r=t.getNextIndex(r))>=0&&(i=e.getNextIndex(i))>=0;)o[r]+=a[i]*n}function Ss(t,e){for(var n=0,r=-1,i=-1,o=t.values,a=e.values;(r=t.getNextIndex(r))>=0&&(i=e.getNextIndex(i))>=0;)n+=o[r]*a[i];return n}!function(t){function e(t){throw new Error("Unknown data type "+t)}function n(t,e){return t instanceof Float32Array?"f32":t instanceof Int32Array?"i32":t instanceof Float64Array?"f64":e}function r(t,n){switch(n){case"f32":return new Float32Array(t);case"i32":return new Int32Array(t);case"f64":return new Float64Array(t)}return e(n),null}t.getViewCtor=function(t){switch(t){case 0:return cs;case 1:return fs;case 2:return ds;case 3:return hs}throw new Error(t+" views not implemented")},t.sizeFromShape=function(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e},t.lastIndex=function(t){for(var e=t.rank,n=t.offset,r=0;r<e;r++)n+=t.strides[r]*(t.shape[r]-1);return n},t.throwUnknownDType=e,t.computeStrides=function(t){var e=t.length,n=new Array(e);n[e-1]=1;for(var r=e-2;r>=0;--r)n[r]=n[r+1]*t[r+1];return n},t.inferShape=function(t){if(es(t))return[t.length];if(!Array.isArray(t))return[];for(var e=[];t instanceof Array;)e.push(t.length),t=t[0];return e},t.inferDType=n,t.asTypedArray=function(t,e){return n(t)===e?t:r(Array.isArray(t)?function t(e,n){if(void 0===n&&(n=[]),Array.isArray(e))for(var r=0,i=e;r<i.length;r++)t(i[r],n);else n.push(e);return n}(t):t,e)},t.copyToTypedArray=r}(ss||(ss={})),function(t){function e(t){return t.br.x-t.tl.x}function n(t){return t.br.y-t.tl.y}function r(t,e,n,r){if(t>e){var i=e;e=t,t=i}return n>r&&(i=r,r=n,n=i),{tl:{x:t,y:n},br:{x:e,y:r}}}function i(t,e,n,r){return!(e+r>t.br.x||e-r<t.tl.x||n+r>t.br.y||n-r<t.tl.y)}function o(t,r,i){a(t,r-e(t),i-n(t))}function a(t,e,n){var r=.5*e,i=.5*n;t.tl.x-=r,t.tl.y-=i,t.br.x+=r,t.br.y+=i}t.copy=function(t){return r(t.tl.x,t.br.x,t.tl.y,t.br.y)},t.copyTo=function(t,e){e.tl.x=t.tl.x,e.tl.y=t.tl.y,e.br.x=t.br.x,e.br.y=t.br.y},t.width=e,t.height=n,t.create=r,t.moveTo=function(t,r,i){var o=e(t),a=n(t);t.tl.x=r,t.tl.y=i,t.br.x=r+o,t.br.y=i+a},t.center=function(t,e){return void 0===e&&(e={x:0,y:0}),e.x=t.tl.x+.5*(t.br.x-t.tl.x),e.y=t.tl.y+.5*(t.br.y-t.tl.y),e},t.equals=function(t,e){return t.tl.x===e.tl.x&&t.tl.y===e.tl.y&&t.br.x===e.br.x&&t.br.y===e.br.y},t.contains=i,t.containsPoint=function(t,e){return i(t,e.x,e.y,0)},t.resize=o,t.resizeBy=a,t.scale=function(t,r,i){o(t,e(t)*r,n(t)*i)},t.intersects=function(t,e){return t.tl.x<e.br.x&&t.br.x>e.tl.x&&t.tl.y<e.br.y&&t.br.y>e.tl.y},t.union=function(t,e){return r(Math.min(t.tl.x,e.tl.x),Math.max(t.br.x,e.br.x),Math.min(t.tl.y,e.tl.y),Math.max(t.br.y,e.br.y))}}(us||(us={}));var Is=function(t,e,n,r){this.parentIdx=t,this.quad=e,this.beginIdx=n,this.endIdx=r,this.firstChild=-1};function Ls(t,e,n,r,i){return e[t[r]]<=i?r:function(t,e,n,r,i){void 0===n&&(n=rs),void 0===r&&(r=0),void 0===i&&(i=t.length-r);for(var o,a=0;i>0;)o=0|r,n(t[o+=a=i>>1],e)?(r=++o,i-=a+1):i=a;return r}(t,i+1,(function(t,n){return e[t]<n}),n,r-n+1)-1}var Ts=new Uint32Array([1431655765,858993459,252645135,16711935]);var Ps=function(){function t(t,e){void 0===e&&(e=2),this.maxDepth=t,this.splitThreshold=e,this.N=0,this.aabb=us.create(0,1,0,1),this.zorder=null,this.tree=[],this.path=new Os(this.tree,this.aabb)}return t.prototype.build=function(e,n,r){var i=e.size,o=this.zorder;if(void 0!==r)this.aabb=us.copy(r);else{var a=ws(e),s=a[0],u=a[1],l=ws(n),c=l[0],f=l[1];this.aabb=r=us.create(s,u,c,f)}null!==o&&o.length===i||os(o=this.zorder=new Int32Array(i));for(var d=us.width(r),h=us.height(r),p=new Uint32Array(i),v=d>0?65535/d:0,g=h>0?65535/h:0,m=r.tl.x,y=r.tl.y,b=function(t,e){return function(t,e){return t=((t=((t=((t=(t|t<<8)&Ts[3])|t<<4)&Ts[2])|t<<2)&Ts[1])|t<<1)&Ts[0],e=((e=((e=((e=(e|e<<8)&Ts[3])|e<<4)&Ts[2])|e<<2)&Ts[1])|e<<1)&Ts[0],(t|(e<<=1))>>>0}((t-m)*v>>>0,(e-y)*g>>>0)},x=0;x<i;){var w=o[x],A=e.get(w),_=n.get(w);us.contains(r,A,_,0)?(p[w]=b(A,_),x++):is(o,x,--i)}this.N=i,void 0===this.maxDepth&&(this.maxDepth=Oa(Math.ceil(Math.log(i+1)),1,t.MAX_DEPTH));var k=o.subarray(0,this.N);Array.prototype.sort.call(k,(function(t,e){return p[t]-p[e]})),this.buildTree(r,k,p,this.maxDepth,this.splitThreshold,b)},t.prototype.buildTree=function(e,n,r,i,o,a){var s=n.length,u={x:0,y:0},l=us.copy(e),c=this.tree,f=this.path;c.length=0,c.push(new Is(-1,-1,0,s-1)),f.resize(l);for(var d=0;d>=0;){var h=c[d];if(h.firstChild<0&&h.endIdx-h.beginIdx>=o-1&&f.depth<i){f.copyTo(l),us.center(l,u);var p=a(u.x,u.y),v=a(l.br.x,u.y),g=a(u.x,l.br.y),m=h.beginIdx,y=h.endIdx,b=Ls(n,r,m,y,p),x=1/0;b>=m&&(x=c.push(new Is(d,0,m,b))-1,m=b+1);var w=Ls(n,r,m,y,v);w>=m&&(x=Math.min(x,c.push(new Is(d,1,m,w))-1),m=w+1);var A=Ls(n,r,m,y,g);A>=m&&(x=Math.min(x,c.push(new Is(d,2,m,A))-1),m=A+1),y>=m&&(x=Math.min(x,c.push(new Is(d,3,m,y))-1)),h.firstChild=x}d=t.nextDFS(c,f,!0)}},t.prototype.traverse=function(){if(null===this.tree||0===this.tree.length)return Va();var e=this.tree,n=us.copy(this.aabb),r=new Os(this.tree,n),i=0,o={value:null,done:!1};return{next:function(){if(i>=0){var a=e[i];r.copyTo(n),o.value={id:i,aabb:n,count:a.endIdx-a.beginIdx+1},i=t.nextDFS(e,r,!0)}else o.done=!0;return o},size:e.length}},t.nextDFS=function(t,e,n){var r=e.currentIdx,i=n?t[r].firstChild:-1;if(i>=0)return e.descend(i),i;var o=t.length;for(r=t[r].parentIdx;r>=0;){if((i=e.pop()+1)<o&&t[i].parentIdx===r)return e.descend(i),i;r=t[r].parentIdx}return-1},t.MAX_DEPTH=15,t}(),Os=function(){function t(t,e){this.tree=t,this.path=new Int32Array(Ps.MAX_DEPTH),this.resize(e)}return t.prototype.resize=function(t){this.cxcy0=us.center(t),this.w0=us.width(t),this.h0=us.height(t),this.hypot0=La(this.w0,this.h0),this.reset()},t.prototype.reset=function(){this.hypot=this.hypot0,this.currentIdx=0,this.depth=0},t.prototype.descend=function(t){this.hypot*=.5,this.path[++this.depth]=t,this.currentIdx=t},t.prototype.pop=function(){this.hypot*=2;var t=this.depth--,e=this.path[t];return this.currentIdx=this.path[t-1],e},t.prototype.copyTo=function(t){for(var e=t.tl,n=t.br,r=this.w0,i=this.h0,o=this.cxcy0,a=o.x,s=o.y,u=0,l=this.depth,c=this.tree,f=this.path;u<=l;u++)switch(r*=.5,i*=.5,c[f[u]].quad){case 0:a-=r,s-=i;break;case 1:a+=r,s-=i;break;case 2:a-=r,s+=i;break;case 3:a+=r,s+=i}e.x=a-r,e.y=s-i,n.x=a+r,n.y=s+i},t}();function Rs(t,e,n){return t>=e&&t<=n}var Bs=function(t){function e(e,n,r){void 0===e&&(e="f32");var i=t.call(this,n,r)||this;return i.dtype=e,i.outboundExpansions=null,i}return Na(e,t),e.prototype.buildXYM=function(t,e,n,r){var i=r.length;(void 0===this.zxs||this.zxs.length<i)&&(this.zxs=gs(this.dtype,i),this.zys=gs(this.dtype,i),this.zms=gs(this.dtype,i));for(var o=this,a=o.zxs,s=o.zys,u=o.zms,l=0;l<i;l++){var c=r[l];a[l]=t.get(c),s[l]=e.get(c),u[l]=n.get(c)}this.index=r},e.prototype.build=function(e,n,r,i){t.prototype.build.call(this,e,n,r),this.buildXYM(e,n,i,this.zorder),this.computeExpansions()},e.prototype.buildSubset=function(e,n,r,i,o){this.buildXYM(n,r,o,e),t.prototype.build.call(this,ps(this.zxs),ps(this.zys),i);var a=this.zorder;as(this.zxs,a),as(this.zys,a),as(this.zms,a),as(e,a),this.computeExpansions()},e.prototype.computeExpansions=function(){for(var t=this,e=t.tree,n=t.N,r=t.zxs,i=t.zys,o=t.zms,a=this.outboundExpansions=vs([e.length,3],this.dtype),s=a.values,u=e.length-1,l=n;l>0&&u>=0;u--){var c=e[u];if(!(c.firstChild>=0)){for(var f=0,d=0,h=0,p=c.endIdx;p>=c.beginIdx;p--){var v=o[p];d+=r[p]*v,h+=i[p]*v,f+=v,l--}for(var g=u;g>=0;)s[m=a.index(g,0)]+=d,s[m+1]+=h,s[m+2]+=f,c=e[g=c.parentIdx]}}for(u=e.length-1;u>=0;u--){var m;v=1/s[(m=a.index(u,0))+2],s[m]*=v,s[m+1]*=v}},e.prototype.runOnPoint=function(t,e,n,r,i,o){void 0===o&&(o=.5),null!==this.outboundExpansions&&0!==this.outboundExpansions.size&&this.runOnPointInternal(t,e,n,r,this.path,i,o,-1)},e.prototype.runOnPoints=function(t,e,n,r){if(void 0===r&&(r=.5),null!==this.outboundExpansions&&0!==this.outboundExpansions.size)for(var i=this,o=i.zxs,a=i.zys,s=i.zms,u=i.N,l=i.index,c=i.path,f=e.values,d=n.values,h=0;h<u;h++){var p={x:0,y:0};this.runOnPointInternal(t,o[h],a[h],s[h],c,p,r,h);var v=l[h];f[e.index(v)]+=p.x,d[n.index(v)]+=p.y}},e.prototype.runOnPointInternal=function(t,e,n,r,i,o,a,s){var u=this,l=u.tree,c=u.zxs,f=u.zys,d=u.zms,h=u.outboundExpansions;i.reset();for(var p=0;p>=0;){var v=l[p],g=v.beginIdx,m=v.endIdx,y=h.get(p,0),b=h.get(p,1);if(!Rs(s,g,m)&&i.hypot/Pa(e,n,y,b)<a)t(e,n,r,y,b,h.get(p,2),o);else{if(v.firstChild>=0){i.descend(p=v.firstChild);continue}for(;g<=m;)g!==s&&t(e,n,r,c[g],f[g],d[g],o),g++}p=Ps.nextDFS(l,i,!1)}},e.prototype.traverse=function(){var e=this.outboundExpansions;return Ya(t.prototype.traverse.call(this),(function(t){return t.x=e.get(t.id,0),t.y=e.get(t.id,1),t.mass=e.get(t.id,2),t}))},e}(Ps),zs={__proto__:null,BarnesHut:Bs};function Ds(t){return t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)}function js(t){return Ds(t)?Ns({},t):t}var Fs=new Map;function Zs(t,e){return Fs.has(e)?Fs.get(e):(Fs.set(e,t),Object.keys(e).forEach((function(n){var r=e[n];Object.prototype.hasOwnProperty.call(t,n)&&void 0!==t[n]?Ds(r)&&Ds(t[n])&&(t[n]=Zs(js(t[n]),r)):t[n]=js(r)})),t)}function Ns(t,e){return Ds(t)&&Ds(e)?Zs(t,e):t}function Vs(t){for(var e=1;e<arguments.length;e++)Ns(t,arguments[e]);return Fs.clear(),t}function Gs(t,e,n){return t<=n&&n<e}function Ys(t,e,n){return t.indexOf(e)>=0?e:n}var Ws={x:0,y:0};function Us(t,e){var n=La(t,e);return n>Sa?{x:t/n,y:e/n}:{x:t,y:e}}function Xs(t,e){return t.x*e.x+t.y*e.y}function Hs(t,e,n){t.x=Ra(t.x,e.x,n),t.y=Ra(t.y,e.y,n)}function Ks(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,a=n.y-t.y,s=r*(t.x+e.x)+i*(t.y+e.y),u=o*(t.x+n.x)+a*(t.y+n.y),l=r*(n.y-e.y)-i*(n.x-e.x);if(Math.abs(l)<Sa)return null;var c=(a*s-i*u)*(l=.5/l),f=(r*u-o*s)*l;return{x:c,y:f,rSq:(t.x-c)*(t.x-c)+(t.y-f)*(t.y-f)}}function Qs(t){for(var e={x:1/0,y:1/0},n={x:-1/0,y:-1/0},r=t.next();!1===r.done;r=t.next()){var i=r.value,o=i.x,a=i.y,s=i.r;e.x=Math.min(e.x,o-s),e.y=Math.min(e.y,a-s),n.x=Math.max(n.x,o+s),n.y=Math.max(n.y,a+s)}return{tl:e,br:n}}function Js(t,e,n,r,i,o){var a=Ks(r<0?t[~r]:{x:e.get(r),y:n.get(r)},i<0?t[~i]:{x:e.get(i),y:n.get(i)},o<0?t[~o]:{x:e.get(o),y:n.get(o)});return null!==a&&(a.adx=r,a.bdx=i,a.cdx=o),a}function qs(t,e,n){for(var r=t.length-1,i=t.length-1;i>0;i-=2){var o=t[i],a=t[i-1];if(e===o&&n===a||e===a&&n===o)return is(t,i,r),is(t,i-1,r-1),void(t.length-=2)}t.push(e,n)}function $s(t,e){void 0===e&&(e=[-1,-1]);var n={value:e,done:!1},r=0,i=0,o=-1,a=-1,s=-1;return{next:function(){if(r<t.length||i>0)switch(i){case 0:o=t[r++],a=t[r++],s=t[r++],e[0]=o,e[1]=a,i++;break;case 1:e[1]=s,i++;break;case 2:e[0]=a,i=0}else n.done=!0;return n},size:t.length}}function tu(t,e,n,r){void 0===r&&(r=[-1,-1]);var i={value:r,done:!1},o=0,a=0,s=[[-1,-1],[-1,-1],[-1,-1]],u=function(t,r){return Ta(e.get(r[0])-e.get(r[1]),n.get(r[0])-n.get(r[1]))-Ta(e.get(t[0])-e.get(t[1]),n.get(t[0])-n.get(t[1]))};return{next:function(){if(o<t.length||a>0)switch(a){case 0:var e=t[o++],n=t[o++],l=t[o++];s[0][0]=e,s[0][1]=n,s[1][0]=e,s[1][1]=l,s[2][0]=n,s[2][1]=l,u(s[0],s[1])<0&&is(s,0,1),u(s[1],s[2])<0&&is(s,1,2),u(s[0],s[1])<0&&is(s,0,1),r[0]=s[0][0],r[1]=s[0][1],a++;break;case 1:r[0]=s[1][0],r[1]=s[1][1],a=0}else i.done=!0;return i},size:t.length/3*2}}function eu(t,e,n,r,i){var o=new Int32Array(t.size);return os(o),nu(o,t,e,n,r,i)}function nu(t,e,n,r,i,o){void 0===i&&(i=0);for(var a=r.length,s=null;!(null===(s=ru(t,e,n,r))||i--<=0);){r.length=a;for(var u=s[0],l=s[1];u<l;u++)e.set(u,e.get(u)+o()),n.set(u,n.get(u)+o())}return s}function ru(t,e,n,r){var i=e.size;if(i<3)return null;var o=function(t,e,n){var r=ws(t),i=r[0],o=r[1],a=ws(e),s=a[0],u=o-i,l=a[1]-s;if(u<Ma&&l<Ma)return null;var c=Math.max(u,l),f=i+.5*u,d=s+.5*l;return[{x:f-n*c,y:d-c},{x:f,y:d+n*c},{x:f+n*c,y:d-c}]}(e,n,1e3);if(null===o)return[0,i];var a=[Js(o,e,n,-1,-2,-3)],s=-1;Array.prototype.sort.call(t,(function(t,n){return e.get(n)-e.get(t)}));for(var u=t.length-1;u>=0;u--){for(var l=t[u],c=[],f=e.get(l),d=n.get(l),h=a.length-1;h>s;){var p=a[h],v=p.x,g=p.y,m=p.rSq,y=p.adx,b=p.bdx,x=p.cdx,w=f-v;if(w>0&&w*w>m)is(a,++s,h);else{h--;var A=d-g;w*w+A*A-m>Sa||(qs(c,y,b),qs(c,b,x),qs(c,x,y),is(a,h+1,a.length-1),a.pop())}}for(var _=0,k=c.length-1;_<k;){var C=Js(o,e,n,c[_++],c[_++],l);if(null===C)return[l,l+1];a.push(C)}}var E=r.length;for(u=a.length-1;u>=0;u--){var M=a[u];M.adx>=0&&M.bdx>=0&&M.cdx>=0&&r.push(M.adx,M.bdx,M.cdx)}return r.length===E?[0,i]:null}var iu={__proto__:null,edgesOf:$s,urquhartEdgesOf:tu,triangulate:eu,triangulateSubset:nu};function ou(t,e,n,r){return function(i,o){var a=t.get(i),s=t.get(o);return Pa(a,e.get(i),s,e.get(o))-(n.get(i)+n.get(o))>r}}function au(t,e){var n=t[e],r=t[e+(e%3==2?-2:1)];if(n>r){var i=n;n=r,r=i}return[n,r]}function su(t,e,n){if(0===e.length)return Va();var r=function(t){var e=new Int32Array(t.length);return os(e),Array.prototype.sort.call(e,(function(e,n){var r=au(t,e),i=r[0],o=r[1],a=au(t,n),s=a[0],u=a[1];return i===s?o-u:i-s})),e}(e),i=[],o=new Int32Array(t),a=new Int32Array(r.length);ns(a,-1);for(var s=0;s<r.length-1;){var u=au(e,f=r[s]),l=au(e,d=r[s+1]);u[0]!==l[0]||u[1]!==l[1]?(i.push(f),o[u[0]]=1,o[u[1]]=1):(a[f]=d,a[d]=f,s++),s++}if(s===r.length-1&&(i.push(r[s]),o[r[s]]=1),n)for(var c=0;c<i.length;c++){var f,d=void 0,h=void 0;switch((f=i[c])%3){case 0:d=f+1,h=f+2;break;case 1:d=f+1,h=f-1;break;case 2:d=f-2,h=f-1}var p=e[f],v=e[d],g=e[h];0===o[g]&&n(p,v,g)&&(i[c]=-1,i.push(a[d],a[h]),o[g]=1)}return function(t,e){return Ya(Xa(Ka(t),(function(t){return t>=0})),(function(t){return au(e,t)}))}(i,e)}var uu={__proto__:null,longestSideConcavity:function(t,e){return function(n,r,i){var o=t.get(n),a=t.get(r),s=t.get(i),u=e.get(n),l=e.get(r),c=e.get(i),f=Pa(o,u,a,l);return Pa(s,c,o,u)<f&&Pa(s,c,a,l)<f}},circleConcavity:ou,concave:su},lu=function(){function t(t,e){this.xs=[],this.ys=[],this.bins=[],this.xs.push({index:0,size:t}),this.ys.push({index:0,size:e}),this.bins.push({filled:0,data:[!1]})}return t.prototype.rows=function(){return this.ys.length},t.prototype.cols=function(){return this.xs.length},t.prototype.splitRow=function(t,e){for(var n=this,r=n.xs,i=n.ys,o=n.bins,a=i.length,s=i[t].index,u=0;u<r.length;u++)o[u].data.push(o[u].data[s]);var l={index:a,size:e};return i.splice(t+1,0,l),i[t].size-=e},t.prototype.splitColumn=function(t,e){var n=this.xs,r=this.bins,i=n.length,o=n[t].index;r.push({data:r[o].data.slice(0),filled:r[o].filled});var a={index:i,size:e};return n.splice(t+1,0,a),n[t].size-=e},t.prototype.isEmpty=function(t,e){return!this.bins[this.xs[e].index].data[this.ys[t].index]},t.prototype.totalFilled=function(t){return this.bins[this.xs[t].index].filled},t.prototype.fillRange=function(t,e,n,r){for(var i=this,o=i.xs,a=i.ys,s=i.bins,u=n;u<=r;u++)for(var l=s[o[u].index],c=t;c<=e;c++)l.data[a[c].index]=!0,l.filled+=a[c].size},t.prototype.width=function(t){return this.xs[t].size},t.prototype.height=function(t){return this.ys[t].size},t}();function cu(t,e){for(var n=0,r=0,i=0,o=0;o<t.length;o++){var a=us.width(t[o]),s=us.height(t[o]);n+=a*s*1.2,r=Math.max(r,a),i=Math.max(i,s)}var u=Math.sqrt(n/e),l=u*e;return us.create(0,Math.max(r,l),0,Math.max(i,u))}var fu=function(){function t(t){void 0===t&&(t=Ma),this.tolerance=t}return t.prototype.addRectangle=function(t,e,n){for(var r=us.height(n),i=us.width(n),o=0,a=0,s=0,u=0,l=e.rows(),c=us.width(t)-i,f=us.height(t);o<=c;)if(du(t,s,r)>0||f-e.totalFilled(a)<r)o+=e.width(a++),s=0,u=0;else{for(;u<l&&!e.isEmpty(u,a);)s+=e.height(u++);if(u<l&&du(t,s,r)<=0){if(this.tryToFit(e,u,a,i,r,this.tolerance))return us.moveTo(n,t.tl.x+o,t.tl.y+s),!0;s+=e.height(u++)}}return!1},t.prototype.tryToFit=function(t,e,n,r,i,o){for(var a=t.width(n),s=t.height(e),u=t.cols(),l=t.rows(),c=n,f=e;s<i-o;){if(++f>=l)return!1;s+=t.height(f)}for(;a<r-o;){if(++c>=u)return!1;a+=t.width(c)}for(var d=n;d<=c;d++)for(var h=e;h<=f;h++)if(!t.isEmpty(h,d))return!1;var p=a-r;p>o&&t.splitColumn(c,p);var v=s-i;return v>o&&t.splitRow(f,v),t.fillRange(e,f,n,c),!0},t.prototype.solve=function(t,e){void 0===e&&(e=cu(t,1));for(var n=new lu(us.width(e),us.height(e)),r=0;r<t.length;r++)if(!this.addRectangle(e,n,t[r])){var i=new Int32Array(t.length-r);return os(i,r),{bounds:e,bins:n,unpacked:i}}return{bounds:e,bins:n,unpacked:[]}},t}();function du(t,e,n){return n-(us.height(t)-e)}var hu={__proto__:null,DynamicBins:lu,estimateDimensions:cu,Solver:fu},pu=-1;function vu(t,e){var n=new Int32Array(t);return void 0!==e&&0!==e&&ns(n,e),n}function gu(t,e,n){void 0===n&&(n=vu(e.countVertices()));var r=e.adjacency(),i=Array.isArray(t)?t:[t];return ns(n,-1),i.forEach((function(t){return n[t]=t})),mu(i,r),{next:function(){for(;;){var t=r.next();if(t.done){if(!mu(i,r))return t}else{var e=t.value;if(n[e]<0)return n[e]=t.group,i.push(e),t}}}}}function mu(t,e){for(;t.length>0;){var n=t.shift();if(e.reset(n)>0)return!0}return!1}var yu=function(){function t(t){this.buffer=t,this.start=0,this.size=this.end=t.length}return t.wrapArray=function(e){return new t(e)},t.prototype.get=function(t){return this.buffer[t]},t.prototype.set=function(t,e){this.buffer[t]=e},t.prototype.has=function(t){return Gs(this.start,this.end,t)},t}(),bu=function(){function t(t,e){this.size=t,this.value=e,this.start=0,this.end=t}return t.fromSize=function(e,n){return new t(e,n)},t.prototype.get=function(){return this.value},t.prototype.set=function(){},t.prototype.has=function(t){return Gs(this.start,this.end,t)},t}(),xu=function(){function t(t,e){this.buffer=t,this.inverse=e,this.start=0,this.size=this.end=t.length}return t.fromValues=function(e){for(var n=[],r={},i=0,o=e.next();!1===o.done;o=e.next()){var a=o.value;void 0===r[a]&&(r[a]=i,n.push(a),i++)}return new t(n,r)},t.fromKeyValuePairs=function(e){for(var n=[],r={},i=0,o=e.next();!1===o.done;o=e.next()){var a=o.value,s=a[0],u=a[1];if(void 0!==r[u])throw new Error("Value must be unique: "+u);if(s>=0){for(;n.length<=s;)n.push(null),i++;n[s]=u,r[u]=s,i--}}if(i>0)throw new Error("Keys must be contiguous");return new t(n,r)},t.prototype.get=function(t){return this.buffer[t]},t.prototype.has=function(t){return Gs(this.start,this.end,t)},t.prototype.set=function(t,e){this.buffer[t]=e,this.inverse[e]=t},t.prototype.getUniqueInverse=function(t){return this.inverse[t]},t.prototype.getInverse=function(t){return Ga(this.inverse[t])},t}();function wu(t){for(var e=t.iterateAdjacentPairs(),n=new Int32Array(t.countVertices()),r=e.next();!1===r.done;r=e.next())n[r.value[0]]++,n[r.value[1]]++;return yu.wrapArray(n)}function Au(t,e){void 0===e&&(e=wu(t));for(var n=t.countVertices(),r=t.iterateAdjacentPairs(),i=new Float32Array(t.countVertices()),o=r.next();!1===o.done;o=r.next()){var a=o.value,s=a[0],u=a[1];i[s]+=e.get(u),i[u]+=e.get(s)}for(var l=0;l<n;l++)i[l]/=Math.max(1,e.get(l));return yu.wrapArray(i)}function _u(t,e){void 0===e&&(e=0);for(var n=new Int32Array(t.countVertices()),r=qa(gu(e,t,n),e),i=r!==e?qa(gu(r,t,n),r):r,o=0,a=i;a!==r;o++)a=n[a];return{diameter:o,extremes:[r,i]}}function ku(t,e){void 0===e&&(e=wu(t));for(var n=t.countVertices(),r=new Int32Array(n),i=new Int32Array(n),o=new Int32Array(n),a=0,s=0;s<n;s++){var u=e.get(s);a=Math.max(a,u),r[s]=u}if(0===a)return yu.wrapArray(r);var l=new Int32Array(a+1);for(s=0;s<n;s++)l[r[s]]++;u=0;for(var c=0;u<=a;u++){var f=l[u];l[u]=c,c+=f}var d=l;for(s=0;s<n;s++){var h=d[u=r[s]];o[h]=s,d[u]++,i[s]=h}u=0;for(var p=0;u<=a;u++){var v=d[u];d[u]=p,p=v}for(var g=t.adjacency(),m=d[1];m<n;m++){var y=o[m],b=r[y];g.reset(y);for(var x=g.next();!1===x.done;x=g.next()){var w=x.value,A=r[w];if(A>b){var _=i[w],k=d[A];if(k!==_){var C=o[k];is(o,k,_),i[w]=k,i[C]=_}d[A]++,r[w]--}}}return yu.wrapArray(r)}var Cu=function(){function t(t,e,n){this.fwd=t,this.bwd=e,this.emptyValue=-1,this.start=0,this.size=this.end=n}return t.identiy=function(e){return new t(null,null,e)},t.emptyMap=function(e){return new t([],null,e)},t.fromIdPairs=function(e){for(var n=null,r=null,i=-1,o=e.next();!1===o.done;o=e.next()){var a=o.value,s=a[0],u=a[1];if(!(s<0)&&(i=Math.max(s,i),s!==u)){n=[],r=[];for(var l=0;l<i;l++)n.push(l),r.push(l);break}}for(;!1===o.done;o=e.next()){var c=o.value;if(s=c[0],u=c[1],!(s<0)){for(i=Math.max(s,i);n.length<=s;)n.push(-1);for(;r.length<=u;)r.push(-1);n[s]=u,u>=0&&(r[u]=s)}}return new t(n,r,i+1)},t.prototype.get=function(t){return Eu(t,this.fwd)},t.prototype.getUniqueInverse=function(t){return Eu(t,this.bwd)},t.prototype.getInverse=function(t){return Ga(this.getUniqueInverse(t))},t.prototype.has=function(t){return Gs(this.start,this.end,t)},t.prototype.set=function(){},t}();function Eu(t,e){return null!==e?t<e.length?e[t]:-1:t}function Mu(t){var e=null,n=null;return"function"!=typeof t?(e=t.defaultValue,void 0!==t.map&&(n=t.map)):n=t,{map:n,defaultValue:e}}function Su(t,e){var n=Mu(e),r=n.map,i=n.defaultValue;if(null===r)return bu.fromSize(t,i);for(var o=[],a=0;a<t;a++)o.push(r(a));return yu.wrapArray(o)}function Iu(t,e){var n=[-1,-1],r=Ya(Ha(t.start,t.end),(function(r){var i=t.get(r),o=e.getUniqueInverse(i);return n[0]=r,n[1]=void 0!==o?o:-1,n}));return Cu.fromIdPairs(r)}function Lu(t,e,n){var r;void 0===t[e]&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return void 0===r&&(r=n(t)),r}})}function Tu(t,e){Object.keys(e).forEach((function(n){return Lu(t,n,e[n])}))}var Pu=function(){function t(t,e,n){this.tourStart=t,this.tours=e,this.nTours=n,this.defaultValue=-1,this.start=0,this.size=this.end=e.length}return t.prototype.iterateGroups=function(){for(var t=this.tourStart,e=[],n=0,r=this.nTours;r>0;)t[n]===n&&(e.push(n),r--),n++;return Ka(e)},t.prototype.iterateGroup=function(t){t=this.tourStart[t];var e=this.tours,n={done:!1,value:t},r=!1;return{next:function(){return n.value=t,n.done=r,r||(e[t]>t?t=e[t]:r=!0),n}}},t.prototype.groupSize=function(t){t=this.tourStart[t];for(var e=1;t<(t=this.tours[t]);)e++;return e},t.prototype.countGroups=function(){return this.nTours},t.prototype.get=function(t){return this.tourStart[t]},t.prototype.set=function(){throw new Error("Readonly")},t.prototype.has=function(t){return t>=this.start&&t<this.size},t.build=function(e){for(var n=e.length,r=new Int32Array(n),i=new Int32Array(n),o=0,a=0;a<n;a++){var s=Ou(e,a,!0),u=void 0;s===a?(o++,u=a):u=i[s],r[u]=a,i[s]=a}return new t(e,r,o)},t}();function Ou(t,e,n){for(var r=e;r>=0&&t[r]!==r;)r=t[r];if(n)for(var i=void 0;e!==r;)i=e,e=t[e],t[i]=r;return r}function Ru(t,e,n){var r=Ou(t,e,!0),i=Ou(t,n,!0);r>i?t[r]=i:r<i&&(t[i]=r)}function Bu(t){return zu(t.iterateAdjacentPairs(!1),t.countVertices())}function zu(t,e){var n=new Int32Array(e);os(n,0);for(var r=t.next();!1===r.done;r=t.next()){var i=r.value,o=i[0],a=i[1];o>=0&&a>=0&&Ru(n,o,a)}return Pu.build(n)}var Du=function(){function t(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.directedCategory=t,this.selfLoops=e,this.rewriteEdges=n,this.badIncidence=0,this.initialize(0,0)}return t.prototype.rawPairs=function(){return this.pairs},t.prototype.iterateEdges=function(){return Ha(0,this.E)},t.prototype.iterateVertices=function(){return Ha(0,this.V)},t.prototype.countVertices=function(){return this.V},t.prototype.countEdges=function(){return this.E},t.prototype.countInvalidIncidence=function(){return this.buildAdjacency(),this.badIncidence},t.prototype.source=function(t){return this.pairs[2*t]},t.prototype.target=function(t){return this.pairs[2*t+1]},t.prototype.containsEdge=function(t){return Gs(0,this.E,t)},t.prototype.containsVertex=function(t){return Gs(0,this.V,t)},t.prototype.incidence=function(){return this.buildAdjacency(),ju(this.bufferIndex,this.buffers.incidence)},t.prototype.adjacency=function(){return this.buildAdjacency(),ju(this.bufferIndex,this.buffers.adjacency)},t.prototype.iterateAdjacentPairs=function(t,e){return void 0===e&&(e=[-1,-1,-1]),0===this.countEdges()?Va():(this.buildAdjacency(),!t&&this.badIncidence>0?function(t,e,n,r,i){var o={done:!1,value:i},a=0;return{next:function(){for(;e<n;){var r=t[a++],s=t[a++];if(r!==pu&&s!==pu)return i[0]=r,i[1]=s,i[2]=e++,o;e++}return o.done=!0,o},size:n-e-r}}(this.pairs,0,this.E,this.badIncidence,e):function(t,e,n,r){var i={done:!1,value:r},o=0;return{next:function(){return e<n?(r[0]=t[o++],r[1]=t[o++],r[2]=e++):i.done=!0,i},size:n-e}}(this.pairs,0,this.E,e))},t.prototype.isAdjacent=function(t,e){this.buildAdjacency();for(var n=this.buffers,r=this.bufferIndex,i=r[t],o=r[t+1];i!==o;i++)if(n.adjacency[i]===e)return n.incidence[i];return-1},t.prototype.isIncident=function(t,e){throw new Error("not impl")},t.prototype.insertEdge=function(t,e){var n=e[0],r=e[1],i=2*t;Gs(0,this.V,n)&&Gs(0,this.V,r)&&(this.selfLoops||n!==r)?(this.pairs[i]=n,this.pairs[i+1]=r,this.bufferIndex[n]++,this.bufferIndex[r]++):(this.badIncidence++,this.pairs[i]=pu,this.pairs[i+1]=pu)},t.prototype.buildAdjacency=function(){if(null===this.buffers){for(var t=this.pairs,e=this.bufferIndex,n=this.rewriteEdges,r="d"===this.directedCategory,i=this.countVertices(),o=0;o<t.length;o+=2)t[o]!==pu&&(n&&e[t[o]]<e[t[o+1]]&&is(t,o,o+1),r&&e[t[o+1]]--);var a=0;for(o=0;o<i;o++){var s=e[o];e[o]=a,a+=s}e[i]=a,this.buffers=function(t){return{incidence:vu(t,pu),adjacency:vu(t,pu)}}(a);var u=function(t,e,n,r){for(var i=0,o=0,a=0;a<t.length;a+=2,o++){var s=t[a],u=t[a+1];s!==pu&&u!==pu&&(Fu(n,e[s],u,o)<0||!r&&Fu(n,e[u],s,o)<0)&&(t[a]=pu,t[a+1]=pu,i++)}return i}(t,e,this.buffers,r);if(u>0){var l=this.buffers,c=l.adjacency,f=l.incidence,d=0;for(o=0;o<i;o++){var h=e[o],p=e[o+1];for(e[o]-=d;h<p;)c[h]>=0?(c[h-d]=c[h],f[h-d]=f[h]):d++,h++}e[i]-=d,this.badIncidence+=u}}},t.prototype.buildKeyed=function(t,e){var n=this;this.initialize(e,t.size);var r=0,i={value:[-1,void 0],done:!1};return{next:function(){var e=t.next();return e.done?i.done||(i.done=!0):(n.insertEdge(r,e.value),i.value[0]=r++,i.value[1]=e.value[2]),i},start:0,end:t.size}},t.prototype.build=function(t,e){this.initialize(e,t.size);for(var n=0,r=t.next();!r.done;r=t.next(),n++)this.insertEdge(n,r.value)},t.prototype.initialize=function(t,e){this.V=t,this.E=e,this.bufferIndex=vu(t+1),this.pairs=vu(2*e,pu),this.badIncidence=0,this.buffers=null},t}();function ju(t,e){var n={done:!1,group:0,value:0},r=t[0],i=t.length>1?t[1]:r;return{reset:function(e){r=t[e];var o=(i=t[e+1])-r;return n.group=e,n.done=0===o,o},next:function(){return r>=i?n.done=!0:n.value=e[r++],n}}}function Fu(t,e,n,r){for(var i=t.adjacency,o=t.incidence;e<i.length;){var a=i[e];if(a===pu)return i[e]=n,o[e]=r,e;if(a===n)return-1;e++}return-1}var Zu=function(){function t(t){this.parent=t,this.vInv=vu(t.countVertices(),pu)}return t.prototype.induceAll=function(t){return this.induceFrom(Ya(t.iterateGroups(),(function(e){return t.iterateGroup(e)})))},t.prototype.induceFrom=function(t,e){void 0===e&&(e=function(){return!0});var n=this.vInv,r=this.parent,i=r.incidence(),o=vu(r.countEdges()),a=vu(r.countVertices()),s=0,u=0,l=0,c=0;return Ya(t,(function(t){for(c=l;u<s;)n[a[u++]]=pu;for(var f=t.next();!1===f.done;f=t.next(),s++)a[s]=f.value,n[f.value]=s-u;for(var d=u;d<s;d++){var h=a[d];i.reset(h);for(var p=i.next();!1===p.done;p=i.next()){var v=r.target(p.value);h!==v&&n[v]>=0&&e(p.value)&&(o[l++]=p.value)}}var g={vs:a.subarray(u,s),es:o.subarray(c,l)};return[Ka(g.es,(function(t){return[n[r.source(t)],n[r.target(t)],t]})),g]}))},t}(),Nu={__proto__:null,items:vu,degrees:wu,avgNeighborDegree:Au,diameter:_u,kcore:ku,buildFromLabeledIterators:function(t,e,n){var r=xu.fromValues(t),i=n.buildKeyed(Ya(e,(function(t){var e=t[0],n=t[1],i=t[2];return[r.getUniqueInverse(e),r.getUniqueInverse(n),i]})),t.size),o=xu.fromKeyValuePairs(i);return{vertexMap:r,edgeMap:o}},buildPropertyBagFrom:function(t,e,n){n=void 0!==n?n:t.size;var r={},i=[];Object.keys(e).forEach((function(t){var o=Mu(e[t]),a=o.map,s=o.defaultValue;if(null!==a){for(var u=[],l=0;l<n;l++)u.push(s);i.push({buffer:u,map:a}),r[t]=yu.wrapArray(u)}else r[t]=bu.fromSize(n,s)}));for(var o=t.next(),a=i.length;!o.done;o=t.next()){var s=o.value,u=s[0],l=s[1];if(u>=0&&u<n)for(var c=0;c<a;c++){var f=i[c];f.buffer[0|u]=f.map(l)}}return r},buildPropertyBag:function(t,e){return Object.keys(e).reduce((function(n,r){return n[r]=Su(t,e[r]),n}),{})},buildProperty:Su,buildLabelMapping:Iu,defineLazyProperty:Lu,defineLazyProperties:Tu,DefaultIdMapping:Cu,find:Ou,union:Ru,connectedComponents:Bu,connectedComponentsFrom:zu,all:function(t){var e=new Int32Array(t);return Pu.build(e)},ArrayPropertyMap:yu,ConstantPropertyMap:bu,StringLabelMap:xu,AdjacencyGraph:Du,SubgraphBuilder:Zu,byGroup:function(t,e){var n={value:null,done:!1},r={value:null,done:!0,group:null};return{next:function(){for(;r.done;){var i=t.next();if(i.done)return n.done=!0,n;e.reset(i.value),r=e.next()}return n.value=[r.group,r.value],r=e.next(),n}}},bfs:gu},Vu=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.padding=t,this.rotation=e}return t.prototype.applyTo=function(t,e,n,r,i,o){if(void 0===i&&(i=0),0===e.size)return i;void 0===o&&os(o=new Int32Array(e.size)),Array.prototype.sort.call(o,(function(t,e){return r.get(e)-r.get(t)}));var a=0;if(0===i){var s=o[a];e.set(s,t.x),n.set(s,t.y),i+=r.get(s)+this.padding,a++}for(var u=this.rotation,l=Math.PI,c=2*l,f=o.length;a<f;){var d=this.sizeRing(o,a,r,i,l),h=this.positionRing(t,e,n,r,o,a,2,u,l+u,i);h+=a+d.n>=f?this.positionRing(t,e,n,r,o,a,1,c+u,c+u,i,-1):this.positionRing(t,e,n,r,o,a,1,l+u,c+u,i),i+=2*d.meanRadius+this.padding,a+=h}return i},t.prototype.sizeRing=function(t,e,n,r,i){void 0===i&&(i=2*Math.PI);for(var o=0,a=0;e<t.length;){var s=t[e++];if((i-=2*(n.get(s)+.5*this.padding)/r)<0)break;a+=n.get(s),o++}return{n:o,meanRadius:o>0?a/o:0}},t.prototype.positionRing=function(t,e,n,r,i,o,a,s,u,l,c){void 0===c&&(c=1);for(var f=0,d=Gu(s-u);o<i.length;){var h=i[o];if(h>=0){var p=r.get(h)+.5*this.padding,v=c*(p/(p+l));if(d!==Gu(s+2*v-u))break;e.set(h,t.x+Math.cos(s+v)*(p+l)),n.set(h,t.y-Math.sin(s+v)*(p+l)),i[o]=-1,s+=2*v,f++}o+=a}return f},t}();function Gu(t){return t>0?1:-1}var Yu=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===n&&(n=!0),this.padding=t,this.focalPoint=e,this.robust=n,this.perturb=r,this.state=null}return t.prototype.build=function(t,e,n,r,i){var o=t.size,a=this.padding;r=null!=r?r:vs([o],"f32",1);var s=new Du("u",!1),u=[];if(o>2){var l=eu(t,e,u,this.robust?o:0,this.perturb);if(null!==l)return l;s.build($s(u),o);var c=function(t,e,n,r){for(var i=t.countVertices(),o=t.adjacency(),a=t.adjacency(),s=[],u=0;u<i;u++){o.reset(u);for(var l=r.get(u),c=o.next();!c.done;c=o.next()){if(r.get(c.value)<l){a.reset(c.value);for(var f=a.next();!f.done;f=a.next())if(!(f.value<=u)){var d=l+r.get(f.value);Pa(e.get(f.value),n.get(f.value),e.get(u),n.get(u))-d<.5*d&&s.push(u,f.value)}}u<c.value&&s.push(u,c.value)}}return s}(s,t,e,n);c.length>0&&s.build(Ja(Ka(c)),o)}else 2===o?(s.build(Ka([[0,1]]),o),Pa(t.get(0),e.get(0),t.get(1),e.get(1))<Ma&&t.set(1,t.get(1)+2*Ma)):s.build(Va(),o);var f=function(t,e,n,r){for(var i=e.size,o=new Float32Array(i),a=-1,s=0,u=1/0;s<i;s++){var l=Pa(e.get(s),n.get(s),t.x,t.y),c=r.get(s);o[s]=l+c,l<u&&(a=s,u=l)}return{min:a,distances:o}}(this.focalPoint,t,e,n),d=f.min,h=function(t,e,n,r,i,o){var a=r.countEdges()-r.countInvalidIncidence(),s=r.countVertices(),u=void 0!==o,l=vu(s),c=vu(2*a),f=vu(s);if(s>0&&a>0){for(var d=r.adjacency(),h=gu(t,r,l),p=0,v=0,g={value:t,done:!1};!1===g.done;g=h.next()){var m=g.value,y=n.get(m),b=e[m];d.reset(m);for(var x=-1,w=d.next(),A=b;!1===w.done;w=d.next()){var _=w.value,k=n.get(_),C=e[_];C>b||y+k<Ma||(i(m,_)&&(c[p++]=m,c[p++]=_),C<A&&(!u||o.get(_)>0)&&(x=_,A=C))}x>=0&&y>Ma&&(l[m]=x,f[v++]=m)}c=c.subarray(0,p),f=f.subarray(0,v)}return{predecessors:l,es:c,vs:f}}(d,f.distances,r,s,(function(r,i){var o=Pa(t.get(r),e.get(r),t.get(i),e.get(i)),s=n.get(r)+n.get(i)+a;return o-s<s}),i);return this.state={root:d,xs:t,ys:e,rs:n,es:h.es,triangles:u,predecessors:h.predecessors,vs:h.vs,ss:r},null},t.prototype.pack=function(t){void 0===t&&(t=.5);var e=this.state,n=e.xs,r=e.ys,i=e.rs,o=e.predecessors,a=e.vs,s=e.ss,u=e.root,l=this.focalPoint,c=this.padding;if(u>=0){var f=s.get(u)*t;n.set(u,Ra(l.x,n.get(u),f)),r.set(u,Ra(l.y,r.get(u),f))}for(var d=c*t*.5,h=a.length,p=0,v=0;v<h;v++){var g=a[v],m=o[g],y=n.get(g),b=r.get(g),x=n.get(m)-y,w=r.get(m)-b,A=La(x,w),_=i.get(g)+i.get(m)+c;if(A>Ma){var k=1/A,C=(A-_)*k;p+=C*C,C>0&&(C=C*C+d*k),C*=t*s.get(g),n.set(g,y+x*C),r.set(g,b+w*C)}}return h>0?p/h:0},t.prototype.packTowards=function(t,e,n){void 0===n&&(n=.5);for(var r=this.state,i=r.xs,o=r.ys,a=r.ss,s=i.size,u=0;u<s;u++){var l=a.get(u)*n;i.set(u,Ra(t.get(u),i.get(u),l)),o.set(u,Ra(e.get(u),o.get(u),l))}},t.prototype.solve=function(t,e,n){void 0===e&&(e=.5),n=null!=n?n:Math.max(.25*this.padding,Ma);var r=this.padding,i=this.focalPoint,o=this.state,a=o.xs,s=o.ys,u=o.rs,l=o.es,c=o.ss,f=0;do{f=0;for(var d=0;d<l.length;){var h=l[d++],p=l[d++],v=a.get(h),g=s.get(h),m=u.get(h),y=a.get(p),b=s.get(p),x=u.get(p),w=y-v,A=b-g,_=La(w,A),k=m+x+r;if(_+n<k&&_>0){f++;var C=Wu(v,g,y,b,m,x,c.get(h),c.get(p),i),E=e*((_-k)/_);w*=E,A*=E,a.set(h,v+C*w),s.set(h,g+C*A),a.set(p,y-(1-C)*w),s.set(p,b-(1-C)*A)}}}while(--t>0&&f>0);return f},t}();function Wu(t,e,n,r,i,o,a,s,u){var l=0;if(a!==s)l=(a-s)/(a+s);else{var c=Pa(t,e,u.x,u.y),f=Pa(n,r,u.x,u.y),d=Math.min(c-i,f-o);l=(c-i-(f-o))/(Math.max(c+i,f+o)-d)}return.5*(1+l)}var Uu={__proto__:null,InterleavingCircles:Vu,Solver:Yu};function Xu(t,e,n,r,i){void 0===r&&(r=vu(n.countVertices())),void 0===i&&(i=new Float32Array(n.countVertices()));var o=e.get(t),a=gu(t,n,r);i[t]=0;for(var s=0,u=0,l=a.next();!1===l.done;l=a.next(),s++){var c=l.value,f=r[c],d=.5*i[f];if(f!==t){var h=e.get(f),p=e.get(c),v=Xs(Us(h.x-o.x,h.y-o.y),Us(p.x-h.x,p.y-h.y)),g=.5+.5*Math.cos(.5*Math.PI*(v+1));d=Math.max(d,g*g*g)}i[c]=d,u+=d}return s>0?u/s:0}function Hu(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)<t.r-e.r+Ma}function Ku(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+s)/2}}function Qu(t,e){switch(e.length){case 0:return{x:0,y:0,r:0};case 1:return t[e[0]];case 2:return Ku(t[e[0]],t[e[1]]);default:var n=function(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,f=n.r,d=2*(r-a),h=2*(i-s),p=2*(u-o),v=r*r+(i*i-o*o-a*a-s*s)+u*u,g=2*(r-l),m=2*(i-c),y=2*(f-o),b=r*r+(i*i-o*o-l*l-c*c)+f*f,x=g*h-d*m,w=(h*b-m*v)/x-r,A=(m*p-h*y)/x,_=(g*v-d*b)/x-i,k=(d*y-g*p)/x,C=A*A+k*k-1,E=2*(w*A+_*k+o),M=w*w+_*_-o*o,S=(-E-Math.sqrt(E*E-4*C*M))/(2*C);return{x:w+A*S+r,y:_+k*S+i,r:S}}(t[e[0]],t[e[1]],t[e[2]]);if(!(n.r>=0)){var r=Ku(t[e[0]],t[e[1]]),i=Ku(t[e[0]],t[e[2]]),o=Ku(t[e[1]],t[e[2]]);n=(n=r.r>i.r?r:i).r>o.r?n:o}return n}}function Ju(t){if(0===t.length)return null;for(var e=t.length,n={i:0,prev:null,R:[],c:null};;){var r=n.i,i=n.R,o=n.prev,a=n.c;if(r===e||3===i.length)o.c=Qu(t,i),n=o;else if(null===a)n={i:r+1,prev:n,R:i,c:null};else if(Hu(a,t[r])){if(null===o)return a;o.c=a,n=o}else n={i:r+1,prev:n,R:i.concat([r]),c:null}}}var qu=function(){function t(t,e,n){void 0===t&&(t=0),void 0===n&&(n=!0),this.maxPerturbations=t,this.rng=e,this.urquart=n,this.mesh=new Du("u",!1),this.clusterState=null}return Object.defineProperty(t.prototype,"clusters",{get:function(){return null===this.clusterState?null:this.clusterState.cc},enumerable:!1,configurable:!0}),t.prototype.triangulate=function(t,e,n,r){var i=t.length;if(i<=3){switch(i){case 3:r.push(t[0],t[1],t[2]);break;case 2:r.push(t[0],t[1],t[0]);break;case 1:r.push(t[0],t[0],t[0])}return null}return nu(t,e,n,r,this.maxPerturbations,ja.uniform(0,1,this.rng))},t.prototype.buildSubsets=function(t,e,n){for(var r=[],i=t.next();!i.done;i=t.next()){var o=this.triangulate(i.value,e,n,r);if(null!==o)return o}this.xs=e,this.ys=n;var a=this.urquart?tu(r,e,n):$s(r);return this.mesh.build(a,e.size),null},t.prototype.build=function(t,e){var n=new Int32Array(t.size);return os(n),this.buildSubsets(Ga(n),t,e)},t.prototype.findClusters=function(t,e,n){for(var r=this,i=r.mesh,o=r.xs,a=r.ys,s=i.countEdges(),u=i.countVertices(),l=wu(i),c=new Float32Array(s),f=new Float32Array(u),d=new Float32Array(s),h=0,p=i.iterateAdjacentPairs(!1),v=p.next();!1===v.done;v=p.next(),h++){var g=v.value,m=g[0],y=g[1],b=g[2],x=d[h]=c[b]=Math.max(0,Pa(o.get(m),a.get(m),o.get(y),a.get(y))-(t.get(m)+t.get(y)));f[m]+=x,f[y]+=x}var w=Es(ps(d,[h])),A=w[0],_=w[1],k=Math.max(n,_+A*e);return{cc:zu(Xa(i.iterateAdjacentPairs(!1),(function(t){var e=t[0],n=t[1],r=t[2],i=f[e]/l.get(e),o=f[n]/l.get(n),a=k*(_/i),s=k*(_/o);return c[r]<a&&c[r]<s})),u),separations:c,edgeStats:[A,_]}},t.prototype.evaluate=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);for(var r=this.findClusters(t,e,n),i=r.separations,o=r.cc,a=r.edgeStats,s=this.mesh,u=new Map,l=[],c=s.iterateAdjacentPairs(),f=c.next();!1===f.done;f=c.next()){var d=f.value,h=d[0],p=d[1],v=d[2],g=o.get(h),m=o.get(p);if(g!==m){var y=$u(Math.min(m,g),Math.max(m,g));if(u.has(y)){var b=u.get(y);i[v]<i[l[b]]&&(l[b]=v)}else u.set(y,l.push(v)-1)}}var x=new Du("u",!1),w=new Float32Array(l.length);return x.build(Ka(l,(function(t,e){return w[e]=i[t],[o.get(s.source(t)),o.get(s.target(t))]})),s.countVertices()),this.clusterState={cc:o,edgeMap:yu.wrapArray(l),edgeLengths:yu.wrapArray(w),condensedGraph:x},a},t.prototype.separations=function(){var t=this.mesh,e=this.clusterState,n=e.cc,r=e.condensedGraph,i=e.edgeLengths,o=e.edgeMap,a=vu(t.countVertices());return function(e,s){var u=n.get(e),l=n.get(s);if(u===l)return[e,s];var c=r.isAdjacent(u,l);if(c<0){for(var f=gu(u,r,a),d=f.next();!1===d.done&&d.value!==l;)d=f.next();for(var h=0,p=d.value;p!==u;){var v=a[p],g=r.isAdjacent(p,v);i.get(g)>h&&(c=g,h=i.get(g)),p=v}}var m=o.get(c);return[t.source(m),t.target(m)]}},t}();function $u(t,e){return t+67108864*e}function tl(t,e,n){return void 0===e&&(e=Za()),new qu(t,e,n)}var el,nl={__proto__:null,nbody:zs,delaunay:iu,hull:uu,circlePacking:Uu,binPacking:hu,radialExtents:Ju,dbscan:tl,LinearQuadTree:Ps,get Rect(){return us},fastStress:Xu,origin:Ws,unit:Us,dot:Xs,lerp2d:Hs,circleIntersecting:Ks,pointExtents:function(t){for(var e={x:1/0,y:1/0},n={x:-1/0,y:-1/0},r=t.next();!1===r.done;r=t.next()){var i=r.value,o=i.x,a=i.y;e.x=Math.min(e.x,o),e.y=Math.min(e.y,a),n.x=Math.max(n.x,o),n.y=Math.max(n.y,a)}return{tl:e,br:n}},circleExtents:Qs};!function(t){t.position2d="@@pos2d",t.group="@@group",t.groupStress="@@groupStress",t.radius="@@radius",t.sparseRadius="@@sparseRadius",t.degree="@@degree",t.avgNeighbourDegree="@@avgDegree",t.kcore="@@kcore",t.speed="@@speed",t.groupSpeed="@@groupSpeed",t.groupCenter="@@groupCenter",t.vAdaptive="@@vAdaptive",t.eAdaptive="@@eAdaptive"}(el||(el={}));var rl={seed:void 0,consistentSeeds:!1,scale:void 0,adaptive:!1,minGroupSizes:1},il=function(){function t(t,e){var n=this;this.rng=t,this.opts=e,this.groupSeeds=new Map,this.done=!1,this.progress=function(){return n.done?1:0}}return t.prototype.state=function(){return this.groupSeeds},t.prototype.initialize=function(t,e){var n=this,r=this.opts;if(r.consistentSeeds&&void 0!==e&&void 0!==t[el.vAdaptive]){var i=t[el.vAdaptive],o=t[el.group];Wa(o.iterateGroups(),(function(t){var a=i.get(t);e.has(a)&&o.groupSize(t)>=r.minGroupSizes&&n.groupSeeds.set(t,e.get(a))}))}},t.prototype.run=function(t){this.done=!0;var e=this.opts,n=this.groupSeeds,r=t[el.group],i=ja.uniform(0,1,this.rng);Wa(r.iterateGroups(),(function(o){var a=r.groupSize(o)>=e.minGroupSizes,s=a?e.scale:void 0,u=e.adaptive?function(t,e){void 0===e&&(e=.5);var n=t,r=n[el.position2d],i=n[el.radius],o=n[el.speed],a=void 0===o?bu.fromSize(r.size,1):o,s=n[el.vAdaptive];return function(t,n,o){if(a.get(t)>Ma&&(!s||s.get(t)===s.emptyValue)){var u=i.get(t)*e,l=r.get(t);l.x+=n*u,l.y+=o*u}}}(t,s):function(t,e,n){var r,i=t,o=i[el.position2d],a=i[el.group],s=i[el.radius],u=i[el.speed],l=void 0===u?bu.fromSize(o.size,1):u,c=(null===(r=t[el.groupCenter])||void 0===r?void 0:r.get(e))||Ws;return void 0===n&&(n=function(t,e,n){void 0===n&&(n=.75);var r=0,i=0;return Wa(t,(function(t){r+=e.get(t),i++})),r/=i,Math.sqrt(i/n)*r}(a.iterateGroup(e),s)),function(t,e,r){if(l.get(t)>Ma){var i=o.get(t);i.x=c.x+e*n,i.y=c.y+r*n}}}(t,o,s);e.consistentSeeds&&a&&(n.has(o)?i.rng.reset(n.get(o)):n.set(o,i.rng.state())),Wa(r.iterateGroup(o),(function(t){var e=i()*Math.PI*2,n=Math.sqrt(i());u(t,Math.cos(e)*n,Math.sin(e)*n)}))}))},t}();function ol(t){var e=Vs({},t,rl);return new il(Da(e.seed>0?e.seed:za*Math.random()|0),e)}var al={__proto__:null,findAdaptiveGroups:function(t,e){for(var n=[],r=e.parts.iterateGroups(),i=r.next();!1===i.done;i=r.next())for(var o=-1,a=e.parts.iterateGroup(i.value),s=a.next();!1===s.done;s=a.next()){var u=e.labels.get(s.value),l=t.labels.getUniqueInverse(u);if(void 0!==l){var c=t.parts.get(l);if(o<0)o=c;else if(o!==c){Qa(e.parts.iterateGroup(i.value),(function(t){return e.labels.get(t)}),n);break}}}return n}},sl=function(){function t(t){this.maxIterations=t,this.iterations=0}return t.prototype.increment=function(t){t?this.iterations=this.maxIterations:this.iterations++},t.prototype.progress=function(){return 0===this.maxIterations?1:this.iterations/this.maxIterations},t}(),ul={__proto__:null,adaptiveExpand:al,ProgressCounter:sl};function ll(t){return"function"==typeof t.state}var cl={progress:function(){return 1},initialize:function(){},run:function(){}},fl=function(){function t(t){this.layouts=t,this.initialized=!1,this.index=0,this.currentLayoutProgress=0}return t.prototype.progress=function(){return(this.index+this.currentLayoutProgress)/this.layouts.length},t.prototype.phase=function(){return this.progress()<1?this.layouts[this.index][1]:null},t.prototype.initialize=function(t,e){this.layouts.forEach((function(n){var r=n[0],i=n[1];if(void 0!==r.initialize){var o=e&&e.has(i)?e.get(i):void 0;r.initialize(t,o)}})),this.initialized=!0},t.prototype.run=function(t){for(;this.progress()<1;){var e=this.layouts[this.index][0];if(e.progress()<1){e.run(t),this.currentLayoutProgress=e.progress();break}this.index++,this.currentLayoutProgress=0}},t.prototype.state=function(t){for(var e=this.layouts,n=this.index,r=Math.min(n,e.length-1),i=new Map,o=0;o<=r;o++){var a=e[o],s=a[0],u=a[1];ll(s)&&i.set(u,s.state(t))}return i},t.prototype.getPhase=function(t){return this.layouts.reduce((function(e,n){var r=n[0];return n[1]===t&&e.push(r),e}),[])},t}();function dl(t,e,n){var r=1/(1+t*t*.001);r=n.min+(n.max-n.min)*r;var i=Math.min(1,1-e);return function(t,e){return Math.min(t*r,Ra(e,t,i))}}function hl(t){return.33+Math.pow(3,-t-.365)}var pl={speed:void 0,iterations:{min:10,max:60},focalPoint:0,padding:{proportion:0,min:0,max:0},cpIterations:8,initialize:1,adaptive:!1,liveUpdate:!1,scale:{attenuation:0}},vl=function(){function t(t){this.opts=t,this.groupState=[],this.schedule=null}return t.prototype.progress=function(){return this.counter?this.counter.progress():0},t.prototype.initialize=function(t){this.counter=new sl(this.opts.iterations.max);var e=t,n=e[el.group],r=e[el.position2d],i=e[el.sparseRadius],o=void 0===i?t[el.radius]:i,a=e[el.speed],s=n.iterateGroups();if(this.opts.adaptive){var u=t[el.vAdaptive];Qa(s,(function(t){var e=n.iterateGroup(t);if(u){for(var i=0,s=n.iterateGroup(t),l=s.next();!1===l.done;l=s.next())u.get(l.value)===u.emptyValue&&i++;i>0&&i<n.groupSize(t)&&(e=Xa(e,(function(t){return u.get(t)!==u.emptyValue})))}var c=gl(e,r,o);c.id=t;var f=n.iterateGroup(t);for(l=f.next();!1===l.done;l=f.next())if(a.get(l.value)<Ma){var d=r.get(l.value),h=d.x,p=d.y;c.anchor={x:h,y:p,id:l.value};break}return c}),this.groupState)}else Qa(s,(function(t){return{x:0,y:0,id:t}}),this.groupState)},t.prototype.run=function(t){var e=this.opts,n=t,r=n[el.group],i=n[el.position2d];if(null===this.schedule){var o=i.size;if(0===o)return this.schedule=new yl({min:0,max:0},0),void this.counter.increment(!0);var a=t,s=a[el.sparseRadius],u=void 0===s?t[el.radius]:s,l=a[el.groupSpeed],c=void 0===l?bu.fromSize(o,1):l,f=this.initInternal(i,u,r,c);this.schedule=new yl(e.iterations,f)}var d=this.runSolver(this.schedule.packingSpeed()),h=this.schedule.update(d.convergence,d.broken);(e.liveUpdate||h>=1)&&this.moveGroups(i,r),this.counter.increment(this.schedule&&this.schedule.progress>=1)},t.prototype.runSolver=function(t){var e=this,n=e.opts,r=e.solver,i=ys(e.xyrs),o=i[0],a=i[1],s=i[2],u=i[3];if(null!==r.build(o,a,s,u,this.attractionMask))throw new Error("packing fail");return{convergence:t>Ma?r.pack(t):1,broken:r.solve(n.cpIterations,.5)}},t.prototype.initInternal=function(t,e,n,r){var i,o=this,a=this.opts.padding,s=n.countGroups(),u=ys(this.xyrs=vs([4,s],"f64")),l=u[0],c=u[1],f=u[2],d=u[3],h=a.min;this.groupState.forEach((function(r,i){var s=gl(n.iterateGroup(r.id),t,e),u=s.x,p=s.y;if(o.opts.adaptive)if(r.anchor){var v=t.get(r.anchor.id);u=r.anchor.x+s.x-v.x,p=r.anchor.y+s.y-v.y}else u=r.x,p=r.y;r.x=s.x,r.y=s.y;var g=Oa(s.r*a.proportion-h,0,a.max-h);l.set(i,u),c.set(i,p),f.set(i,s.r+g),d.set(i,1)})),this.opts.adaptive&&this.moveGroups(t,n);var p=[],v=[];this.groupState.forEach((function(t,e){var n=r.get(t.id);n>Ma?v.push(e):p.push(e),d.set(e,n)}));var g,m=this.opts.focalPoint;g="object"!=typeof m?function(t,e,n,r){for(var i=t.length,o=0,a=0;a<i;a++)o+=(c=r.get(t[a]))*c;for(var s=0,u=0,l=(a=0,1/o);a<i;a++){var c,f=t[a],d=l*(c=r.get(f))*c;s+=d*e.get(f),u+=d*n.get(f)}for(var h=0,p=(a=0,1/0);a<i;a++){f=t[a];var v=Pa(e.get(f),n.get(f),s,u)-r.get(f);v<p&&(h=f,p=v)}return{x:e.get(h),y:n.get(h)}}(0===m&&p.length>0?p:v,l,c,f):m;var y=2===this.opts.initialize?p.length>0?1:3:this.opts.initialize;if(3!==y){var b=void 0,x=0;if(1===y&&p.length>0){var w=function(t,e,n,r,i,o){var a,s,u=6*i,l=[],c=0;if(null===nu(o,t,e,l,0)){s=vs([t.size],"i32");for(var f=ou(t,e,n,u),d=su(t.size,l,f),h=d.next(),p=1/0;!1===h.done;h=d.next()){var v=h.value,g=v[0],m=v[1];s.set(g,1),s.set(m,1);var y=.5*(t.get(g)+t.get(m)),b=.5*(e.get(g)+e.get(m)),x=Pa(r.x,r.y,y,b);x<p&&(a=Math.atan2(r.y-b,y-r.x),p=x)}a<0&&(a+=2*Math.PI)}for(var w=0;w<o.length;w++){var A=o[w],_=Pa(r.x,r.y,t.get(A),e.get(A))+n.get(A);_>c&&(c=_)}return{rotation:a,radius:c+=i,mask:s}}(l,c,f,g,h,p);b=w.rotation,x=w.radius,w.mask&&(this.attractionMask=w.mask,v.forEach((function(t){return o.attractionMask.set(t,1)})))}new Vu(2*h,b).applyTo(g,l,c,f,x,v)}var A=Da(37),_=ws(f)[1],k=ja.uniform(-.01*_,.01*_,A);return this.solver=new Yu(2*h,g,!0,k),null!==(i=this.opts.speed)&&void 0!==i?i:.75},t.prototype.moveGroups=function(t,e){for(var n=this.groupState,r=this.xyrs,i=0;i<n.length;i++){for(var o=n[i],a=r.get(0,i)-o.x,s=r.get(1,i)-o.y,u=r.get(3,i),l=e.iterateGroup(o.id),c=l.next();!c.done;){var f=t.get(c.value);f.x+=a*u,f.y+=s*u,c=l.next()}o.x+=a,o.y+=s}},t}();function gl(t,e,n){return Ju(Qa(t,(function(t){var r=e.get(t);return{x:r.x,y:r.y,r:n.get(t)}})))}var ml=function(){function t(t){this.opts=t,this.initialized=!1,this.groups=[]}return t.prototype.progress=function(){return this.counter?this.counter.progress():0},t.prototype.run=function(t){var e=t,n=e[el.position2d],r=e[el.group];this.initialized||(this.initialized=!0,this.initInternal(n,r),this.counter=new sl(this.opts.iterations.max*this.groups.length));var i=this.currGroup;if(!i){if(0===this.groups.length)return void this.counter.increment(!0);i=this.currGroup=this.createGroup(t,this.groups[0])}var o=this.runSolver(this.currGroup),a=i.schedule.update(0,o);(this.opts.liveUpdate||a>=1)&&this.moveGroup(n,r.iterateGroup(this.groups[0]),i.xs,i.ys),a>=1&&(this.currGroup=void 0,this.groups.shift()),this.counter.increment(this.initialized&&0===this.groups.length)},t.prototype.createGroup=function(t,e){var n,r=this,i=t[el.group],o=i.groupSize(e),a=t,s=a[el.radius],u=a[el.sparseRadius],l=void 0===u?s:u,c=a[el.speed],f=void 0===c?bu.fromSize(o,1):c,d=ys(vs([6,o],"f64")),h=d[0],p=d[1],v=d[2],g=d[3],m=d[4],y=d[5],b=this.opts.padding,x=b.min,w=this.sizer;return Wa(i.iterateGroup(e),(function(t,e){var n=w(s.get(t),l.get(t)),i=f.get(t),o=Oa(n*b.proportion-x,0,b.max-x),a=r.xyOrigin.get(0,t),u=r.xyOrigin.get(1,t);h.set(e,a),p.set(e,u),v.set(e,a),g.set(e,u),m.set(e,n+o),y.set(e,i)})),{schedule:new yl(this.opts.iterations,null!==(n=this.opts.speed)&&void 0!==n?n:.03),solver:new Yu(2*x,{x:Cs(v),y:Cs(g)},!1),originXs:h,originYs:p,xs:v,ys:g,rs:m,ss:y}},t.prototype.runSolver=function(t){var e=this.opts,n=t.originXs,r=t.originYs,i=t.xs,o=t.ys,a=t.rs,s=t.ss,u=t.schedule,l=t.solver;if(null!==l.build(i,o,a,s))return 0;var c=u.packingSpeed();return c>Ma&&l.packTowards(n,r,c),l.solve(e.cpIterations,.5)},t.prototype.initInternal=function(t,e){var n=t.size;this.sizer=dl(n,this.opts.scale.attenuation,{min:1,max:4});for(var r=this.xyOrigin=vs([2,n],"f64"),i=0;i<n;i++){var o=t.get(i);r.set(0,i,o.x),r.set(1,i,o.y)}var a=this.groups;Wa(e.iterateGroups(),(function(t){e.groupSize(t)>1&&a.push(t)}))},t.prototype.moveGroup=function(t,e,n,r){for(var i=e.next(),o=0;!1===i.done;i=e.next(),o++){var a=t.get(i.value);a.x=n.get(o),a.y=r.get(o)}},t}(),yl=function(){function t(t,e){this.opts=t,this.speed=e,this.repulsionOnly=!1,this.iteration=-1,this.progress=0,this.update(1,1)}return t.prototype.packingSpeed=function(){return this.repulsionOnly?0:this.speed},t.prototype.update=function(t,e){var n=++this.iteration,r=this.opts,i=r.min,o=r.max;return n>=i&&t<=.04&&(this.repulsionOnly=!0),this.progress=n>=o||0===e&&this.repulsionOnly?1:0},t}();function bl(t){return new vl(Vs({},t,pl))}function xl(t){return new ml(Vs({},t,pl))}var wl={__proto__:null,DefaultSchedule:yl,createGroupPacking:bl,removeOverlaps:xl},Al={aspectRatio:1.33,padding:{proportion:0,min:0,max:0},groupOrder:void 0};function _l(t,e){return e+2*Oa(e*t.proportion,t.min,t.max)}function kl(t,e,n){return n>Ma?Math.max(function(t,e){return Math.ceil(t/e)*e}(e,n),function(t,e){return Math.round(t/e)*e}(t,n)):t}function Cl(t,e,n,r){var i=t;if(n&&e>Ma){var o=t/e;i=Oa(Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))*e,t,1.33*t)}var a=Math.max(t+2*r.min,i);return kl(Math.max(_l(r,t),i),a,e)}var El=function(){function t(t){var e=this;this.opts=t,this.groupState=[],this.packingResult=null,this.bounds=null,this.progress=function(){return null!==e.packingResult&&0===e.packingResult.unpacked.length?1:0}}return t.prototype.run=function(t){var e=t,n=e[el.position2d],r=e[el.radius],i=e[el.sparseRadius],o=void 0===i?r:i,a=e[el.group],s=e[el.groupSpeed];null===this.bounds?this.bounds=this.initInternal(n,o,a,s):null!==this.packingResult&&this.packingResult.unpacked.length>0&&us.scale(this.bounds,1.05,1.05),this.packingResult=this.solver.solve(this.groupState,this.bounds),this.offsetGroups(n,a)},t.prototype.initInternal=function(t,e,n,r){var i=this.opts,o=i.padding,a=i.aspectRatio,s=i.groupOrder,u=Qa(void 0!==s?Ka(s):n.iterateGroups(),(function(i){var o=Qs(Ya(n.iterateGroup(i),(function(n){var r=t.get(n);return{x:r.x,y:r.y,r:e.get(n)}})));return o.filter=r&&r.get(i)<Ma,o.cxcy=us.center(o),o.id=i,o}),this.groupState),l=function(t,e){return t.reduce((function(t,n){var r=.5*(us.width(n)+us.height(n));return Math.min(t,_l(e,r))}),2*e.max)}(u,o),c=u.length>3;return u.forEach((function(t){return us.resize(t,Cl(us.width(t),l,c,o),Cl(us.height(t),l,c,o))})),this.solver=new fu(.01*o.min),cu(u,a)},t.prototype.offsetGroups=function(t,e){for(var n=this.groupState,r=0;r<n.length;r++){var i=n[r];if(!i.filter){for(var o=us.center(i),a=o.x-i.cxcy.x,s=o.y-i.cxcy.y,u=e.iterateGroup(i.id),l=u.next();!l.done;l=u.next()){var c=t.get(l.value);c.x+=a,c.y+=s}i.cxcy=o}}},t}();function Ml(t){return new El(Vs({},t,Al))}var Sl={__proto__:null,create:Ml};function Il(t){return"number"==typeof t}var Ll=function(){function t(t){var e=this;this.opts=t,this.pinPoint=null,this.done=!1,this.progress=function(){return e.done?1:0}}return t.prototype.initialize=function(t){var e=this.opts.pinTo;if(void 0!==e)if(Il(e)){var n=t[el.position2d],r=e;if(n.has(r)){var i=n.get(r),o=i.x,a=i.y;this.pinPoint={x:o,y:a}}}else this.pinPoint=e},t.prototype.run=function(t){this.done=!0;var e=this.pinPoint,n=this.opts.pinTo,r=t[el.position2d];if(e){var i;if(Il(n))i=r.get(n);else{var o=t[el.radius],a=Ya(Ha(0,r.size),(function(t){var e=r.get(t);return{x:e.x,y:e.y,r:o.get(t)}}));i=us.center(Qs(a))}var s=e.x-i.x,u=e.y-i.y;if(Math.abs(s)>Ma||Math.abs(u)>Ma)for(var l=0,c=r.size;l<c;l++){var f=r.get(l);f.x+=s,f.y+=u}}},t}();function Tl(t){return void 0===t&&(t={}),new Ll(t)}var Pl={__proto__:null,create:Tl},Ol=["rectangle","circle","adaptive","none"],Rl={packing:void 0,packingOptions:{}},Bl={adaptive:!0,initialize:2,iterations:{min:2,max:60},speed:.5};function zl(t,e){switch(Ys(Ol,t.packing,e)){case"circle":return bl(t.packingOptions);case"adaptive":return bl(Vs(t.packingOptions,Bl));case"rectangle":return Ml(t.packingOptions);case"none":return cl}}function Dl(t,e){return void 0===t&&(t={}),void 0===e&&(e="rectangle"),t=Vs({},t,Rl),new fl([[zl(t,e),0],[Tl(t),1]])}var jl={__proto__:null,create:Dl},Fl={iterations:{min:10,max:150},speed:void 0,liveUpdate:!0,scale:{base:.043,attenuation:0},maxRepulsionBias:.0065,momentum:{beta1:.9,beta2:.95},clustering:{minGroupSize:15,maxLength:300,separation:void 0,outlierTolerance:.33,reweightSpeed:.06},adaptive:!1},Zl=function(){function t(t,e){this.graph=t,this.opts=e,this.activeGroups=-1,this.groups=[],this.adaptiveState=null}return t.prototype.progress=function(){return this.counter?this.counter.progress():0},t.prototype.initialize=function(t,e){this.opts.adaptive&&void 0!==e&&(this.adaptiveState=e)},t.prototype.run=function(t){var e;if(!this.counter){var n=this.graph.countVertices();this.initInternal(t[el.group],((e={})[el.position2d]=t[el.position2d],e[el.radius]=t[el.radius],e[el.sparseRadius]=t[el.sparseRadius]||t[el.radius],e[el.degree]=t[el.degree],e[el.avgNeighbourDegree]=t[el.avgNeighbourDegree],e[el.kcore]=t[el.kcore],e[el.speed]=t[el.speed]||bu.fromSize(n,1),e[el.eAdaptive]=t[el.eAdaptive],e[el.vAdaptive]=t[el.vAdaptive],e))}for(var r=this.groups,i=0;i<this.activeGroups;i++){var o=r[i],a=o.run();if(a&&is(r,i--,--this.activeGroups),this.counter.increment(0===this.activeGroups),!a&&!this.opts.liveUpdate)break;o.extractPositions(t[el.position2d])}},t.prototype.initInternal=function(t,e){var n=this,r=this.opts.scale,i=this.graph.countVertices(),o=new Zu(this.graph),a=dl(i,r.attenuation,{min:1.5,max:4}),s=hl(r.attenuation),u=function(t,e){return a(t,e)*s},l=0;this.groups=Ua(o.induceAll(t),(function(t,r){var i=r[0],o=r[1],a=o.vs.length;if(a<=1)return t;var s=new Du("u",!1,!0);s.build(i,a);var c=new Nl(n.opts,s,o);return c.initialize(e,u,n.adaptiveState),l+=Math.ceil(c.schedule.iter.max),t.push(c),t}),[]),this.activeGroups=this.groups.length,this.counter=new sl(l)},t.prototype.state=function(){var t={edges:Jl(this.graph.countEdges()),verts:Ql(this.graph.countVertices())};return this.groups.forEach((function(e){e.extractState(t)})),t},t}(),Nl=function(){function t(t,e,n){this.opts=t,this.subg=e,this.map=n,this.nbodyModel=new Bs("f32",14,16),this.vState=function(t){var e=ys(vs([2,t],"f64")),n=e[0],r=e[1],i=ys(vs([12,t],"f32")),o=i[0],a=i[1],s=i[2],u=i[3],l=i[4],c=i[5],f=i[6],d=i[7],h=i[8],p=i[9],v=i[10],g=i[11];return xs(l,1),xs(c,1),xs(f,1),{position:{xs:n,ys:r},displacement:{dxs:o,dys:a},nesterov:{nxs:s,nys:u},moment:{mxs:d,mys:h},moment2:{m2xs:p,m2ys:v},mass:l,radius:f,speed:c,stable:g}}(e.countVertices()),this.eState=function(t){var e=ys(vs([3,t],"f32",1));return{targetLength:e[0],maxTargetLength:e[1],mass:e[2],massIntegral:vs([t],"f64")}}(e.countEdges()),this.clustering=tl(0,void 0,!0)}return t.prototype.initialize=function(t,e,n){for(var r=t[el.radius],i=t[el.sparseRadius],o=t[el.degree],a=t[el.avgNeighbourDegree],s=t[el.kcore],u=t[el.speed],l=t[el.position2d],c=t[el.eAdaptive],f=this,d=f.subg,h=f.eState,p=f.vState,v=f.opts,g=f.map,m=g.vs,y=g.es,b=m.length,x=y.length,w=0,A=0;A<b;A++){var _=m[A],k=o.get(_),C=a.get(_),E=l.get(_),M=e(T=r.get(_),i.get(_)),S=Ul(k,C,s.get(_));w+=Math.log(T),p.position.xs.set(A,E.x),p.position.ys.set(A,E.y),p.radius.set(A,M),p.mass.set(A,S),p.speed.set(A,u.get(_)),p.stable.set(A,Math.sqrt(k))}this.avgRadius=w=Math.exp(w/b);var I=Math.sqrt(1/v.scale.base),L=function(t,e){return 2.2*Math.log(1+3e-5*t)*Math.pow(e,2)}(b,w);for(A=0;A<b;A++){var T;(T=p.radius.get(A))>w&&(T=w+.5*(T-w)),p.mass.set(A,p.mass.get(A)*T/I),p.stable.set(A,1/(p.stable.get(A)*L))}for(var P=v.clustering.maxLength,O=0;O<x;O++){var R=d.source(O),B=d.target(O),z=Wl(p.radius.get(R),o.get(m[R]),p.radius.get(B),o.get(m[B]),w,b,P),D=z[0],j=z[1];h.targetLength.set(O,D),h.maxTargetLength.set(O,j)}var F=_u(d).diameter,Z=void 0===v.speed?function(t,e){var n=Math.log(e/t),r=1+Math.log(1+.005*t)+.1*n;return Math.max(1,r)}(b,F):v.speed,N=function(t,e,n){var r=e?3:1;return{min:Oa((e?.2:.85)*t,n.min,n.max),max:Oa(r*t,n.min,n.max),ideal:t}}(function(t,e){var n=Math.log(t),r=Math.log(e/t);return.55*(44.34*n+26.05*r+1.16*n*r)}(b,F),v.adaptive,v.iterations);v.adaptive&&n&&this.incrementalInit(n,c),this.schedule=new Vl(v.momentum,N,v.maxRepulsionBias/w,Z,v.adaptive)},t.prototype.incrementalInit=function(t,e){for(var n=this,r=n.subg,i=n.eState,o=n.map.es,a=r.countEdges(),s=Yl(r.countVertices()),u=0;u<a;u++){var l=e.get(o[u]);if(l!==e.emptyValue){var c=t.edges.mass.get(l),f=t.edges.maxTargetLength.get(l);c>1+Ma&&i.targetLength.get(u)<f&&(i.mass.set(u,c),i.maxTargetLength.set(u,Math.max(1.01*f,s)))}}},t.prototype.run=function(){var t=this.schedule.update();return t||(this.setupIteration(),this.applyRepulsion(),this.applyAttraction(),this.applyDisplacement()),t},t.prototype.setupIteration=function(){for(var t=this.vState,e=t.position,n=e.xs,r=e.ys,i=t.nesterov,o=i.nxs,a=i.nys,s=t.displacement,u=t.stable,l=n.size,c=0,f=0;f<l;f++){var d=o.get(f),h=a.get(f);n.set(f,n.get(f)+d),r.set(f,r.get(f)+h),c+=(d*d+h*h)*u.get(f)}this.schedule.report(c/l<1),xs(s.dxs,0),xs(s.dys,0),l>=this.opts.clustering.minGroupSize&&this.schedule.periodicals().edgeLengths&&null===this.clustering.build(n,r)&&this.calculateEdgeLengths()},t.prototype.applyAttraction=function(){for(var t=this.eState,e=t.mass,n=t.targetLength,r=t.maxTargetLength,i=t.massIntegral,o=this.vState,a=o.displacement,s=a.dxs,u=a.dys,l=o.position,c=l.xs,f=l.ys,d=o.nesterov,h=d.nxs,p=d.nys,v=this.schedule.edgeReweightingSpeed()/this.avgRadius,g=this.opts.clustering.reweightSpeed,m=this.subg.rawPairs(),y=e.size,b=0,x=0;b<y;b++){var w=m[x++],A=m[x++],_=c.get(A)-c.get(w),k=f.get(A)-f.get(w),C=e.get(b),E=La(_,k),M=r.get(b);if(E>M||C>1){var S=Kl(E,La(c.get(A)-h.get(A)-(c.get(w)-h.get(w)),f.get(A)-p.get(A)-(f.get(w)-p.get(w))),M,i.get(b),C,g,v);e.set(b,S.m),i.set(b,S.int),C=S.m}var I=Hl(E,C,n.get(b));_*=I,k*=I,s.values[s.index(A)]-=_,u.values[u.index(A)]-=k,s.values[s.index(w)]+=_,u.values[u.index(w)]+=k}},t.prototype.applyRepulsion=function(){var t=this.schedule,e=this.vState,n=e.position,r=e.displacement,i=e.mass;this.nbodyModel.build(n.xs,n.ys,void 0,i);var o=function(t){return function(e,n,r,i,o,a,s){return Xl(t,e,n,r,i,o,a,s)}}(t.repulsion());this.nbodyModel.runOnPoints(o,r.dxs,r.dys,t.theta())},t.prototype.applyDisplacement=function(){for(var t=this,e=t.schedule,n=t.vState,r=t.avgRadius,i=n.moment,o=i.mxs,a=i.mys,s=n.moment2,u=s.m2xs,l=s.m2ys,c=n.displacement,f=c.dxs,d=c.dys,h=n.position,p=h.xs,v=h.ys,g=n.nesterov,m=g.nxs,y=g.nys,b=n.speed,x=n.mass,w=e.momentum(),A=w.beta1,_=w.beta2,k=e.speed()*r,C=0,E=p.size;C<E;C++){var M=f.get(C),S=d.get(C),I=Ra(o.get(C),M,A),L=Ra(a.get(C),S,A);o.set(C,I),a.set(C,L);var T=Ra(u.get(C),M*M,_),P=Ra(l.get(C),S*S,_);u.set(C,T),l.set(C,P);var O=k*b.get(C),R=x.get(C);M=O*(I/(Math.sqrt(T)+R)),S=O*(L/(Math.sqrt(P)+R)),p.set(C,p.get(C)-m.get(C)+M),v.set(C,v.get(C)-y.get(C)+S),m.set(C,M*A),y.set(C,S*A)}},t.prototype.calculateEdgeLengths=function(){var t=this,e=t.vState,n=e.position,r=e.radius,i=t.eState,o=i.targetLength,a=i.maxTargetLength,s=t.subg,u=t.clustering,l=t.opts.clustering,c=l.separation||Yl(s.countVertices());u.evaluate(r,l.outlierTolerance,this.avgRadius*c);var f=u.clusters;if(!(f.countGroups()<=1))for(var d=n.xs,h=n.ys,p=u.separations(),v=s.rawPairs(),g=0,m=0;m<v.length;g++){var y=v[m++],b=v[m++],x=a.get(g);if(f.get(y)!==f.get(b)&&x!==1/0){var w=d.get(y)-d.get(b),A=h.get(y)-h.get(b),_=La(w,A),k=p(y,b),C=k[0],E=k[1],M=Ra(_-(Math.abs(Xs({x:d.get(C)-d.get(E),y:h.get(C)-h.get(E)},{x:w/_,y:A/_}))-c*Math.min(r.get(y),r.get(b))),Math.min(a.get(g),_),.33);a.set(g,Math.max(M,2*o.get(g)))}}},t.prototype.extractPositions=function(t){for(var e=this.map.vs,n=this.subg.countVertices(),r=this.vState.position,i=r.xs,o=r.ys,a=0;a<n;a++){var s=t.get(e[a]);s.x=i.get(a),s.y=o.get(a)}},t.prototype.extractState=function(t){for(var e=this.map,n=e.es,r=e.vs,i=0,o=this.eState;i<n.length;i++){var a=n[i];t.edges.mass.set(a,o.mass.get(i)),t.edges.maxTargetLength.set(a,o.maxTargetLength.get(i))}if(this.clustering.clusters)for(var s=this.clustering.clusters,u=0;u<r.length;u++)t.verts.cluster.set(r[u],s.get(u))},t}(),Vl=function(){function t(t,e,n,r,i){this.moments=t,this.iter=e,this.maxRepulsionBias=n,this.targetSpeed=r,this.adaptive=i,this.progress=0,this.iteration=0,this.edgeLengthPeriod={progress:.2,iteration:4},this.convergence=0,i&&(this.edgeLengthPeriod.progress=.05)}return t.prototype.theta=function(){return Ba(1.1,5,10,100,(this.adaptive?this.iter.min:this.iter.ideal)-this.iteration,8)},t.prototype.speed=function(){return this.targetSpeed*this.momentum().correction},t.prototype.edgeReweightingSpeed=function(){return this.adaptive?1-1/(.05*this.iteration+1.05):1},t.prototype.report=function(t){this.iteration>0&&(t?this.convergence++:this.convergence>0&&this.convergence--)},t.prototype.repulsion=function(){return(this.adaptive?1:1-Math.exp(-6*Math.pow(this.progress,2)))*this.maxRepulsionBias},t.prototype.momentum=function(){var t=this.moments,e=this.iteration,n=this.adaptive?.66:0,r=Gl(t.beta1,e),i=Gl(t.beta2,e,n);return{beta1:r,beta2:i,correction:Math.sqrt(1-i)/(1-r)}},t.prototype.periodicals=function(){var t=this,e=t.edgeLengthPeriod,n=t.progress,r=t.iteration,i=n>=e.progress&&r>=e.iteration&&n<.9;return i&&(e.progress=1.5*n,e.iteration=r+4),{edgeLengths:i}},t.prototype.update=function(){var t=++this.iteration;return this.progress=Oa(t/this.iter.ideal,0,1),t>=this.iter.min&&this.convergence>=5||t>=this.iter.max},t}();function Gl(t,e,n){return void 0===n&&(n=0),t-(1-n)*Math.pow(t,1+e)}function Yl(t){return Math.max(3,.75*Math.sqrt(t))}function Wl(t,e,n,r,i,o,a){var s=Math.min(t,n,i),u=t+n,l=1===Math.min(e,r);return[u+s,u+(2===e&&2===r?s*Math.max(4,.4*Math.sqrt(o)):l?1/0:s*a)]}function Ul(t,e,n){return 1+Math.log(Math.max(Math.pow(n,2),e,1))*Math.sqrt(t)}function Xl(t,e,n,r,i,o,a,s){var u=i-e,l=o-n,c=u*u+l*l,f=c*t,d=r*a/(Sa+c+f*f);s.x-=u*d,s.y-=l*d}function Hl(t,e,n){var r=(t-n)/(Sa+t);return r>0&&(r*=r*e),r}function Kl(t,e,n,r,i,o,a){var s=((t-n)*o-(e-t))*a;return s<0!=r<0&&(r=0),i+=.9*s+(r+=.3*s),{m:Math.max(1,i),int:r}}function Ql(t){return{cluster:vs([t],"i32")}}function Jl(t){var e=ys(vs([2,t],"f32",1));return{maxTargetLength:e[0],mass:e[1]}}function ql(t,e){return new Zl(t,Vs({},e,Fl))}var $l={__proto__:null,defaultOpts:Fl,unbiasedMoment:Gl,biasedRepulsionKernel:Xl,attractionKernel:Hl,edgeReweightingKernel:Kl,create:ql},tc={iterations:50,scaleRatio:{base:1,attenuation:0},minGroupSize:2,adaptive:!1,adaptiveStressThreshold:.33},ec=function(){function t(t,e){this.graph=t,this.opts=e}return t.prototype.progress=function(){return this.counter?this.counter.progress():0},t.prototype.run=function(t){var e,n=this,r=t,i=r[el.degree],o=r[el.position2d],a=r[el.group],s=r[el.radius];if(void 0===this.constraints){var u=this.opts,l=this.graph,c=l.countVertices(),f=t,d=f[el.vAdaptive],h=f[el.eAdaptive],p=f[el.speed],v=void 0===p?bu.fromSize(c,1):p,g=void 0,m=v;this.adaptiveState&&d&&h?(g=(e=function(t,e,n,r,i,o,a,s,u){var l=t.countVertices(),c={},f=new Float32Array(l);ns(f,.25);for(var d=0;d<l;d++){var h=e.get(d);f[d]=h===e.emptyValue||o.get(h)>i.get(d)?1:.25}for(var p=t.iterateAdjacentPairs(!1),v=p.next();!1===v.done;v=p.next()){var g=v.value,m=g[0],y=g[1],b=g[2];(n.get(b)===n.emptyValue||nc(r.get(m),r.get(y))<=Ma)&&(f[m]=Math.max(.5,f[m]),f[y]=Math.max(.5,f[y]))}for(d=0;d<l;d++)if((f[d]=Math.min(f[d],s.get(d)))>.25&&a.groupSize(d)>=u){var x=a.get(d);void 0===c[x]&&(c[x]=d)}return{speeds:yu.wrapArray(f),groupSeeds:Ka(Object.keys(c),(function(t){return c[t]}))}}(l,d,h,o,i,this.adaptiveState,a,v,u.minGroupSize)).groupSeeds,m=e.speeds):g=function(t,e,n,r){return Ya(t,(function(t){var i=e.groupSize(t);if(i<r)return-1;for(var o=1/i,a=0,s=0,u=(l=e.iterateGroup(t)).next();!1===u.done;u=l.next())a+=o*(d=n.get(u.value)).x,s+=o*d.y;var l,c=1/0,f=-1;for(u=(l=e.iterateGroup(t)).next();!1===u.done;u=l.next()){var d,h=(a-(d=n.get(u.value)).x)*(s-d.y),p=h*h;p<c&&(f=u.value,c=p)}return f}))}(a.iterateGroups(),a,o,u.minGroupSize);for(var y=this.xysOrigin=vs([3,c],"f32"),b=0;b<c;b++){var x=o.get(b),w=x.x,A=x.y;y.set(0,b,w),y.set(1,b,A),y.set(2,b,m.get(b))}this.constraints=this.initializeContraints(g,t,a,m,i),this.constraints.forEach((function(t){return function(t,e){for(var n=e.length,r=2*Math.PI/(1+n),i=0;i<n;i++){var o=e[i],a=t.get(o.b),s=t.get(o.a);if(a.x-s.x<=Ma&&a.y-s.y<=Ma){var u=o.len*o.w;a.x-=Math.sin(r*i)*u,a.y-=Math.cos(r*i)*u}}}(o,t.constraints)}))}this.constraints.length-=function(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i];t[i-n]=o,e(o,i)||n++}return n}(this.constraints,(function(t){for(var e=(d=a.iterateGroup(t.gid)).next(),r=o.get(t.root);!1===e.done;e=d.next()){var u=e.value;if(1===i.get(u)){var l=o.get(u),c=s.get(u),f=nc(l,r);f>c&&Hs(l,r,1+2.5*c/f)}}!function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=t.get(r.b),o=t.get(r.a),a=i.x-o.x,s=i.y-o.y,u=La(a,s);if(u>Ma){var l=(u-r.len)/u;l*=r.w,i.x-=a*l,i.y-=s*l}}}(o,t.constraints);var d,h=n.xysOrigin;for(e=(d=a.iterateGroup(t.gid)).next();!1===e.done;e=d.next())u=e.value,Hs(o.get(u),{x:h.get(0,u),y:h.get(1,u)},h.get(2,u));return--t.iterations>0})),this.counter.increment(0===this.constraints.length)},t.prototype.state=function(t){return t[el.degree]},t.prototype.initialize=function(t,e){this.opts.adaptive&&(this.adaptiveState=e)},t.prototype.initializeContraints=function(t,e,n,r,i){for(var o=e,a=o[el.radius],s=o[el.position2d],u=o[el.avgNeighbourDegree],l=this.graph,c=this.opts,f=l.countVertices(),d=hl(c.scaleRatio.attenuation),h=function(t){return a.get(t)*d},p=[],v=vu(f),g=new Float32Array(f),m=new Float32Array(f),y=new Float32Array(f),b=0,x=l.adjacency(),w=t.next();!1===w.done;w=t.next())if(!(w.value<0)){for(var A=0,_=0,k=(F=n.iterateGroup(w.value)).next();!1===k.done;k=F.next()){var C=k.value;_+=Math.log(h(C)),A+=r.get(C)}for(var E=n.groupSize(w.value),M=ic(i,u,_=Math.exp(_/E)),S=c.scaleRatio.base,I=[],L=oc(w.value,E-2,Math.max(1,2*Math.log(A+1)),2,l,i,r,v),T=L.maxReach,P=L.anchors,O=0;O<P.length;O++){var R=gu(Z=P[O],l,v);g[Z]=0,m[Z]=0;for(var B=R.next();!1===B.done;B=R.next()){var z=v[H=B.value],D=m[z]+1,j=r.get(H)<1&&r.get(Z)<1?nc(s.get(Z),s.get(H)):g[z]+Math.sqrt(D*S)*(h(z)+M(z,H)+h(H));z!==Z&&i.get(H)>1&&I.push({len:j,a:Z,b:H,w:.17}),g[H]=j,y[H]+=j,m[H]=D}}var F,Z,N=w.value;for(C=(F=n.iterateGroup(w.value)).next();!1===C.done;C=F.next())i.get(C.value)>1&&y[C.value]<y[N]&&(N=C.value);if(c.adaptive&&!this.adaptiveState&&Xu(N,s,l,v,g)<c.adaptiveStressThreshold)continue;for(I.sort((function(t,e){return e.len-t.len})),R=gu(Z=N,l,v);Z>=0;){var V=s.get(Z),G=r.get(Z),Y=h(Z),W=1/Math.sqrt(i.get(Z)),U=1/i.get(Z);x.reset(Z);var X=x.next();for(O=U;!1===X.done;X=x.next(),O+=U){var H;v[H=X.value]<0&&(j=G<1&&r.get(H)<1?nc(V,s.get(H)):Y+Math.sqrt(O)*M(Z,H)+h(H),I.push({len:j,a:Z,b:H,w:.5*(W+1/Math.sqrt(i.get(H)))}))}var K=R.next();Z=!1===K.done?K.value:-1}var Q=rc(A,T);b=Math.max(Q,b),p.push({root:N,gid:w.value,iterations:Q,constraints:I})}return this.counter=new sl(b),p},t}();function nc(t,e){return Pa(t.x,t.y,e.x,e.y)}function rc(t,e){var n=Math.sqrt(13*e)+Math.log(1+.25*t);return Math.max(10,Math.ceil(n))}function ic(t,e,n){return function(r,i){var o=t.get(r),a=t.get(i),s=e.get(r),u=e.get(i),l=Math.sqrt(o+a)+Math.log(Math.max(1,(s-1)*(u-1)))-1;return n*Math.max(1,l)}}function oc(t,e,n,r,i,o,a,s){for(var u=[],l=0,c=-1;c<n;c++){for(var f=gu(c<0?t:u.slice(),i,s),d=t,h=a.get(t),p=f.next();!1===p.done;p=f.next()){var v=p.value,g=a.get(v);o.get(v)<=e&&g<=h&&(d=v,h=g)}var m=0;for(v=d;s[v]!==v;v=s[v],m++);if(l=Math.max(l,m),!(m>=r||c<0))break;u.push(d)}return{anchors:u,maxReach:l}}function ac(t,e){var n=Vs({},e,tc);return new ec(t,n)}var sc={__proto__:null,defaultOpts:tc,create:ac},uc=["random","none"],lc={initialization:"random",initializationOptions:{minGroupSize:2}},cc={padding:{proportion:.025,min:1,max:1/0},reduceOverlapsOnly:!0,iterations:{min:1,max:10}},fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Na(e,t),e.prototype.fd=function(){return this.getPhase(2)[0]},e}(fl);function dc(t,e){var n;e=Vs({},e,lc);var r=[];if("random"===Ys(uc,e.initialization,lc.initialization)){var i=e.initializationOptions;r.push([ol(i),0],[ac(t,i),1])}var o=Vs({scale:{attenuation:null===(n=null==e?void 0:e.scale)||void 0===n?void 0:n.attenuation}},cc);return r.push([ql(t,e),2],[xl(o),3],[Dl(e,e.adaptive?"adaptive":void 0),4]),new fc(r)}var hc={__proto__:null,Impl:fc,create:dc},pc={baseScale:84,iterations:14,clustering:{phase1Iterations:8,phase1Strength:10,phase2Strength:.025},quadTreeLeafThreshold:16,theta:1,unitNodeSize:27,liveUpdate:!0},vc=function(){function t(t,e){void 0===e&&(e={}),this.g=t,this.opts=e,this.aabbScale=ja.uniform(1,1.5,Da(9));var n=t.countVertices();this.nbodyModel=new Bs("f64",void 0,e.quadTreeLeafThreshold),this.vState=function(t){var e=ys(vs([2,t],"f64")),n=e[0],r=e[1],i=ys(vs([2,t],"f32")),o=i[0],a=i[1];return xs(o,1),xs(a,1),{position:{xs:n,ys:r},mass:o,area:a}}(n)}return t.prototype.initializeVertexState=function(t){var e=t[el.radius],n=t[el.sparseRadius],r=t[el.position2d],i=this.g,o=this.vState,a=i.countVertices();if(0!==a){var s=Ua(i.iterateVertices(),(function(t,n){return t+e.get(n)}),0);s/=a,Wa(i.iterateVertices(),(function(t,i){var a=r.get(t),u=e.get(t);o.position.xs.set(i,a.x),o.position.ys.set(i,a.y),o.mass.set(i,u/s),o.area.set(i,2*u*(n.get(t)+u))}))}},t.prototype.run=function(t){var e;if(this.schedule)this.opts.liveUpdate&&this.scalePositions(1/this.overallScale);else{var n=this.opts,r=n.iterations,i=n.clustering,o=this.g.countVertices();this.schedule=new yc(o,r,i.phase1Iterations,i.phase1Strength,i.phase2Strength),this.initializeVertexState(((e={})[el.radius]=t[el.radius],e[el.sparseRadius]=t[el.sparseRadius]||t[el.radius],e[el.position2d]=t[el.position2d],e)),this.setOverallScale()}this.setupIteration(),this.computeBVectors();var a=ys(this.bVec),s=a[0],u=a[1],l=this.vState.position,c=l.xs,f=l.ys;this.conjugateGradientMethod(s,c),this.conjugateGradientMethod(u,f),mc(c,f);var d=this.schedule.update();(this.opts.liveUpdate||d>=1)&&(this.scalePositions(this.overallScale),this.updatePositions(t[el.position2d]))},t.prototype.setOverallScale=function(){var t=this.vState.area,e=t.size,n=this.g.countEdges();if(this.overallScale=Math.sqrt(e)*this.opts.baseScale,n/e<1){var r=n/e;this.overallScale*=.65+.35*r}for(var i=0,o=0;o<e;o++)i+=Math.max(1,t.get(o));var a=i/this.g.countVertices();this.overallScale*=1+.015*(Math.sqrt(a)-2*this.opts.unitNodeSize)},t.prototype.scalePositions=function(t){var e=this.vState.position,n=e.xs,r=e.ys;ks(n,t),ks(r,t)},t.prototype.setupIteration=function(){var t=this.vState,e=t.position,n=e.xs,r=e.ys,i=t.mass,o=this.aabbScale,a=this.g.countVertices();this.bVec=vs([2,a],"f64");var s=ws(n),u=s[0],l=s[1],c=ws(r),f=c[0],d=c[1],h=us.create(u,l,f,d),p=o();us.scale(h,p,p),this.nbodyModel.build(n,r,h,i)},t.prototype.updatePositions=function(t){var e=this.vState.position,n=e.xs,r=e.ys;Wa(this.g.iterateVertices(),(function(e,i){var o=t.get(e);o.x=n.get(i),o.y=r.get(i)}))},t.prototype.computeBVectors=function(){var t=ys(this.bVec),e=t[0],n=t[1];this.nbodyModel.runOnPoints(gc,e,n,this.opts.theta),mc(e,n)},t.prototype.conjugateGradientMethod=function(t,e){var n=.01*this.g.countVertices(),r=this.multiplyByLM(e);ks(r,-1),Ms(r,t);for(var i=bs(r),o=Ss(r,r),a=0;a<20&&o>n;a++){var s=this.multiplyByLM(i),u=o/Ss(s,i);Ms(e,i,u),Ms(r,s,-u);var l=Ss(r,r),c=l/o;o=l,ks(i,c),Ms(i,r)}},t.prototype.multiplyByLM=function(t){var e=t.shape[0],n=As(t),r=this.multiplyByL(t);ks(r,this.schedule.alpha);var i=bs(t);return ks(i,e),_s(i,-n),Ms(i,r),i},t.prototype.multiplyByL=function(t){for(var e=t.shape[0],n=vs([e],"f64"),r=this.g.adjacency(),i=0;i<e;i++){var o=0,a=0;r.reset(i);for(var s=r.next();!1===s.done;s=r.next()){var u=s.value;o-=t.get(u),a++}n.set(i,o+a*t.get(i))}return n},t.prototype.progress=function(){return this.schedule?this.schedule.progress:0},t}();function gc(t,e,n,r,i,o,a){var s=t-r,u=e-i,l=o/Math.max(.001,La(s,u));a.x+=s*l,a.y+=u*l}function mc(t,e){var n=t.shape[0],r=As(t)/n,i=As(e)/n;_s(t,-r),_s(e,-i)}var yc=function(){function t(t,e,n,r,i){this.numVerts=t,this.maxIterations=e,this.ph1Iterations=n,this.ph2ClusterStrength=i,this.progress=0,this.iteration=0,this.alpha=t*r}return t.prototype.update=function(){return this.iteration++,this.iteration===this.ph1Iterations&&(this.alpha=this.numVerts*this.ph2ClusterStrength),this.progress=Oa((this.iteration+1)/this.maxIterations,0,1)},t}();function bc(t,e){return new vc(t,Vs({},e,pc))}var xc={initializationOpts:{seed:void 0},removeOverlapOpts:{iterations:{min:3,max:3},padding:{proportion:.05,min:.5,max:1/0}}};function wc(t,e){void 0===e&&(e={});var n=Vs({},e,xc),r=[[ol(n.initializationOpts),0],[bc(t,n),1],[xl(n.removeOverlapOpts),2]];return new fl(r)}var Ac={__proto__:null,create:wc};var _c,kc=function(){function t(t,e){this.currLabels=t,this.layout=e,this.state=null,this.prevLabels=null,this.vMap=null,this.eMap=null}return t.prototype.progress=function(){return null===this.layout?1:this.layout.progress()},t.prototype.addAdaptiveProps=function(t){return this.props=t,null!==this.vMap&&(t[el.vAdaptive]=this.vMap),null!==this.eMap&&(t[el.eAdaptive]=this.eMap),t},t.prototype.initialize=function(t){void 0!==this.layout&&this.layout.initialize(this.addAdaptiveProps(t),this.state)},t.prototype.run=function(t){void 0!==this.layout&&this.layout.run(this.addAdaptiveProps(t))},t.prototype.reset=function(t,e){var n=this.layout;void 0!==n&&"function"==typeof n.state&&1===n.progress()&&(this.state=n.state(this.props),this.prevLabels=this.currLabels),this.layout=e,null!==this.prevLabels&&(this.vMap=Iu(t.vertexMap,this.prevLabels.vertexMap),this.eMap=Iu(t.edgeMap,this.prevLabels.edgeMap)),this.currLabels=t},t}(),Cc=function(){function t(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),this.layout=t,this.interval=e,this.batchBudget=n,this.initialBatchSize=r,this.timePerIteration=-1,this.timeid=-1}return t.prototype.initialize=function(t){this.input=t,void 0!==this.layout.initialize&&this.layout.initialize(t)},t.prototype.start=function(t,e){this.onComplete=function(t){var e,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,e=t.apply(this,r)),e}}(t),this.onBatch=e,this.nextStep()},t.prototype.cancel=function(){this.timeid>=0&&clearTimeout(this.timeid)},t.prototype.nextStep=function(){var t=this;try{this.work(this.batchBudget),1===this.layout.progress()?(this.timeid=-1,this.onComplete(void 0)):this.timeid=setTimeout((function(){return t.nextStep()}),this.interval)}catch(t){this.onComplete(t)}},t.prototype.work=function(t){var e,n=this.layout,r=this.input,i=Date.now(),o=t+i;do{for(var a=this.timePerIteration>0?Math.max(1,Math.ceil(t/this.timePerIteration)):this.initialBatchSize,s=0;s<a&&n.progress()<1;s++)n.run(r);var u=Date.now()-i;i+=u,this.timePerIteration=Math.max(u,.01)/a}while(i<o&&n.progress()<1);null===(e=this.onBatch)||void 0===e||e.call(this,this.layout.progress())},t}();!function(t){t.forceDirected="forcedirected",t.random="random",t.organic="organic",t.diskpacking="diskpacking",t.removeOverlaps="remove-overlaps",t.rectpacking="rectpacking",t.pack="pack",t.lens="lens"}(_c||(_c={}));var Ec={__proto__:null,diskpacking:wl,rectpacking:Sl,pack:jl,get Names(){return _c},createLayout:function(t,e,n){switch(t){case _c.organic:return dc(e,n);case _c.lens:return wc(e,n);case _c.forceDirected:return ql(e,n);case _c.random:return ol(n);case _c.diskpacking:return bl(n);case _c.removeOverlaps:return xl(n);case _c.rectpacking:return Ml(n);case _c.pack:return Dl(n);default:throw new Error("unknown layout")}},get KnownProperties(){return el},forceDirected:$l,organic:hc,pin:Pl,linkRelaxation:sc,lens:Ac,analysisProps:function(t,e){var n;return null!=e||(e={}),Tu(e,((n={})[el.group]=function(){return Bu(t)},n[el.degree]=function(){return wu(t)},n[el.avgNeighbourDegree]=function(e){return e[el.degree].size,t.countVertices(),Au(t,e[el.degree])},n[el.kcore]=function(e){return e[el.degree].size,t.countVertices(),ku(t,e[el.degree])},n)),e},AdaptiveProxy:kc,SetTimeoutRunner:Cc,noopLayout:cl,PhasedLayout:fl,nodeSizer:dl,commonTightness:hl},Mc=function(t,e,n,r,i){this.nodeList=t,this.edgeList=e,this.staticGraph=n,this.vertexMap=r,this.edgeMap=i};function Sc(t,e){var n=new Nu.AdjacencyGraph("u",!1,!0),r=Nu.buildFromLabeledIterators(function(t){return ts.fromArray(t,(function(t){return"string"==typeof t?t:t.id}))}(t),function(t){return ts.fromArray(t,(function(t,e){return[t.id1,t.id2,void 0!==t.id?t.id:e.toString()]}))}(e),n);return new Mc(t,e,n,r.vertexMap,r.edgeMap)}function Ic(t,e){var n=t.edges;if(e){var r=[];Object.keys(t.selfAdjacency).forEach((function(e){var n=t.selfAdjacency[e];r.push({id:n[0],id1:e,id2:e,ids:n})})),r.length>0&&(n=n.concat(r))}return Sc(Object.keys(t.vertices),n)}function Lc(t,e,n){var r=t.vertexMap,i=t.staticGraph.countVertices(),o=ts.flatMap(ts.fromArray(e),(function(t,e){var i=n(t,e);if(i.length<1)return ts.empty();var o=r.getUniqueInverse(i[0]);return ts.fromArray(i,(function(t){return[o,r.getUniqueInverse(t)]}))}));return Nu.connectedComponentsFrom(o,i)}var Tc=Wt,Pc="_dummy",Oc=RegExp("^"+Pc);function Rc(t){return Oc.test(t.id)}function Bc(t){var e=dt(t)?t:5;return e=Math.max(0,e),Math.min(10,e)}function zc(t){return 10*(5-Bc(t))}function Dc(t,e,n){var r=n||30;q(t,(function(t){t.fixed||(t.x+=r*(e.next()-.5),t.y+=r*(e.next()-.5))}))}function jc(t){var e=0,n=0,r=0,i=1/0,o=1/0,a=-1/0,s=-1/0;q(t,(function(t){e+=1,n+=t.x,r+=t.y,o=Math.min(o,t.x),i=Math.min(i,t.y),a=Math.max(a,t.x),s=Math.max(s,t.y)})),n/=e,r/=e;var u=0,l=!1;return q(t,(function(t){var e=t.x-n,i=t.y-r,o=Math.sqrt(e*e+i*i);u=Math.max(o+1.5*t.r,u),l=l||t.fixed})),{x:n,y:r,sum:e,size:u,fixed:l,miny:i,minx:o,maxy:s,maxx:a}}function Fc(t){return"number"==typeof t.w&&!ft(t.w)&&"number"==typeof t.h&&!ft(t.h)}function Zc(t){return!(t.u||t.fi||t.c||t.b||t.w&&t.h)}function Nc(t,e){var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=e?function(t){var e=t.w?t.w/2:t.r||0,s=t.h?t.h/2:t.r||0,u=t.labelOffset;n=Math.min(n,t.x-e),r=Math.min(r,t.y-s+u),i=Math.max(i,t.x+e),o=Math.max(o,t.y+s+u),a++}:function(t){var e=t.r||0;n=Math.min(n,t.x-e),r=Math.min(r,t.y-e),i=Math.max(i,t.x+e),o=Math.max(o,t.y+e),a++};return Array.isArray(t)?t.forEach(s):q(t,s),a>0?{x1:n,y1:r,x2:i,y2:o,c:a}:null}function Vc(t){return{x:(t.x1+t.x2)/2,y:(t.y1+t.y2)/2}}function Gc(t,e){var n=ts,r=Sc(Bt(t),e),i=Nu.connectedComponents(r.staticGraph),o={},a=r.vertexMap;n.forEach(i.iterateGroups(),(function(e,r){var s={};n.forEach(i.iterateGroup(e),(function(e){var n=a.get(e),i=t[n];s[n]=i,i.c=r})),o[e]={verts:s,edges:[],extents:Nc(s),c:r}}));for(var s=0;s<e.length;s++){var u=e[s],l=o[i.get(a.getUniqueInverse(u.id1))];l.edges.push(u),u.c=l.c}return Bt(o)}function Yc(t){var e=0;return t.b&&(e=dt(t.bw)?t.bw:4),!t.donut||t._combo&&t._combo.open||(e=t.donut.w+2*t.donut.bw),e}function Wc(t,e){if(t.t){var n=""+t.t;return void 0!==e&&n.length>e&&(n=n.substring(0,Math.max(0,e-3)),n+="..."),n.split(/\r\n|\r|\n/)}return[""]}function Uc(t,e,n,r){var i=0,o=0;if(t.t){var a=(t.fs||Sn)*n,s=3*n,u=Wc(t,r);i=function(t){for(var e=0,n=0;n<t.length;n++)e=Math.max(e,t[n]);return e}(function(t,e,n,r,i){for(var o=[],a=0;a<t.length;a++)o[a]=ir(e,t[a],n,r,i||"sans-serif").width;return o}(u,e,a,!!t.fb,t.ff)),o=(a+s)*u.length}return{width:i,height:o}}function Xc(t,e){return!e&&("boolean"==typeof t.tc?t.tc:!t.w&&!t.u&&!t.fi)}function Hc(t,e,n,r,i){var o,a,s=0,u=0,l=0,c=0,f=t.e||1,d=Fc(t),h=d&&"circle"===t.sh,p=Zc(t),v=!1;if(t.du)return{radius:10,radiusWithoutLabel:10,baseRadius:10,borderSize:10,width:10,height:10};if(a=Yc(t),t._combo&&(v="boolean"==typeof i?i:t._combo.open),v)a=t.oc&&"bw"in t.oc?t.oc.bw:la.bw,"rectangle"===r?(u=Wt(l=t.oc.w,c=t.oc.h)/2,s=Wt(l+=2*a,c+=2*a)/2):(u=t.oc.w/2,c=l=t.oc.w+2*a,s=u+a);else if(d)if(f=1,h){var g=Math.min(t.w,t.h);c=l=g+2*a,s=(u=g/2)+a}else u=Tc(t.w,t.h)/2,l=t.w+2*a,c=t.h+2*a,s=Tc(l,c)/2;else p||(c=l=2*(u=27*f)+2*(a*=f),s="box"===t.sh?Tc(l,c)/2:u+a);var m=s;if(n.include&&t.t&&t.t.length>0){var y=function(t,e,n,r){var i=0,o=(3+(t.fs||Sn))*n.e,a=Uc(t,e,n.e,r.maxLength),s=a.width,u=Zc(t),l=u?Math.max(s/10,27):s,c=a.height,f=Xc(t,n.isOpenCombo),d=u?54:n.height,h=Tc(l/2,d/2+c/2);if(r.partial){var p=Math.max(1,s/(4*n.radius))*o,v=Math.min(n.radius+p,s/2);f?(s/2<=n.radius+o&&(v=s/2),i=Tc(v,c/2)):i=Math.max(v,(n.height+c)/2)}else i=Tc(s/2,f?c/2:n.height/2+c);return{width:s,height:c,centred:f,distanceToCorner:i,legacyDistToCorner:h}}(t,e,{radius:s,height:c,width:l,e:f,isOpenCombo:v},n);o=Math.max(y.legacyDistToCorner,s),s=Math.max(y.distanceToCorner,s),l=Math.max(y.width,l),y.centred?c=Math.max(y.height,c):c+=y.height}else{var b=0;t.t&&(b=(Wc(t,n.maxLength).length+1)*((t.fs||Sn)*f)),o=s+b/2,!v&&p&&(o+=27*f)}if(p&&t.g&&t.g.length>0){for(var x=0,w=0;w<t.g.length;w++){var A=2*zo(t.g[w]);x+=A,c=Math.max(c,A)}s=t.t?Math.max(l,x):x/2,l+=x}return{legacyRadius:Math.round(o),radius:Math.round(s),radiusWithoutLabel:Math.round(m),baseRadius:Math.round(u),borderSize:Math.round(a),width:Math.round(l),height:Math.round(c)}}function Kc(t,e){var n=0;if(t.t){var r=t.fs||Sn,i=Fc(t)?1:t.e||1;(function(t){return Xc(t,t._combo&&t._combo.open)})(t)||(n=(r+3)*i*Wc(t,e).length/2)}return Math.round(n)}function Qc(t,e,n){if(!e||!dt(e.x)||!dt(e.y))return 1/0;function r(t){var n=Yt(e.x,e.y,t.x,t.y)+t.r,r=t.x>e.x?t.w/2:-t.w/2,i=t.y+t.labelOffset>e.y?t.h/2+t.labelOffset:-t.h/2-t.labelOffset,o=Yt(e.x,e.y,t.x+r,t.y+i);return Math.min(n,o)}var i=0;Array.isArray(t)?t.forEach((function(t){i=Math.max(i,r(t))})):q(t,(function(t){i=Math.max(i,r(t))}));var o=Math.max(0,0|n);return Math.ceil(i+o)}function Jc(t,e,n,r){if("rectangle"===t){var i=n.x,o=n.y,a=Nc(e,!0);if(!a)return{width:0,height:0};var s=a.x1,u=a.y1,l=a.x2,c=a.y2,f=Math.abs(i-s),d=Math.abs(i-l),h=Math.abs(o-u),p=Math.abs(o-c);return{width:Math.ceil(2*(Math.max(f,d)+r)),height:Math.ceil(2*(Math.max(h,p)+r))}}var v=Qc(e,n,r);return{width:2*v,height:2*v}}function qc(t,e,n,r){void 0===r&&(r="circle");var i={include:void 0,maxLength:n};return function(n,o){return i.include=o,void 0!==t[n]?Hc(t[n],e,i,r):null}}var $c=function(){function t(){this.eventsHandlers=new Map}return t.prototype.on=function(t,e){if("function"==typeof e){var n=this.eventsHandlers.get(t);n||(n=new Map,this.eventsHandlers.set(t,n)),n.set(e,e)}},t.prototype.off=function(t,e){if(t){var n=this.eventsHandlers.get(t);n&&(e?n.delete(e):n.clear())}else this.eventsHandlers.forEach((function(t){return t.clear()}))},t.prototype.fire=function(t,e){var n=this.eventsHandlers.get(t);n&&n.forEach((function(t){t(e)}))},t}();function tf(){var t=new $c,e=new $c;return{on:function(t,n){e.on(t,n)},off:function(t,n){e.off(t,n)},privateOn:function(e,n){t.on(e,n)},privateOff:function(e,n){t.off(e,n)},fire:function(n,r){t.fire(n,r),e.fire("all",{name:n,event:r}),e.fire(n,r)},privateFire:function(e,n){t.fire(e,n)}}}var ef={on:function(){},fire:function(){},privateOn:function(){},privateFire:function(){},privateOff:function(){},off:function(){}};function nf(t,e){var n=t.getCache({all:!0,combos:"all"}),r=n.adjacency,i=n.selfAdjacency,o={},a=[];return e.forEach((function(t){q(r[t],(function(t){t.forEach((function(t){o[t]||(a.push(t),o[t]=!0)}))}));var e=i[t];if(e)for(var n=0;n<e.length;n++)a.push(e[n])})),a}function rf(t,e){var n=t.getCache({combos:"all",all:!1}),r=n.adjacency,i=n.selfAdjacency,o={};e.forEach((function(t,e){var n=r[e];n&&q(n,(function(t){for(var e=0;e<t.length;e++){var n=t[e];o[n]=!0}}));var a=i[e];if(a)for(var s=0;s<a.length;s++)o[a[s]]=!0})),q(o,(function(t,n){var r=e.get(n);r&&2===r||e.set(n,1)}))}function of(t){return!!t.weights}function af(t){t.all=!!t.all}function sf(t){return/^(component|chart)$/.test(t.normalization)?t.normalization:"unnormalized"}function uf(t){if(!/^(chart|component|unnormalized)$/.test(t.normalization))throw new TypeError("opts normalization property should be either 'component', 'chart' or 'unnormalized'")}function lf(t,e){var n=ts,r=Ct(e,{all:!1});af(r);var i=Ic(t.getCache(r),!0),o=Nu.connectedComponents(i.staticGraph),a={},s=i.vertexMap;n.forEach(o.iterateGroups(),(function(t){a[t]={nodes:n.toArray(n.map(o.iterateGroup(t),(function(t){return s.get(t)}))),links:[]}}));for(var u=i.edgeList,l=0;l<u.length;l++)for(var c=u[l],f=a[o.get(s.getUniqueInverse(c.id1))],d=0;d<c.ids.length;d++)f.links.push(c.ids[d]);return Bt(a)}function cf(t,e,n){return!!(t[e].a2&&t[e].id2===n||t[e].a1&&t[e].id1===n)}function ff(t,e,n,r,i){return"any"===i.direction||"from"===i.direction&&cf(t,r,n)||"to"===i.direction&&cf(t,r,e)}function df(t,e,n,r,i){var o=hf(t,e,n,r,i);return ft(o)?o:1/o}function hf(t,e,n,r,i){var o=i.getLinks(),a=NaN;return ff(o,t,e,n,r)&&(r.value?o[n].d&&(a=+o[n].d[r.value]):a=1),a}function pf(t,e){return e.eachLink(t,(function(n){if(hf(n.id1,n.id2,n.id,t,e)<=0)throw new Error("Link Weight must be Positive")})),{direction:t.direction,value:t.value,weights:of(t)}}function vf(t,e){return function(t){if(t.direction=t.direction||"any",!/^(any|from|to)$/.test(t.direction))throw new TypeError("opts direction property should be either 'from', 'to' or 'any'")}(t),pf(t,e)}function gf(t,e,n,r){var i,o=t.getCache(r).adjacency[e][n],a=1/0,s=function(t){return of(t)?df:hf}(r);if(o)for(var u=0;u<o.length;u++){var l=s(e,n,o[u],r,t);dt(l)&&(l<a&&(a=l,(i=[]).push(o[u])),l===a&&a!==1/0&&i.push(o[u]))}return{value:a,links:i}}function mf(t,e,n){function r(t,e){return C[t]-C[e]}function i(t){return t.sort(r),t.shift()}function o(e,n){var r=gf(t,e,n,p).value;return dt(r)?r:l()||dt(r)?1/0:1}function a(t){return t.length>0}function s(){x.length=0,w.length=0,t.eachNode(c,(function(t){for(var e=0;e<M.length;e++)u(M[e].dict,t.id,M[e].value)}))}function u(t,e,n){Array.isArray(n)&&a(n)&&t[e]?t[e].length=0:t[e]=et(n)}function l(){return!!c.directed}var c=Ct(e,{all:!1,combos:"toplevel",directed:!1,endpoints:!1,normalization:"component",weights:!1});c.combos="toplevel",uf(c),af(c);var f=!It(c.value)||l()?"dijkstra":"regular",d=c.endpoints?"endpoints":"regular",h=sf(c),p={direction:l()?"from":"any",value:c.value,weights:of(c),all:c.all};vf(c,t);var v,g,m,y,b={},x=[],w=[],A={},_={},k={},C={},E=0,M=[{dict:_,value:0},{dict:C,value:1/0},{dict:A,value:[]},{dict:k,value:0}];function S(t,e){dt(C[e])||(C[e]=C[v]+1,x.push(e)),C[e]===C[v]+1&&(_[e]+=_[v],A[e].push(v))}function I(t,e){C[e]>C[v]+o(v,e)&&(C[e]=C[v]+o(v,e),function(t,e){t.sort(r),Rt(t,e)||t.push(e)}(x,e),_[e]=0,A[e]=[]),C[e]===C[v]+o(v,e)&&(_[e]+=_[v],A[e].push(v))}var L=t.getCache(c).adjacency,T={regular:function(t){for(_[t]=1,C[t]=0,x.push(t);a(x);)v=x.shift(),w.push(v),q(L[v],S)},dijkstra:function(t){for(_[t]=1,C[t]=0,x.push(t);a(x);)v=i(x),w.push(v),q(L[v],I)}},P={regular:function(t){for(;a(w);){g=w.pop();for(var e=(1+k[g])/_[g],n=0;n<A[g].length;n++)v=A[g][n],k[v]+=_[v]*e;g!==t&&(b[g]+=k[g])}},endpoints:function(t){for(b[t]+=w.length-1;a(w);){g=w.pop();for(var e=(1+k[g])/_[g],n=0;n<A[g].length;n++)v=A[g][n],k[v]+=_[v]*e;g!==t&&(b[g]+=k[g]+1)}}},O={chart:function(){E>2&&(m=1/((E-1)*(E-2)),q(b,(function(t,e){b[e]*=m})))},component:function(){y=function(){for(var e=lf(t,c),n={},r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.nodes.length;o++)n[i.nodes[o]]=i.nodes.length;return n}(),q(b,(function(t,e){y[e]>2&&(m=1/((y[e]-1)*(y[e]-2)),b[e]*=m)}))},unnormalized:function(){l()||(m=.5,q(b,(function(t,e){b[e]*=m})))}},R=T[f]||T.regular,B=P[d]||P.regular,z=O[h]||O.chart;t.eachNode(c,(function(){E++})),function(e,n,r){t.eachNode(e,(function(t){u(n,t.id,0)}))}(c,b),t.asyncEachNode(c,"betweenness",(function(t,e){s(),R(t.id),B(t.id),e()}),(function(){z(),xt(n,b)}))}function yf(t,e,n){var r,i={},o={},a=[],s=t.getCache(n).adjacency;function u(){for(var t=0,e=1/0,n=0;n<a.length;n++){var r=i[a[n]];r<=e&&(t=n,e=r)}return t}function l(e,a){var s=gf(t,r,a,n),u=i[r]+s.value;u<i[a]?(i[a]=u,o[a]=[{id:r,links:s.links}]):u===i[a]&&function(t,e,n){o[t]||(o[t]=[]),o[t].push({id:e,links:n})}(a,r,s.links)}for(t.eachNode(n,(function(t){var e=t.id;i[e]=1/0,o[e]=void 0,a.push(e)})),i[e]=0;a.length>0;){var c=u();if(r=a[c],i[r]===1/0)break;a.splice(c,1),q(s[r],l)}return{distance:i,previous:o}}function bf(t,e,n){if(!t.getNodes()[e])throw new Error("distances error: id(s) must be present in the graph");var r=Ct(n||{},{combos:"toplevel",all:!1});vf(r,t),af(r);var i=yf(t,e,r),o={};return q(i.distance,(function(t,e){dt(t)&&(o[e]=t)})),o}function xf(t,e,n){var r=Ct(e,{all:!1,combos:"toplevel",direction:"any",mode:"auto",normalization:"component",value:void 0,weights:!1});r.combos="toplevel";var i=t.getCache(r).adjacency;function o(t){var e=0;return q(t,(function(t){e+=dt(t)?1:0})),e}function a(t){return 0===Object.keys(t).length}function s(e){var n=t.getLinks();return!n[e].a1&&!n[e].a2}function u(){return"any"!==r.direction}function l(){return!!sf(r).match(/chart/)}function c(){return!!sf(r).match(/component/)}var f=vf(r,t);uf(r),af(r),f.all=r.all;var d=!It(r.value)||u()?"dijkstra":"regular",h=0,p={},v=(function(){if(r.mode=r.mode||"auto",!r.mode.match(/^(connected|disconnected|auto)$/))throw new TypeError("Option mode property should be either 'connected', 'disconnected' or 'auto'")}(),"auto"===r.mode?function(){var e="disconnected",n=lf(t,r);if(1===n.length&&(e="connected",u()))for(var i=0;i<n[0].links.length;i++)if(s(n[0].links[i]))return"disconnected";return e}():r.mode),g={regular:function(t){return function(t){var e={},n=0,r={},o={};function s(t,r){(function(t){return!It(t)})(e[r])||(e[r]=n,q(i[r],(function(t,e){o[e]=!0})))}for(o[t]=!0;!a(o);)r=o,o={},q(r,s),n+=1;return e}(t)},dijkstra:function(e,n){return bf(t,e,n)}},m=g[d]||g.regular,y={connected:function(t,e){var n=0;return q(e,(function(t){n+=dt(t)?t:0})),n?1/n:0},disconnected:function(t,e){var n=0;return q(e,(function(e,r){n+=t!==r?1/e:0})),n}}[v];h=0,t.eachNode(r,(function(){h++})),p={},t.asyncEachNode(r,"closeness",(function(t,e){var n,r=m(t.id,f),i=o(r);p[t.id]=y(t.id,r),h>1&&(n=l()?Math.pow(i-1,2)/(h-1):c()?i-1:1,p[t.id]*=n),e()}),(function(){xt(n,p)}))}function wf(t,e){var n=Ct(e,{all:!1,combos:"toplevel",multi:!0});n.combos="toplevel",vf(n,t),af(n);var r=t.getCache(n).adjacency,i={};return t.eachNode(n,(function(e){var o=e.id;i[o]=0,q(r[o],(function(e,r){for(var a=0;a<e.length;a++){var s=hf(o,r,e[a],n,t);if(dt(s)&&(i[o]+=s,!n.multi))break}}))})),i}function Af(t,e){var n,r,i=Ct(e,{all:!1,combos:"toplevel",direction:"any"});i.combos="toplevel",i.direction="any",af(i),pf(i,t);var o={},a=lf(t,i);function s(t,e){o[e]=t*a[n].nodes.length}for(n=0;n<a.length;n++){var u={};for(r=0;r<a[n].nodes.length;r++)u[a[n].nodes[r]]=!0;q(l(u),s)}return o;function l(e){var n={},r=[],o=[],a=[],s=0,u=[],l=0;t.eachNode(i,(function(t){var i=t.id;e[i]&&(r.push(i),n[i]=r.length-1,o.push([]),a.push({}))}));var c=Math.max(100,5*Math.sqrt(r.length));t.eachLink(i,(function(t){if(e[t.id1]&&e[t.id2]){var r=n[t.id1],u=n[t.id2];a[r][u]||(o[r].push(u),o[u].push(r),a[u][r]=0,a[r][u]=0);var c=function(t,e){return e.value&&t.d?+t.d[e.value]:1}(t,i);a[r][u]+=c,a[u][r]+=c,s+=c,l++}}));var f={};if(0===r.length)return f;if(1===r.length)return f[r[0]]=1,f;if(2===r.length)return f[r[0]]=.5,f[r[1]]=.5,f;s/=l,c=Math.max(100,5*Math.sqrt(r.length));for(var d=0;d<r.length;d++)u.push(Math.random());for(d=0;d<c;d++)u=h(u),d%10==0&&p();for(p(),d=0;d<r.length;d++)f[r[d]]=u[d];return f;function h(t){for(var e=[],n=0;n<r.length;n++){for(var i=0,u=0;u<o[n].length;u++)i+=a[n][o[n][u]]*t[o[n][u]];i+=s*t[n],e.push(i)}return e}function p(){for(var t=1/function(t){for(var e=0,n=0;n<t.length;n++)e+=Math.abs(t[n]);return e}(u),e=0;e<r.length;e++)u[e]*=t}}}function _f(t,e){var n={},r={},i=function(t,e,n){var r=null;function i(t,e,n){var r={id:e.id,id1:e.id1,id2:e.id2,ids:n};t.edges.push(r),t.connections.push(n)}function o(r){var o={connections:[],adjacency:{},vertices:{},edges:[],selfAdjacency:{},selfConnections:[]};e(r,(function(t){o.vertices[t.id]={x:t.x,y:t.y},o.adjacency[t.id]={}}));var a=[],s={};t(r,(function(t){t.id1===t.id2?(s[t.id1]=s[t.id1]||[],s[t.id1].push(t.id)):function(t,e,n,r,i){t[n]||(t[n]={}),t[r]||(t[r]={}),t[n][r]||(t[r][n]=[],t[n][r]=t[r][n],e.push(i)),t[n][r].push(i)}(o.adjacency,a,t.id1,t.id2,t.id)}));for(var u=a.length,l=n(),c=0;c<u;c++){var f=l[a[c]];i(o,f,o.adjacency[f.id1][f.id2])}if(Dt(s)){var d=o.connections.slice();q(s,(function(t){d.push(t)})),o.selfConnections=d}else o.selfConnections=o.connections;return o.selfAdjacency=s,o}return{getCache:function(t){var e=Ct(t,{all:!1,combos:"toplevel"}),n=(e.all?"all":"visible")+"-"+e.combos;return r||(r={}),r[n]||(r[n]=o(e)),r[n]},clearCache:function(){r=null}}}(u,l,c),o=i.clearCache,a=i.getCache;function s(t,e,n){var r=e.all,i="toplevel"!==e.combos,o="underlying"!==e.combos;q(t,(function(t){!r&&t.hi||!i&&t.parentId||!o&&t._combo||n(t)}))}function u(t,e){s(r,t,e)}function l(t,e){s(n,t,e)}function c(){return r}return{asyncEachNode:function(n,r,i,o){var a=function(){var t=[];return l(n,(function(e){t.push(e)})),t}(),s=a.length,u=-1,c=0,f=Date.now(),d=f;function h(){++u>=s?(p(1),o()):i(a[u],v)}function p(n){e&&(t.fire("progress",{task:r,progress:n}),e.trigger("progress",r,n))}function v(){f=Date.now(),(c++>500||f-d>700)&&(c=0,d=Date.now(),1)?(p(u/s),ut(h,0)):h()}p(0),v()},clearCache:o,connections:function(t){var e=a(t);return t.self?e.selfConnections:e.connections},eachLink:u,eachNode:l,findAdjacency:function(t,e,n){var r=a(t);if(e===n)return r.selfAdjacency[e];var i=r.adjacency;return i[e]&&i[e][n]},getCache:a,getLinks:c,getNodes:function(){return n},privateSetProperties:function(t,e){n=t,r=e,o()}}}function kf(t,e,n){var r=t.getNodes(),i=t.getLinks(),o=_t(e),a={},s={},u=jt(o),l=Ct(n,{all:!1,direction:"any",hops:1});if(l.hops<1)throw new Error("neighbours error: hops must be a positive number");af(l);var c=0,f={},d={},h=u,p=t.getCache(l),v=p.adjacency,g=p.selfAdjacency;function m(t,e,n){!d[e]&&ff(i,n,t,e,l)&&(a[e]=!0,d[e]=!0,n!==t&&(s[t]=!0,t in h&&(s[n]=!0),t in u||(c++,f[t]=!0)))}for(q(u,(function(t,e){var n=Pt(e);if(!r[n]&&!i[n])throw new Error("neighbours error: ids must be present in the graph");c++}));l.hops--&&c;)c=0,q(u,(function(t,e){if(r[e]){v[e]&&q(v[e],(function(t,n){for(var r=0;r<t.length;r++)m(n,Pt(t[r]),e)}));var n=g[e];if(n)for(var o=0;o<n.length;o++)m(e,n[o],e)}else if(i[e]){var a=i[e];!d[a.id2]&&ff(i,a.id2,a.id1,e,l)&&(s[a.id2]=!0,d[a.id2]=!0,d[e]=!0,a.id2 in u||(c++,f[a.id2]=!0)),!d[a.id1]&&ff(i,a.id1,a.id2,e,l)&&(s[a.id1]=!0,d[a.id1]=!0,d[e]=!0,a.id1 in u||(c++,f[a.id1]=!0))}})),u=f,f={};return{nodes:Object.keys(s),links:Object.keys(a)}}function Cf(t,e){var n=_f(t,e);return{internalMarkLinks:function(t){return rf(n,t)},privateGetLinkIdsBetween:function(t,e){return function(t,e,n){var r=t.getCache({all:!0,combos:"all"}),i=r.adjacency,o=r.selfAdjacency,a=[];return i[e]&&(a=i[e][n]||[]),e===n&&o[e]&&(a=a.concat(o[e])),a}(n,t,e)},privateNeighbourLinks:function(t){return nf(n,t)},clearCache:n.clearCache,connections:n.connections,findAdjacency:n.findAdjacency,privateSetProperties:n.privateSetProperties,betweenness:function(t,e){return mf(n,t,e)},closeness:function(t,e){return xf(n,t,e)},clusters:function(t){return function(t,e){var n=Ct(e,{all:!1,combos:"toplevel",consistent:!0,factor:5});n.combos="toplevel",af(n);var r,i=[],o=[],a=[],s=[],u={},l=0,c=[],f=[],d=[],h=[],p=[];t.eachNode(n,(function(t){s.push(t.id),o.push([]),a.push([]),u[t.id]=s.length-1,c.push([s.length-1]),f.push(s.length-1),p.push(s.length-1),i.push(0),d.push(0)})),t.eachLink(n,(function(t){var e=function(t,e){var n=1;return e.value&&t.d&&(n=+t.d[e.value]),n}(t,n);l+=e;var r=u[t.id1],s=u[t.id2];a[r][s]||(a[r][s]=0,a[s][r]=0),a[r][s]+=e,a[s][r]+=e,i[r]+=e,i[s]+=e,d[r]+=e,d[s]+=e,o[r].push(s),o[s].push(r)}));var v=Math.max(1e4,50*s.length);if(0===s.length)return[];0===l&&(v=0);var g=Qt();g.setSeed(n.consistent?900736044081:null),function(t){r=dt(r=+t)?r:5,r=Math.max(0,r),r=(r=Math.min(10,r))*r*r/125}(n.factor);for(var m=0;m<v;m++){g.next()>.95&&_(p[Math.floor(g.next()*p.length)],p[Math.floor(g.next()*p.length)]),m<.5*v&&g.next()>.98&&C(p[Math.floor(g.next()*p.length)]);var y=Math.floor(s.length*g.next()),b=o[y][Math.floor(g.next()*o[y].length)],x=f[b],w=f[y];x!==w&&A(x,w,y)>=0&&k(y,x)}function A(t,e,n){var s=d[e],u=d[t],c=i[n],h=(s-u-c)*c*r;h/=2*l;for(var p=0;p<o[n].length;p++){var v=o[n][p];f[v]===e?h-=a[n][v]:f[v]===t&&(h+=a[n][v])}return h/l}function _(t,e){if(e!==t&&0!==c[t].length&&0!==c[e].length){var n=d[t],i=d[e],s=0;s-=r*n*i/l;for(var u=0;u<c[t].length;u++)for(var h=c[t][u],p=0;p<o[h].length;p++)f[o[h][p]]===e&&(s+=a[h][o[h][p]]);if((s/=l)>0){var v=c[t].length;for(u=0;u<v;u++)k(c[t][0],e)}}}function k(t,e){var n=f[t];f[t]=e;for(var r=[],o=0;o<c[n].length;o++)c[n][o]!==t&&r.push(c[n][o]);0===c[e].length&&(p.push(e),h.splice(h.indexOf(e),1)),c[n]=r,c[e].push(t),d[e]+=i[t],d[n]-=i[t],0===c[n].length&&(h.push(n),p.splice(p.indexOf(n),1))}function C(t){var e=c[t].length;if(1!==e&&h.length){for(var n=[],r=0;r<e;r++)n.push(c[t][r]);for(r=0;r<e&&h.length;r++)k(n[r],h[0])}}return function(){for(var t=[],e=0;e<p.length;e++){for(var n=[],r=0;r<c[p[e]].length;r++)n.push(s[c[p[e]][r]]);t.push(n)}return t}()}(n,t)},components:function(t){return lf(n,t)},degrees:function(t){return wf(n,t)},distances:function(t,e){return bf(n,t,e)},eigenCentrality:function(t){return Af(n,t)},kCores:function(t){return function(t,e){var n=Ct(e,{all:!1,combos:"toplevel"});n.combos="toplevel",af(n);for(var r=Ic(t.getCache(n),!1),i=Nu.kcore(r.staticGraph),o={},a=0,s=0;s<i.size;s++){var u=i.get(s);o[r.vertexMap.get(s)]=u,a=Math.max(a,u)}return{maximumK:a,values:o}}(n,t)},neighbours:function(t,e){return kf(n,t,e)},pageRank:function(t){return function(t,e){var n=Ct(e,{all:!1,combos:"toplevel",directed:!0});n.combos="toplevel",af(n),vf(n,t);var r={},i=[],o=[],a=[],s=[],u=[],l=.85;t.eachNode(n,(function(t){i.push(t.id),r[t.id]=i.length-1,o.push([]),a.push({}),s.push(0)}));var c=Math.max(100,5*Math.sqrt(i.length));t.eachLink(n,(function(t){var e=r[t.id1],i=r[t.id2],u=function(t,e){var n=1;return e.value&&t.d&&(n=+t.d[e.value]),n}(t,n);n.directed&&!t.a2&&(t.a1||t.a2)||(a[i][e]||(a[i][e]=0,o[i].push(e)),a[i][e]+=u,s[e]+=u),n.directed&&!t.a1&&(t.a1||t.a2)||(a[e][i]||(a[e][i]=0,o[e].push(i)),a[e][i]+=u,s[i]+=u)}));for(var f=0;f<i.length;f++)u.push(Math.random());var d=1/v(u);for(f=0;f<i.length;f++)u[f]*=d;for(f=0;f<c;f++)u=p(u);for(d=1/v(u),f=0;f<i.length;f++)u[f]*=d;var h={};for(f=0;f<i.length;f++)h[i[f]]=u[f];return h;function p(t){for(var e=[],n=0,r=0,c=0;c<i.length;c++)n+=t[c];for(c=0;c<i.length;c++){for(var f=0,d=0;d<o[c].length;d++){var h=o[c][d];f+=a[c][h]*t[h]/s[h]}0===s[c]&&(r+=l*t[c]),f*=l,f+=(1-l)*n/i.length,e.push(f)}for(r/=i.length,c=0;c<u.length;c++)e[c]+=r;return e}function v(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}}(n,t)},shortestPaths:function(t,e,r){return function(t,e,n,r){var i=t.getNodes();if("string"!=typeof e||"string"!=typeof n)throw new Error("shortestPaths error: ids must be strings");if(!i[e]||!i[n])throw new Error("shortestPaths error: ids must be present in the graph");var o=Ct(r,{combos:"toplevel",all:!1});vf(o,t),af(o);var a=yf(t,e,o),s=a.previous;if(a.distance[n]===1/0)return{onePath:[],one:[],items:[],distance:1/0};for(var u=[],l=[],c=n;s[c];)u.unshift(c),l.unshift(c),l.unshift(s[c][0].links[0]),c=s[c][0].id;function f(t){for(var e=[],n=0;n<t.length;n++)s[t[n].id]&&(e=e.concat(s[t[n].id]));return e}u.unshift(c),l.unshift(c);var d={};d[n]=!0;var h=[];h.push({id:n});for(var p=f(h);p.length>0;){for(var v=0;v<p.length;v++){d[p[v].id]=!0;for(var g=0;g<p[v].links.length;g++)d[p[v].links[g]]=!0}p=f(p)}return{onePath:l,one:u,items:Object.keys(d),distance:a.distance[n]}}(n,t,e,r)}}}var Ef=2*Math.PI,Mf=Math.PI/2;function Sf(){var t=-Math.PI/12,e=Math.sin(t),n=Math.cos(t);function r(t,e){if(t.r===e.r){if(t.t){if(!e.t)return-1;if(t.t<e.t)return-1;if(t.t>e.t)return 1}else if(e.t)return 1;return t.id===e.id?0:t.id<e.id?-1:1}return t.r<e.r?1:-1}return{compareCircles:r,concentricLayout:function(i,o){var a,s=i;if(!s||0===s.length)return s;var u=Ct(o,{padding:8,radialPadding:0}),l=u.padding,c=0;s.sort(r),s=s.map((function(t){return{id:t.id,r:t.r+l,x:t.x,y:t.y,labelOffset:t.labelOffset,w:t.w,h:t.h}}));var f=[],d=0,h=s[c++];if(1===s.length)v();else if(2===s.length)g();else if(3===s.length)m();else if(4===s.length)!function(){var t=h,n=s[c++],r=s[c++],i=s[c++];n.r===r.r&&r.r===i.r&&(n=s[2],r=s[1]);var o=t.r+r.r,a=t.r,u=Math.sqrt(o*o-a*a),l=t.r-n.r,f=e*u;t.x=-n.r,t.y=-t.labelOffset-f,n.x=t.r,n.y=-n.labelOffset+f,r.x=l+f,r.y=-u-r.labelOffset,i.x=l-f,i.y=u-i.labelOffset}();else if(s.length>4){var p=s[0].r;for(s[2].r/p>.5&&s.length>10?m():s[1].r/p>.5&&s.length>10?g():v(),a=Math.abs(s[0].y-s[0].r)+u.radialPadding,h=s[c++];h;)b();f.forEach((function(e){var n=Ef/(e.circumference-e.spaceLeft),r=0,i=n*e.items[0].r;4===e.items.length&&(i-=t),e.items.forEach((function(t){var o=n*t.r,a=r+o;t.x=e.radius*Math.cos(a-Mf-i),t.y=e.radius*Math.sin(a-Mf-i)-t.labelOffset,r+=n*y(t)}))})),function(){var t=s[0],e=s[0];s.forEach((function(n){n.y<t.y?t=n:n.y>t.y&&(e=n)}));var n=(Math.abs(t.y-t.r)-(Math.sqrt(e.x*e.x+e.y*e.y)+e.r))/4;s.forEach((function(t){t.y+=n}))}()}function v(){s[0].x=0,s[0].y=-s[0].labelOffset}function g(){var t=h,e=s[c++];t.x=0,t.y=-e.r-t.labelOffset,e.x=0,e.y=t.r-e.labelOffset}function m(){var t=h,r=s[c++],i=s[c++],o=(t.r+r.r+l)/Math.sqrt(3),a=(t.r-r.r)/2,u=1.25*Math.PI;t.x=o*e,t.y=-o*n+a,r.x=o*n,r.y=-o*e-r.labelOffset+a,i.x=o*Math.sin(u),i.y=-o*Math.cos(u)-i.labelOffset+a}function y(t){return 2*t.r+l}function b(){d+=h.r+a+u.radialPadding,a=h.r;var t=Ef*d,e=t-y(h),n={items:[],radius:d,spaceLeft:0,circumference:t};for(f.push(n);h&&e>0;)n.items.push(h),(h=s[c++])&&(e-=y(h));if(h&&(e+=y(h)),n.spaceLeft=e,h&&s.length-c<5){for(var r=0;h;)r+=y(h),n.items.push(h),h=s[c++];n.radius=(t-e+r)/Ef,n.circumference=Ef*n.radius,n.spaceLeft=0}}return s}}}var If=function(){};function Lf(t,e,n,r,i){return void 0===r&&(r=If),function(o,a){var s={vertices:o,updatedEdges:a,extents:Nc(o)};return t.fire("progress",{task:"layout",progress:1}),e.trigger("progress","layout",1),r(s,n,i),s}}var Tf=Ec.KnownProperties,Pf=Ec.Names,Of=ts.fromArray,Rf={proportion:.12,min:20,max:200};function Bf(t,e,n,r){var i,o=function(t){var e={};return t.forEach((function(t){e[t]=t})),e}(n?n.nodeIds:[]),a=t.vertexMap,s=Nu.buildPropertyBagFrom(Of(t.nodeList,(function(t){return[a.getUniqueInverse(t.id),t]})),((i={})[Tf.position2d]=function(t){return t},i[Tf.sparseRadius]=function(t){return Math.max(e(t.id,!0).radius,.5)},i[Tf.radius]=function(t){var n=e(t.id,!1).radius;return Math.max(n<.5?e(t.id,!0).radius:n,.5)},i[Tf.speed]=function(t){return void 0!==o[t.id]?0:1},i));r&&(s[Tf.group]=r);var u=Ec.analysisProps(t.staticGraph,s),l=n&&n.absolute?function(t,e,n,r){for(var i,o=t.vertexMap,a=o.size,s=new Map,u=[],l=0;l<r.length;l++){var c=o.getUniqueInverse(r[l]),f=n.get(c),d=e.get(c);s.has(f)||(u.push(f),s.set(f,[])),s.get(f).push({x:d.x,y:d.y})}return Nu.buildPropertyBagFrom(Of(u,(function(t){return[t,s.get(t)]})),((i={})[Tf.groupCenter]={map:function(t){return nl.Rect.center(nl.pointExtents(Of(t)))},defaultValue:null},i[Tf.groupSpeed]={map:function(){return 0},defaultValue:1},i),a)}(t,u[Tf.position2d],u[Tf.group],n.nodeIds):{};return Gt(u,l)}function zf(t,e,n){var r=new Ec.SetTimeoutRunner(t,0,100,n);return r.initialize(e),{start:r.start.bind(r),cancel:r.cancel.bind(r)}}function Df(t,e){return t.initialize&&t.initialize(e),{start:function(n,r){try{for(;t.progress()<1;)t.run(e),r&&r(t.progress())}catch(t){return void n(t)}n()},cancel:function(){}}}function jf(t,e,n){var r=Sc(Bt(t.v),t.e);function i(e){var n=e.klOpts.fixed&&Array.isArray(e.klOpts.fixed)?e.klOpts.fixed.filter((function(e){return void 0!==t.v[e]})):[],i={};return e.pinTo&&(e.pinTo.firstFixed&&n.length>0?i.pinTo=r.vertexMap.getUniqueInverse(n[0]):e.pinTo.fallback&&(i.pinTo=e.pinTo.fallback)),{nodeIds:n,absolute:!!e.klOpts.absoluteFixed,pinOptions:i}}function o(t,e,i,o,a,s){var u=Ec.createLayout(t,r.staticGraph,i.libgOpts);if(n&&void 0!==n[t]){var l=n[t];null===l?n[t]=new Ec.AdaptiveProxy(r,u):l.reset(r,u),u=n[t]}var c=(a?Df:zf)(u,e,s),f=function(t,e){return c.start((function(e){return t(e)}),e)};return f.cancel=c.cancel,f.state=r,f.fixConfig=o,f}return{state:r,adaptiveState:n||null,organic:function(t,n){var a,s,u=t.klOpts,l="adaptive"===u.mode,c=null!==(a=u.packing)&&void 0!==a?a:l?"adaptive":void 0,f={attenuation:Bc(u.tightness)/5-1},d=i(t),h=Bf(r,e,d);return t.libgOpts=Gt({adaptive:l,initializationOptions:{seed:u.consistent?7:void 0,consistentSeeds:u.consistent,adaptive:l},liveUpdate:!1,packing:c,packingOptions:{padding:Rf,aspectRatio:u.ratio},pinTo:null===(s=d.pinOptions)||void 0===s?void 0:s.pinTo,scale:f},t.libgOpts||{}),o(Ec.Names.organic,h,t,d,n)},reduceOverlaps:function(t,n,i){var a={absolute:!1,nodeIds:[]},s=Bf(r,e,a,n);return t.libgOpts={iterations:{min:3,max:3},padding:{proportion:(10-Bc(t.klOpts.tightness))/100,min:.5,max:1/0}},o(Ec.Names.removeOverlaps,s,t,a,i)},pack:function(t,n,a){var s,u=t.klOpts,l=i(t),c=Bf(r,e,l,n);return t.libgOpts=Gt({packing:u.packing,packingOptions:{padding:Rf,aspectRatio:u.ratio},pinTo:null===(s=l.pinOptions)||void 0===s?void 0:s.pinTo},t.libgOpts||{}),o(Ec.Names.pack,c,t,l,a)},lens:function(t,n){var i={absolute:!1,nodeIds:[]},a=Bf(r,e,i,Nu.all(r.nodeList.length)),s=Bc(t.klOpts.tightness);return t.libgOpts={initializationOpts:{seed:t.klOpts.consistent?7:void 0},baseScale:42*(2-2*s/10+1),removeOverlapOpts:{padding:{proportion:(10-s)/100,min:.5,max:1/0}},liveUpdate:!1},o(Ec.Names.lens,a,t,i,n,2)}}}function Ff(t,e,n,r,i){if(0===n)return r[t[0]]={x:0,y:0},{radius:e,index:-1};var o=2*e,a=(n+1)*o,s=o,u=Math.sqrt(a/(Math.PI*s))*s,l=Math.floor(2*Math.PI*u/o);l=Math.min(l,n+1);var c,f=2*Math.PI/l;switch(l){case 2:c=Math.PI/2,u*=.75;break;case 3:c=Math.PI/3,u*=.85;break;case 4:c=0,u*=.85;break;case 5:c=0,u*=.9;break;default:c=0}u*=i/2;for(var d=0;d<l;)r[t[n-d]]={x:u*Math.cos(c),y:u*Math.sin(c)},c+=f,d++;return{radius:u,index:n-l}}function Zf(t,e,n,r){q(t,(function(t){t.arranged&&(t.x+=e,t.y+=n)})),r(t,{})}function Nf(t,e,n,r,i,o,a,s){var u={tidy:function(t,e,n){var r=Gc(f,i.e);return function(t,e,n,r,i,o){var a=e.map((function(t){return Object.keys(t.verts).filter((function(t){return void 0===n[t]}))})).filter((function(t){return t.length>0}));a.push(Object.keys(n));var s=jf({v:t,e:[]},r),u=s.state.vertexMap,l=Lc(s.state,a,(function(t){return t})),c={tightness:5,ratio:i,absoluteFixed:!1},f={packingOptions:{groupOrder:a.map((function(t){return l.get(u.getUniqueInverse(t[0]))})),padding:{proportion:.12,min:20,max:200}}};s.pack({klOpts:c,libgOpts:f},l,!0)((function(){return o(t,{})}))}(f,r,t,a,e.ratio,n)},average:function(t,e,n){return Zf(f,e.centre.x,e.centre.y,n)},absolute:function(t,e,n){return Zf(f,e.absolute.x,e.absolute.y,n)}},l={grid:function(t,e,n,r,i){return function(t,e,n,r){for(var i,o,a=2*e+24+n,s=Math.floor(Math.sqrt(t.length)),u=Math.ceil(t.length/s),l=0,c=0,f={},d={x:0,y:0},h=0;h<s;h++){for(var p=0;p<u;p++){var v=u*h+p;t[v]&&(f[t[v]]={x:l,y:c},d.x+=l,d.y+=c),l+=a}l=0,c+=a}for("absolute"===r?(i=a*(u-1)/2,o=a*(s-1)/2):(i=d.x/t.length,o=d.y/t.length),h=0;h<t.length;h++)f[t[h]].x-=i,f[t[h]].y-=o;return f}(t,n,r,i)},circle:function(t,e,n,r){return function(t,e,n){for(var r=0,i={},o=0;o<e.length;o++)r+=t[e[o]].r;if(1===e.length)i[e[0]]={x:0,y:0};else{var a=Math.PI/4;2===e.length&&(a=Math.PI/2),4===e.length&&(a=0),e.length<4&&(r*=1.5);var s=2*Math.PI/e.length,u=n*r/4;for(o=0;o<e.length;o++)i[e[o]]={x:u*Math.cos(a),y:u*Math.sin(a)},a+=s}return{positions:i,radius:r}}(e,t,1.25-(5-r)/50).positions},radial:function(t,e,n,r){return function(t,e,n){var r,i={},o=0,a=t.length-1;do{var s=Ff(t,e,a,i,n);o=Math.max(s.radius,o),a=s.index}while(a>=0);switch(t.length){case 4:default:r=2;break;case 3:r=2.5;break;case 2:r=3;break;case 1:r=1}return{positions:i,radius:o*r}}(t,n,1.25-(5-r)/50).positions}},c=Ct(o,{tightness:5,position:"average",x:0,y:0});n.trigger("prechange","arrange"),e.fire("prechange",{type:"arrange"});var f=i.v,d=zc(c.tightness),h=u[c.position]||u.average,p=l[t]||l.grid,v={x:+c.x||0,y:+c.y||0},g=_t(r);if((g=function(t,e){for(var n=[],r=0;r<e.length;r++)t[e[r]]&&n.push(e[r]);return n}(f,g)).length){for(var m=0,y={x:0,y:0},b=0;b<g.length;b++)m+=f[g[b]].r,y.x+=f[g[b]].x,y.y+=f[g[b]].y;m/=g.length,y.x/=g.length,y.y/=g.length;var x=p(g,f,m,d,c.position),w={};q(x,(function(t,e){f[e].x=t.x,f[e].y=t.y,w[e]=f[e],w[e].arranged=!0}));var A={centre:y,absolute:v,ratio:c.ratio};h(w,A,Lf(e,n,c,s))}else s()}function Vf(t){var e={include:!1};function n(t,e,n){return{id:e,x:t.x,y:t.y,fixed:n,d:t.d,labelOffset:Kc(t),lc:0,r:1,w:1,h:1}}function r(t,e,r,i){if(!(r in t)){if(!(r in e))throw new Error("link has end which is not in nodes list");var o=e[r];if(o.hi)throw new Error("link has end which is hidden");t[r]=n(o,r,r in i)}}function i(t,e,i,o,a,s,u){for(var l={},c=[],f=0;f<o.length;f++){var d=o[f],h=i[d[0]],p=h.id1,v=h.id2;r(l,e,p,a),r(l,e,v,a);for(var g=[],m=1,y=0;y<d.length;y++){var b=d[y],x=i[b];g.push({id:b,sign:x.id1===p?1:-1,off:x.off||0,a1:x.a1||!1,a2:x.a2||!1}),m=Math.max(m,x.w||1)}c.push({id:p<v?p+"-"+v:v+"-"+p,id1:p,id2:v,arrowSize:t.currentArrowLength(m,1),links:g,numLinks:g.length}),l[p].lc+=1,l[v].lc+=1}return q(e,(function(t,e){if(!(t.hi||!s&&t.parentId)&&(l[e]||(l[e]=n(t,e,t.id in a)),u[e])){var r=l[e],i=u[e];r.x=i.x,r.y=i.y}})),{v:l,e:c}}function o(t,e,n,r,i){var o=Hc(e,t,n,i);r.r=o.legacyRadius,r.w=o.width,r.h=o.height}function a(t,e,n,r,i){var o=Hc(e,t,n,i);r.r=o.radius,r.w=o.width,r.h=o.height}function s(n,r,i,s,u,l){for(var c=Object.keys(Pf).indexOf(n)>=0,f=t.privateGetMaxLabelLength(),d="radial"!==n?{include:!0,maxLength:f}:e,h="lens"===n||c?a:o,p=0;p<i.length;p++)h(r,s[i[p]],d,u[i[p]],l)}return function(t,e,n,r,o,a,u,l,c,f){var d={};if(a)for(var h=0;h<a.length;h++)d[a[h]]=!0;var p=i(t,n,r,o().connections({all:!1,combos:c}),d,void 0!==c&&"toplevel"!==c,null!=f?f:{}),v=p.v,g=p.e,m=Object.keys(v);return s(u,e,m,n,v,l),{e:g,extents:Nc(v),v:v,vcount:m.length}}}function Gf(t,e,n){void 0===n&&(n="r");var r,i,o,a,s=[],u=function(t){var e=0;return q(t,(function(t){e=Math.max(e,t.length)})),e}(t);function l(t){if(t[a]){for(var s=t[a].vertices,u=0;u<s.length;u++){var l=s[u],c=e[l][n];i+=c,r=Math.max(r,c)}o+=s.length}}for(a=0;a<u;a++){r=0,i=0,o=0;var c=0;q(t,l);var f=i/o,d=s[a-1];d&&r<d.max+d.yOffset&&(c=(d.max+d.yOffset)/2),s[a]={max:r,average:f,sum:i,yOffset:c}}return s}function Yf(t,e,n){return function(t,e,n){var r=[];if(n>0){var i=t[n];i&&i.edges&&i.edges.forEach((function(t){t.id1===e?r.push(t.id2):t.id2===e&&r.push(t.id1)}))}return r}(t,e,n+1)}function Wf(t){var e={up:function(t){t.y=-t.y},down:function(t){},right:function(t){var e=t.y;t.y=t.x,t.x=e},left:function(t){var e=t.y;t.y=t.x,t.x=-e}};return e[t]||e.down}function Uf(t){return Rc(t)&&"intra"===t.duType}function Xf(t,e){return Rc({id:t.id})&&(Uf(e[t.id1])||Uf(e[t.id2]))}function Hf(t,e,n){var r={};function i(e,n){"level"in t[n]||(t[n].level=1/0),t[n].level=Math.min(t[n].level,e)}for(var o=0;o<n.length;o++)q(e.distances(n[o]),i),(r[t[n[o]].c]=r[t[n[o]].c]||[]).push(n[o]);var a=0;return q(t,(function(t){a=Math.max(a,t.level)})),{topByComponent:r,maxLevelNum:a}}function Kf(t){for(var e={},n=$f(t),r=Qf(n);r;){var i=td(Jf(r),e);ed(t,i),Object.keys(i).forEach((function(t){e[t]=!0})),r=Qf(n=$f(t))}return function(t){var e={},n={};return t.forEach((function(t){(e[t.tail]=e[t.tail]||{})[t.head]=ar({isIncomingEdge:!0,tight:!1},t),(e[t.head]=e[t.head]||{})[t.tail]=ar({isIncomingEdge:!1,tight:!1},t),(n[t.tail]=n[t.tail]||[]).push(t.head),n[t.head]=n[t.head]||[]})),{directedAdjacencyList:n,incidenceList:e}}(t)}function Qf(t){var e={},n={},r={},i=[],o=1;function a(s){i.push(s),r[s]=!0,e[s]=o,n[s]=o,o++;for(var u=Object.keys(t[s]),l=0;l<u.length;l++){var c=u[l];if(void 0===e[c]){var f=a(c);if(f)return f;n[s]=Math.min(n[s],n[c])}else r[c]&&(n[s]=Math.min(n[s],e[c]))}if(e[s]===n[s]){var d={},h=void 0;do{h=i.pop(),r[h]=!1,d[h]=!0}while(i.length>0&&s!==h);if(Object.keys(d).length>1){var p={};return Object.keys(d).forEach((function(e){p[e]=p[e]||{},q(t[e],(function(t,n){d[n]&&(p[e][n]=t)}))})),p}}}for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u];if(!e[l]){var c=a(l);if(c)return c}}}function Jf(t){var e,n=[],r=[],i=new Map,o={},a=!1;function s(u){var l=!1;o[u]=!0;for(var c=t[u],f=Object.keys(c),d=0;d<f.length;d++){if(a)return!0;var h=f[d];h===e?(n.push(sr(r,[c[h]])),l=!0):o[h]||(r.push(c[h]),l=s(h))}return r.pop(),l?(n.length<100?function t(e){o[e]=!1,i.has(e)&&i.get(e).forEach((function(n){i.get(e).delete(n),o[n]&&t(n)}))}(u):a=!0,!0):(f.forEach((function(t){var e=i.get(t);e||(e=new Set,i.set(t,e)),e.add(u)})),!1)}for(var u=Object.keys(t),l=0;l<u.length&&(i.clear(),o={},s(e=u[l]),qf(t,e),!(Object.keys(t).length<3))&&Qf(t);l++);return n}function qf(t,e){q(t,(function(n,r){r===e&&delete t[r],Object.keys(n).forEach((function(n){n===e&&delete t[r][n]}))}))}function $f(t){var e={};return t.forEach((function(t){(e[t.tail]=e[t.tail]||{})[t.head]=t,e[t.head]=e[t.head]||{}})),e}function td(t,e){var n,r,i={},o={},a={},s=[];if(1===t.length){var u=t[0].filter((function(t){return!e[t.id]}));return(n={})[(u.length>0?nd(u):t[0][0]).id]=!0,n}if(t.forEach((function(t){var n,r=t.filter((function(t){return!e[t.id]}));r.length>0?(n=nd(r),s.push(r)):n=t[0],0!==n.netDirection||a[n.id]||(a[n.id]=!0),o[n.id]=!0})),Object.keys(a).length>0)return a;s.forEach((function(t){t.forEach((function(t){i[t.id]=i[t.id]?++i[t.id]:1}))}));var l=Object.keys(i);if(l.length>0){var c=l.reduce((function(t,e){return i[t]>i[e]?t:e}));if(1!==i[c])return(r={})[c]=!0,r}return o}function ed(t,e){for(var n=Object.keys(e).length,r=0;r<t.length&&n>0;r++){var i=t[r];e[i.id]&&(i.head=i.head===i.id1?i.id2:i.id1,i.tail=i.head===i.id2?i.id1:i.id2,n--)}}function nd(t){var e=t.filter((function(t){return t.directionInferred}));return(e.length>0?e:t).reduce((function(t,e){return Math.abs(e.netDirection)<Math.abs(t.netDirection)?e:t}))}function rd(t,e){for(var n={},r={},i=0,o=0;o<t.length;o++)r[o]=id(t[o],n),i=Math.max(i,r[o].length);var a={};return q(e,(function(t){t.level=n[t.id]||0,0===t.level&&(a[t.c]=a[t.c]||[]).push(t.id)})),{topByComponent:a,maxLevelNum:i}}function id(t,e){if(0===t.edges.length)return[];var n=function(t){return t.map((function(t){var e,n=0,r=0;t.links.forEach((function(t){t.a1&&(n+=t.sign),t.a2&&(n-=t.sign),t.a1||t.a2||(r-=t.sign)})),e=0!==n?n>0?t.id1:t.id2:0!==r?r>0?t.id1:t.id2:t.id1<t.id2?t.id2:t.id1;var i=0===n,o=i?r:n,a=e===t.id2?t.id1:t.id2;return ar(ar({},t),{directionInferred:i,netDirection:o,head:e,tail:a})}))}(t.edges),r=Kf(n),i=r.directedAdjacencyList,o=r.incidenceList;return od(i,e),function(t,e,n){var r=Object.keys(e).length,i=function(t,e,n){var r=[],i=Object.keys(e);function o(t){return cd(t,n)}for(var a=0,s=i[a];0===Bt(e[s]).filter(o).length;)s=i[++a];var u=ad(e,s,n);return t.forEach((function(t){u[t.id1]&&u[t.id2]||r.push(t)})),{nonTreeEdges:r,vertsInTightTree:u}}(t,e,n),o=i.vertsInTightTree,a=i.nonTreeEdges;!function t(){var i=Object.keys(o);if(i.length!==r){var s,u=1/0,l={};if(a.forEach((function(t){var e,r=ld(t,n);(o[t.tail]||o[t.head])&&(r<u?(u=r,s=!!o[t.head],(e={})[t.id]=!0,l=e):r===u&&(l[t.id]=!0))})),u>0){var c=s?-u:u;i.forEach((function(t){n[t]+=c}))}a=a.filter((function(t){if(l[t.id]&&(o[t.head]||o[t.tail])){if((s||0===u)&&o[t.head]&&!o[t.tail])return dd(o,t),fd(e,t,!0),!1;if((!s||0===u)&&!o[t.head]&&o[t.tail])return dd(o,t),fd(e,t,!0),!1}return!o[t.tail]||!o[t.head]||(cd(t,n)&&fd(e,t,!0),!1)})),t()}}()}(n,o,e),function(t,e,n){var r,i=ud(e);function o(t){n[t]-=r}for(;i;){r=1/0;for(var a=[],s=0;s<t.length;s++){var u=ld(t[s],n);i.tailSegmentVerts[t[s].head]&&!i.tailSegmentVerts[t[s].tail]&&u>0&&(a.push(t[s]),r=Math.min(u,r))}Object.keys(i.tailSegmentVerts).forEach(o),a.forEach((function(t){cd(t,n)&&fd(e,t,!0)})),fd(e,ar({id1:i.tail,id2:i.head},i),!1),i=ud(e)}return function(t,e){var n=[],r=zt(e),i=1/0,o=-1/0;r.forEach((function(e){var n=t[e];i=n<i?n:i,o=n>o?n:o})),r.forEach((function(e){t[e]+=-i})),o+=-i;for(var a=0;a<=o;a++)n.push(a);return n}(n,e)}(n,o,e)}function od(t,e){var n=function(t){if(null===t)return null;switch(typeof t){case"object":if(Array.isArray(t))return t.slice();if(it(t))return nt(t);if(t instanceof Date)return new Date(t.getTime());var e={};return q(t,(function(t,n){e[n]=t})),e;case"boolean":case"string":case"number":return t;default:return}}(t),r=0,i=Object.keys(t).length,o={};!function t(n){if(0!==i){var a={};q(n,(function(t,e){o[e]||t.forEach((function(t){t&&(a[t]=!0)}))})),zt(n).forEach((function(t){a[t]||o[t]||(e[t]=r,o[t]=!0,i--)})),r++,t(n)}}(n)}function ad(t,e,n){var r={},i={};return function e(o){r[o]=!0,q(t[o],(function(o,a){cd(o,n)&&(r[a]?r[a]&&i[a]&&(fd(t,o,!0),dd(i,o)):(fd(t,o,!0),dd(i,o),e(a)))}))}(e),i}function sd(t,e,n){var r=!1,i={},o={};!function a(s){o[s]=!0,i[s]=!0,q(t[s],(function(t,u){if(t.tight&&!i[u]){if(s!==e&&u===n)return void(r=!0);u!==n&&(o[u]=!0,a(u))}}))}(e);var a=0;return r||q(t,(function(t,e){q(t,(function(t,n){t.isIncomingEdge&&(o[e]&&!o[n]&&a++,!o[e]&&o[n]&&a--)}))})),{cutValue:a,tailSegmentVerts:o}}function ud(t){for(var e=Object.keys(t),n=0;n<e.length;n++)for(var r=t[e[n]],i=e[n],o=Bt(r),a=zt(r),s=0;s<o.length;s++)if(o[s].isIncomingEdge&&o[s].tight){var u=a[s],l=sd(t,i,u),c=l.cutValue,f=l.tailSegmentVerts;if(c<0)return{head:u,tail:i,tailSegmentVerts:f}}}function ld(t,e){return Math.abs(e[t.id1]-e[t.id2])-1}function cd(t,e){return 1===Math.abs(e[t.id1]-e[t.id2])}function fd(t,e,n){t[e.id1][e.id2].tight=n,t[e.id2][e.id1].tight=n}function dd(t,e){t[e.id1]=!0,t[e.id2]=!0}function hd(t,e,n,r,i){for(var o={},a={},s=0;s<r.length;s++)a[s]=pd(e,n,r[s],o);var u=function(t,e,n){var r={},i=0;if(n){for(var o=[],a={},s=0;s<t.length;s++)for(var u=0;u<e[s].length;u++)a[e[s][u]]||(o.push(e[s][u]),a[e[s][u]]=!0);for(o.sort((function(t,e){return t-e})),i=o.length,s=0;s<t.length;s++)for(r[s]={},u=0;u<o.length;u++)r[s][o[u]]=u}else for(s=0;s<t.length;s++){for(r[s]={},u=0;u<e[s].length;u++)r[s][e[s][u]]=u;i=Math.max(i,e[s].length)}return{customLevelMap:r,maxLevelNum:i}}(r,a,i),l={};return q(t,(function(t){t.level=u.customLevelMap[t.c][o[t.id]]||0,0===t.level&&(l[t.c]=l[t.c]||[]).push(t.id)})),{topByComponent:l,maxLevelNum:u.maxLevelNum}}function pd(t,e,n,r){var i={},o=[],a=1/0;return q(n.verts,(function(e){if(e.d&&dt(e.d[t])){var n=e.d[t];i[n]||(i[n]=[],o.push(n)),i[n].push(e.id),r[e.id]=n,n<a&&(a=n)}})),a===1/0?id(n,r):(o.sort((function(t,e){return t-e})),function(){for(var t=0;t<o.length;t++){for(var n=o[t],a=[],s=e.neighbours(i[n]),u=((o[t+1]||n+1)+n)/2,l=0;l<s.nodes.length;l++){var c=s.nodes[l];It(r[c])&&(a.push(c),r[c]=u)}a.length&&(o.splice(t+1,0,u),i[u]=a)}}(),o)}function vd(t,e,n,r,i,o,a,s){var u=n(),l=i?"sequential":"hierarchy",c=a?hd(t,a,u,r,i):o&&o.length>0||!i?Hf(t,u,o):rd(r,t),f={},d=function(t,e,n,r,i){var o=0;function a(e,i){var a=e.origId||e.id,s={id:Pc+a+"-"+o++,level:e.level-1,origId:a,x:0,y:0,c:e.c,r:10,fixed:!1,lc:e.lc,duType:i,w:20,h:20,labelOffset:0};return t[s.id]=s,n[e.c].verts[s.id]=s,r[s.id]=!0,s}function s(t,r,i,o){void 0===o&&(o=0);var a={id:Pc+t.id+"-"+r.id,id1:t.id,id2:r.id,c:i,numLinks:o};return"level"in t&&"level"in r&&(a.level=Math.max(t.level,r.level)),e.push(a),n[i].edges.push(a),a}return{insertEdge:s,insertChain:function t(e,n,r){var i=r.c,o=r.numLinks,u=a(e,"chain"),l=r.id1===n.id;s(l?u:e,l?e:u,i,o),u.level===n.level+1?s(l?n:u,l?u:n,i,o):t(u,n,r)},insertInternalLink:function(t,e,n){var r=n.c,o=n.numLinks;if(t.level>0){var u=a(t,"intra");s(t,u,r,o),s(u,e,r,o)}if(t.level<i-1){var l=a(t,"intra");l.level+=2,s(t,l,r,o),s(l,e,r,o)}}}}(t,e,r,f,c.maxLevelNum);!function(t,e,n,r,i,o){void 0===o&&(o=[]);for(var a=0,s=e.length;a<s;a++){var u=void 0,l=void 0,c=e[a],f=t[Pt(c.id1)],d=t[Pt(c.id2)],h=f.level,p=d.level;dt(h)&&dt(p)&&(c.level=Math.max(h,p),h<p?(i[d.id]=!0,l=f,u=d):p<h&&(i[f.id]=!0,l=d,u=f));var v=Math.abs(h-p);v>1?r.insertChain(u,l,c):"sequential"===n&&0===v&&(r.insertInternalLink(f,d,c),o.push(c))}}(t,e,l,d,f,s),"hierarchy"===l&&a&&gd(t,u,d,f,c.topByComponent)}function gd(t,e,n,r,i){q(t,(function(o,a){if(!r[a]&&0!==o.level){for(var s=i[o.c],u=void 0,l=1/0,c=0;c<s.length;c++){var f=e.shortestPaths(a,s[c]);f.distance<l&&(u=f,l=f.distance)}for(var d=0;d<u.one.length;d++){var h=u.one[d],p=t[h];if(p&&"level"in p&&p.level<o.level){var v=n.insertEdge(o,p,o.c);o.level-p.level>1&&n.insertChain(o,p,v);break}}}}))}function md(t,e,n,r,i,o,a,s,u){yd(r,i,0,a,s,u),function(t,e,n,r,i,o){for(var a=0,s=Math.PI*(2/3),u=0,l=0;l<e[t].length;l++){var c=e[t][l].vertices,f=r[l].yOffset,d=r[l].average,h=2*((o<d?d:o)+12)+f;a+=u;for(var p=0;p<c.length;p++){var v=c[p],g=n[v];if(g.y=a,!i){var m=g.children;if(m&&m.length>1){var y=bd(xd(m.map((function(t){return n[t]}))),s);h=Math.max(h,y)}}}u=h}}(t,e,i,n,o,s)}function yd(t,e,n,r,i,o){var a=2*i+24+o;r||(t.x=n);var s=n-t.subChildrenCount*(a/2),u=t.children;if(u)for(var l=0;l<u.length;l++){var c=e[u[l]],f=c.subChildrenCount;0===f&&(f=1);var d=s+f*a;yd(c,e,(d+s)/2,!1,i,o),s=d}}function bd(t,e){return t/(2*Math.tan(e/2))}function xd(t){for(var e=1/0,n=-1/0,r=0;r<t.length;r++){var i=t[r].x;e=Math.min(e,i),n=Math.max(n,i)}return n-e}function wd(t,e,n,r,i,o){var a=Ct(n,{top:[],orientation:"down",flatten:!1}),s=t.v,u=t.e,l=Gc(s,u),c=a.level,f=r?1:zc(a.tightness),d=c?[]:kt(a.top,s),h=!r&&a.flatten;vd(s,u,e,l,!1,d,c);var p=function(t,e){var n={};function r(t,e,r,i){n[t]=n[t]||[],n[t][e]=n[t][e]||{vertices:[],edges:[]},n[t][e][r]=n[t][e][r]||[],n[t][e][r].push(i)}q(t,(function(t,e){"level"in t&&r(t.c,t.level,"vertices",e)}));for(var i=0;i<e.length;i++)"level"in e[i]&&r(e[i].c,e[i].level,"edges",e[i]);return n}(s,u),v=function(t){var e=0,n=0;return q(t,(function(t){"level"in t&&!Rc(t)&&(e+=t.r,n+=1)})),e/n}(s),g=Gf(p,s);function m(t){for(var e=0,n=0;n<t.length;n++){var r=s[t[n]].subChildrenCount;e+=0===r?1:r}return e}q(p,(function(t){for(var e=t.length-1;e>=0;e--)for(var n=t[e].vertices,r=[],i=0;i<n.length;i++){var o=n[i],a=Yf(t,o,e);if(s[o].children=[],s[o].subChildrenCount=0,0!==a.length){for(var u=[],l=0;l<a.length;l++)r.indexOf(a[l])<0&&u.push(a[l]);if(u.length>0)for(s[o].children=u,s[o].subChildrenCount=m(u),l=0;l<u.length;l++)r.push(u[l]),s[u[l]].parent=o}}})),q(p,(function(t,e){var n={children:t[0].vertices,subChildrenCount:m(t[0].vertices)};md(e,p,g,n,s,h,!0,v,f)})),r?function(t,e,n,r,i){function o(t,e){return(t.r+e.r)/(t.a-e.a)}function a(t,e,n,r){if(r&&1===t.length)return 0;for(var i=e,a=i,u=1;u<t.length;u++)a=Math.max(o(s[t[u]],s[t[u-1]]),a);return function(t,e,n){var r=e>0?t+n:t+n/2;return r>0?r:t}(a,a-i,n)}var s,u=zc(i);q(e,(function(e,i){for(var o=jc(n[+i].verts),l=0,c=l,f=4*r,d=f,h=2*r+24,p=0;p<e.length;p++){var v=e[p].vertices,g=void 0;s={};for(var m=0;m<v.length;m++){var y=v[m],b=(g=t[y]).x-o.minx,x=o.maxx-o.minx+h;if((b*=2*Math.PI/x)<0||b>2*Math.PI)throw new Error("[Radial] Theta angle should be in the range [0; 2*PI]");s[y]={a:b,r:g.r}}for(c=l,0===p?v.length>1&&(l+=f/2):l+=f,(l=a(v,l,u,p<1))-c>d&&(d=l-c+1,f=Math.max(f,d/2),0===p&&v.length<3&&(l/=2)),m=0;m<v.length;m++)(g=t[v[m]]).x=l*Math.cos(s[g.id].a),g.y=l*Math.sin(s[g.id].a)}}))}(s,p,l,v,a.tightness):function(t,e,n){var r=Wf(n);q(e,(function(e){for(var n=0;n<e.length;n++)for(var i=e[n].vertices,o=0;o<i.length;o++)r(t[i[o]])}))}(s,p,a.orientation),q(s,(function(t){Rc(t)&&delete s[t.id]})),a.tidy||q(p,(function(t,e){var n=l[e].extents,r=Nc(l[e].verts),i=0,o=0;n&&r&&(i=(n.x1+n.x2-(r.x1+r.x2))/2,o=(n.y1+n.y2-(r.y1+r.y2))/2);for(var a=0;a<t.length;a++)for(var u=t[a].vertices,c=0;c<u.length;c++){var f=u[c],d=s[f];d&&(d.x+=i,d.y+=o)}})),o((function(){return i(s,{})}))}function Ad(t,e,n,r,i){var o=function(t,e,n){var r=[],i=[];return t.forEach((function(t){for(var o=e[t],a=0;a<o.length;a++)r[a]||(r[a]={vertices:[],edges:[]}),r[a].vertices=r[a].vertices.concat(o[a].vertices.filter((function(t){return!Uf(n[t])}))),r[a].edges=r[a].edges.concat(o[a].edges.filter((function(t){return!Xf(t,n)}))),i[a]=r[a].vertices.length})),r}(t,e,n);q(n,(function(t){void 0!==t.orderPos&&(t.children.sort((function(t,e){return n[t].orderPos-n[e].orderPos})),t.parents.sort((function(t,e){return n[t].orderPos-n[e].orderPos})))}));var a=Ed(o,n,"ul",r,i),s=Ed(o,n,"ur",r,i),u=Ed(o,n,"dl",r,i),l=Ed(o,n,"dr",r,i),c=[a.extents,s.extents,u.extents,l.extents].sort((function(t,e){return t.max-t.min-(e.max-e.min)}))[0];function f(t,e){return t-e}for(var d=0;d<o.length;d++)for(var h=o[d].vertices,p=function(t){var e=h[t],i=n[e],o=[a.xs[e]-a.extents.min+c.min,s.xs[e]-s.extents.max+c.max,u.xs[e]-u.extents.min+c.min,l.xs[e]-l.extents.max+c.max].sort(f);if(i.x=(o[1]+o[2])/2,i.group){var d=i.group,p=i.x-i[r]/2;d.ids.forEach((function(t,e){n[t].x=p+d.positions[e]}))}},v=0;v<h.length;v++)p(v)}function _d(t,e,n){var r=e;if(t.root!==t.id)return r;var i=function(t){return n[n[t.root].sink]},o=i(t).shift;if(void 0!==o)return o<1/0?r+o:r;var a=i(t).shiftData;o=1/0;for(var s=0;s<a.length;s++){var u=a[s].dist;n[a[s].vert].shift<1/0&&(u+=n[a[s].vert].shift),o=Math.min(o,u)}return i(t).shift=o,o<1/0?r+o:r}function kd(t,e,n,r,i,o,a){var s=t[e],u=t[e].filter((function(t){return Rc({id:t})}));u.length>0&&(s=u);for(var l=0,c=[],f=0;f<s.length;f++){var d=o[s[f]];c.push(l),l+=d.group?d.group.ids.length:1}if(l>0){for(var h=[Math.floor((l+1)/2)-1,Math.ceil((l+1)/2)-1],p=Math.floor((c.length+1)/2)-1;c[p+1]<=h[0];)p++;for(;c[p-1]>=h[0];)p--;var v=[{id:s[p],groupIdx:h[0]-c[p]}];c[p+1]<=h[1]&&p++,v.push({id:s[p],groupIdx:h[1]-c[p]});for(var g=0;g<2;g++){var m=i?v[g]:v[1-g],y=r[m.id],b=y.pos;if(n<b)return y.align=t.id,y.sizeSplit=a(m.id,m.groupIdx),t.root=y.root,t.align=t.root,b}}return n}function Cd(t,e,n,r){var i,o,a,s;if(void 0===n[t.id]){i=t,n[t.id]=0;do{void 0!==i.predecessor&&(Cd(a=e[(o=e[i.predecessor]).root],e,n,r),t.sink===t.id&&(t.sink=a.sink),s=i.sizeSplit.before+o.sizeSplit.after+r,t.sink!==a.sink?(e[a.sink].shiftData=e[a.sink].shiftData||[]).push({vert:t.sink,dist:n[t.id]-n[a.id]-s}):n[t.id]=Math.max(n[t.id],n[a.id]+s)),i=e[i.align]}while(i.id!==t.id)}}function Ed(t,e,n,r,i){for(var o="l"===n[1],a="u"===n[0],s={},u=1/0,l=-1/0,c=function(t,e,n,r,i){for(var o=[],a={},s=r?0:t.length-1,u=r?1:-1,l=function(e){return r?e<t.length:e>=0},c=function(t){return n?0:t.length-1},f=n?1:-1,d=function(t,e){return n?t<e.length:t>=0},h=function(t,r){return function(t,e,n,r){if(t.group){var i=t.group.positions.slice(e)[0];return{before:r?i:t[n]-i,after:r?t[n]-i:i}}return"w"===n?{before:t.w/2,after:t.w/2}:r?{before:t.h/2-t.labelOffset,after:t.h/2+t.labelOffset}:{before:t.h/2+t.labelOffset,after:t.h/2-t.labelOffset}}(e[t],r,i,n)},p=s;l(p);p+=u)for(var v=t[p].vertices,g=void 0,m=-1,y=0,b=c(v);d(b,v);b+=f){var x=v[b],w=e[x];o.push(x),a[x]={id:v[b],pos:y++,predecessor:g,align:x,root:x,sink:x,shiftData:[],sizeSplit:h(x,n?0:-1),parents:w.parents.filter((function(t){return!Uf(e[t])})),children:w.children.filter((function(t){return!Uf(e[t])}))};var A=r?"parents":"children";m=kd(a[x],A,m,a,n,e,h),g=x}return{order:o,details:a}}(t,e,o,a,r),f=0;f<c.order.length;f++)(h=c.details[c.order[f]]).root===h.id&&Cd(h,c.details,s,i);for(f=0;f<c.order.length;f++){var d=c.order[f],h=c.details[d];s[d]=_d(h,s[h.root],c.details)}for(f=0;f<c.order.length;f++)d=c.order[f],h=c.details[d],u=Math.min(u,s[d]-h.sizeSplit.before),l=Math.max(l,s[d]+h.sizeSplit.after),void 0!==e[d].group&&(s[d]+=(h.sizeSplit.after-h.sizeSplit.before)/2);return o?{xs:s,extents:{max:l,min:u}}:(q(s,(function(t,e){s[e]*=-1})),{xs:s,extents:{max:-u,min:-l}})}function Md(t,e,n,r,i,o,a){var s="equal"===a?Sd:Id,u=0;t.forEach((function(t){s(e[t],n,i,o);var a=r[t].verts,l=Nc(a);l&&(u-=l.x1,q(a,(function(t){t.x+=u})),u+=l.x2+o)}))}function Sd(t,e,n,r){for(var i=function(i){var o=0,a=t[i].vertices;zd(a,e,(function(t){if(!Rc(t)){var e=t[n]/2,i="h"===n?t.labelOffset:0;o+=e-i,t.x=o,o+=e+i+r}}));var s=(o-r)/2;zd(a,e,(function(t){t.x-=s}))},o=0;o<t.length;o++)i(o)}function Id(t,e,n,r){for(var i=[],o=[],a=0,s=function(s){var u=t[s].vertices;i[s]=0,o[s]=0,zd(u,e,(function(t){Rc(t)||(i[s]+=t[n],o[s]++)}));var l=i[s]+r*(o[s]-1);a=Math.max(a,l)},u=0;u<t.length;u++)s(u);var l=function(r){var s=t[r].vertices;if(o[r]>1){var u=(a-i[r])/(o[r]-1),l=0;zd(s,e,(function(t){if(!Rc(t)){var e=t[n]/2,r="h"===n?t.labelOffset:0;l+=e-r,t.x=l,l+=e+r+u}}))}else for(var c=0;c<s.length;c++){var f=e[s[c]];Rc(f)||(f.x=a/2)}};for(u=0;u<t.length;u++)l(u)}function Ld(t,e,n,r,i,o){var a,s=function(t,e,n,r,i,o){for(var a=0,s=Gf(t,e,r),u=[],l=0;l<n.length;l++){var c=n[l].level,f=n[l].arrowSize;u[c]=Math.max(u[c]||0,2*f)}for(var d=0;d<s.length;d++){var h=s[d].max/2,p=0;s[d+1]&&(p=s[d+1].max/2);var v=u[d]||0;a=Math.max(a,h+p+i+Math.max(i,v))}return a*o}(t,e,n,r,i,o),u=function(t){t.y=a};return q(t,(function(t){a=0;for(var n=0;n<t.length;n++)zd(t[n].vertices,e,u),a+=s})),s}function Td(t,e,n){var r=[],i=0,o=0,a=0,s=0;return t.forEach((function(t){var u=e[t];r.push(i+u.w/2),i+=u.w+n,o=Math.max(o,u.h-2*u.labelOffset),a=Math.max(a,u.h+2*u.labelOffset),s+=u.lc||0})),{w:i-=n,h:o+a,labeloff:(a-o)/2,lc:s,positions:r}}function Pd(t,e,n){var r=[],i=0,o=0,a=0;return t.forEach((function(t){var s=e[t];r.push(o+(s.h/2-s.labelOffset)),o+=s.h+n,i=Math.max(i,s.w),a+=s.lc||0})),{w:i,h:o-=n,labeloff:0,lc:a,positions:r}}function Od(t,e,n,r,i){var o=("w"===r?Td:Pd)(e,n,i);return{id:t,w:o.w,h:o.h,x:n[e[0]].x,y:n[e[0]].y,fixed:!1,labelOffset:o.labeloff,lc:o.lc,level:n[e[0]].level,group:{ids:e,positions:o.positions}}}function Rd(t,e,n,r){for(var i=t.sort((function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0})),o=0;o<i.length;o++){var a=i[o][e];r[a]=r[a]||{str:"",list:[]},r[a].str=r[a].str+" _"+i[o][n],r[a].list.push(i[o][n])}}function Bd(t,e,n,r,i){var o={},a=t.filter((function(t){var a;if(-1===r.indexOf(t[e]))return!0;if(o[t[n]])o[t[n]].numLinks+=t.numLinks||0,o[t[n]].arrowSize=Math.max(o[t[n]].arrowSize,t.arrowSize||0),(a=o[t[n]].links).push.apply(a,t.links||[]);else{var s="id1"===n?{id1:t[n],id2:i}:{id1:i,id2:t[n]};s.id=t.id,s.c=t.c,s.level=t.level,s.numLinks=t.numLinks||0,s.links=t.links||[],o[t[n]]=s}return!1}));return a.push.apply(a,Bt(o)),a}function zd(t,e,n){for(var r=0;r<t.length;r++){var i=e[t[r]];i.group?i.group.ids.forEach((function(t){n(e[t])})):n(i)}}function Dd(t,e){for(var n=0;n<t.length;n++){var r=e[t[n]];if(r.barycenter===1/0)break;r.orderPos=n}}function jd(t,e,n,r){for(var i=!0,o=-1,a={},s=0;s<t.length;s++){var u=t[s];if(a[u]=s,!n&&e[u].barycenter===1/0){i=!1;break}for(var l=0,c=0,f=e[u][r],d=0;d<f.length;d++)if(e[f[d]].barycenter===1/0)i=!1;else{c++;var h=e[f[d]].orderPos;-1!==h&&(l+=h)}var p=!0;if(c>0?e[u].barycenter=l/c:e[u].barycenter===1/0?i=!1:0===s?e[u].barycenter=0:p=!1,p){var v=s-o-1;if(v>0)for(var g=e[t[o]].barycenter,m=Math.min(g,e[u].barycenter),y=Math.abs(g-e[u].barycenter),b=y===1/0?1:y/(v+1),x=1;x<=v;x++)e[t[o+x]].barycenter=m+b*x;o=s}}return t.sort((function(t,n){return e[t].barycenter===e[n].barycenter?a[t]-a[n]:e[t].barycenter-e[n].barycenter})),Dd(t,e),i}function Fd(t,e,n){if(e<1||t.length<=e)return 0;var r=t[e].edges,i=t[e-1].vertices,o=t[e].vertices;return i.length>o.length?Zd(r,n,"id1","id2"):Zd(r,n,"id2","id1")}function Zd(t,e,n,r){if(t.length<2)return 0;!function(t,e,n,r){t.sort((function(t,i){var o=e[t[n]].orderPos,a=e[t[r]].orderPos,s=e[i[n]].orderPos,u=e[i[r]].orderPos;return o<s||o===s&&a<u?-1:1}))}(t,e,n,r);var i=t.map((function(t){return e[t[r]].orderPos}));i.sort((function(t,e){return t-e}));var o={};i.forEach((function(t,e){o[t]=e}));for(var a=t.map((function(t){var n=o[e[t[r]].orderPos];return{index:n,multiplier:void 0===n?0:t.numLinks}})),s=1;s<a.length;)s*=2;var u=new Int32Array(2*s-1);s-=1;for(var l=0,c=0;c<a.length;c++){var f=a[c].index+s;for(u[f]+=a[c].multiplier;f>0;)f%2&&(l+=u[f+1]*a[c].multiplier),u[f=Math.floor((f-1)/2)]+=a[c].multiplier}return l}function Nd(t,e,n){var r=t.concat(e),i={};r.forEach((function(t){i[t[n]]=!0}));var o=Object.keys(i),a=o.length;return{verts:o,edges:r,common:t.length===a&&e.length===a}}function Vd(t,e){return Nd(t.childEdges||[],e.childEdges||[],"id2")}function Gd(t,e){return Nd(t.parentEdges||[],e.parentEdges||[],"id1")}function Yd(t,e,n){for(var r=1,i=t[e].vertices,o=0,a=0,s=0;s<i.length-1;s+=r){var u=i[s],l=i[s+1],c=!1,f=e>0?Gd(n[u],n[l]):{common:!0,edges:[]},d=e<t.length-1?Vd(n[u],n[l]):{common:!0,edges:[]},h=f.common?[]:f.edges,p=d.common?[]:d.edges,v=Zd(h,n,"id1","id2")+Zd(p,n,"id2","id1"),g=n[l].orderPos;n[l].orderPos=n[u].orderPos,n[u].orderPos=g;var m=Zd(h,n,"id1","id2")+Zd(p,n,"id2","id1");v<=m?(n[u].orderPos=n[l].orderPos,n[l].orderPos=g):(c=!0,o+=v-m,i[s]=l,i[s+1]=u,1===r&&(a=Math.max(a,s),r=-1),0===s&&(s=a,r=1)),c||-1!==r||(s=a,r=1)}return o}function Wd(t,e,n){for(var r,i,o=t,a=!1,s=!1,u=!0,l=0,c=o.length,f=0;f<o.length;f++)if(o[f].vertices.length>0){c=f;break}if(c===o.length-1)return o;o[c].vertices.sort((function(t,n){return e[n].childEdges.length-e[t].childEdges.length})),e[o[c].vertices[0]].barycenter=0,e[o[c].vertices[0]].orderPos=0;var d=1/0;do{for(r=d,s?(d=0,i=et(o)):d=1/0,f=c;f<o.length-1;f++)a=jd(o[f+1].vertices,e,!0,"parents"),u&&(jd(o[f].vertices,e,!1,"children"),a=jd(o[f+1].vertices,e,!1,"parents"));for(s=a,f=o.length-1;f>c;f--)a=jd(o[f-1].vertices,e,f<l+2,"children"),u?(jd(o[f].vertices,e,!1,"parents"),a=jd(o[f-1].vertices,e,!1,"children")):d+=Fd(o,f,e),a||(s=!1);u=!s}while(l++<100&&(d===1/0||d<r));return i&&(o=i).forEach((function(t){Dd(t.vertices,e)})),d>0&&n<1e4&&function(t,e){var n,r=100;do{n=0;for(var i=0;i<t.length;i++)n+=Yd(t,i,e)}while(n>0&&--r>0)}(o,e),o}function Ud(t,e){return null!==t&&"boolean"!=typeof t&&""!==t&&dt(+t)&&+t>=0?+t:e}function Xd(t,e,n,r,i,o){var a=Ct(n,{top:[],orientation:"down",spacing:"auto"}),s=t.v,u=t.e,l=a.level,c=l?[]:kt(a.top,s),f=50+zc(a.tightness),d=a.orientation.match(/right|left/)?"h":"w",h=a.orientation.match(/right|left/)?"w":"h",p=Ud(n.stretch,1),v=Gc(s,u),g=[];vd(s,u,e,v,!0,c,l,g);var m=function(t,e){var n={};function r(t,e,r,i){n[t]=n[t]||[],n[t][e]=n[t][e]||{vertices:[],edges:[]};for(var o=0;o<e;o++)n[t][o]=n[t][o]||{vertices:[],edges:[]};n[t][e][r]=n[t][e][r]||[],n[t][e][r].push(i)}q(t,(function(t,e){"level"in t&&r(t.c,t.level,"vertices",e)}));for(var i=0;i<e.length;i++){var o=e[i];if("level"in o)if(t[o.id2].level-t[o.id1].level==1)r(o.c,o.level,"edges",o);else if(t[o.id1].level-t[o.id2].level==1){var a={id:o.id,id1:o.id2,id2:o.id1,numLinks:o.numLinks,level:o.level};r(o.c,o.level,"edges",a)}}return n}(s,u);q(m,(function(t,e){!function(t,e,n,r){var i,o=0,a=0;function s(s){var u=s.filter((function(t){return!Rc({id:t})}));if(u.length>1){for(var l=i[u[0]].list,c=1;c<u.length;c++){if(i[u[c]].list.length!==l.length)return;if(!i[u[c]].list.every((function(t,e){return t===l[e]})))return}var f="_group"+o+++"c"+e[u[0]].c;e[f]=Od(f,u,e,n,r),t[a].vertices=t[a].vertices.filter((function(t){return-1===u.indexOf(t)})),t[a].vertices.push(f),a>0&&(t[a].edges=Bd(t[a].edges,"id2","id1",u,f)),a<t.length-1&&(t[a+1].edges=Bd(t[a+1].edges,"id1","id2",u,f))}}for(var u=function(){i={},a>0&&Rd(t[a].edges,"id2","id1",i),a<t.length-1&&Rd(t[a+1].edges,"id1","id2",i);var e={};q(i,(function(t,n){(e[t.str]=e[t.str]||[]).push(n)})),q(e,s)};a<t.length;a++)u()}(t,s,d,f),function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n].vertices,i=0;i<r.length;i++){var o=r[i],a=e[o];a.childEdges=[],a.parentEdges=[],a.children=[],a.parents=[],a.barycenter=1/0,a.orderPos=i}t[n].edges.forEach((function(t){e[t.id1].childEdges.push(t),e[t.id1].children.push(t.id2),e[t.id2].parentEdges.push(t),e[t.id2].parents.push(t.id1)}))}}(t,s),m[e]=Wd(t,s,u.length)}));var y=function(t,e,n){var r=[],i=[],o={};if(n.length>0){var a={};n.forEach((function(n){var i=e[n].c;a[i]||(r.push(i),a[i]=!0,o=Vt(o,t[i].verts))})),r.length<t.length&&t.forEach((function(t){a[t.c]||(i.push(t),a[t.c]=!0)}))}else t.forEach((function(t){o=Vt(o,t.verts),r.push(t.c)}));return i.unshift({verts:o,edges:[]}),{orderedComponents:r,packingComponents:i}}(v,s,c),b=y.orderedComponents,x=y.packingComponents,w=Lc(i.state,x,(function(t){return Object.keys(t.verts)})),A=i.pack(o,w),_=function(t,e,n,r,i,o,a,s,u,l){return"auto"===a?Ad(t,e,n,r,i):Md(t,e,n,o,r,i,a),Ld(e,n,s,u,i,l)}(b,m,s,d,f,v,a.spacing,u,h,p),k=function(t,e,n,r,i,o,a){void 0===r&&(r="down");for(var s={},u=0;u<t.length;u++){var l=t[u];l.links.sort((function(t,e){return(Et(t.off)?t.off*t.sign:1/0)-(Et(e.off)?e.off*e.sign:1/0)}));var c=0,f=0,d=0,h=!0,p=e[l.c][l.level].vertices,v=n[l.id1].orderPos,g=n[l.id2].orderPos,m=v<g?[v,g]:[g,v],y=v<g?1:-1;r.match(/right|up/)&&(y*=-1);for(var b=m[0]+1;b<m[1];b++){var x=n[p[b]];Rc(x)||(h=!1);for(var w=0;w<x.parentEdges.length;w++)c+=x.parentEdges[w].numLinks;for(w=0;w<x.childEdges.length;w++)f+=x.childEdges[w].numLinks;var A=(x[i]||x.r)/2;d=Math.max(d,A)}if(!h){f===c&&(c=n[p[m[0]]].parentEdges.length+n[p[m[1]]].parentEdges.length,f=n[p[m[0]]].childEdges.length+n[p[m[1]]].childEdges.length);var _=f<c?-y:y,k=d+20,C=40,E=a/2;for(k+=Math.abs(n[l.id1].x-n[l.id2].x)/o,(k=Math.min(k,E))+(l.links.length-1)*C>E&&(C=Math.max(10,(E-k)/(l.links.length-1))),b=0;b<l.links.length;b++){var M=l.links[b],S=k+b*C;s[M.id]={off:_*M.sign*S}}}}return s}(g,m,s,a.orientation,h,f,_);a.orientation.match(/up|right|left/)&&function(t,e,n){var r=Wf(n);q(e,(function(e){for(var n=0;n<e.length;n++)zd(e[n].vertices,t,r)}))}(s,m,a.orientation),q(s,(function(t){(t.group||Rc(t))&&delete s[t.id]})),A((function(){return r(s,k)}))}var Hd=Math.pow(10,-3.8),Kd=Math.pow(ka,1.35);function Qd(t,e,n,r){return{leaf:!0,nodes:{},point:null,x1:t,y1:e,x2:n,y2:r}}function Jd(t,e){var n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=.5*(n+i),s=.5*(r+o),u=e.x>=a,l=e.y>=s,c=(l?2:0)+(u?1:0);t.leaf=!1,u?n=a:i=a,l?r=s:o=s,t.nodes[c]||(t.nodes[c]=Qd(n,r,i,o)),qd(t.nodes[c],e)}function qd(t,e){if(t.leaf){var n=t.point;if(n)return Math.abs(n.x-e.x)+Math.abs(n.y-e.y)<.01||(t.point=null,Jd(t,n)),void Jd(t,e);t.point=e}else Jd(t,e)}function $d(t,e){if(!t(e))for(var n=e.nodes,r=0;r<4;r++)n[r]&&$d(t,n[r])}function th(t){var e=0,n=0;if(t.charge=0,t.size=0,!t.leaf)for(var r=t.nodes,i=0;i<4;i++){var o=r[i];o&&(th(o),t.charge+=o.charge,t.size+=o.size,e+=o.charge*o.cx,n+=o.charge*o.cy)}if(t.point){var a=eh(t.point);t.pointCharge=a,t.charge+=a,t.size+=t.point.r,e+=a*t.point.x,n+=a*t.point.y}t.cx=t.charge?e/t.charge:0,t.cy=t.charge?n/t.charge:0}function eh(t){return ka*Math.pow(t.r,1.35)/Kd*(1+(t.lc?t.lc:1)/3)}function nh(t,e){var n=jc(t),r=n.minx,i=n.miny,o=n.maxx,a=n.maxy,s=o-r,u=a-i;s>u?a=i+s:o=r+u;var l;function c(t){if(t.point!==l){var e=t.cx-l.x,n=t.cy-l.y,r=1/Wt(e,n);if((t.x2-t.x1)*r<.5)return f(l,t.charge,r,e,n),!0;t.point&&f(l,t.pointCharge,r,e,n)}return!t.charge}function f(t,e,n,r,i){d(t,e,r,i,Math.min(n,1e5))}function d(t,n,r,i,o){if(!(o<Hd)){var a=e*eh(t)*n*o*o*o;t.dx-=r*a,t.dy-=i*a}}var h=Qd(r,i,o,a);q(t,(function(t){qd(h,t)})),th(h),q(t,(function(t){l=t,$d(c,h)}))}function rh(t,e,n,r){ah(t[e.id1],t[e.id2],n,r)}function ih(t,e,n){return t.r+e.r+n*(1+((t.lc?t.lc:1)+(e.lc?e.lc:1))/6)}function oh(t,e,n,r){var i=e[t.id1],o=e[t.id2],a=i.x-o.x,s=i.y-o.y,u=ih(i,o,n),l=Wt(a,s);if(l>.02){var c=r*((l-u)/l),f=a*c,d=s*c;i.dx-=f,i.dy-=d,o.dx+=f,o.dy+=d}}function ah(t,e,n,r){var i,o,a;if(!t.fixed||!e.fixed){var s=2*r.next()*Math.PI;a=1.3*ih(t,e,n)/2,t.fixed||e.fixed?(i=t.fixed?t.x:e.x,o=t.fixed?t.y:e.y,a*=2):(i=(t.x+e.x)/2,o=(t.y+e.y)/2),t.fixed||(t.x=i+a*Math.cos(s),t.y=o+a*Math.sin(s),s+=Math.PI),e.fixed||(e.x=i+a*Math.cos(s),e.y=o+a*Math.sin(s))}}function sh(t,e){var n=t.extents,r=0,i=0;if(n){r=n.c;var o=n?Math.max(n.x2-n.x1,n.y2-n.y1):0,a=120*Math.sqrt(r);i=Math.max(o,a)/2}var s=0;r>1&&(s=Math.min(Math.pow(r,2.5),100));var u=s*r*Math.log(r),l=1/function(t){var e=Bc(t.tightness);return Math.pow(2,.4*(e-5))}(e);return{repulsionFactor:40*(l>1?Math.pow(l,2):l),coeff:1,naturalDistance:20*l,iterations:s,chunk:20,temperature:i,estTime:u}}function uh(t,e,n,r){var i={temperature:10,i:0},o={verts:t.v,edges:t.e},a=sh(t,e);a.chunk=5,a.iterations=5,i.temperature=Math.pow(a.temperature,.72),lh(i,o,a,n),r(t.v,{})}function lh(t,e,n,r){var i,o,a=Math.min(t.i+n.chunk,n.iterations);function s(t){t.dx=0,t.dy=0,i++}function u(t){!function(t,e){if(!t.fixed){var n=Wt(t.dx,t.dy),r=t.dx/n*Math.min(n,e),i=t.dy/n*Math.min(n,e);t.x+=r,t.y+=i}}(t,o)}for(;t.i<a;){var l=e.verts,c=e.edges;if(i=0,q(l,s),Dc(l,r,2),1===i)return void(t.i=a);if(2===i){if(c[0])rh(l,c[0],n.naturalDistance,r);else{var f=Bt(l);ah(f[0],f[1],n.naturalDistance,r)}return void(t.i=a)}nh(l,n.repulsionFactor);for(var d=0;d<c.length;d++)oh(c[d],l,n.naturalDistance,n.coeff);o=t.temperature*(1-t.i/n.iterations),q(l,u),t.i++}}function ch(t){var e=0,n=0,r=0,i=!1,o=0,a=0;if(q(t,(function(t){e+=t.x,n+=t.y,r+=1,i=i||t.fixed})),!(r<3||i)){e/=r,n/=r,q(t,(function(t){var r=Math.sqrt((t.x-e)*(t.x-e)+(t.y-n)*(t.y-n));r>a&&(a=r,o=Math.atan2(t.y-n,t.x-e))})),o=-o;var s=Math.sin(o),u=Math.cos(o);q(t,(function(t){var r=e+(t.x-e)*u-(t.y-n)*s,i=n+(t.x-e)*s+(t.y-n)*u;t.x=r,t.y=i}))}}function fh(t,e){var n=_t(t.fixed||[]),r=jt(n),i=0,o=0;n.length&&(q(r,(function(t,n){n in e.v&&(i+=e.v[n].x,o+=e.v[n].y)})),i/=n.length,o/=n.length),q(e.v,(function(t,n){r[e.v[n].id]||(e.v[n].x=i,e.v[n].y=o)}))}function dh(t,e,n,r,i,o,a){fh(r,n);for(var s=n.v,u=n.vcount,l=n.e,c=Gc(s,l),f=u/(u+c.length),d=r.tidy?f:1,h=[],p=0,v=Date.now(),g=0;g<c.length;g++){var m=sh(c[g],r);p+=m.estTime,h.push(m)}for(var y=0,b=0;b<c.length;b++){h[b].start=y;var x=y+(d-0)*(h[b].estTime/p);h[b].stop=x,y=x}var w=0;function A(){var t=function(){return o(s,{})};a?a(t):t()}c.length>0?function n(r){var o=r,a=c[o],s=h[o];!function(t,e,n,r,i,o,a,s){var u={i:0,temperature:r.temperature};function l(){lh(u,n,r,a)}!function n(){if(l(),u.i>=r.iterations)s();else{var a=i+(o-i)*(u.i/r.iterations);e.trigger("progress","layout",a),t.fire("progress",{task:"layout",progress:a}),ut(n,0)}}()}(t,e,a,s,s.start,s.stop,i,(function(){if(ch(a.verts),w++,++o<c.length){var t=Date.now();t-v>16||w>1e3?(v=t,w=0,ut((function(){n(o)}),0)):n(o)}else A()}))}(0):o(s,{})}function hh(t,e,n,r,i,o){t[e]=r?n[e]:Gt(n[e],{x:i,y:o})}function ph(t,e,n){t[n]||(t[n]=[]),t[n].push(e)}function vh(t,e){ph(t,e.id1,e.id2),ph(t,e.id2,e.id1)}function gh(t){return function(t){var e={},n={};return q(t,(function(t,r){t.sort();for(var i="",o=0;o<t.length;o++)i+=t[o];e[i]||(e[i]=[]),e[i].push(r),n[r]=i})),{rev:e,ids:n,index:t}}(function(t){for(var e={},n=0;n<t.length;n++)vh(e,t[n]);return e}(t))}function mh(t,e,n,r,i,o,a,s){var u=gh(n.e),l=function(t,e,n){var r={},i=[],o=0;q(t.rev,(function(a,s){for(var u={x:0,y:0,size:0},l=a.length,c=0;c<l;c++){var f=e[a[c]];u.x+=f.x,u.y+=f.y,u.size+=f.r}u.x/=l,u.y/=l;var d=Sf(),h=Bt(e).filter((function(e){return t.rev[s].indexOf(e.id)>-1})).map((function(t){var e=n(t.id,!0);return t.r=e.radiusWithoutLabel,t.radiusWithText=e.radius,t.labelOffset=0,t})),p=0,v=0;h.forEach((function(t){p+=t.r,v+=t.radiusWithText}));var g=(v-p)/h.length,m=d.concentricLayout(h,{padding:Math.max(8,.5*g)}),y={positions:Zt(m)},b=Qc(m,{x:0,y:0},0);r[s]={id:s,x:u.x,y:u.y,r:b,fixed:!1,lc:0,w:void 0,h:void 0,labelOffset:0,radiusWithText:b,jit:y},o++;for(var x=a[0],w={},A=t.index[x],_=0;_<A.length;_++){var k=A[_];w[t.ids[k]]=!0}q(w,(function(t,e){s<e&&i.push({id1:s,id2:e})}))}));for(var a=0;a<i.length;a++){var s=i[a].id1,u=i[a].id2;r[s].lc++,r[u].lc++}return q(e,(function(e,n){t.ids[n]||(r[n]={id:n,x:e.x,y:e.y,lc:0,fixed:e.fixed,labelOffset:0,radiusWithText:e.r,r:e.r,w:e.w,h:e.h,jit:{radius:e.r,position:{x:0,y:0}}},o++)})),{v:r,e:i,vcount:o,extents:Nc(r)}}(u,n.v,r);dh(t,e,l,Gt({},i,{tidy:!1}),o,(function(t,e){return function(t){var e={};q(t,(function(t,r){if(u.rev[r])for(var i=u.rev[r],o=t.fixed,a=0;a<i.length;a++){var s=i[a],l=t.x,c=t.y;t.jit.positions&&(l+=t.jit.positions[s].x,c+=t.jit.positions[s].y),hh(e,s,n.v,o,l,c)}else hh(e,r,n.v,n.v[r].fixed,t.x,t.y)})),s((function(){return a(e,{})}))}(t),{vertices:t,updatedEdges:e,extents:null}}))}var yh=["standard","hierarchy","lens","sequential","radial","structural","tweak","organic"],bh=["standard","lens","structural","organic"],xh=["standard","tweak","organic"],wh=["standard","structural","organic","radial","hierarchy","sequential"];function Ah(t,e,n){var r=Qt(),i=function(){var t;return(t={})[Ec.Names.organic]=null,t}();return{arrange:Nf,extractStructure:Vf(t),layout:function(t,o,a,s,u,l,c){if(n.trigger("prechange","layout"),e.fire("prechange",{type:"layout"}),yh.indexOf(t)<0)throw new Error("The layout name is not valid.");bh.indexOf(t)<0&&delete u.consistent,xh.indexOf(t)<0&&delete u.fixed,wh.indexOf(t)>=0&&(It(u.packing)?It(u.tidy)||u.tidy||(u.packing="none"):u.tidy="none"!==u.packing);var f=jf(o,s,i),d={klOpts:Ct(u,{tightness:5}),pinTo:{firstFixed:!!u.pinToFirstFixed,fallback:o.extents&&"adaptive"!==u.packing&&"none"!==u.packing?Vc(o.extents):void 0}};n.trigger("progress","layout",0),e.fire("progress",{task:"layout",progress:0});var h=Lf(e,n,u,l,s);function p(t){t<1&&(n.trigger("progress","layout",t),e.fire("progress",{task:"layout",progress:t}))}if("organic"===t)f.organic(d,c)((function(){return h(o.v,{})}),p);else if("lens"===t)f.lens(d,c)((function(){return h(o.v,{})}),p);else{r.setSeed(u.consistent?900736044081:null);var v=f.pack(d);switch(t){case"standard":"adaptive"===u.mode?uh(o,u,r,h):dh(e,n,o,u,r,h,v);break;case"hierarchy":wd(o,a,u,!1,h,v);break;case"sequential":Xd(o,a,u,h,f,d);break;case"structural":mh(e,n,o,s,u,r,h,v);break;case"radial":wd(o,a,u,!0,h,v);break;case"tweak":uh(o,u,r,h)}}}}}function _h(t,e,n,r,i,o,a,s){var u=Sf(),l=function(t,e){var n=Ah(t,ef,wr);function r(r,i,o,a,s){var u=null;function l(){return null===u&&(u=Cf(ef)).privateSetProperties(i,o),u}var c=t.privateGetCanvas(),f=t.privateGetGenerator();return{getGraph:l,struct:n.extractStructure(f,c,i,o,l,a,r,e,s)}}return{layout:function(t,e,i,o,a,s,u,l){var c=r(t,e,i,a.fixed||[],s);n.layout(t,c.struct,c.getGraph,o,a,u,l)}}}(e,s),c={},f={list:[],index:{},nulls:0,comboLinkAdj:{}},d={},h=null,p=[],v={},g=Ct(t,{resize:!0,updateGlyph:!0});function m(t,n){var r,i=c[t];if(void 0!==i&&void 0!==(r=i[n]))return r;var o=T(t);if(null!==o&&void 0!==(r=o[n]))return r;var a=e.privateGetItem(t);return a?et(a[n]):void 0}function y(t,e){return m(t,e)}function b(t,e){return m(t,e)}function x(t){if(d[t])return null;var n=et(e.privateGetItem(t))||{},r=T(t);return null!==r&&Vt(n,r),c[t]&&Vt(n,c[t]),n}function w(t){return m(t,"parentId")}function A(t){return m(t,"_combo")}function _(t){return A(t)}function k(t){var e=c[t];return e||(e={id:t},c[t]=e),e}function C(t,e,n){k(t)[e]=n}function E(t,e,n){C(t,e,n)}function M(t){var e=k(t.id);Gt(e,t)}function S(t,e){E(t,"_offset",e)}function I(t,e){t.forEach((function(t){!function(t,e){var r=w(t)||null;e!==r&&(V(t),C(t,"parentId",e),"node"===m(t,"type")&&(e?b(t,"_offset")||S(t,{x:b(e,"x")-b(t,"x"),y:b(e,"y")-b(t,"y")}):(function(t,e){if(n&&n.api.isShown()){var r=x(t),i=n.internalUse.preMerge([r]);C(t,"hi",i[0].hi),X(t,i[0].x-r.x,i[0].y-r.y)}else if(g.reposition&&e){var o=b(t,"_offset"),a=b(e,"x"),s=b(e,"y"),u=b(t,"x"),l=b(t,"y");X(t,a-o.x-u,s-o.y-l)}}(t,r),S(t,void 0))))}(t,e),d[t]&&V(t)}))}function L(t){var e=f.index[t];if(void 0!==e){var n=f.list[e];f.list[e]=null,delete f.index[t],f.nulls++;var r=f.list.length;if(r>0&&f.nulls/r>.5){f.index={};for(var i=0,o=0;o<r;)null!==f.list[o]&&(f.list[i]=f.list[o],f.index[f.list[i].id]=i,i++),o++;f.list.length=i,f.nulls=0}if(null!==n&&"link"===n.type&&n._combo){var a=f.comboLinkAdj;delete a[n.id1][n.id2],delete a[n.id2][n.id1]}}}function T(t){var e=f.index[t];return void 0===e?null:f.list[e]}function P(t){if(void 0===f.index[t.id]){if(f.index[t.id]=f.list.push(t)-1,"link"===t.type&&void 0!==t._combo){var e=f.comboLinkAdj,n=t.id1,r=t.id2;void 0===e[n]&&(e[n]={}),void 0===e[r]&&(e[r]={}),e[n][r]=t,e[r][n]=t}}else f.list[f.index[t.id]]=t}function O(t,e,n){if(n){var r=A(n);if(r){var i=!1;t&&r.nodeIds&&t.length>0&&(i=kh(r.nodeIds,t),t.forEach((function(t){v[t]=!0}))),e&&e.length>0&&(i=kh(r.linkIds,e)||i,e.forEach((function(t){v[t]=!0}))),i&&C(n,"_combo",r)}}n&&z(n)&&e.length&&F(n)}function R(t,e){O([],t,e),I(t,e)}function B(t){var e=t,n=[];do{n.unshift(e),e=w(e)}while(e);return n}function z(t){return!!A(t)&&"link"===m(t,"type")}function D(t){return!!A(t)&&"node"===m(t,"type")}function j(t){for(var e,n,r,i=B(y(t,"id1")),o=B(y(t,"id2")),a=0,s=Math.min(i.length,o.length);a<s&&i[a]===o[a];)a++;return a===i.length?(e=o[a-1],n=o[a],r=e):a===o.length?(e=i[a-1],n=i[a],r=e):(e=i[a],n=o[a],r=0===a?null:i[a-1]),{id1:e,id2:n,parentId:r}}function F(t){if(!d[t]){for(var e=y(t,"id1"),n=A(t).linkIds,r=n.length,i=!1,o=!1,a=!0,s=0;s<r;s++){var u=!!y(n[s],"a1"),l=!!y(n[s],"a2"),c=e===j(n[s]).id1;if(o=o||(c?l:u),(i=i||(c?u:l))&&o)break}for(s=0;s<r;s++)if(!m(n[s],"hi")){a=!1;break}M({id:t,a1:i,a2:o,hi:a})}}function Z(e,n,i){var o=r(),a=et(i,!0);if(a.id=o,a.id1=e,a.id2=n,t&&t.comboLinkStyle){var s=t.comboLinkStyle;dt(s.b1)&&(a.b1=s.b1),dt(s.b2)&&(a.b2=s.b2),s.c&&(a.c=s.c),s.ls&&(a.ls=s.ls),dt(s.w)&&(a.w=s.w)}return a.off=0,a.parentId=void 0,a._combo={linkIds:[]},a}function N(t,e){if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}function V(t){var e=w(t);if(e&&!d[e]){var n=A(e),r=n.nodeIds,i=n.linkIds;N(r,t),N(i,t),r&&r.length||i.length?(C(e,"_combo",n),z(e)&&F(e)):Y(e)}}function G(t){return!!d[t]}function Y(t){d[t]||(d[t]=!0,W(e.privateNeighbourLinkIds([t])),V(t),delete c[t],L(t))}function W(t){t.forEach(Y)}function U(t,n){var r=null,i=f.comboLinkAdj[t];if(void 0!==i&&void 0!==i[n]&&(r=i[n].id),null===r)for(var o=e.privateGetLinksBetween(t,n),a=o.length,s=0;s<a;s++){var u=o[s];u._combo&&!d[u.id]&&(r=u.id)}return r}function X(t,e,n){var r=b(t,"x"),i=b(t,"y");E(t,"x",r+e),E(t,"y",i+n);var o=_(t);o&&o.nodeIds.forEach((function(t){X(t,e,n)}))}function H(){for(var t={},e=0,n=p.length;e<n;e++)void 0===t[(r=p[e]).id]&&(t[r.id]={id:r.id,dx:0,dy:0,sumX:0,sumY:0}),r.norm=Ut(b(r.id,"x")-b(r.to,"x"),b(r.id,"y")-b(r.to,"y")),t[r.id].sumX+=r.norm[0]*r.distance,t[r.id].sumY+=r.norm[1]*r.distance;for(e=0,n=p.length;e<n;e++){var r,i=(r=p[e]).norm,o=Xt(i[0],i[1],t[r.id].sumX,t[r.id].sumY),a=Math.abs(o)*r.distance;t[r.id].dx+=i[0]*a,t[r.id].dy+=i[1]*a}return Bt(t)}function K(t,r){if("none"!==g.adapt){var i=w(t),o=[];i?o=e.privateGetItem(A(i).nodeIds):n.api.isShown()||"all"!==g.adapt||(o=e.privateGetRawItems().filter((function(e){var n=G(e.id),r=w(e.id);return!n&&!r&&t!==e.parentId}))),o.filter((function(e){return"node"===e.type&&!e.hi&&e.id!==t})).forEach((function(e){p.push({id:e.id,to:t,distance:r})}))}}function Q(t){p.forEach((function(e){t[e.id]&&(e.distance=0)}))}function J(t,e){return"rectangle"===s?Wt(t,e):t}function $(t,e){if(0!==e&&!m(t,"hi")){K(t,e);var n=w(t);if(n){var r=b(n,"oc")||{};"grid"===r.la&&lt(n,void 0,r.la);var i=ut(n),o=i.width,a=i.height;if(o!==r.w||a!==r.h){var s=J(r.w,r.h),u=(J(o,a)-s)/2;r.w=o,r.h=a,E(n,"oc",r);var l=A(n);l&&l.open&&$(n,u)}}}}function tt(t){var n=Hc(t,e.privateGetCanvas(),{include:!1},s).radius;return t._combo&&t._combo.open&&(t.oc&&dt(t.oc.bw)?n-=t.oc.bw:n-=la.bw),Math.max(n,0)}function nt(t,e,n,r,i){for(var o=[],a=A(t).nodeIds,u=a.length,l={include:!0,partial:i,maxLength:r},c=0;c<u;c++){var f=x(a[c]);if(!f.hi){var d=n&&n[f.id],h=Hc(f,e,l,s);o.push({id:f.id,x:d?f.x+d.dx:f.x,y:d?f.y+d.dy:f.y,t:f.t,labelOffset:Kc(f,r),r:h.radius,rWithoutLabel:h.radiusWithoutLabel,w:h.width,h:h.height})}}return o}function rt(t,e,n){var r=nt(t,e,null,n,!0),i=u.concentricLayout(r,{includeLabels:!0}),o={include:!0,partial:!1,maxLength:n};return i.forEach((function(t){var n=x(t.id);t.r=Hc(n,e,o,s).radius})),Zt(i)}function it(t,e,n){return Zt(function(t,e){void 0===e&&(e=1);for(var n=Math.round(Math.sqrt(t.length/e)),r=Math.ceil(t.length/n),i=[0],o=[0],a=[],s=0,u=0,l=0,c=0;u<t.length;u++,c++){u<r?a[c]=0:c===r&&(c=0,i[++l]=0,o[l]=0);var f=t[u].h/2-t[u].labelOffset,d=t[u].h/2+t[u].labelOffset;i[l]=Math.max(i[l],f),o[l]=Math.max(o[l],d),a[c]=Math.max(a[c],t[u].w),s+=(Math.sqrt(t[u].w*t[u].h)-s)/(u+1)}var h=10+.05*s,p=a.reduce((function(t,e){return t+e}),0)+h*(r-1),v=i.reduce((function(t,e){return t+e}),0)+o.reduce((function(t,e){return t+e}),0)+h*(n-1),g=-p/2+a[0]/2,m=g,y=-v/2+i[0];for(u=0,l=0,c=0;u<t.length;u++,c++)c===r&&(m=g,y+=o[l]+h+i[l+1],c=0,++l),t[u].x=m,t[u].y=y,m+=a[c]/2+h+a[c+1]/2;return t}(nt(t,e,null,n)))}function ot(t,n,r){var i,o=_(t),a=Zt(o.nodeIds.map(x)),u=Zt(o.linkIds.map(x).filter((function(e){return e.id1!==t&&e.id2!==t})));l.layout("lens",a,u,qc(a,n,r,s),e.privateValidateLayoutOptions({consistent:!0}),"all",(function(t){i=t}),!0);var c=nt(t,n,null,r);c.forEach((function(t){t.x=i.vertices[t.id].x,t.y=i.vertices[t.id].y}));var f=function(t,e){void 0===e&&(e=0);var n=[];return t.forEach((function(t){var r=t.r;if(r+=e,!dt(t.x)||!dt(t.y)||!dt(r))throw new Error("Inputs must be finite");n.push({x:t.x,y:t.y,r:r})})),nl.radialExtents(n)}(c);return null!==f&&c.forEach((function(t){t.x-=f.x,t.y-=f.y})),Zt(c)}function at(t,e,n){var r=e.width,i=e.height,o=b(t,"oc")||{};if(n||o.w<r||o.h<i){"rectangle"!==s||n?(o.w=r,o.h=i):(o.w=Math.max(o.w,r),o.h=Math.max(o.h,i)),E(t,"oc",o);var a=_(t);a&&(a.comboScale=a.open?1:0,C(t,"_combo",a))}}function st(t){var e=0,n=0;return q(t,(function(t){var r=2*(t.rWithoutLabel||t.r);e+=(r-e)/++n})),5+.05*e}function ut(t,n){var r=e.privateGetCanvas(),i=Zt(H()),o=Zt(nt(t,r,i,n)),a={x:b(t,"x"),y:b(t,"y")};return Jc(s,o,a,st(o))}function lt(t,n,r){var i,o=e.privateGetCanvas(),a=e.privateGetMaxLabelLength(),u=r||g.arrange;if("none"===u)at(t,i=ut(t,a),!!g.resize);else{var l=("concentric"===u?rt:"grid"===u?it:"lens"===u?ot:"rectangle"===s?(u="grid",it):(u="lens",ot))(t,o,a);i=Jc(s,l,{x:0,y:0},st(l)),Q(l),at(t,i,!!g.resize),function(t,e,n){for(var r=_(t).nodeIds,i=r.length,o=b(t,"x"),a=b(t,"y"),s=0;s<i;s++){var u=r[s];if(!m(u,"hi")){var l={id:u},c=b(u,"x"),f=b(u,"y");n&&(l._offset={x:o-c-n.dx,y:a-f-n.dy},M(l)),X(u,o+e[u].x-c,a+e[u].y-f)}}}(t,l,n)}var c=b(t,"oc")||{};return c.la=u,E(t,"oc",c),J(i.width,i.height)/2}function ct(t){var e=_(t);return e?e.nodeIds.reduce((function(t,e){return t+ct(e)}),0):m(t,"hi")?0:1}function ft(){if(g.updateGlyph){var t={};[Bt(c),f.list].forEach((function(e){e.forEach((function(e){if(e){var n=e.id;e._combo&&"node"===m(n,"type")&&B(n).forEach((function(e){t[e]||(!function(t){var e=_(t);if(e&&void 0!==e.g){var n=!1,r=(m(t,"g")||[]).map((function(r){return r.p===e.g?(n=!0,Gt(r,{t:ct(t)})):r}));n?C(t,"g",r):(e.g=void 0,C(t,"_combo",e))}}(e),t[e]=!0)}))}}))}))}}function ht(t,n){Object.keys(t).forEach((function(r){var i=t[r],o=et(e.privateGetItem(r)._combo);It(i.open)||(o.open=i.open),o.nodeIds=pt(o.nodeIds,i.removeNodeIds),o.nodeIds=vt(o.nodeIds,i.addNodeIds),o.linkIds=pt(o.linkIds,i.removeLinkIds),o.linkIds=vt(o.linkIds,i.addLinkIds),n.push({id:r,_combo:o})}))}function pt(t,e){var n=t;return e.length&&(n=n.filter((function(t){return-1===e.indexOf(t)}))),n}function vt(t,e){var n=t;return e.length&&(n=n.concat(e)),n}function gt(t,n){g.updateGlyph&&ft();var r=e.selection(),s=Object.keys(v);H().forEach((function(t){X(t.id,t.dx,t.dy)})),e.privateAddItemsToTransfer(s),function(t,n){var r=!!g.animate&&function(){var t=[],n={},r=[],i={},o={};function a(t){o[t]||(o[t]={addNodeIds:[],removeNodeIds:[],addLinkIds:[],removeLinkIds:[]})}function s(t,e,n){a(e);var r=(n?"add":"remove")+("node"===t.type?"NodeIds":"LinkIds");o[e][r].push(t.id)}function u(t){if(!0!==d[t])return!1;i[t]=!0;var n=e.privateGetItem(t);return n&&("link"===n.type?(u(n.id1),u(n.id2)):n.parentId&&u(n.parentId)),!0}return Bt(c).forEach((function(i){var s=i.id,l=e.privateGetItem(s);if("x"in i&&l){var f=function(t){for(var n=B(t),r=0;r<n.length;r++){var i=n[r],o=A(i),a=e.privateGetItem(i),s=a&&a._combo;if(!(s&&s.open||o&&o.open))return i}return t}(s);r.push({id:s,x:b(f,"x"),y:b(f,"y")})}if("parentId"in i&&l&&l.parentId!==i.parentId){var h={id:s},p="node"===l.type;if(h.parentId=null,p){var v=function(t){for(var n=e.privateGetAncestryIds(t),r=0;r<n.length;r++){var i=e.privateGetItem(n[r])._combo;if(!i||!i.open)return n[r]}return t}(s),g=e.privateGetItem(v);h.x=g.x,h.y=g.y,"x"in i||r.push({id:s,x:l.x,y:l.y})}else if(i.parentId)if(D(i.parentId)){var y=e.privateGetItem(i.parentId);!y||y._combo.open&&e.privateAllParentsOpen(i.parentId)||!l.parentId||(delete h.parentId,u(l.parentId))}else if(z(i.parentId)){var x=T(i.parentId),w=e.privateGetItem(i.parentId),_=x||w;if(_)if(e.privateGetItem(_.id1)&&e.privateGetItem(_.id2)){var k=c[_.id1]&&"parentId"in c[_.id1],E=c[_.id2]&&"parentId"in c[_.id2],M=k||e.privateAllParentsOpen(_.id1),S=E||e.privateAllParentsOpen(_.id2);M&&S?(h.parentId=i.parentId,x&&(n[i.parentId]=!0)):l.parentId&&d[l.parentId]?m(s,"hi")||(h.hi=!0,C(s,"hi",!1)):delete h.parentId}else u(l.parentId)&&delete h.parentId;else d[l.parentId]&&(h.parentId=i.parentId)}t.push(h)}if("_combo"in i&&D(s)&&l&&l._combo.open!==i._combo.open&&(r.push({id:s,_combo:{comboScale:i._combo.comboScale}}),a(s),o[s].open=!0),D(s)&&l&&"oc"in i){var I=l;!I.oc||I.oc.w===i.oc.w&&I.oc.h===i.oc.h||r.push({id:s,oc:{w:i.oc.w,h:i.oc.h}})}})),t.forEach((function(t){var n=e.privateGetItem(t.id);if("parentId"in t){var r=n.parentId,o=t.parentId,a=r&&d[r]&&!i[r];r&&!a&&s(n,r,!1),o&&(T(o)||s(n,o,!0))}})),Object.keys(d).forEach((function(t){if(!i[t]){var n=e.privateGetItem(t);n&&n.parentId&&s(n,n.parentId,!1)}})),ht(o,t),{propertiesToSetBeforeAnimation:t,itemsToMergeBeforeAnimationMap:n,propertiesToAnimate:r,idsToRemoveAfterAnimationMap:i}}();if(r&&Object.keys(r.idsToRemoveAfterAnimationMap).forEach((function(t){delete d[t]})),e.privateRemoveItem(Object.keys(d)),r){var i=[];Object.keys(r.itemsToMergeBeforeAnimationMap).forEach((function(t){i.push(T(t)),L(t)})),e.privateMerge(i),e.privateSetNonImageProperties(r.propertiesToSetBeforeAnimation),e.privateSetAllDirty(),xt(n),e.privateAnimateProperties(r.propertiesToAnimate,g,(function(){e.privateRemoveItem(Object.keys(r.idsToRemoveAfterAnimationMap)),xt(t)}),!1,!0)}else xt(t)}((function(){e.privateMerge(f.list.filter((function(t){return null!==t}))),g.animate||xt(n),e.privateSetNonImageProperties(Bt(c),!0),e.privateRemoveItemsFromTransfer(s),v={},function(t){if(h){e.selection(Object.keys(h)),o.trigger("selectionchange");var n=new Set;t.forEach((function(t){return n.add(t)})),a.selection().hasChanged(n)&&i.fire("selection-change")}else{var r=t.filter(e.privateItemIsShown);t.length!==r.length&&(e.selection(r),o.trigger("selectionchange"),i.fire("selection-change"))}}(r),f={list:[],index:{},nulls:0,comboLinkAdj:{}},c={},d={},h=null,p=[],xt(t)}),n)}return g.adapt=function(t,e){var n=["all","inCombo","none"],r=n.indexOf(t);return r>=0?n[r]:e}(g.adapt,"all"),{adjustForNewComboSize:$,adjustTopLevelLayout:function(t,n,r,i,o){var a=function(){var t={nodes:{},links:{}};return e.privateGetRawItems().concat(f.list).forEach((function(e){if(null!==e){var n=G(e.id),r=w(e.id);n||r||("node"===e.type?t.nodes[e.id]=x(e.id):t.links[e.id]=e)}})),t}(),u=e.privateGetCanvas(),c=e.privateGetMaxLabelLength();l.layout(t,a.nodes,a.links,qc(a.nodes,u,c,s),n,"toplevel",(function(t){Q(t.vertices),Object.keys(t.vertices).forEach((function(e){var n=t.vertices[e],r=b(e,"x"),i=b(e,"y");X(e,n.x-r,n.y-i)})),r(t.updatedEdges),o(t.extents)}))},applyUpdates:gt,afterComboResize:function(t,e){var n,r,i=t.id,o=ut(i,void 0),a=o.width,s=o.height,u=tt(t),l=b(i,"oc")||{};if(l.w&&l.w<=a||l.h&&l.h<=s){l.w=Math.max(null!==(n=l.w)&&void 0!==n?n:0,a),l.h=Math.max(null!==(r=l.h)&&void 0!==r?r:0,s),E(i,"oc",l);var c=et(t);c.oc.w=a,c.oc.h=s,u=tt(c)}$(i,u-e),gt()},forEachChild:function(t,e){var n=m(t,"_combo");n&&(n.nodeIds&&n.nodeIds.forEach(e),n.linkIds&&n.linkIds.forEach(e))},getChangingComboNodeIds:function(){var t=[];return Bt(c).forEach((function(e){e._combo&&D(e.id)&&t.push(e.id)})),t},getComboProperty:A,getDiameterFromExtents:J,getIdsToRemove:function(){return Object.keys(d)},getItem:x,getComboSizeChange:function(t,n,r){var i=e.privateGetCanvas(),o={include:!1,maxLength:r},a=Hc(t,i,o,s,!0).radius,u=Hc(t,i,o,s,!1).radius;return n?a-u:u-a},getNodeComboProperty:_,getNodeProperty:b,getNodeSizeWithoutBorder:tt,getParentId:w,getProperty:m,layoutCombo:lt,mergeItem:P,preMergeDetails:function(){return{itemsToMerge:f.list.filter((function(t){return null!==t})),propertiesToSet:Bt(c)}},privateState:function(){return{itemsToMergeList:f.list,propertiesToSetMap:c,idsToRemoveMap:d,idsToSelectMap:h}},removeItems:W,removingItem:G,selectItems:function(t){h=h||{},t.forEach((function(t){h[t]=!0}))},setComboMinimumSize:function(t){at(t,ut(t,e.privateGetMaxLabelLength()),!1)},setNodeComboSubProperty:function(t,e,n){var r=_(t);r[e]=n,C(t,"_combo",r)},setNodeProperty:E,setProperty:C,transferComboLinkToCorrectParent:function(t){if(!d[t.id]){var e=w(t.id1),n=w(t.id2),r=n===t.id1?n:e;R([t.id],r||null)}},transferNodesToCombo:function(t,e){O(t,[],e),I(t,e)},transferRawLinksToCorrectParents:function(t){var e={},n=[];t.forEach((function(t){if(!d[t.id]){var r,i=w(t.id1),o=w(t.id2);if(i||o)r=i===o||i===t.id2?i:o===t.id1?o:function(t){var e=j(t.id),n=U(e.id1,e.id2);if(!n){var r=Z(e.id1,e.id2,t);n=r.id,P(r),null!==e.parentId&&R([n],e.parentId)}return n}(t),t.parentId!==r&&(e[r]||(e[r]=[])).push(t.id);else null!==t.parentId&&n.push(t.id)}}));var r=Object.keys(e);r.forEach((function(t){O([],e[t],t)})),O([],n,null),r.forEach((function(t){I(e[t],t)})),I(n,null)},updateComboLinkProperties:F,updateComboNodeGlyphs:ft}}function kh(t,e){if(1===e.length)return-1===t.indexOf(e[0])&&(t.push(e[0]),!0);for(var n={},r=!1,i=0;i<t.length;i++)n[t[i]]=!0;for(var o=0;o<e.length;o++)n[e[o]]||(t.push(e[o]),r=!0);return r}function Ch(t,e,n,r,i,o,a){var s=0;function u(){return"circle"===a()?"lens":"grid"}function l(e){var n;do{n=e+ ++s}while(t.privateGetItem(n));return n}function c(){return l(Xi)}function f(t){return!(!t||"number"!=typeof t.lat||"number"!=typeof t.lng)}function d(t,e,n){if(t._combo={nodeIds:[],linkIds:[],open:!1,comboScale:0,g:void 0},n?t.oc=n:t.oc||(t.oc={}),t.oc=Ct(t.oc,i().openCombos),dt(t.oc.w)||(t.oc.w=0),dt(t.oc.h)||(t.oc.h=0),void 0===t.x&&(t.x=0),void 0===t.y&&(t.y=0),t.g=t.g||[],null!==e){var r=ar(ar({},{p:"ne",c:"rgb(255, 0, 0)",t:"0"}),e||{});t.g.unshift(r),t._combo.g=r.p}}function h(n,r){var o=n.style,s=o||et(r[0],"d"),u=l("_combo_"),c=function(t,e){return It(e.label)?t.map((function(t){return t.t})).filter((function(t){return!It(t)&&""!==t})).join("\n"):e.label}(r,n);if(void 0===n.glyph&&i&&(n.glyph=i().comboGlyph),void 0!==n.glyph&&null!==n.glyph&&!gt(n.glyph))throw new Error("[combo().combine] glyph must be an object");var h,p=o&&!It(o.hi)?o.hi:r.every((function(t){return!!t.hi})),v=o&&!It(o.bg)?o.bg:r.every((function(t){return!!t.bg})),g=o&&f(o.pos)?o.pos:function(t,e){if("first"!==t.position){var n=0,r=0,i=0;if(e.forEach((function(t){f(t.pos)&&(r+=t.pos.lat,i+=t.pos.lng,n++)})),n>0)return{lat:r/n,lng:i/n}}else for(var o=0,a=e.length;o<a;o++){var s=e[o];if(f(s.pos))return s.pos}}(n,r);if(e&&e.api.isShown()&&f(g)){var m=e.api.viewCoordinates(g.lat,g.lng);h=t.worldCoordinates(m.x,m.y)}else{var y=t.privateGetCanvas(),b=a();h="first"===n.position?r[0]:function(t,e,n){var r=Nc(t.map((function(t){var r=Hc(t,e,{},n);return{id:t.id,x:t.x,y:t.y,r:r.radius,w:r.width,h:r.height,labelOffset:Kc(t)}})),!0);return r?Vc(r):void 0}(r,y,b)}var x=ar(ar({},s),{type:"node",id:u,t:c,hi:p,bg:v,pos:g,x:(null==h?void 0:h.x)||0,y:(null==h?void 0:h.y)||0});return d(x,n.glyph,n.openStyle),n.open&&(x._combo.open=!0),gt(n.d)&&(x.d=n.d),x}var p=va({strings:{label:!0}});function v(i,o,a){var s=_t(i),l=e&&e.api.isShown(),c=Ct(o,{animate:!0,select:!0,time:250,arrange:u(),resize:!0,easing:"cubic"}),f=w(c),d=[],v=[],g={};s.forEach((function(e){var n,r={},i=[],o=[],a=et(e,"d");if(a&&a.ids&&(p.ensureObject(a,!1),n=t.privateGetItem(a.ids)),l&&a.open&&delete a.open,!n)throw new Error("[combo().combine] function must be passed valid combo definitions");if(n.forEach((function(t){if(!t)throw new Error("[combo().combine] function must be passed valid ids");if("node"===t.type){if(t.parentId)throw new Error("[combo().combine] nodes cannot be combined if they are already in a combo");if(g[t.id])throw new Error("[combo().combine] nodes should only be in one combo");g[t.id]=!0,r[t.id]=!0,i.push(t),o.push(t.id)}})),!Object.keys(g).length)throw new Error("[combo().combine] function must be passed at least one node id");var s=h(a,i);f.mergeItem(s),_(f,Zt(i),o,s.id,[],[]);var u={dx:0|(a.dx||0),dy:0|(a.dy||0)};f.layoutCombo(s.id,u),d.push(s),v.push(s.id)})),c.select&&f.selectItems(v),n.fire("prechange",{type:"combine"}),r.trigger("prechange","combine"),f.applyUpdates((function(){t.applyRevealedLinkOffsets(d),t.privateSetAllItemsInComboDirty(v),xt(a,v)}))}function g(e,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var i=e._combo,o=n||{nodes:[],links:[]},a=i.nodeIds,s=a?t.privateGetItem(a):[];function u(t){t._combo?(g(t,o,r),r&&("node"===t.type?o.nodes.push(t):o.links.push(t))):"node"===t.type?o.nodes.push(t):o.links.push(t)}return t.privateGetItem(i.linkIds).forEach(u),s.forEach(u),o}function m(e,n){var r=t.privateGetItem(e);return!(!r||"all"!==n&&n!==r.type||!r._combo)}function y(e,n){var r=t.privateGetItem(e);return m(e,n)&&!r.parentId}function b(e){return t.privateGetAncestryIds(e).length}function x(t,e,n){void 0===n&&(n=t.getChangingComboNodeIds()),n.sort((function(t,e){return b(e)-b(t)})).forEach((function(n){var r=t.getNodeComboProperty(n),i=t.getNodeProperty(n,"oc")||{},o=t.getDiameterFromExtents(i.w,i.h)/2,a=t.layoutCombo(n),s=r.open?a-o:0;(!e||e.resize||s>0)&&t.adjustForNewComboSize(n,s)}))}function w(s){return _h(Ct(s,{comboLinkStyle:i().comboLinks}),t,e,c,n,r,o,a())}function A(e,n){var r={},i={};t.privateGetItem(t.privateNeighbourLinkIds(n)).forEach((function(e){var n=e;n._combo?(i[n.id]=n,t.privateGetItem(n._combo.linkIds).forEach((function(t){r[t.id]=t}))):r[n.id]=n})),Bt(i).forEach(e.transferComboLinkToCorrectParent),e.transferRawLinksToCorrectParents(Bt(r))}function _(t,e,n,r,i,o){var a={};t.transferNodesToCombo(n,r);var s={};Bt(e).forEach((function(t){s[t.id]=t,t._combo&&g(t,null,!0).nodes.forEach((function(t){s[t.id]=t})),t.hi||i.push(t.id),t.parentId&&(a[t.parentId]=!1)})),t.getIdsToRemove().forEach((function(e){var n=t.getProperty(e,"parentId");n&&(a[n]=!1)})),A(t,Object.keys(s)),i.length>0&&!t.getProperty(r,"hi")&&(i.length=0),Object.keys(a).sort((function(t,e){return b(t)-b(e)})).forEach((function(e){if(!t.removingItem(e)){var n=!1;t.forEachChild(e,(function(e){t.getProperty(e,"hi")||a[e]&&!1!==a[e]||(n=!0)})),n||(a[e]=!0,o.push(e))}}))}function k(e,i,o,a,s){var l=Ct(o,{animate:!0,time:250,select:!1,arrange:u(),resize:!0,easing:"cubic",reposition:!1,adapt:"all"}),c=null;if(i&&(!(c=t.privateGetItem(i))||"node"!==c.type||!c._combo))throw new Error("[combo().transfer] comboId must be the id of a combo node or null");var f=w(l),d=function(e,n){var r={},i=[];if(void 0===e)throw new Error("[combo().transfer] function must be passed a valid transfer destination");var o=e?function(t){var e={};return t.forEach((function(t){e[t]=!0})),e}(t.privateGetAncestryIds(e)):{};return t.privateGetItem(n).forEach((function(t){if(!t)throw new Error("[combo().transfer] function must be passed valid ids");if(o[t.id])throw new Error("[combo().transfer] cannot transfer a combo inside itself");"node"===t.type&&(r[t.id]=t,i.push(t.id))})),{nodes:r,order:i}}(i,_t(e)),h=Object.keys(d.nodes),p=[],v=[];l.select&&f.selectItems(h),_(f,d.nodes,d.order,i,p,v),x(f,l);var g=[];if(c){var m=f.getNodeComboProperty(c.id);m&&!m.open&&g.push(c)}n.fire("prechange",{type:a}),r.trigger("prechange",a),f.applyUpdates((function(){p.length>0&&t.show(p,!0),v.length>0&&t.hide(v),t.applyRevealedLinkOffsets(g),xt(s)}),(function(){l.animate&&t.applyRevealedLinkOffsets(g)}))}function C(e,n){var r=_t(n);(r=r.filter((function(e){!function(t){var e=t;["id","id1","id2","parentId"].forEach((function(t){t in e&&null!==e[t]&&void 0!==e[t]&&(e[t]+="")}))}(e);var n=t.privateGetItem(e.id);if(n&&e.type&&e.type!==n.type)return!1;var r=n,i=e;if(r&&r.oc&&(i.oc=Gt(r.oc,i.oc)),"node"===e.type)return!0;if("link"===e.type){if(!e.id1||!e.id2){if(n)throw new Error("You must specify both id1 and id2 for a link");return!1}if(n&&"link"===n.type&&(n.id1!==e.id1||n.id2!==e.id2))throw new Error("You cannot change the ends of an existing link. Remove the existing item first");return e.id1!==e.id2||t.options().selfLinks}throw new Error("The type of the item should be specified")}))).forEach(e.mergeItem);var o,a=i?i().comboGlyph:null,s=0,u=[],l={};try{o=function(t,e,n){void 0===n&&(n=function(t){return t});var r=new Map,i=[],o=[];for(t.forEach((function(t){var e=n(t);e&&r.set(e,{item:t,inDegree:0})})),t.forEach((function(t){var i=e(t),o=n(t);i&&i.forEach((function(t){r.has(t)&&t!==o&&r.get(t).inDegree++}))})),t.forEach((function(t){var e=n(t);e&&0===r.get(e).inDegree&&o.push(t)}));o.length>0;){var a=o.shift();i.push(a);var s=e(a);if(s)for(var u=0;u<s.length;u++){var l=r.get(s[u]);l&&1==l.inDegree--&&o.push(l.item)}}if(i.length<r.size)throw new Error("Cycle detected");return i}(e.preMergeDetails().itemsToMerge,(function(t){return[e.getParentId(t.id)]}),(function(t){return t.id}))}catch(t){throw new Error("A node's parentId can't refer to a child")}o.forEach((function(n){var r=t.privateGetItem(n.id);if(r&&Mt(n,"parentId")&&r.parentId!==n.parentId)throw new Error("You can't set or change the parentId of an existing item");if("link"!==n.type&&!(void 0===n.parentId||r&&n.parentId===r.parentId)){if(n.id===n.parentId)throw new Error("A node can't be the parent of itself");if(null!==n.parentId){var i=e.getItem(n.parentId);if(!i||!i.id)return void e.setProperty(n.id,"parentId",null);if("link"===i.type)throw new Error("The parentId of a node can't be a link");i._combo||(d(i,a,void 0),e.mergeItem(i),u.push(i.id)),void 0===n.x&&e.setNodeProperty(n.id,"x",i.x),void 0===n.y&&e.setNodeProperty(n.id,"y",i.y),n.parentId=i.id,e.setNodeProperty(n.id,"_offset",{x:0,y:0}),(l[n.parentId]||(l[n.parentId]=[])).push(n.id),s++}}})),Object.keys(l).forEach((function(t){e.transferNodesToCombo(l[t],t)})),e.transferRawLinksToCorrectParents(o.filter((function(n){if("link"===n.type){t.privateGetItem(n.id)||void 0===n.parentId||(n.parentId=null);var r=t.privateGetItem(n.id);if(r){var i=r.parentId;i&&"link"===e.getProperty(i,"type")&&e.updateComboLinkProperties(i)}else if(0!==n.id2.indexOf("dummyEnd"))return!0}return!1}))),u.forEach((function(t){return e.layoutCombo(t)})),s>0&&e.updateComboNodeGlyphs()}function E(e){var n=[];e.forEach((function(e){var r=t.privateGetItem(e.id),i=e.count;if(r.g){var o=!1,a=r.g.map((function(t){return t.p===r._combo.g?(o=!0,Gt({},t,{t:i})):t}));o&&n.push({id:r.id,g:a})}})),n.length&&t.privateSetNonImageProperties(n)}function M(t,e,n,r){return t.filter((function(t){return n[t.id]||!r[t.id]&&!t[e]}))}function S(e,n,r,i,o){return Object.keys(r).forEach((function(r){var a,s,u,l=t.privateGetItem(r),c=g(l),f=M(c.links,n,i,o);if(l._combo.nodeIds?(u="nodes",a=(s=M(c.nodes,n,i,o)).length>0):(u="links",a=f.length>0),u){if(a&&"hi"===n){var d={id:r,links:f};s&&(d.nodes=s),e.combos[u].push(d)}a!==!l[n]&&(a?i[r]=!0:o[r]=!0)}})),e}function I(e,n,r,i,o){t.privateGetItem(e).forEach((function(e){if(e){var a=e[i]===o;if(e._combo){var s=g(e,null,!0);s.nodes.forEach((function(t){!!t[i]===o&&(a=!0,n[t.id]=!0)})),s.links.forEach((function(t){!!t[i]===o&&(a=!0,n[t.id]=!0)})),a&&(r[e.id]=!0)}for(var u=t.privateGetParentItems(e.id),l=u.length-1;l>=0;l--){var c=u[l];("node"===e.type&&a&&"hi"===i||!!c[i]===o)&&(r[c.id]=!0,a=!0)}}}))}function L(t){return"node"===t.type?"nodes":"links"}function T(e,n,r){var i={toShow:[],toHide:[],shown:{nodes:[],links:[]},hidden:{nodes:[],links:[]},combos:{nodes:[],links:[]}},o={},a=jt(e),s=jt(n),u=e,l=n;return r&&r.all&&(u=r.all.shown.nodes.concat(r.all.shown.links),l=r.all.hidden.nodes.concat(r.all.hidden.links)),I(u,a,o,"hi",!0),I(l,s,o,"hi",!1),i=S(i,"hi",o,a,s),t.privateGetItem(Object.keys(a)).forEach((function(t){null!==t&&(i.toShow.push(t.id),i.shown[L(t)].push(t.id))})),t.privateGetItem(Object.keys(s)).forEach((function(t){null!==t&&(i.toHide.push(t.id),i.hidden[L(t)].push(t.id))})),i}function P(e,n,r,i){var o={toShow:[],toHide:[],foreground:{nodes:[],links:[]},background:{nodes:[],links:[]}},a={},s=jt(e),u=jt(n),l=e,c=n;return r&&r.all&&(l=r.all.foreground.nodes.concat(r.all.foreground.links),c=r.all.background.nodes.concat(r.all.background.links)),I(l,s,a,"bg",!0),I(c,u,a,"bg",!1),i||function(e,n,r){t.privateGetRawItems().forEach((function(t){!O(t.id)||t.bg&&!e[t.id]||(delete e[t.id],delete n[t.id],t.bg||(r[t.id]=!0))}))}(a,s,u),o=S(o,"bg",a,s,u),t.privateGetItem(Object.keys(s)).forEach((function(t){null!==t&&(o.toShow.push(t.id),o.foreground[L(t)].push(t.id))})),t.privateGetItem(Object.keys(u)).forEach((function(t){null!==t&&(o.toHide.push(t.id),o.background[L(t)].push(t.id))})),o}function O(e){var n=t.privateGetItem(e);return!!(n&&n._combo&&"node"===n.type&&n._combo.open)}function R(i,o,a,s){if(!e||!e.api.isShown()){var u=_t(i),l=Ct(a,{animate:!0,time:300,easing:"cubic",adapt:"all",updateGlyph:!1}),c=t.privateGetMaxLabelLength(),f=o?"open":"close",d=w(l),h=function(e,n){return t.privateGetItem(e).filter((function(t){return t&&"node"===t.type&&t._combo&&t._combo.open===!n}))}(u,o);h.length?(h.sort((function(t,e){return b(t.id)-b(e.id)})).forEach((function(t){var e=d.getComboSizeChange(t,o,c);d.setNodeComboSubProperty(t.id,"open",o),d.setNodeComboSubProperty(t.id,"comboScale",o?1:0),d.adjustForNewComboSize(t.id,e)})),n.fire("prechange",{type:f}),r.trigger("prechange",f),d.applyUpdates((function(){l.animate&&o||t.applyRevealedLinkOffsets(h),t.privateSetAllItemsInComboDirty(u),xt(s)}),(function(){l.animate&&o&&t.applyRevealedLinkOffsets(h)}))):xt(s)}}var B={api:{combine:v,combineNodes:v,uncombine:function(e,n,r){var i=Ct(n,{animate:!0,time:250,full:!1,select:!0,reposition:!0}),o=_t(e).filter((function(t){return y(t,"node")}));if(0!==o.length){var a=[];o.forEach((function(e){var n=t.privateGetItem(e),r=i.full?Nt(g(n).nodes):n._combo.nodeIds;a=a.concat(r)})),k(a,null,i,"uncombine",r)}else xt(r)},info:function(e){var n=null,r=t.privateGetItem(e);return r&&r._combo&&(n=g(r,n,!1)),et(n,!0)},isCombo:function(t,e){var n=_t(t),r=Ct(e,{type:"all"});if(!r.type.match(/^(node|link|all)$/))throw new TypeError("[combo().isCombo] opts type property should be either 'node', 'link' or 'all'");return n.some((function(t){return m(t,r.type)}))},find:function(e,n){var r=Ct(n,{parent:"top"});if(!Array.isArray(e)&&!dt(e)&&"string"!=typeof e)throw new Error("[combo().find] Incorrect argument passed");var i={top:function(e){var n=t.privateTopParentId(e);return{parentComboId:n,isCombo:y(n,"all")}},first:function(e){var n=t.privateGetItem(e),r=n?n.parentId:null;return{parentComboId:r,isCombo:!!r&&m(r,"all")}}},o=i[r.parent]?i[r.parent]:i.top,a=!Array.isArray(e),s=_t(e).map((function(t){var e=o(t);return It(e.parentComboId)||!e.isCombo||e.parentComboId===t?null:e.parentComboId}));return a?s[0]:s},transfer:function(t,e,n,r){k(t,e,n,"transfer",r)},open:function(t,e,n){R(t,!0,e,n)},close:function(t,e,n){R(t,!1,e,n)},isOpen:O,arrange:function(t,e,i){var o={animate:!0,time:300,name:u(),resize:!0,easing:"cubic",adapt:"all"},a="object"==typeof e?Ct(e,o):o;if(a.arrange=a.name,a.resize||"none"!==a.name){var s=_t(t).filter((function(t){return m(t,"node")})),l=w(a);x(l,a,s),n.fire("prechange",{type:"arrange combo"}),r.trigger("prechange","arrange combo"),l.applyUpdates(i)}else xt(i)},reveal:function(e){return t.privateReveal(e)}},internalUse:{hide:function(t,e){return B.internalUse.filter([],t,null,e).toHide},show:function(t){return B.internalUse.filter(t,[],null,{updateGlyph:!0}).toShow},filter:function(t,e,n,r){var i=T(t,e,n);return r.updateGlyph&&E(i.combos.nodes.map((function(t){return{id:t.id,count:t.nodes.length}}))),n&&function(t,e){t.combos=e.combos,t.shown={nodes:e.shown.nodes,links:e.shown.links},t.hidden={nodes:e.hidden.nodes,links:e.hidden.links}}(n,i),i},foreground:function(t,e,n,r){var i=P(t,e,n,!!r.foregroundOpenCombos);return function(t,e){t.foreground={nodes:e.foreground.nodes,links:e.foreground.links},t.background={nodes:e.background.nodes,links:e.background.links}}(n,i),i},preMerge:function(t,e){var n=w(Ct(e,{arrange:"none",resize:!0}));return C(n,t),n.preMergeDetails()},preDelete:function(e){var n=_t(e),r=t.privateGetItem(n).filter((function(t){return null!==t})),i=w({animate:!1});function o(e){var n=e._combo;t.privateGetItem(n.linkIds).forEach((function(e){var n=e;r.push(n),n._combo&&t.privateGetItem(n._combo.linkIds).forEach((function(t){r.push(t)}))})),n.nodeIds&&t.privateGetItem(n.nodeIds).forEach((function(t){var e=t;r.push(e),e._combo&&o(e)}))}r.forEach((function(t){t._combo&&o(t)}));var a=Zt(r);t.privateNeighbourLinkIds(Object.keys(a)).forEach((function(e){r.push(t.privateGetItem(e))})),i.removeItems(r.map((function(t){return t.id}))),i.applyUpdates()},serialize:function(){var e=t.privateGetRawItems(),n={};return e.filter((function(t){return t._combo})).forEach((function(e){var r=e._combo;n[e.id]=et(e,"d"),n[e.id]._combo=et(r),"node"===e.type&&(n[e.id]._offsets=et(r.nodeIds.map((function(e){return t.privateGetItem(e)._offset})),!0))})),n.nodes=[],n.links=[],n},preLoadUp:function(t,e){if(s=0,t){var n=t.combos;n&&(n.links&&n.links.length||n.nodes&&n.nodes.length)?function(t,e){var n={},r=[];t.combos.nodes.forEach((function(e){var i=e.nodes.map((function(n){var r=Vt({parentId:e.id,_offset:{x:n.x||0,y:n.y||0}},n);return t.items.push(r),n.id})),o={nodeIds:[],linkIds:[],open:!1,comboScale:0,g:void 0};o.nodeIds=i,n[e.id]={type:"node",_combo:o,oc:{w:0,h:0}},r.push(e.id)})),t.items.forEach((function(t){if("node"===t.type&&n[t.id]&&(Vt(t,n[t.id]),t._combo.g=void 0,t.g&&t.g.length>0)){var e=t.g[0];e.t&&pt(e.t)&&(t._combo.g=e.p)}"link"===t.type&&function(t){return 0===t.indexOf(Xi)}(t.id)&&Vt(t,{_combo:{linkIds:[]}})})),xt(e,{comboIdsToLayout:r,itemsToMerge:{}})}(t,e):function(t,e){var n=t.combos||{},r=t.items||[],i={},o=[],a={};r.forEach((function(t){var e=t.id;if(n[e])throw new Error('Item "'+e+'" specified twice');if(void 0!==t.parentId&&null!==t.parentId){var r=n[t.parentId];if(r){var i=r._combo.nodeIds||[],o=r._combo.linkIds;i.indexOf(e)<0&&o.indexOf(e)<0&&(a[e]=t)}else a[e]=t}})),Object.keys(n).forEach((function(t){var e=n[t];if(e._combo&&("node"===e.type||"link"===e.type)){var a=e._offsets;if(delete e._offsets,"node"===e.type){if(e._combo.nodeIds.forEach((function(t,n){i[t]={parentId:e.id,_offset:a[n]}})),!("g"in e._combo)&&(e._combo.g=void 0,e.g&&e.g.length)){var s=e.g[0];s.t&&pt(s.t)&&(e._combo.g=s.p)}e.oc&&("w"in e.oc||"h"in e.oc)?(e.oc.h=e.oc.h||e.oc.w,e.oc.w=e.oc.w||e.oc.h):(o.push(t),e.oc=e.oc||{},e.oc.w=0,e.oc.h=0)}e._combo.linkIds.forEach((function(t){i[t]={parentId:e.id}}));var u="node"===e.type?{nodeIds:[],linkIds:[],open:!1,comboScale:0,g:void 0}:{linkIds:[]};if(Vt(u,e._combo),"node"===e.type){var l=u;l.comboScale||(l.comboScale=l.open?1:0)}e._combo=u,r.push(e)}})),t.items=r.filter((function(t){return a[t.id]||"link"===t.type&&(a[t.id1]||a[t.id2])?(a[t.id]=t,!1):(i[t.id]&&Vt(t,i[t.id]),!0)})),xt(e,{comboIdsToLayout:o,itemsToMerge:a})}(t,e)}else xt(e)},postLoadUp:function(t,e,n){var r=w({animate:!1});e&&e.comboIdsToLayout.forEach((function(t){return r.layoutCombo(t)}));var i=t.combos;i&&i.links&&i.links.length?C(r,i.links):e&&C(r,Bt(e.itemsToMerge)),r.applyUpdates(n)},dblclick:function(e){var n=t.privateGetItem(e);if(n)if("node"===n.type&&n._combo)R(e,!n._combo.open);else if(n.parentId){var r=t.privateGetItem(n.parentId);r&&"node"===r.type&&r._combo&&R(r.id,!1)}},ensureMinimumOpenComboSize:function(t){var e=w({animate:!1});t.forEach((function(t){e.setComboMinimumSize(t)})),e.applyUpdates()},arrangeAndLayout:function(t,e,i,o,a){var s=Ct(e.arrange,{animate:!0,time:300,name:u(),resize:!0,easing:"cubic",adapt:"all"});s.arrange=s.name;var l=w(s);if(s.resize||"none"!==s.name){var c=_t(t).filter((function(t){return m(t,"node")}));x(l,s,c)}n.fire("prechange",{type:"arrange combo"}),r.trigger("prechange","arrange combo"),l.adjustTopLevelLayout(e.layout.name,e.layout,i,r,(function(t){o(t),l.applyUpdates(a)}))},afterComboResize:function(){var e=0;return n.privateOn("drag-start",(function(n){var r=n.type,i=n.id;if("resize"===r&&i){var o=t.privateGetItem(i);if("node"===o.type&&o._combo&&o._combo.open){var a=w({animate:!1});e=a.getNodeSizeWithoutBorder(o)}}})),function(n){var r=t.privateGetItem(n);"node"===r.type&&r._combo&&r._combo.open&&w({animate:!1}).afterComboResize(r,e)}}()}};return B}var Eh=/^do([0-9]|[1-9]\d+)$/,Mh=/^a(1|2)$/,Sh=/^(?:n|s|w|e|ne|nw|se|sw|\d|[1-9]\d|[1-2]\d\d|3[0-5]\d|(\d|[1-9]\d|[1-2]\d\d|3[0-5]\d)-(\d+|\d+\.\d+))$/,Ih=/^ha([0-9])$/,Lh=/^([0-9]|[1-9]\d+)-t(1|2)$/,Th=/^t(1|2)$/,Ph=/^(n|s|w|e|ne|nw|se|sw)-resize$/;function Oh(t){return"link"===t.type||function(t){return"node"===t.type&&!(t.u||t.c||t.fi)}(t)}function Rh(t,e){if("t"===e)return{subId:e,type:"label"};if("bu"===e)return{subId:e,type:"bubble"};var n="node"===t.type&&t.donut&&Eh.exec(e);if(n)return{subId:e,index:l=parseInt(n[1],10),type:"donut"};if("link"===t.type&&(t.a1||t.a2)&&Mh.test(e))return{subId:e,type:"arrowhead"};if(t.g&&(n=Sh.exec(e))){for(var r=n[1],i=n[2],o=parseInt(e,10),a=null!=r?parseInt(r,10):o,s=null!=i?parseFloat(i):null,u=t.g.length,l=0;l<u;l++){var c=t.g&&t.g[l];if(c&&Oh(t)&&o===l)return{subId:e,index:u-1-l,type:"glyph"};if(c&&(null===s||c.r===s)&&(c.p===e||c.p===a))return{subId:e,index:l,type:"glyph"}}return{subId:e,index:void 0,type:"glyph"}}if("node"===t.type&&Ih.exec(e))return{subId:e,type:"halo"};if(n="link"===t.type&&!(!t.t1&&!t.t2)&&Lh.exec(e)){var f=t,d=n[1],h=n[2],p=parseInt(d,10);if(1===(v=parseInt(h,10))&&f.t1&&"object"==typeof f.t1&&f.t1.g)return{subId:e,linkEnd:"t1",index:l=(u=f.t1.g.length)-1-p,type:"glyph"};if(2===v&&f.t2&&"object"==typeof f.t2&&f.t2.g)return{subId:e,linkEnd:"t2",index:l=(u=f.t2.g.length)-1-p,type:"glyph"}}if(n="link"===t.type&&!(!t.t1&&!t.t2)&&Th.exec(e)){var v;if(h=n[1],1===(v=parseInt(h,10)))return{subId:e,linkEnd:"t1",type:"label"};if(2===v)return{subId:e,linkEnd:"t2",type:"label"}}return"node"===t.type&&Ph.test(e)?{subId:e,type:"resize"}:{subId:void 0,type:void 0}}function Bh(t,e){var n=e.events,r=e.legacyEvents,i=e.controller,o=i.getActiveDragger,a=i.stopDrag,s=i.getFakeDragger,u=i.setFakeDragger,l=rp(t,e);n.fire("context-menu",l);var c=s();return c&&t.validDownEvent&&!o()&&2!==t.button&&a(!1,c),u(null),r.trigger("contextmenu",l.id,t.x,t.y,l.subItem.subId||null),l.defaultPrevented}function zh(t,e){var n=t.id,r=t.button,i=t.pointerType,o=e.events,a=e.model,s=e.controller,u=e.legacyEvents,l=e.overlays,c=rp(t,e);o.fire("pointer-down",c);var f=c.id,d=c.subItem;("mouse"===i?u.trigger("mousedown",f,t.x,t.y,r,d.subId||null):u.trigger("touchdown",f,t.x,t.y,d.subId||null))||c.defaultPrevented;var h=null;0!==r||s.lock()||(h=a.createDragger(e,s.getCanvasContext(),n,t,c.subItem,{},s.inMapMode()),n&&!h&&(h=l.createDragger(n,t)),s.setFakeDragger(h)),s.lock()&&(s.stopDrag(!1),s.setFakeDragger(null)),"mouse"===t.pointerType&&2!==r&&u.trigger("click",f,t.x,t.y,t.button,d.subId||null),u.suppress(!1)}function Dh(t,e){var n=e.events,r=rp(t,e);n.fire("pointer-up",r)}var jh={"Arrow-ne.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAARVBMVEUAAAAAruoAruoAruoArukArOsAre8AruoArusAr+0Ap+IArusAruoAruoAr+oAruoAr+oArusArusAreoAruoAruoArurGDVJ2AAAAFnRSTlMA7PlILTQSzUApCPry5LWHbmZYV56dONEurAAAAHFJREFUKM+90DkOgDAMRFGzZQOyQu5/VCRiVwzp4LdPsqyhj3MpG6vedBprreOu/RFiNg6pZKijhToaqaOBgK6MJ8BlY/TAhsppbNt9eYc2zG0NbPyzwtbUQmM1yEQLMtGETHIPA81sMKXFsLJhtfRjF/wgC8yO94CNAAAAAElFTkSuQmCC","Arrow-neDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAflBMVEUAAAD/////37//5rP/4cP/47j/5Lz/4Lv/4bz/3bv/3rz/37//3b//37v/4Lz/37z/37z/37z/377/37z/377/37z/37z/373/37z/373/3rz/373/373/3b3/3r3/3r3/3b3/3r3/3r3/3r3/3rz/3rz/3r3/3r3/3r3/3r322m5MAAAAKXRSTlMAAQgKERITKSotLjA0QEFIV1hmZ25vhoednrS1zM3O4+Tq6+7x8/j5+j1vUcwAAACJSURBVCjPvdHJDoJAEATQQkSQTVBUVNxYxPn/HwTHwRDS3Tes60sqlW5g3ix2aew5FqObl1Lq/Sgup+M+jW1Kh0QQNIGgGQQ9UKtagzmBYWPwTFg11Ba01br5Tlrp61WtRdjTN5uXtH3VZUxrxNlHk6mtR9fY8tb/V7BfAsGwuvEGOFfeenXxx3RuXxqKhuE8BgAAAABJRU5ErkJggg==","Arrow-nw.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAPFBMVEUAAAAAruoAresArusAruoAqvEArusAresArusAp+IArekAruoAr+oAruoAr+oAruoAruoAr+oAresArurF+043AAAAE3RSTlMA7jL5SBJYQSwI8+TOzLWeh29nYHqaQgAAAHNJREFUKM+9z8kKwDAIRdHXIVOnDP7/v7Yk2QRU6KK9Sw+I4peMd7aEYRSczSle574Q0bJiyFGPMVjFkBVDUgxRMVwdt5nBk3oTo3vdufHafp8nTk2/hVXfjFdXTVBbTdDymKgBUBRv1St6GIgqG+ANPuwGG+MKJZ7NkmMAAAAASUVORK5CYII=","Arrow-nwDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAS1BMVEUAAAD/////37//5rP/47j/4bz/3rz/4L3/4Lz/37z/37z/37z/37z/373/373/373/373/3r3/3b3/3r3/3rz/3r3/3r3/3r3/3r1WtQojAAAAGHRSTlMAAQgKEiouMkFIWGdvh561zM7k7vP4+fqDBIPoAAAAgUlEQVQoz73SyQ6AIAwE0FFREfe9//+lHsQFHUk8aI99gXTSAj9UoGJt8tDpRdoUZVU33SwiY+Y+0HLU1WA8hsJjKD2GytpEDLXFISXYbN/2RDsRkWmgGqzZ056psnNSjbcMTPWej6g5st81P2W/qbM/PvMbTTzaKjzqswGJ+vKMF+HAD4Bl2YeRAAAAAElFTkSuQmCC","Arrow-se.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAP1BMVEUAAAAAr+oAruoAruoAruoAruoAsOkAr+sAreoAr+sAruoAp+IAr+sAruoAruoAruoAruoAruoAreoA//8Arur2XPH+AAAAFHRSTlMAL/nsSOsSaldAKgjx48/MtJ2GARaOxv8AAAB2SURBVCjPvcs5EoQwEENRYYxXGDbd/6yzdYCrmiaCH+qVcGehGPYaunMjT7UMNLS71r7RaqiPx2/fqHcJiooxQ1ExFmj6Nwao+jO3Q9Pxa5wARaUZio6Ci4LeCa6GcTOM0TAmw5gVc9O8rFtMuTZWP0sJOx7oDS3DCuS8EfUUAAAAAElFTkSuQmCC","Arrow-seDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV1BMVEUAAAD/////37//5rP/4cP/5Lz/4Lv/3L//3r7/37//4Lv/37v/37z/37z/377/377/37z/37z/3rz/373/3rz/3r3/3r3/3r3/3r3/3r3/3r3/3r3/3r14z/qZAAAAHHRSTlMAAQgKERMpLC8wMUBIV2Zuhp20zM/j6+zx+Pn6sUvavwAAAI1JREFUKM+90MkOwjAMBFC3lG5xutKmDvP/38mBIKWQmBPM0U8eySb6Ya6NYre9zRuQ1WaHou13dV08KhXlId51J2WxcU0XKwsMZZQFqCmtLAAqSmnPAsAXlNLDA8D2eW/nELImvtEfAZcEsg84J0xetZNiGBWDVezte0+7b+syT6M1l5OVgzV1VdAf8gAxkxJYBEMmEAAAAABJRU5ErkJggg==","Arrow-sw.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAQlBMVEUAAAAArusAruoArukAruoAruoArusAsvEAruoArusArusAr+0AruoAruoAr+oAruoAruoAr+oArusAn98As+YAruriSELzAAAAFXRSTlMA+Ugt7usyEc1XQCny5LWeh25mCArMFThRAAAAc0lEQVQoz73JSQ6EMAwEQAdmyMYO/f+vIpClFiLxDepa8qXW16/7BV8/gPs8/LNxrajNOFmb+kl0ujxK0OVRhi6PPM7l3blreTcDzu2LJwGKR6Nez6NJ0zWFnGHsAmMjjE0wdk9xmacxDI5b4HOK6ybvOgBebguIlLvi1QAAAABJRU5ErkJggg==","Arrow-swDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAflBMVEUAAAD/////37//5rP/4cP/47j/4Lv/4bz/3bv/3rz/4Lv/4L3/3L7/37v/4Lz/37z/37z/37z/377/37z/377/37z/37z/373/37z/373/3rz/373/373/3b3/3r3/3b3/3r3/3r3/3r3/3r3/3rz/3rz/3r3/3r3/3r3/3r2Q0tm3AAAAKXRSTlMAAQgKERIpKi0uMTIzQEFIV1hmZ25vhoednrS1zM3j5Orr7e7x8/j5+rQQtWQAAACSSURBVCjPvdJJEoJADAXQLyKiMjoPOKEC//4XdOjuhUXSO80ueVVJKhXgjxGHuk3ro6qzmtT0bbxEHotdGngMi1w3lE2uGjI6TXqGMa0KhhGNGpt8Lz/oPprcBAPOryrbh2ioaOPaNxys3QXDzmKbC7hxbRtBV/RoSY9m9OgwLZbr7b46dcpcc6swSot58OP3fQJ4/xpWfdtUuQAAAABJRU5ErkJggg==","Arrow.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAMAAAB4KUSAAAAAflBMVEUAAACVlZWRkpWSkpaQkpWRk5WQkpWSkpWQkpaPj4////9wcHCRkpX9/f3S09TU1NWztLaSkpKGhoaPj492dnb39/empqahoaGJiYmDg4NycnLt7e3j4+Pc3NzExMS6urqysrOXl5eLi4t8fHz7+/vx8fHg4OCrq6vo6OjGxsZuZdNVAAAACnRSTlMAGLS4bEXLqI8QHTDIvAAAAPxJREFUSMft1rlSw0AQhGEZMMe21rJ1opV1IWzD+78gVaNIimaagnKgP9vgizqYjbb+ptdHbfuF28X61vCQaCrj5zX0TtMhfrgv6Fl49CSsBxaiY2FIKJgC+ZmEmBoSIi1IiNOnGb5DqjwJMbAQHQtDwkGZ0wI/MCdzUlDmpKDMSUGZUw0zLBpYiI6FIaGgzKmDJ8zlwFRVVVneem+AUri4OT0Ms+ytcGozgam3wbRxHaTWBMfCuSIXWBrgeJNXKTAv9PDqpBbSt/nM+VpgZoauh/Rlhhdx49kM3Yi6b5hTfm39nX8e/gcOR03xCr7F6l6iRfsnbbtoa+u3/QB6AlluQsKWJgAAAABJRU5ErkJggg==","ArrowDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAMAAAB4KUSAAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVlBMVEUAAADf39/o6OjV1dXY2Nja2tri4uLd3d3e3t7f39/b29vd3d3d3d3b29ve3t7d3d3a2trW1tbV19e7vsCusbSnqq2ZnKCWmp0tOD8uOUAvOkEyPEM2QEc3Qkg4Qkk5Q0o/SU9CS1JDTVNGT1VKU1lOV11PWF5QWV5RWl9TXGFUXWJWX2RZYWZaYmdhaW1iaW5iam9pcXVrcndyeX10en91e391fIB2fYF/hYmBh4uDiYyEiY2Fio6Jj5KLkJOMkZSNkpWSl5qXm56ZnqCbn6KcoKOdoaOfo6WhpKehpaekp6qqra+sr7GtsLKwsrSxtLaytbaztbe0tri0t7m1uLm2ubq3ubu4uru4u7y5u727vb67vr+8vr+8vsC+wMG/wcLAwcPAwsPBw8TCxMXDxMXExcbFx8jGx8jMzc7Nzs/Q0dHV1dbW1tbX19fa2trb29vc3Nzd3d0CjeBHAAAAGHRSTlMACAsMDSIjNTZHVFpbXGV/goSFna230dV0x2KbAAABXUlEQVRIx+3Wx1NCMRAGcOy9KybYsD8LdqwodsXesFdAUFGf3/9/8RDR996F3Tg6HPguueQ3yWQzs+tyZfMnKakgprzQ5nJrGolpqLLBvNqA0UOJ313phB5BieEuyywodeG81ISJBV0Ivx6MwxzSgo9AslcHxgA8d2jAKABE2vgwAgA4bGLDBwAANiUX3iuIIBfefUFMMuFtCprDPHiTgkgaLHj1DZ3lTAOvf6CjnGngpQXay5kGXlghQpIMz20Qi2R4ZoeYosJTBzRHiDDsgHg1aPAktR942gptrK8sz0kSPLbc0sv5AEcA8K7kNAceAHjxqaLEJAPuA9FOMaGOHGDB3VYhWt4AAKsMuLfkEUKINfW0zXTYr5ZBdddxdpuTcQBAmN8fZ9SRXWzoNQF87HTzO/I2ErPtOq28z+fJ8OHhf+DYKCUBB8ypriemrtQ+dhYUE1OUn53Rs/l1PgExgy+Px7+vfgAAAABJRU5ErkJggg==","Hand.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAMAAAB4KUSAAAAArlBMVEUAAACVlZWRkpWSkpaQkpWRk5WQkpWSkpWQkpaPj4////+RkpVwcHD9/f3S09TU1NWztLbKysqzs7Px8fHv7+/u7u7p6emWlpZzc3PS0tKDg4P5+fnCwsKioqJ3d3f19fXm5ubc3NzY2Ni5ubm2trapqambm5uRkZGLi4v8/Pzz8/Pr6+vi4uLGxsa8vLyvr6+Ojo6AgIB4eHh0dHTo6Oiurq6lpqd9fX2Hh4d7e3sYjczTAAAACnRSTlMAGLS4bEXLqI8QHTDIvAAAAWNJREFUSMft1dduwjAYhmE66HA+QzMgk+zF3tDe/43VQqlQzIGdVEgc5JV+Owd5pESy5F7Xffp4ka1fc0+KfDwcDGU6KW88pESmgfLcQdbhmB8PLaBtAbDshtDwEh+lVsJPPKMBtHcAHJe4DoCdLQ3HezimNWFPE8t0sB/LwgzKlAwvcEimCjJZaGLJ1nU1SxSBJFSgslWrRgVQhC0h/HELWC7CDcwWMCJkAYs2h+wrR8DdYLhKhkVzSBMLrOZQBUqzgn8TGxJwi5SS+AJriWAAuGxLG0Md0NlGi6aQOjhd3rM5OBdAYle/Rzm4gC84chn8OblNxUYA3W9sprdwjUwASbiHdgtNeCJIPCDmHf1BJIQ0x3nGQR0IhJDMtshpHcZwiBiSCPDqcIVcBpIU1nJkXIvOWElBOgHXNhDBSqa7mjPn0rcVnenX3Ee/kR8Xal8yKRz8VKR779Xqv8r21Ovq+m+/Ii1ihjYVGpMAAAAASUVORK5CYII=","HandDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABACAMAAAB4KUSAAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlVBMVEUAAADf39/o6OjV1dXY2Nja2tri4uLd3d3e3t7f39/b29vd3d3d3d3b29ve3t7d3d3a2trW1tbV19e7vsCusbSnqq2ZnKCWmp0tOD8uOUAvOkExPEMzPkU0P0Y1P0Y1QEY3Qkg4Qkk6REo6REs8Rk0+SE4/SU9ASlBBS1FDTFJDTVNETlRFTlRGUFZJUlhKU1lLVFpMVVtOV1xOV11PWF5QWV5RWl9SW2FWX2RZYWZaY2hdZWpeZmtfZ2xgaG1ka3BmbXJpcXVrcndsc3htdHludXpvdnpzen51e392fYF3foJ5gIR6gIR9g4eAhomBhoqDiYyEiY2Fio6Fi46HjJCIjZGJjpGLkJOPlJeQlZiRlpmWm52Xm56YnZ+doaOeoqSgpKajpqmnqqynqq2orK6rrrCsr7GusbOvsrSws7WxtLaztbe0t7m1uLm2ubq4uru4u7y8vr+8vsDAwsPDxMXGx8jHyMnHycrLzM3Mzc7Q0NHT09TT1NTU1dXV1dbV1tbX2NjY2dnZ2dna2trb29vc3Nzd3d3f4Z4UAAAAGHRSTlMACAsMDSIjNTZHVFpbXGV/goSFna230dV0x2KbAAABqklEQVRIx+3W5VPDMBgGcNxd0w6HDR1uQ4cOZ7i7jaEDhg/b9vzdhKErcH1bjm997iIf+rte0iRNQICWf0lkLDExYX4uKDGdmNR4PxicNF5fS0lfWpwUioyS+rRoDfJUzG/OV6iAZjcAt1khNAxaXXBMO+CyDhoUQPMNf5szg2U4eXtjJkPjA5w2zyrvrXpsTjwYqXAJdh1rW+G9lVams2ORCu2w8HqOl1leLNjPJcNeXs+8lV4+zsNKlRB3RhXwpKb6GNsqoImxBjwJymE5YyWA+F+wctjatqccCmOelzlUDrsBx67nFXa/laZCArzApMBavD74NXIwH8jmzaRiaAD0vBEPlELhDMu+59olsFRujO1Al292JbAO9zJLbgGush8Otx4cycDMUxzrvsPZ9838+8qpesTMd2jDgOzu6AeapU64RqMsFDZwVSCB/DPlyO/HvEtsSU7nFpxTjg6TF0P+cBTrpDNnCm5LceFHikxXGCFBcQ2SXObTfgHixO1X5t0pJf+txAL9Z7K0O4Ba2NlBybgEBiakEJMc5X/tDI0gJjxEu6Nr+XOeAcQkNGDJMjg5AAAAAElFTkSuQmCC","Nav-Control-Head.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAMAAAAqwkWTAAABDlBMVEUAAACRkpWWlpqRk5WRkpWRkpWRkpWRkpWRkpWOjpSRkpWRkpWRkZORkpWRkpWRkpWRk5WRkZeRkpWRkpWSkpWRkpWRkZaRkZaRkpWRkpWRkpWQkZWRkpWRkpSRkpX///8ArurQ0dORkpX8/v8Jsev7+/y/6/rY2NqfoKLq6usiue3f4OHg9f1TyfH4/f7Hx8nT1NWurrHp+f2UlZfw8fFNxvHz8/T29vfm5ufi4+S8vb6qq62Wl5qW3vfu7u+3t7nl9/2s5fiT3faJ2vVizfIpu+2am57y+/4RtOzE7fpr0fPc3N2xsbSnqKqD2PUZt+y36fmN2/bCwsSkpad+1vRGxfCk4/hy0/Q8we/Kysxfm/hGAAAAH3RSTlMA+QdRsCLmzbkMj+wZ8dWdeBRpWklCNCzcwXI8h35gX/9DngAABnpJREFUaN61mmlD2kAQhjfcyOl91oE3pAnFChTKXdFK8a7Wq/r//0g1tZiwTDZYeb7y4WF2J7Ozk4gpCC9tZGLr0bVEKrIWXQ/NbW/Oi/cmsLwV1SCTCC2svp9lfiFmS6xqJ3/WLu41mvViq2Q+9i96eCKSWQq8RyzBkAbUuuW2QTINs2M9u+ZW/jeYDwmg1y8ZxFPPdwFEg/+j2dKAqmmQir2yBaQX37iC8WdNv0i+0M0bYO1NUQUjqHXq5J9SFwiFp9WEQ0Cf0fAqC9qH6dZvUYNVoqkxyjVEpwgqkAHKbArsnpzs8mnRRSroe9miGLaJ4+Ayl7u84rOiDMz5W77NFKpN4viVs/nssVNDxOJCzZKGa93TY/ONNzUuEFWX220NeVJ4bL4Ti1HFmiolFlAzlR61qY+ItymIWkntUZv0DtaSgmdZwxmxHL461KY+onxGrKRQ8e1R71MswBXrCMpKj3/TBeYYUQh9X55CwZepMcTkGrEBy/Dj+bS/88mXqYRUeNIGaTX+7Ll3eoicpgPeVEZU3qZA2uNB/XLs8rhMx0d86nWRlURZVInlwO1xm66IZa+mjS9e2Gvh6N7tcZsOiKeMkJRx18SzU3B63KbCPvEY1ljmLdsZx3M78kimQ+/THWuufIih4t3kfH9Kh8HRWIp8fkqFb+RNF4vO1JYCklU7E7LraEdXNixIu3YoT7PiwrFLqxgaNCvOEB2J5lCmmaFbWPlXFBKo0+woj6p4EF2aIXUkAlIqzITuSzrEtVqTZkn+pQ4tTSqn+v4uvYGjLyTTQILLOf3Xca7we5LKqBdbreKeMbkk3j2VqY8kYcG+UUfRGvd8zj1zJ/n3zvIvmEWDO7XkotTBxnNLgp4ueSYeAA0z76BSHC8/A65bNhGyk7vKeHKn5KSYH6M0ZvrE9eVNpOyj9ZrxuEWlvMTYNfpHjjMNkRQigwrjyTn3tZWfwJkrpt85ztTFshDraDOegWuYMJGWK7c/caYOFoRIoDHZ83XXebvPT6bpSm/O9Ig5EUeP88iJIFMiP6YzhEQYltpDZp7D8GNqY12swlJ7mnmWIvkwFREVm7gYPXCMx145fu140/2okcSaWB49rwesh1q8yCTG5Gz5GoiIIM7pL19ZD5V4UYU8TN9HpUFzHBIPTDftWyRvwc+RKCE2R+f46WvI46W+PcXS0c+c9I/riIgV3IyqvGxS79GZh+fuNevSzufoY4Ez1XlRi/f8+DL6o4iKJIakNOm8qOHDQyXEhNBgqE0lNhd0Hx6qICNEGkVSmppsYfDjoWtkhQjBpMmmE3VIpiugQ8ZD5wgKsYUyTTZdOi4qhqneoROnR26DttEnxnToXLyKcuHuOI8BBIRdvhnTwNUDVRQeumQ81P57c0mgzphuyYZZvUqD3Dy4PPJ9IoQKTTQVdsb7R9OhaenSNILxUBVL9tBRnjWdXD57DuSOvN42bUtp1BRLbdCD5DFqmj26C2OoS8364eB2h5sdGDoxnJye3ss/lv5dLtNo0yzpIPtvftahGWL0kBQ2SfQMmh0mYq9zE5Nmx/nr7GRxlrflOlKjcXEgMsN06GDLOb+v0oxo1LR5IRwhFWk2XGPOPSE+J092bgeH0njr6vT0QBVQT0s6RfEISuTBQeH5fDohJ7sDu9PxHhP0x6fsQc+J3U5BPt13Xzrb316eNiJx4SaGsmLSaZskT66w6zlSXRTymHiPOAavHYvLY7PvNdiKCYksbgz+hYHT5PYc66ynBS0sZGJ8bT26dJlsj/rlRNPCtphAMsKXvBNnv+fyfGYD0s+RYd6HoVckCbnfu5I8zAaluXdiWQzrapON2lNBalVwZGA1edNUnjNoy4InhAuDN03hadcQFB4E1nGhjkntKfWwIDyJr8NS7ZPaYwIbQkEghKEi95SePLRFoSaDnsmb1B6jA21J+OED0DFYk8pTvEFkRfhjOYGbPc5k390HrKdSQ2xe+CW5jhr3LciX04ev7Lm6VwWyYho+MF+3KL9tWdsU0xGOAedTdSy6yX2to/4CCect39HkLSAWFm8hvhEBuqZBahqPQ2B9SbyVwEIE6HXauncwlSqAmGJzVKrFGACrY9aZjWk9VmtAKrMi/ptkNo1nWb/sfvPRbFeuqz0AWigYEO9DeCGUgM3Quqie96vdG6sHm/RcMC7eldXtrVBawyupaCYbTIrZEEiGV5aDi0ubq+F5MRV/AMrHP3wtA6vJAAAAAElFTkSuQmCC","Nav-Control-HeadDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABoCAYAAAAdHLWhAAASzUlEQVR42u1dCVRU1xk2bdN9TU+X09O9p6db2sRoFncFWRQFNYrKJoIBBESQHUXWGYZ1hn3fkV3cQRDFfQMUhkHBiFtsmtg2afY2Gm/v99KhCQFm3rz37gxm3jn/wZwwj3n3e/f+2/f//7RpU+QihDx2+/bt742MjPz25ZdfnkVlOf23MxUPKj7Xr18PoBJK/x1BfwbfuHHDn/70orKBylr6+9ZUnqH//+evvvrq16eZL2FXV1fXl4aGhn5FF9eCLrbntWvXoi92dyvb2juq6xp3t5VUVHVnF5Rcy8wrvJWRnf9qambOP5KVWe8o0jPfT1Fm/ys9K/eeMif/blZe0Y28otIr5dW7Tjfv2be3s6urRK1WKwAmgKP3fo4C9wPziutx4c3GglFxu3r1amxH59Hy6tr6rszcwltJaaoPo2ITSUBoJHH32UJedNlIlqxaRxbbryYLlqwgs63syPOLbMnMBdbkBYslZK71crLIbiWxdlhDlq1xJuvcvchL/kFkW2Q0iZUnE4CZV1ymaWzZc+DsuXPZFKwQKiuxQ+lu/YIZjU/sFPoG/5EuzPqBgQFZ4+69+7PzC0cSU9LvB4XvIE6ePhwI0+dakj+/sEA0AZgAzsN3K4mMSSApyqy3C8sqLh8+0llJgQq7efOmDZUff26BeeWVV75GF2Dh8PBw1KHD7bvwNico0u57bdlGbFauFR0QnYBZ2JJVTu4kKGIHwHqrorr21Kkz53Khx27duvUH6MDPBTD9/f3foLtl8eDg1Zi6pt1tWIyA0CjisNaVPMMYlIlkDj0unenOxZEKHdbe0VlBd7kf/d5/fmSPP/pgj9MHtFRrNPE19Y2dSemq96AToCtMAZTx5C+zFhK71U4kdHsMUeUW3DnU2r6LGisBVEf+7pEChx5lv6dv4Lb6ppZWWUr6Bx6bA8gsy6UmC8x4Yr3CkUAnwjI8dvxkEXQmfa7vTmlg/ue3OB3tOl6ckZ33t81BoZyFNZWAGSu2VD9GxckewsynRk0i3VHz6enwxSkHDlWuT2o0mrji8sqeSHqW4w2cysB8Up6eY8FZl3J6TFOjcw8FyRsv41TRNV+iu2bZ8ROnCqnz+AYeBA8k9aLNnL+YOLs6EycXJzJzHhtjY/bipdyxl19SNjAwOBgDa8+kwaHO5feprtkMXROdqHgA/4XFQgVt8SFv9O8n5MZRTv5+aR/Z4ufF5G8/NXsRZ/EhknHi5Ol8qpdsTfLIo0fazzSaK9F5RaWDMJufpR49iwVKjQ8fBWasHKpRsTMiHNaQmETFfYSTqJXnSkH6ssmAg/DI5cv9Mlg4ri/5cuapscHRSmJ0CDtnd5EtCYmKIVW19V3QS/D5jA4OfVueutDdnZGWmft3xMdYLUZaQoROcLQi28kOJDjbOEGKK6ovUpC2GtV4oMfaDIRDktIz34JDZ4rgGAMk6CXvgGCC435oaCjcKCDBYjl3/mKmPFX5Ls5fUwbHGCDhmIdDDpCo4RT42muvsTvuqKXyy+7e3uQUVfYbCPmzeuj0RMPBMRZI3luDCZxa6CQmhgNC8Gq1Og6RgRXr3aYUOMY67qCTqmrrjlOV4CapCY4UAWJqmXmFN9e5v8QQnEjRwNGKnLHhAOsOyUH4SVIaBesqaupOegVsM0lw/nOtg3xIxRRBem6hDdkpS35w4tSpAnrciR9xoDvnBfABInbGM8vb8AHn9tkmYrl0GbFZZk/unt9tkiDBmEpTZf8TYSFRLbs7d+78pLe3NwUW23xbeyYPExnizxsc7Wf5ghS8dTMzkBAWQuwOmVpR9BEyiMPDw37gCSAlzOIh5lnZkrc1hwwCxxCQ3uw/QGZZWDMzGhBgbdl3oIU6+fPE0Dtz9uw/0Lw1LIrZW4bgpxBwDAHJb/MmZs+HKLgsVfke8kmCkn4jIyPf0Wg08UnpqndYpqbDgvwEg8MXpMAt3kxzSjjq4B8hoSnIaqM3uYAAKMsvb7PcgTy4fkQwOPqCBMuPz/3ESvpFxskeIn0OSoBB0QLkN7bHyx9ONwLbJj8tRhRw9AFJJY8ySmYW9DJlTt5fEVTlzRaC14s40or1G4zy5Z+avZDz+N/RtHKL+NH1TrK3PIPMtrARZHwcrFZx98I93xo4SGKjgpilR8aTwPDtBLxAajD8hY/P89PTZ8/mYPfA6jBm/n86PQrw9j+/wEq0e76w0JpY29mTp438bFrfSJVT8ArdEP56kyNBKSosLe9jmd/5PEtw1E4CyjEo0PocbT88f/Giamei4qPpJsL0fNQFGQHEN+nae+tjHNiiVMPJw9u8eAzTEiDwnzx9Jm9oaOgnk0YN6DYLT87Ienv2Yjvz4jGU9Ru9CDYG3UVLJuMX/A5nIUIR5kVjK9gQ2Bh0g0RMGKOjADnCOFjptMG8aEYQbIy2jiNV4zquSMcODg7GyVIzPpwx38q8YEYQbIwCukHoRlk9LrcN6IkZFIWzabFkGZkx1+KRW0z4UvOslojq5KKwAKWZsAM+4xNR1KxRVSZGKhvAKOLCRlMG/x5uJ5U5Mo4/LeYigb3qSH21TT7+JDgknIRRr9zHbytxps8wz0aa4C6c5lMthaNhoptnGomnp3gqAQlRBAk+U34JGxzMUAu7VYI9/yP1OePGvM7sLRL8xuHzbtQFUGWoyL7GRnKguXlCKc4vIAFBIRRIcY7s+VZLudyRlAzWjZsDSEPznkNoNfCp6mqNRpMUr0gTFNqZDBwxsper1rmSkoLCSUEZTxqqa4i3b4Dgl2N3aZrkNGMQQNE24FNpCJjXrW3tNVtCIiUFB9JYnGLQrgncFsobmLGSmpxGnhVgAN053yw5FxzHNno90B0U+ams6a7G5nY3Lz9JwYHUFih4gyNLlAsGRyulhUUGV/ndON2g1zMKBWlnooL0Xr6cOjQ09C1t9NqhqKyi1xD/hw84EE9PfryG4NAI0cDRSk5mtkFFZWWZCXo/pxCQ4A8dOXqsDDk5rYntgZYqlstflBScPeXpvO7v6OIuOjhaiYyKNoDbtpjcPtckOUib/AMJGnpQXGZqj7iw5IzMd1HfIhU4x5vzeflDuH9VaZlkAO1vaiKWy1YalI7/68UWSUFy3LCJlFfXnkG3ExxvXxkYHJTHJaWaDDgQ+DNSgTNqNKSkGcyZkBKkpS+uJ7lFpVeRl+OYO929vRk74uUmAw4EylxqgCCGRu2lBAmqBg2kKDYbuQQdirDCo+NMBpxFSxyYgAPxNNBylRIkdO9CizUugXf37t2fotEE0q66Pri/Uik5OBBvBsebVpIVKcJCPwDpgv4044hgf92pBys7jsONJoXoBvJrBElRwzIp+2SLNxNwuHhU5A5mABXl5YvC49MXpHcGW7kAsq5iZARN0cOO66Oz/1Brvd+28Ek/dKwxjwk4ELksiRlAdZVVopEt9QVJV0XFjHmLSVKa8j/UgIvi0gwfh3kiJv1QT2uZXn/c28tDeB0qta5YAdRSVydaJLqpOEWvNcpJmdwHe3bhx+Eeik044nC/gNeqK81dkyvX649/cPUw8fAQVhoZExvPDKCKklJRwMlS7NBbBfj6TE7URyewVFX2mxSgQK7m9MTp0/mhO2IntyysJw61iw3StuBwZgBlq7IEg5OdrD84Z/cV64yqowYrPSv3dXrE+aLu9AmU06Mjlc5cxUY3bvGlBmm9qwczgAwJ+RgKzsipBrLQRnefPOTk0EAQ3Y6noX7/cn9/CiKo+nwhLLrUIM2YZ0laGhqYALTC0dmkwNHSgbMLiq7THeTKNQxHT2p5qvK+vkxSFiDBP5EanIaaGoNbpUHRSwGOljxSVFbVS9WPgzaa7ZuRlfvaAurB63sTqUGydVgtOUC+W4JMDhwI8nK1DU0dFJe52mj2WpSa8O23wxekDe6uvO4vS5TOH6opKyfPGLB7MuXbJQUH4h8cQQ62Ha4d5cehG2/lrvoToJ/yvRkfkF7v2curvmeW5RJSU14hSarBYa0L72d12+BCHo50SgoOV+Eek0DQDX90ZAHVQU/v3nugxdAGFXxAUvKsZrO2X0321NeLChBoWoY85/kDJZKDA9JOYkr6R8PDw3GjFGBEtM+du5AVpYepLRQkvllViD09esHMEWPnIBBr6DP+rXuPpOBwqYZlq7iCLkx0+RQvju6iMHSBF9LPWh+QCtJiDOOk2SznApuGglNfXU1WrnMV5POoO6okBUdb5QACKYikY8seV4M477BOWJhmMpDeu9rGMTOFkBbdN/nw0ks4HsE6fVYEvnlIoK+k4EBAvUZ2ATHSsQ36nkEPaAy3EPpHYK3BIBgLDhpUiFW3+uJ6NxK9M5ZUlpSSvZ9wanGM1VZWEUVSMsdAfX6RjWjBULwgoDCPBae3tVwUcOCTJSanP7hy5UrCZ3rLobkPUt/RCXJRCOForYJmSM0lqVxJvZCdo8/CAQikr1kUPbu5uZDqXDlHwkRPIXDRxSooRqqbnmaeExUPb4aCYtXv2ixj6FZ+gaShefchEEknKiCe3bi75SB+0bxg7McNxCvSHvT1qRWjjNKx1717976JX8Avsmjnb5b/C6aBgWpFrTcXXT0SnHMLS6/iA+aFYycI74B6gCFSukbK/AmtScyFxGwLiBXpqnfp0bajp6fncZ0N/KgVEYSMHrxa8wJKLxh0+L/otaW+rWBmoomff3C4eQEZzHuQpynfx+g4vQfwYnTmtWvXQkGem2/rYF5IKX0qLz9SVdtwjJ5aNnxb/8/CqBXfoDDjdYKys+ecXARYM2SRglqRjfoanu5kV34S52SiHNOYrciwexKT0//d398vm9C0nmxqI91FIegwj8ZzzJs6BPiQd6+0fiafxDfpN8pzmGvBAT1eYbPY1ef6CtI7tY3Nh7kyE0MHaIC3DcYPS78IYSHE7sRKnwMcMF4nCnQivsYaHERrYIjRnROGEiAhjWWdMSiQZferidphGgKSLnC0HetZNttAvBD9EDqPHS+FWyN41GZ//4AMbYTnWLFpvIoAqxhEFH3A0YouQruYgmYhmBvO0apEmtkwB14u2KcsjjoYBELZQnzAQUcUsSLS+pASkzOy/qVWqxMwlFGs0ZuPYXBeaWX1eThVUj8EUhVj80l8QOIDDkQRy8ZSnbnAmmyPk33U2dVVgtFyog7XAAOVIh6Byi8WcTpYa4bw7viCg4pBFrsH5jzibbvqG4+MEhIlGIv2K/C4YbuzGLLBl3eH0he+4ExnZJ2Ca5CdX0zVzst+cGGknPo4D10ZMciWxcB0PiDxEZbgYFIZmLsDAwOxo1w3ieemLtt3sLUxYmfCw5kLrKYcSCzBQUffFGXWm5j5h1osVvO6H6NvgiOyryg+ZjHwSSyQWIKDbABmLoFzKMnULV0BVWp+b6iuazgKkKbCTmIJDgggspSM9zESbbSlC+sLIQqAhJ2E487QLlIsQGIJjv1aF87XQedEjJYz6qho7CR0C4ZOguEgVStKISCxBGeNqydibPd6enpTdaavWV3QSTAc2js6K2CCs/CT9AWJFTgofkOXqsy8gtt9fX0JdOf8ZpqpXVQRzoefBGcWEQepw0K6QGIFDqaThUXHkbKqXWeR6MRQxmmmetEv+Ovh4eEITO5C7G6OtbRBSBQ2j1d9vr8ygwk44LJTY+CDA61tdXTXuOidtjbmBX4djAfoJXlqxvtIVUi5m9AiAH0c0GwDHVFYzKObY2VHAkIjuWrsC93dGXDg9Z7/Yyp6CUfepb6+pMLSykuoGrNe4fhIMECdPH2IPF31XlPLvn0Yb8bMAZVo/vcT2PqI4CLcAY4Dn2JlUxEk2WA+YzAgEpiXL/fLb968uQBW7LRH4UL6HBwHvHVgCyGyK7SJOitgUBaPtH9uYcnQ8ROnCpFlFnXUswkde4+DLYRqPvDu0rNzX8eQPVSXmxoX/HkLW7LW/SVCfbuHGO2M4UvogGiS5rMEQMG5fY4+7DaUm4MLHpeU+gCmOeJXxqJCIaZov9aVoHce+rXBbEYcDanpKa1nBAD1RYynRLa2r0+djJAR6pO2x8m4Whl7RxfuTZby+Fq4dAXXZRcsWupk3y8oLle3tXdUo/M7nG+T9mkYx/W+De4DOjxd7O5WgjRZWFLen6LMehvnP0ozQbawW+PEdYPieySiBxt2J+bCYrIyAIlPSn0Ip7q8uuYMeuZprlxJwPRl6MtHRvlLZfnRhZqBQUfQV2jqgPrZipq6kxg8Ad0lT1M+iE5I4po+hETFcMW36Bq5OTCUoDkhqjPgKKO1QKwsmWuQB58FbBqkneFYYteiqhCDFTG/gv78qnn1DSOs/Igu3tN0MRfjDaf/7Ud3WkzPpUtp0BGwrDo6j5ZDn+0/2NaAI+rIseOlUOwYOapWqxX0sxH0c5vo51fCqUR+BjwL8wpLB9wXwGe+e/fu96EnwJdAbxsKwJMoYYdSR7NCmMN0R35tqj7nfwGivy1eWS5lPgAAAABJRU5ErkJggg==","Nav-Control-Short-Zoom.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAACACAMAAACMX59YAAABU1BMVEUAAACOjpiRkpWRkpWSkpWRkpWRkpWQkJWRkpWRkpWRkpWRkpWRkpWRkpWQkpWRk5SRkZWQkZWRk5WTk5WOjo6RkpWRkpWRkpWRkpWRkpWRkpWQkJWRkpaRkZaRkpWRkpWRkpWRkpWRkpWRk5WRkpWRkpWRkpWRkZWOjpSSk5aRkpWRkpWRk5WRkpWRk5WRkpWRkZWRkZWQkpT///+RkpUAruoiue2Q3Pas5fjFxceVlpj6+vqkpacRs+yhoqT9/v78/Pzx8fLk5OWur7Gen6H8/f7q6+u+v8D39/je3+DW19jOzs+7vL6nqKqcnaCXmJvR0dLIycq4ubu2triwsbOrq66am51+1vVo0PPo6OnCw8Wys7XS8fux5/nt7e4qvO4LsuvLzM3w+/7o+P3Y8/zH7vu56fma3/f09PROx/Ezv+4Zt+wEsOvg4OHa29yX3vY9we9ZHrf1AAAAM3RSTlMABfp2HfA8IWdV6+Cij09JQjArGArm2dLFYFo0JRP057CpmG7Xy5WADvb2vLZ8cKeJgoGIgHZSAAADoElEQVRo3u2Y2VfaQBSHQyCCCIgiitRq1bZ23+anLSFlF1BZBBG3Vu2+L///U0NJThNT7kx8as/J9wTk3C+ZO3NnbpD+aXyBYDDou2xwLHpjETry3Ep6xnX41bUl6LRyuQp0lGjA3d39i4DWKWWZTvZoZx+QH7l4ikAKKB8xC6ddYHZaNH5qCZUtdoEjDbcnBeMV9OrMQbYBWcgQDGNvk/2NDG6PCeTvBk6MeAc1TFzlCh4jl7XEvH5t+ZIvI8KdgDsoWUIOvq4fWr4WVVzhCKLYswS8WNd5b0vDNTp+RkGV/eHZQPDU8kNdRZAUpLHPKAHr4j4piGCXFmwhRQomUKUFWVWmauIW1DwtYBqmCME0NDbk6dmGzpeB4Png09mBYT5BjBCMYd+8tQPjQRqYFxEcOgWfRARTaLLffHAKDoZX9jBOCBLoG6v+4MtznfNB5Png08ahUWFNkBWp4CM9C/k2yIK8h21acIRZicKPLi3IYIWuZqh1SrBZQVwiuYcOJdg2RkCthPbHC/vBS0sl5DAvcbhm21EO9QVk2SGPMcc9KYOKraLfvrXVsnxF4jIOYyodlFT4JQH8MJ/BzpaKm5IkaGhk2QUKGZjxfNKLaG3bT5fvOch+SZjpFJDrnDKD4o4GzI5JbpifA9DqHWcyxycVABMPXHc68UgSBuFrMSKcIBDz64wvSP8zMwtXpgKXbRSvhpYnMGwUb066l0wvywDUSlNrQSe8dstVeCIC4GS7mGc6hepgISmrLp5iMgz1uGirxB6QEu5WQ0Cv6CjGCpKCreYq8Io5qZcRpk5m/o5S2MOSwCiCinl/p6GMu3zBXXTZKOoVhPgD6NfZSL5D4fWqc9hlBGWs8Q6WVoESlLBEr6cVZBhJDnFun0fSQZQ+nft5WlDCDbIIUGY0Wdyhq6DGhrz7uWHjs3lI95GgDiUzh2/O1y/ywszigojg/bqDHyKCVXMIb746BO+GV1rkEGLosSEvP2/YOPtgJlH2kd12hdFUcZ186VNQpAU7iHBapF1asI80p5qbjKKIxRlS4EviGyVoYEWieQBtk0ihKgc5At8sOmwUhSai/MYCKLHRb98CJ9wTtKujptBsNGkeov23ROYzwLgkgi8CZAqOCSxDTkuC3Jehbdn3kZ02ki4avbHrgPbq1Ex+qdYGlhOSC3yrSQD9cqNW6zZVAKm4+7/ClsMwuB4lsk+xMBkKhebjCcnDw8PDw8PDw8PDw+My/AIFurvICRtjawAAAABJRU5ErkJggg==","Nav-Control-Short-ZoomDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAACACAYAAAC7gW9qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKy0lEQVR42u1cCVSU1xW2adK0PdY2zWmaNumSnpw0bWqjpsY9ICpCcFfAiiCCgCiLssgism/DwCA7IyAGlB1RYiBsoiyaI9tBVhcUO1ZTjUlt2qKJ4fV+U+nRkEEGh///se875x1QYP659713373f/d5MmsTBISgYY9+6cePG5Fu3bk2h75964g2+dOnSTy9cuKBHw7avr8+Nvga2trZGN7W0KM6fPx9MP/e4ePGiPX1dQl9/AQc9CbP8bTJuFg3XhlOnEg/mFVTvTUr9iyw2/vOwKMWgX3A42x0UxkJk0SxSEfcvRULKtQMHc+uOn6jbR3/jSY4wIEc9OyGNpzf+BgwvKX2/KDou6aa3fzCzst/OFi1fy97WX8r+OEefTZ2tpx74/k96hkz/3VVsg40D8/ANYDJF/D9yC4vLe3p6fGhVvA1nTpRZf4aMN6usrsnEjLp4+jA941X/M3a0Y+7id5m9ixuTxyV+euT9Y4X0mlu6uromS9p4BDSa9a2H8gqqvP1DBhevWKe14V8f7xitYDu9/Fj6gawmWg0ely9fflGSxlNg+2F3d7eXMj2z3cndm721YPFjGz803py7kNlsc2VxycrL7e0doSqV6iVJGU9L8zu0RB1T0vd3bHJwemh/63Ks22jD9iamqnp7e73oeVMkc55TtDbPzi2o2bZz17gZPzQQSLHKaKs5NDc3PyO6A2hPTiuvqMz2oig/Y/4irYyZY2DI5i820no7ILDmFR4uwzEpqvGYAZoJDxxzC01Wa2WIMiaQfXWxmrFLNawoXU6GjX7lzFpoxCiPGOjo6AgVdStQ4JtfUHyk1HGnp1bGm5qbqw1/cGx33KLVa2zc4sgys3MaaRWsEm3vk/e9omLjb89bskyrN+/munWYA2RBu7R6DZwyQRHye23t7VGi5AeUnf2q6viJDDefPVoHMl04AMPOaScrKjl6pL+/f4YYwW9pZvbBRvNNdqI5wGTdBpa0L6OHtqKFGCvACcEPmZpYDsCpEyZXfEEZYmBtbe3TQhc7AfTwr3AsieUADJ+AEPbRmTN7aUX+SDDjr1279v2Wtjb5npAIjW8MCVFUkBfrqjnILtblPTQ+bioZ5oCbbUeH/V5P7SGWGh3Apo3g5B1eu1k1xSLaBr8UlNw42dCQ4rk7QOMb83Z3GmbkWEdsuK/G5zi4uLOjx8oKUH4L5gAUIzW1J9JGOgGKM6J15oCGkn0jngSUipTQpLwpaOV3pqkp1jcwVOMbC/Fz15kD0mKDND7H2cOblVdWZV25cuU3QiZBT1FFFgIqS3POrs+yksLYJ22l7PPOsofGQM+Hw4y8c65i2O991n6MHclUsJl6mktrT79ABrrt+vXrPxH0FKAU1EOmiPsn8nKxTgEE2sBwGevs7IygU+C7QucBpqlpmWdXmluK5gAUYLGJKVdpSzqKUQhNRfR13OEpmgNQEGXn5tfQ7OuLwfo+29HVFUpx4J62PIAuHIDlD6a5rqExWTSekJywLu1A9hlQ2UI7YJmpBUtIUfaBhBWND6Cj5znKCGXBkfK7M/UNR790LS2GOQBO0YYV8qEj+MTJeiVVgq+ITYkZZeXkH0dCos3yxfE2ZHz9YSWbPs9g1H9vbm3HEIApDm0QnRNEXQBaDJT12o2btVrGK9asZWvNzLQiUpeuNmfRexNunT17Nvjq1avPS4IZRhACXx+1N+FTw5Wm48YIL1i6HH3EgVOnTyfQ7L8mqd4ArYLfISOLiIm7vXK9lc6Nh2NDIqPvVFRWH6AkbJ5Uu0NTm1paZGheoEEyTYt9PVK8MLW0ZVhdcDAlYAsk3R88d+7cS+jc4HjcHRw+iNUwFtIEw3jNerZrTxBLUmb0tLW1h9JWe31CdIhv3rz5A8oRTDFjScr0XiQsFrZb1V3iRwU8MMxmm7Ywd19/Bi0ByA5a8tY0XphwGgGK0i/TtrA5WdeQkp2TV6tISL6+JyRczeI4uLqr21yWdtuYvbMbc/H0ZSivEeHB91fVHN9PRjtJLtiNBbQlfn5f7bEdshjMKuoICCBy8gsrIaKAngDcHm0hN+QWNH79RGqHQKaAvwOFRWM2OWYugicMVqlUP57EwfH/A7A4oLJQVEmi1z+eQOcGEZ0SmRW0711o+FE+H1nfeDrp9Edn4rq7u0Pp5170/w4ImFTl/eyJMBxqUDJsWU9Pjz+EFEiQ5HGJn4TLY78MCJOpEx10d4Ii5CwiOm4AFBeqSxyd90+EWRNGIvcg7uuG9Ds7O4MPZOfUk8F3nD182BoLa0p2TL4xOwSzBJ4PSRPYXuQEh4+WFkNvSK/1+wljPM328/SmXXDOh8sV/0ayAyGktqmwnvFKNe8PvSHyBFpJa2g1PC1p49GgONvV5Z+oTDsH5cgsA6PHLoigN/QJDB08VFBYQfHBDttKksZTgPstZXOxMQlJf/vzZnudKsbeemeJOl1W7n+vlWKDu+ScgIYpKjbsWwgXxoMQQdzYsn0HU2aonWAnuCZgJFoMsxKfvO8Savfx1An+Vybny3IKij6k7bBaEg6AUgtyGczOeBo/NBBQfYLCBlExYtuJzgcikfEPk92boUN98GgostjE5L+S851FrRrpDVhBI4zzXSjjhwa2AspqOh5nimX8C2BoQWSMlfZ6nIGkKSY+6QYSJVEcgDtAuAaDREdo4x8USYF6E4UyQ+GC3N3AZI1oDoDzMQmYDKFz/clQivmHRoqy/IcG7iCBPKXTwFbo5f8ypLK4ziKW8RhoykKpQg5wF9QB6ASVHivPf5RAwsbGijWX7WeXGwvGNDqqspi7q+OIjZNQWQzD3UNBj0NcZcOlBeutzpqjtJHJNwqitB2DfdXMdL25xufg/mFzc2sM+hGCOaC/v38OqrORTgDcAdCVVC4yULOAAloBJGOg1oQ8Af4APh93+zS9sSUmy9mXFyp14gBLy40anxMcKWeg1ATlCnBfAJ1a112+I8YAVyd71lefr9b8jWWoThexED+3ES9ORMTEDdCE7BKa+HgOy24ktagQA6wR+AdRpHIgLXG1dZ7hMtEcALnM/qxDp2gFGIuRCRrj4WZWtqI5wM17D0NZjNaa4A7o7e19BQ9HK1sM42cbGKuv3VNS5i1KSYyHgv1FPWC4ykxwB+A+MeoACsiGYhIir4OyBo8/3tdmHxJSUNyh2b9Nx5+fSqX6nqisEEQQoMG1lck9Li94/8rcHCk0OV9sbWsLlyni/47qTIgSGEJJyGQl0zaD4AH9vMBw2V18+sN4GQ/RFWIOleM++MAGqbW79dEADYqIuquLT4/4etUHUbYiPuljSPFQjkuuM3T/PrE+JOxRsfGf4QMPdEGWoCuEshuKM7TdcPxKvT/4Rlt7ezj0fWh/G602H5Ph0+cvUmd6VOx8gQ9ooD3vPGF0RAiMdDpshiIMlBXuGK63tlfrfR8V4cH5g2fwD4scTMt8r7mlpUVOr2Ui+L0gXTVMoferrq1Nh04A4gjcON3p7ade1psdnZnt9h0MH7wCJwVFyAehPM8tKC7H1Tx8PIdkVOGPExvw8VgUHwwhj2lqalHAIaUflOXlFxV/UHj4yNGy8oqDJ+vrU3EDDCuHfneOoASHwEfmFGiKkUWiq0P/nk6OeRUd5gm5zDk4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4JIn/AOeJiI1Ll4JOAAAAAElFTkSuQmCC","Nav-Control-Zoom.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAEgCAMAAAAzNIUCAAABQVBMVEUAAACQkpWRkZaTk5aRkpWRkpWSkpWRkpWQkJWRkpWRkpWTk5WRkpWRkpWIiJmQkJaSkpaRkpWQkpSRkpWRkpWRkpWSkpSRkpWRkpWRkpWRkpWSkpaRk5WRkZGRkpWRkpWRk5WQkZWRk5WRk5aRk5SRkZX///+RkpWxsrTHx8kArurQ0dP9/f4iue36+vr29/fY2drd3t/4+Pjx8fLo6OmUlZj8/PyQ3Pbl5ues5fj09PSrrK7r6+zi4+Tb3N3U1NbNzc+cnZ8Rs+y3t7mgoaTu7u/k5OXa29zW1tjCw8S7vL6lpajf4OHS09WZmpyXmJvv7/Ds7e3KyszExcawsLOjpKaB1/WoqKuen6EqvO6/wMLX8vxoz/NPyPEKsuvw+/626Pl31PRq0PMZt+zO7/uj4veb3/eX3vaP2/aO2/ZkzvKuoX/yAAAAJnRSTlMAmGYM/fBd+iHZdRX26QUvt6KIgFVMHODIj0M8KgfFr2w00Kc6nNlHBgsAAAT9SURBVHja7ZxpV9pAFIbTyiII7mvVql3mRTMGAsRSwYWCoqC4r612X///D+hwIKfR6A04nlNp5/kky33IZO5cvORMtAdNd6eg+67BQ2OjEQiCzx4FOloO7xqIQpAvFk8h8I91tvbp4QhQ2c8YTGCkV7NAsL+Foxh+ChymmYO1AhDqaTa+J4pTk10jU0HkSXPxM34cxpkLo4zgUDPxnVEUOLuJA0ReeMdPjiLG2c2cY6TLUzCAI8MR8/694wE/RJ/nBESw7gg5vpz75Hi4a/lmPARjKDgC3s4JPjiemMUUHd/hR4794XVN8MrxRNzy0SkZQJZRAlbAACnog04LtvCUFIwgRwsMKzhJnQKfxWkBOwK1JCZwxOq8OpsXfK4J3swLzo4b5hiofH6BrP3RLhoHUkaAEIzbgnduwYUteEwtZFTqb/vmFhzb8zhIFTJUG1n/8fMbwWUt8rL21/y7hforJxjXCPxYpGeB74BckL1I0II0QhpFGAVaMItHdDnyWXFKwE/hURh7sU8JEvYIiEzYcZzGL9fqgVEUaeTBlH0W7IS6cKyOTTzr9izKfujOmvTW8cBEcEbzZNCHBLuRjIWw1gRhQL8p3rQcU0gbfCgnr4cvHMAZTxOIIL/CmZPlIoJhrWkmRoHi/p4dnVqtAKFxrRUCfgD5w82Dg83YKQTPJ7XWeIRKHg2qsRNRRloWzLKUuSoo7YpKeDeBjRLICbghJ0it6ImkhICv6Lq+JSEwdEFCZggJIcjICIyl5TRv8zxQAiV4EAJ7McktZ+mCIl3SpIuqZFlv9zxQAiW4H0EqF5cSrIvlnJIQLOiCZVlB6S8OQbCWXmz3PFACJVA90wPpmZJmYl31TEqgBKpnEgK+LQSmzBDWtvUNuZ5pIc7bPA+UQAnuqWfak+uZMu3fMy0JwZqMgKueSQn+EYFsyyO+nUuG7HJelxDEZQsK3xCCtMw5iJuJjGp5lEAJ7qXlMXMyAl5refZkC4op2zMtyZyDnOi5DNXyKIES3INgcc1gkv3CdlxCkNQFW7ICU2YIpuxlIr6Xjrd7HiiBEtyPgMsJdld0c0GmZ6r9pppp856ptKEuEymBEtyHwFg39/73nimty14mSi6qnkkJlOCf6JmkKxJbFoJdGQHPravLRH9fwJN3T+WD5c1sHoBVjO1nWxf0YQeCnWrVQo2+yZbCO/p9wMnsUrw2ilTpPA+MDLYQ3xMCCs4ts7x0BDzvaDZ+KIJKhl2F6zt4Ntxc/GAQZYO52K1gpCnDk2B9Bl0kswg1MYrhKDbZzSQrmPIW9CLGbmOxioDnABx7NN1sIOo1iKdYZQQnmKbjZ1A1KIGJEVowhnNGwU8xTgpCSDOSTfRT8V3Y4bTAY9f4E2QZTRx+SvAY5cZYj8/mr3D2s2GokvuVw3YW/phz8bX+ShGdpOCg/rYLt+CXvW99ghBM27N47BZ8r7+SxzC1ku2FwD/NX+NjfXoWLN8kVYpQZDQ5esdztx+LtEBHn8diXqEFh3jseQMEihSCXV63YMjQS+G5RjNAHkLK8vV4CDqi2HbFue9jQaaClbtNsI9ol+bJS+R3b6uIviHNm+5e5HM3pwDCzX2z9sJyZ0OyDN+A1hzdL4Hs1dLGN/KIBLSmCUSBWMn4s+n7CBid0Fqga8wPWCfl/dXV2UIRQKjlf1E6pkeDaOCfIs4+5Xgx3d/fPxCY0BQ0vwHPu0gIqkZhFgAAAABJRU5ErkJggg==","Nav-Control-ZoomDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAEgCAYAAAAE6nUwAAAACXBIWXMAAAsTAAALEwEAmpwYAAARa0lEQVR42u2dCVSUV5aA7aSTzPSkM93T08uZ7unumT7dMx2XoBGICLLIvopsgqCCLIIIsu87xU5R7CAgJcVmAYJoNG4BDS4DQUQlKC7gcjRHxvRJ0tNJZzreufcPZYOkbHGwCnjvP+edQln+/37vvvvuve/d9y9axC9+qfQCgO88ePDg9YcPH76BX7+04AW+efPmT69du6aPbeuNGzdC8TP5/PnzeX39/eKRkZFU/H749evXffHTBD//lQAthF5+GYXTxhbcc+ZMSX2z/LiktOJ2dkHR56Ic8aP41AyISxFBWnYeZIkL/0dcXH5PWt906v3uU7vwdyIQhBGCem1eCo8PvpgEb+880JpXWDoenZgKm3y3w1obB9AyMINlqwxg6Tv6QqOvV+qbgoHlOnDz8oPw2CTIFhd91tTSdnh4eDgGtUKLYM6XXn8FhXc+evxELfVoUEQM6FuseyzsszYdY0vwDQqF3MKSTzoOHGzBv+k9NDT0+pwWngwa9vq2hmb5sejEtEfGto4zFvzJtsbcFkKi4qFaWteH2hA+Ojr6szkpPBq2f/zoo4+iKqtrBwPDouFtPeP/t/CK9paOIXgFBENhWeXo4OCl9Dt37vx8TgmPqvkqqqh/efXuS5v9AqeM79lsju5eICmpuHPlypUovN8bc2Y+R2vtImuSnwgIiXxhwisaGVLSMhxqfh9++OErageAY1Lj8JGjsii08it0185ImFVGpqBrbD7j4UCGtbll3yGaJtUqPPUA9kQ4TXOGVvYzEqQyPxm+vn4c4OYJaK3ORcGeXXO0Dc0B/YgvLl26lK7WoYCGT1fe1tHpHxIxI+GdXFwEwSe37f7eM/ob7t7+UCtrPI1asE5tYx/pR+UUFH262sR6Rg8fGrxtGoDslMgZ/Q2aZVIyc/8yMDiYoxb/AL2zXx17v7smNCZhxoZsNgBQ8wkMgdb2/R1jY2Mr1GH8zGpl9addNvuoDYCVoxuU7qoZxqG4UR0aEEjGjzw1dQGgWUeUK/4KPcTkrq6u76o62EnCm39N05K6AFCLSUqDc729EtTIH6hM+Hv37n2vf2AgNyEtU+mDkUOUkxIFQyfq4fqp5int4772aQDGB/ZP+7nhrgaoyEsCjadA3hkVB8fRFuEw+KVKkxsne3rKI+KSlD5YdFjgNCGftxVkxCq9j19QGOw/eEhO4bfKAFAwcqKru+ppM0BbTd6sAehp3/XUmQBdkXbslLdUGvn19vUVxCanK32wtPiwWQNQVZCi9D47wqPh8NFjdbdu3fp3VTpBL2FElkapLOU+uwHUlYrgvwc64fPLh6a0L4bfmybkl1ePTPu5PwwehI5aMWjqKw+tI+KTgdJt9+/f/7FKZwF0QcOzxYV/JL9cXbMAGdrkjGy4fPlyJs4Cf6dqP8Cpoqr2op2Lh9oAUABWUFJ+F4ekvzoCoaVkff13RqgNAAVEsqa9J7D3DdSR9X3t0tBQOtqBv8w0DzAbAEj9KdN8qud0mdryhAjBsUoq66VUtqoBWDtthOLyyhuUhFVbPgCnnh+iR5idmpX7Z00D02dXXY+N0wAQlJlkhWJwCu4++UElRoL/pu6UmHld4973ySGZifrS9KYQ/oN9lbB8tdEz/77LFh8gA4x2yE3tOUGKCygtRilrB3fPGamx7XoHcHB2nlEi1czeBfIkxQ8vXryYevfu3R/NicwwGSHK1+dIij8xtXN6YRlhPTMbWkf84szZs8XY+7+bU2sDqAW/J48sM7/wU7sNm2ZdeAKblpX35ZGjx6XohK2eq6tDS/v6+7Np8YIWSDRmMK6fZi+cPLYCaRcBRgdMb06vD169evXntHJD02NcasYj0obnSZpQs1i/ASITUqC0smZ4YGAwHYfaf86LFeLx8fHvo4/gRD1WXr17jByWjVu3CavEf8vgUYbZebM3hMUmQklF1Wfvd51sRpXfgu0n826PAFrpX6DKFr773pH7ktIKWsyAhLQMIYvjFxwmLHN5+ASA745QCIqIBQqv6Weo1UhlcLa39zwKbr9oPl9oF6wb5a19tBuE1FkhoLJGEMh+0GfHgXdb8fdXznsAtILjtvUbT0/byByMrNaDpaMrkN9ABo7cWto5omNs9XgobA+NAtoYseAAPGvjADgADmBhA1iivQaWaOnBYmz0Sf9mBgAJS6s9BmbWYGK1DnSNLWApAZkEYcECICEXa+qC+xZvqKupgc6WFiiWFIKxpZ2gCUwAWK5jAPVSqSD8gdZWoSUlJsOyie8veAB6qPJ76+unACjIzQeNVYwAIFUngVsbGqFDLoe9snrYFrADv79m4QOgRpZf39QaEhKSQJwnhuCdYbB8tSEbNuCxIURh31y5WmhkFCcLz4wjtGRi6nvSB+CeIAfAAXAAHAAHwAFwANwRYsEVXqKlO/HJkCu8GIU2tbaHzIwsqCgphZjoONDUWytAYSIhsgzD3iJJEexrbhZyAi2NjRAUFMJ2QkSSx1BChFJiddU1UwDExSbAW6wAIBvg5OoB5Tj+m2UyyEJbQAkSphIi1Nu6xpZgYGYDOkbm+H96bKTFp/kA37Iowj1BDoAD4AA4AA6AA+AAOIAF7QnS9hhNXSEuWMzcFhkUeJWhGXhs8QbfbYHgiIHR5FCYif0BoWGR0LinDvbL5VBTUQmOG9yFfUJMANDSNxaEn5wPEKWJ2MkHaBuYIoA9UwBkpGewA4CGQFRULMh210JbUxNU4xDY4L6FjSGg2CJDRnCr33YIDgkHVw9P7H0DdhIij3eJ0jQ4MRUyNQ1yR4gD4AA4AA6AA+AAOABeMzRpaYy5miHaDPEOxgNUL6S1xpidxVES8k3N1eC8cTNIq6qFkFiSXwAGplbs1AxpUM1Q7dSaocT4JHbyAXomltO3yOSLWaoZ0oUSSSG0NTfDfoTQ2tgIO1jZJKXYJmdgbgPpaSIoKy6BiPAoWMFuzZCOYBR5zRD3BDkADoAD4AA4AA6AA+COEGOuMK0NMucKUzBEh6akJKcJyZAwDIZW6hqxUzO0VFsP8nPzhb0BlBOgIzT8twdNOUpnQQPQXWsBctnUhIg4N4+hmiGM/WU1u6cASIhLZKhmCA2f2yYvqCwrF2qG8rJz2TlIaXLlGAltbucA+mbW7BylxQ9T454gB8ABcAAcAAfAAXAAvGaI1wzxmiFeM8RrhnjNEK8Z4jVDvGaIe4IcAAfAAXAAHAAHwOprdpg8TY6EpvhfZ6JkZiWVzGgxVDJDQc8mL19okO6Bjr17hRMlVxmaMrJDRAiETIUiCUUo3N7cDOERUd/sFVr44bCecKbw5FwAZYWyRJnfHLC84AGgBtCGqOryCqHnSfimujrw9gsQIkM2coITWpCdmQ0lRcXCocpMbZBQHK2rKJnhr9nhJTPcFeYAOAAOgAPgADgAVh0h5gA8WTLDlCusCIYs7BxAlJYBBXn5wuEJGhORIhMAVuqthdKiksfhMJ0n4um9jZ1wmOoESHBFQoTSYrRDhJmECCVD5fX1U1Ni4ZGspMS+edOUl7cf1OyqEkpmMrD315hYsZEUVWjB26uNhDfPm9s6CMfqMJMW/9aSGZ4Q4a4wB8ABcAAcAAfAAXAA+gzuFWayZEZbT9gas3mrH/hs2w72Tm7srA4rzg6IjY0XQmLKC5QXl4DtehdBG5gAQKEvvXR5ckIkIT6RkYQICmhgZi1UikwGQMfqMgOAzhVOSkgW6oZosxQNAXtnNzaGwF+NoCX4BeyAoJ1h4Oy6ia33Dk8vmeFniHBPkAPgADgADoAD4AA4AHZfs8NcRojOFV2BQRFtlqCDE56sIF/wh6rSmQENUqkQCtPpEZoIYgkrNUN0hMaTNUNhYZHs1AyZ2a6fVjNE1SPMbJEhda+rrhEEp9bS0ADbAnYwVDOEECxsHUAiLoDqyl0QFhohbJth7DU7ukK90O/5a3Z4zRB3hTkADoAD4AA4AA6A1wzxmiFeM8RrhnjNEK8Z4jVDvGaI1wxxT5AD4AA4AA6AA+AAOAAOYOG/ZkdLV6k3uOAzQjpG5uDivgXcPX3Ayt4JlmkzdKwuFUxERETDXowEKS9QXFgkLJczUzNE0d+TNUPxsQnslMwYmttMA5CclMIOAHrxsig1XUiGUPHUrrJycHL1YKhmCK2+vqm1UC8UGRkjvISZuWN1FTVDlAdk9jU7zK4McU+QA+AAHrcVumvhLR1DNgDomdmAq6cvBEfGQnRiKqRk5oIoRyy0xPQsiIhPhoCQSFjnugl2RsUtDACjo6PrOg++e6mofNdjYSe3ZFE2pGblTvv/PQ1NcPrMub6bN286zkvBAeA7Y2Njy0dGRnY3yds+ycqXQFRCCnj4BICxrSOsWmsJGquNHqv822tMQNfUBqyc3MAnMETQiJLK6j92dZ/sRC3wvHbt2i/mjfAff/zxP+BDex04dLhJXFz2qV9QmCDcTIwg2QVzexdhWJRWVl85c/ZsMf5NYwI711X+Z8PDw+HV0rq+kOh40LdYNyPBn2zLVhmArYs7JIqyv9p/8JAcIbiiNrw2Vw3eLwcHL6UXllWOegUEf6t1f972jpGFoA11DU3dCMB/zkHAnv/B0NBQrLi4/J6ju9esCT5lytQzhsCwaJDWN51C2BvnzHBAwV/FHgkoq9p9mYzcixBe0Zaj3xARlwTtnQda8Z6mc6X3zRua5cfIeaEx+yIBUNM2Moek9Kz/PXmqpxzv/Wu1Cn/nzp1/6h8YyE7NzP1qpb7pCxde0Wi6LC6vvHH9+nVftQ4FVEPnKqmsd8MWX5UJr5gdwmIT4fDRY3VoD5aqrff7+vvF6LR8TWNTlQComdo5QUFJ+V0E4K8WAKh+Ok0tbYc3+wWqXHhFi0sRwbneXgl1hjrmfS+a802wJ9QFwNN/B1AnUGeoWv3//sKFi9kpGTmPZtPheZ5hQJ2AALaoFMDt27f/5URXd1VoTILahKemZWAG2QVFn6MxDlUpAAxT/6Pz3UPN/iERSh9OAzWjMj8Zrp1qgtHT8udqV7sboSAjFt1qA6VBU0ZuwSMEkKzS6ZASFfK2fQdpDCoDkJ8eA3DzxKy0hKhgpfdJSMuED8+fz0OP9HWVzgCNe1uOPs317W6rmDUAnXsKlN4nJikNzp7rLVTpTEDOR1vHgX2+O0KVPlhZbuKsAchIDFd6H0qtDQ0Pi3AIvKJK///X7x07vicoIlbpg1FdgLwqB8bP74c/DB58rvagvwOkxemCPVGWVM3MK/gzdki0So3g3bt3f9Rz5kwJJTfVOQtQpimvsHQcjeB2lef8RkZGInMKij6jZIW6ADi4ewLFIjgr2ajcE6SbUupr/UZPtQGgITgREP1WHa7wbw8fOSp7mh14kY3Cbxz/X6ImxqNGvqyO1PfLePPw/KLSB0ZW61UOgKZgqazxA7Wo/6TZQIPS3yFR8SoVnrJCGbniPw0ODqaPj49/X60LIJSllZRW3LZydFMZAL/gMCBHDB0yQ7XnBFEFf3XmXK9ElCP+0xpz2xcuvJPHViEddvXq1RDsgFfnRGIUbYH2kaPHpXEpoq81X2Bu0MzeBfIkxQ8vXLiQev/+/R/PqbUBMkat7fs7CAKtBM+28OtcN0NmfuGnE8tkv5uLC6Ivo1G0IxeZhoOlo+usCE4hL6XdJCUVd/r6+7MR9LI5vT44Nja26uzZ/yqihGVQRAzoW9g9d+bXxtkdYlNEj8jhGh4ejkYXfH6sEuPM8Bu0C0G0ySG3sOQTSpyQMLQM/rcE1zGxEgwdrQUWV1SPnOo5XUaLog8fPnxjvu0ReAkfXBOtdTSt7FZWSwcz8iRf0Kqxb1AobPLdDs6btgKtKVBihSBRcEVGrlZWf5pSbjjN+dAss2g+X7R2eOvWrcWoFY5XrlyJP97VVU1AKJtbK2voqWts6pbvaz9w8PB7jRRh4s/txGZGgs/5/QDPYyhptwe2N9FgaqOQJuTMYHubYot79+798yJ+8Ytf/FLx9X/oSgR4DSFppwAAAABJRU5ErkJggg==","Slider.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAYBAMAAAB+X3LOAAAAIVBMVEUAAACRk5aRkZSSk5OWlpaSkpL5+v+RkpW7vMC1tbmhoqXGrO6IAAAABnRSTlMAaFgoEQ5LYgUfAAAANElEQVQoz2PADpgFMYADAwNjOQYwAIl2oAGwaEUaGlg+3EXLZ6KBcgNcYcashAECGAYDAADj/n4pps+kzwAAAABJRU5ErkJggg==","SliderDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAYCAMAAAC7r5/PAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPFBMVEUAAADb29vf39/j4+PZ2dnn5+fc3Nzd3d3T1dXS0tLHyMrGx8fDxcews7Sqrq8tOD9iaW5mbnJ3fYGFio5wqsUhAAAAD3RSTlMABwgSFBUsNIaIkZOVq7P8Vew3AAAARElEQVQ4y2NgIAGwshMBmMBK2Xn4CAJOFohSPmEBAkCYG6ZUgJ8AEBpVOiSVCgsSAPA0wMVLEHBAlDKzEQEYGUYBAwMAUkYiCd2NGyEAAAAASUVORK5CYII=","TBFit.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAWlBMVEUAAAB4eHh4eHh4eHh2dnZ9fX14eHh4eHh4eHh4eHh4eHh4eHhwcHB4eHhwcHB4eHh4eHhycnJ4eHh3d3dxcXF4eHh3d3d3d3d3d3dubm5xcXF5eXl4eHhxcXE+JRc1AAAAHHRSTlMA9qd7GAewklkjEvLn28fArJqNbWZkUi9QOjlR6dZl8gAAAVBJREFUSMfFVtuWgyAMXC4V1LZar90t/P9vbozIulVq56l58sBMyCSQ+PURO422Vaq14+kddGFr4YKJ2hYH8FwGdOTI/JV3M6MulWwaWV1mikmeMpTTftbrZUH32XRgOezjFbsL6MgxE0XtpUbSRpbvyMpoQ24TNuFV+mi5syjuKXF3sXE2kBPCp+xB2/+UF2V0kYyqXGfXkN7XFSXlZpUIEpAsaIS4P4ic6AdmVpkqhBM6VOP2DLyFCmgCLSpsVKCv/pngrzqqsGGtdq7nj5+z3xL8+Zs/eufqEAaVhb103u8QyDo+nTIzhzfSfebwfYrgWQjd9nGRUHH4aQILqRYRLSWMw08bC6Hkt0vZm84fWtc4p2ACHBIsGk4rXDj0asCXD77e6ANCnihD0CYAtxm0kQGt8hFbJd6M8XZ/PFAcmUJHFjoUwbELDnbw1+ET9gtaEjv2MjNk4gAAAABJRU5ErkJggg==","TBFitDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAulBMVEUAAAC/v7/V1dXb29vf39/m5ubo6Ojq6urY2Njh4eHj4+Pe3t7f39/g4ODi4uLf39/a2trg4ODh4eHc3Nzd3d3g4ODb29vg4ODe3t7a2trb29vc3Nze3t7a2tre3t7c3Nzf39/c3Nzd3d3d3d3d3d3b29ve3t7b29ve3t7c3Nzc3Nzc3Nzc3Nzc3Nzc3Nzd3d3b29ve3t7c3Nzc3Nzd3d3e3t7c3Nze3t7c3Nzd3d3d3d3d3d3d3d3d3d1gGo1GAAAAPXRSTlMABAYHCAoLDA0REhcYGRooKSkrLC0xMjI2Nzk6PT5GSEhJSlJTVFVWVlhfYGZnbXh5ent9f5maxsfm5/n6D5blOgAAAb9JREFUSMfFVmtXgkAQxQwNtTBB00IUwRRfBIz2cv//32pYFnzAAtvpnObTnnk5j8tcJek/pNbRRoYx0jq1Kt63+jIAJv5Cr5e4t+YhXEg4bxW4y1bsvls5pumsdnHIVOb5dz20B26/mSiaAzcqz+vm+4+jdFbjUtmgP2rkjcZBg6tkDYqLBjs7MIeTCMWIInKUvsprTvUzyR4xicofn4rmi87lN2496UC88+la2G/xRrHz6dl+QwiV4gAFXU47nwNYZRibATgp3kII2L5uDteOBwa/RgBhgkQ97eD+nVwHkI+HtAud6ZYAffp4/iTZAPL1Qh8DgAUDBQKM4m3zTfICyHFLkYirjQHSQTzT8gnJDyCENoJob1OVBrCi5fMDaCNrgB5VjaKBReUXCTaC8BwmuDNp+YVy3JoJfCoGbNIA4ZKEm07Guq861vLFbaLHXbo4YWiIg+8c3vsq8Bb+gKp+osrvj4Ake4JnRuoKHjLxUylJNiYZ83nAzp57W/Dcx1c9SyizkM8DjLIGJ8p6KqQsnO6UkeI6IsU1I8WJXES7zjXtOiUQkOr6wk+J/VUrI/Z4YO3e0DCGvXalvw5/Lj8BQYMv73vyEQAAAABJRU5ErkJggg==","TBNext.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAWlBMVEUAAAB4eHh4eHh1dXV4eHh5eXl3d3d4eHh0dHR4eHh7e3t0dHR4eHh4eHhxcXF4eHhxcXF4eHhycnJvb294eHh3d3dwcHB3d3d1dXV4eHh3d3d5eXl4eHhxcXGK2btVAAAAHHRSTlMA9pEkpgZ7sGxZGBOq8u/b2sC8lWRSRC8PfFBRuUo9rwAAAWBJREFUSMfFVll2gzAMxAvGZklKA4Ek9v2vWVEQslna6vUj8zXBM44lC4nsLcgHZ42xbsj/oh5dLfwCUbvxF7lCNXnUD/JKzqprq6XU7XW2yOpM3zfTetGV+KDsiukPm/5Y//jeDtXokZPFHKVGw0KhDsIqYEHvE6Zpoy3M5Dh4KJ7ZCZ5it1kPm5B+hxcsJ5FXzbqFzRA2TUgTZ1dCvAsN94wYASKXUSIgAIWyS8pI4ulnHdlD+KhihpBRpkbhRUmG8JkToxsEEVaiowhABrgRS6JwdKIuMQQbMUTnfT2zXHhfpoZwJ7aeCTIzn3CAes42houK2AKo9gFDaLcGSFDEZrQYhKWEkQESRGwtT4t1J/eGcCO23oRhG9hHYgfNTiv74rilwS4+dnlzXyDmKyoUtwmw2wy3kTFa5YtaZdqMH+dzQPPb/R7meKB4gOGOrH8PRYLS27GrFXOwMz8d3oEvPJs941PvdQ4AAAAASUVORK5CYII=","TBNextDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAq1BMVEUAAAC/v7/MzMzb29vf39/m5ubo6Ojq6urY2Njh4eHj4+Pe3t7f39/e3t7f39/a2trg4ODh4eHc3Nzd3d3g4ODb29vg4ODe3t7a2tre3t7a2trd3d3e3t7e3t7c3Nzf39/c3Nzd3d3d3d3d3d3b29ve3t7b29ve3t7c3Nzc3Nzc3Nze3t7c3Nzd3d3b29ve3t7c3Nzc3Nzd3d3d3d3d3d3d3d3d3d3d3d3d3d09lSx4AAAAOHRSTlMABAUHCAoLDA0REhcYJygpKSssLTEyMjY3PT5ERUZISElKUlNUVVZWWF9ga214eXp7fX+VvNrv/MIr9REAAAHNSURBVEjHxVZrc4IwEMRatKjFClrFlopgFR8UOPvg//+yHgkQkoCamc70Pu0kd5HbbG7VtP+IzshaOM7CGnVuyb63dwkUEW/t7pX0wSYFLtLN4EK67tH00z5w3WB/oiUrvS1/HOF+Ek775UJ/FuafF42b85f5cV6PX+yRH3WaqAlwIzTkDSPEDV8mLGg5CMPJKxoWY7OtOTOWDnvCQ8x2+kzc5jrXP6ojjtXikSckqrPrYb8F/HnVJISBna9q95tCWvKTfT9KKOcKU9idbwC8EmfZ10BEeawBgkpvKSQ9VpB93gmI3GACaalEm3VA0rKzgMou7ALuAKZcQXbkEYkZwLYQBQqszxcQghiiSsSrpQIZoZ41voAQxBANVPuQAAtgLxbkBDFE4wAwIWBRI6wqQIIYquQ5L3XnygXZmSG645byUS5Q/qTmpo0aEppWprXp4l44ROKhujhlaaiLT1ne4gMyRCQ+oFufqNE8BCpaGJKGgKZHimNGGysOMvVRqWk+HrJs9wFfHve+4rinU102lHXa7gOFZc2YZT1ftCxkd1WY4iE3xUNhim/6JdsNRNsNjCtO3bW3cWXs79Y1Y6eEDSdzx5lPhjf9dfjz+AXdIn+vwb0h4QAAAABJRU5ErkJggg==","TBPause.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAS1BMVEUAAAB4eHh4eHh4eHh4eHh4eHh4eHh3d3d4eHh7e3t5eXmBgYF4eHh4eHh4eHh3d3d4eHh3d3d5eXl1dXV4eHh4eHh4eHhxcXF4eHj1iuhDAAAAF3RSTlMA+ad78rBZUSMYkgjArI1tZC8UD9valLlU9lYAAAEtSURBVEjHxJXbkoQgDERJuCiOd9fd/v8v3R01W9SMgnmaPFnQB+gQovlIPKYwWDuE6XFHvYSOcITrwlKQ10xAGsR1Rj43u3xtue+5XXekma/0lXvO+zHKQBw9AXDVud5uy4lamG1Te5YaBuDrE1seAL8n7Km311vzyaCrcubsyxCAF312ev5f4mcLk37LAdLsNoA3OcB4oEkSQaA6B4hEggW/Bsx3kqnlj44lIBJIKjGIgytAXITjswPGMjAC3VEUBMQyEAG3F8gErKYMmC9gEgvtHaAVEwPAdwAGBrn2/g7QA1YNqI+kNq1Oq/ritKWhLj51eWsfkPqJapuAus3oG5m+Veqbsb7dl38ovxODVyiUV1mISlEEUimKwCpFCqtdzIqdBbliJ7npQH8AADUuN1z9SxsaAAAAAElFTkSuQmCC","TBPauseDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjVBMVEUAAAC/v7/b29vf39/m5ubo6Ojq6urY2Njh4eHj4+Pe3t7f39/f39/a2trg4ODh4eHc3Nzd3d3g4ODb29vg4ODe3t7a2tre3t7a2tre3t7c3Nzf39/c3Nzd3d3d3d3d3d3b29ve3t7b29ve3t7c3Nzc3Nzc3Nzc3Nzd3d3b29ve3t7c3Nzc3Nzd3d3d3d1l6ZQlAAAALnRSTlMABAcICgsMDRESFxgoKSkrLC0xMjI2Nz0+RkhISUpSU1RVVlZYX2BteHl6e31/MGPHHQAAAYVJREFUSMfFlllzgkAQhMcEDF5RNIpEZI3iEdiP///z8sDhgRybSlXmaWuZ3mJ6eqdX5D+iN5qtPG81G/W6ZL+6h4Q84r370pI+2GnuQu8GDelWkKWfj8r31fGcQTZWXf7kAiTRvF9s9BdRAlwmz/PXgA7s+0070ID3jBoFRE71gxMBYZUwVXOQiHhA+GQzHtcVN44rh70D43r6xsBd5dZ3cUSapmmayuN6DZdbdgOIpAkgEWxu+qvRTjPA0ehrz3cQSDNAtqBKvWkSuw1gJ+hCiW5ZQQNAInDz5QHm7YAF7HNRJNBvB/QhzgQygrO0A+QMQxERmcGxC+AEUxERWd0Q1gRQsCx053cB+IV8jAHGv2RctDGtHRv3VjbOWBrm4jOWt/EF6npFnd8PAbEuhmNGJoaDzHxUioTAut4Hwuq4Dw3HfTbVq4ay1fU+kFvW4mpZH42WJWJtclM8Kd9Xp9wUP60m21WPtqucFqd+cfdxaexfszZjzwgbTpeet5wOOz0d/jx+AIW/dO9/0oYGAAAAAElFTkSuQmCC","TBPlay.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAYFBMVEUAAAB4eHh4eHh4eHh6enp4eHh4eHh4eHiBgYF4eHh0dHR4eHh4eHh4eHh3d3d4eHh3d3d4eHh3d3dxcXFxcXFxcXFxcXFxcXFwcHBwcHBwcHBycnJzc3N0dHRxcXF4eHhzyzi7AAAAHnRSTlMA9ad7F69ZIwiPEJPbwG1kUlAv7+HQu6OMdFxGMR+YuEezAAABRUlEQVRIx8VW2baDIAyUXaQu9e6b/v9f3rGWggJtc/rQPHlgBpghJFZPiXrUnRCdHut70I1WbD4HU7q5ATfcoz2Hmytw6VbUoeXW8vawUqws4Qd2OkZ/AchenYaGPF4sc07uN10oImcNx4QyGVkKEzw1bMGL8tY8M8iOJXFHliw2YBHgiwxMb5TLsMT7b+FULLbDQe/5c5o+/jIMKLeREeAbT0B8pgkByGxih1wVEaaXr8RGFznVsOiA0xqv3/u0AchvrIMCEHy8/SQqdPjsEwJia1h/WbaGpzJH2Bom4cyqbEQ+VznCzjBk++gltCVCbFjrRXQwrEwIhsH8zl+7LROCYRbpQyaQj0QWTbaVfHHU1CAnHzm9qQ+I9kQBoRYBepmhFzJ6qaQXY3q5v91QZoR4uGV5gCU1RXrbTRs71w3x1+EZ8Q9bFUNUrCre7AAAAABJRU5ErkJggg==","TBPlayDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAw1BMVEUAAAD///+/v7/b29vf39/m5ubo6Ojq6urY2Njh4eHj4+Pe3t7f39/e3t7f39/a2trg4ODh4eHc3Nzd3d3b29vg4ODb29vg4ODe3t7a2tre3t7a2tre3t7c3Nzf39/c3Nzd3d3d3d3d3d3b29ve3t7b29ve3t7c3Nze3t7e3t7c3Nzc3Nzc3Nze3t7c3Nzd3d3b29ve3t7c3Nzc3Nzd3d3c3Nzc3Nzc3Nzd3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3dBMNPAAAAQHRSTlMAAgQHCAoLDA0REhcYHygpKSssLTExMjI2Nz0+RkhISUpSU1RVVlZYXF1fYG10dXh5ent9f4uMoqO6u9Dh7/n+1QUKvQAAAc1JREFUSMfFVttSwjAUPAoFCwhCFaFWSoNQBRTbrPdb/v+rfOidJC2dccY8ddKzmZ49m90S/cc67o2mtj0d9Y4PqW5aqxDxCpZWo6K8s+AoLL7olJQbblS+XTPHYettBJkZuvrBDkDoX7STjfbYDwHsBur6KwDcbRU3Wy4HYKuoYQB8U35h+gA8mTCmOYiIbACeYjPo65rrB9JhZwD6evr6AAqdG4/pEe/nGkJ2eXZdwI8fhXg9VSB8YJabLwc3U4D4fpana3LwbHcBuJQBhPh6aO4j5gBL9cYRtgoAIT7vjvYmGIInSrSyDlKAEB+O1IUVP66ACxkgRJGwMbCMRRECbRWgSFgbCCKB9IAtqQEFwrZAl4iIRsBaB8gTtgGGREQ0zREmAzLCGDBJdOeUARLCnEQ+tQGVn3S790kVTd9LTZfS+qSgVT+4n5fc4E7SwWml8aaRRn3xKeV9WyJvxQW6L71A0hV9Ul9RU20CBWo0JkDGLrWZt4NshgY1jay+VRJ5AK70OeDJdu/VtPvI1eVAmXN9DsSRNc4i67I0soiMWRyKG+Y4bBOH4rVRFrtsP3aZWZHUDWsZpMF+M6oK9oiw7nBi25Nh96Bfhz9fv/lTjqtf/HEhAAAAAElFTkSuQmCC","TBPlayExtend.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAYFBMVEUAAAB4eHh4eHh4eHh6enp4eHh4eHh3d3d4eHh8fHx1dXVycnJ4eHh5eXl4eHh4eHh4eHh4eHh4eHh4eHh4eHhxcXFxcXFycnJvb292dnZ4eHhvb29vb29ycnJxcXF4eHh7Kc98AAAAHnRSTlMA9qd7F7CSUSMHbRD1WPLbwKyNZFrv2ryVMC8nRUR/XsosAAABT0lEQVRIx8VWV3bEIAxcinsvKXayzP1vGROw2WQBW1+rLz+YwdJISNxeYsXSlEKUzVJcQVfzwGCtHubqBJ5zhj/GeB6By9Sgup6PI+87Q0llCJ+1ej+ZDoCcEgagzfx44TtOppoifNJwAEnuCSsBwJ8F03gR/jX3LNZZMLj66bAMgAcf3JZtwJ/SOdA+ypECifdo9W0/EiB9EAJgud7e7B/h7euAwEnINd1PUO/V7oRTqmJgMkRQH4UJcwPtlTjrCIIE9XlEMdvVAZgiBGWkmoDBFgUDZIxgpJJAbbxbgO4WI1ipOmD9XWyAPkqwUvVAY7J5CKb8ZqXiQLmnfYwSrFQjIMgEskvkoMmyXkzc3SWOXhr04qOXN/0CnV9RBzlvAndPEyC0GXIjo7dKejOmt/vzgYLNBHVkUYciceyeD/baDfamuvR0WM3TYS1ur7AfgEVDcxHQFLwAAAAASUVORK5CYII=","TBPlayExtendDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAq1BMVEUAAAC/v7/MzMzb29vf39/m5ubo6Ojq6urY2Njh4eHj4+Pe3t7f39/e3t7f39/a2trg4ODh4eHc3Nzd3d3g4ODb29vg4ODe3t7a2tre3t7a2trd3d3e3t7e3t7c3Nzf39/c3Nzd3d3d3d3d3d3b29ve3t7b29ve3t7c3Nzc3Nzc3Nze3t7c3Nzd3d3b29ve3t7c3Nzc3Nzd3d3d3d3d3d3d3d3d3d3d3d3d3d09lSx4AAAAOHRSTlMABAUHCAoLDA0REhcYJygpKSssLTEyMjY3PT5ERUZISElKUlNUVVZWWF9ga214eXp7fX+VvNrv/MIr9REAAAG0SURBVEjHxVZ/c4IwDK1zyFCHE3SKjoHgFJ0MyH7x/T/ZUltQBi30bnfLX1yaxOblNU9C/sN6Y2vpOEtr3OsSfWvvU+CW7Ox+S/hwm0HFsu1QEq75LPx0CF03PJxYiqeJ4icxnqfRTC8c+jyi14snzfErWs4fVJ2D8486TdCEeBAZ9QMjwoOgDlgoKITm0IwGZ2KKmjOTWrEHLGKK4TPxuNK59ia4z+sFkPgaXR/7bSz9/cQ/sHPvar4ZZBSfHK2akH/dc6ww5DLzLYBPmhPyTx62AQhLvmWQDkQJ+ccNm2AKWcFEu+igMSF/L7uwuXcPMJMk5AyqOcCOkwIJpssSGFQ6jpYRZIx8JrIEDhWyfXR2WgAHeQKD6ggwPTuXJWC50ChUSM9FwTu3LYFC5Rb0UU5QvlKXpo3rppVhbR/cmn7elYNTpoY6+ZTpLX9ARv0BdX2iRpclsG5cAkSLFdcMmSguMvVVSUiARVZiHQjq6z5QXPdsq9cFZZOJdYBL1vwiWY9SyUJ0PS6KRyqKRy6Kz5pMdsPfshsaLUrdt3dJKewvVpuwM8BG04XjLKajTn8d/tx+AP42ge+igiOUAAAAAElFTkSuQmCC","TBPrev.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAXVBMVEUAAAB4eHh4eHh4eHiBgYF3d3d4eHh4eHh3d3d4eHh6enpvb294eHhxcXF4eHhxcXF4eHh4eHhvb293d3dxcXF4eHhycnJ3d3dzc3N6enp4eHhycnJxcXF4eHhxcXFnXdd7AAAAHXRSTlMA9qeRCHuwWVEjFhDy79vZwKyVbWtkRC8mGXy8u51RKiIAAAFZSURBVEjHxVbbVoQwDLQt5S6CiMjq9P8/07JQkh6KGl92nmbptKczGxKeHoJsLkZrx2LO/qJuikFhhxqK5hd5pRUiKF39IK/Npup6bYzuu22Lqa/0Zbuu59MSHixTrgC0ZVp/Sx1Xm3WLTUWj/UJeJWzlfkGfA9P8oBh23ZF4qMpLc+p0WAkgrU8v1218xBuxI5CWx2G8X/bz3Z2Yd25YEN4Ay+fj2REjCUiio+3Ni3PE2CX0oVBQdMHs0zlH7LDpRaESi8jBq/PgjFwUOx2AiWJxKxgLmIBhv4MCForlDsYCFkBtBTIDHQvoDsYOdMAcLPQU0AbGDvTBxAhoCmgDsag8x1B3JgQUQCwqB/uvDfxKX0FGLL6S3LQ8VvkfJy8NefFReVNUxKLylr5AgleUJOImIG8z8kYmb5XUjG/Xc0DL2/0ZNj1Q4GGlI0s6FIVjVzjYhZ8Oj8A3c5hAJhDkPcoAAAAASUVORK5CYII=","TBPrevDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAq1BMVEUAAAC/v7/b29vf39/m5ubo6Ojq6urY2Njh4eHj4+Pe3t7f39/d3d3f39/a2trg4ODh4eHc3Nzd3d3g4ODb29vg4ODe3t7a2tre3t7a2trd3d3e3t7c3Nzf39/c3Nzd3d3d3d3d3d3b29ve3t7b29ve3t7c3Nzc3Nzc3Nze3t7c3Nzd3d3b29ve3t7c3Nzc3Nzd3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d18+0n7AAAAOHRSTlMABAcICgsMDRESFxgmKCkpKywtMTIyNjc9PkRGSEhJSlJTVFVWVlhfYGtteHl6e31/lbu82e7v+w/WaQ8AAAHNSURBVEjHxVbRcoIwEDxbtKjVKlrFUpFYRauFbLW2+f8v6wOBBCJqZjrTe1rCJpNslluI/qMa3eHU96fDbuMW9r23TiErWXl3V+jtJUep+LJ9ge6EGX23YUHANrtsytyp4/f3ANJ41MoHWuM4BbDvn+fPAPCwWR5shhyAf04aBiB2zRduDCAyBWM1CxGRDyA6M5j06g7XS4zFngD06uXrASid3PkoL/FeRTNgr6sbArH2+PJjoBiYa/fLwTV9Hr+FgVwOru58CYSajl9CVBHRAmCF3zhSdV+No5A0hYiomYLnTvRKJ/gUOU0heQpPwjUwUrKInKYQERGNgZXcQwq0lCw5TSHpRCDJDNIFdppAkqZQXjugQ0REQ2CjCZTRFCpqCwyIiGhaCNY4SpZQqGTPSe67QBNICCGEQmpCkNvHeoK2pUOxpcOFLVkfuiTrqZD1VCvrjRf3UFyctTXszVex96Gw96HG3tYfkPGJnoSB3DLFtgmQs7dsM9S3bGT2rZIoAjCrz4HIbPeRZbvPuroZKAtenwMyssYqsp4vRhaRM5ehuGVBwLYyFF+dS7HLqrHL3CtJfeetkiLY34bXgj0TrDOY+P5k0Lnp1+HP6xcYMnv/MeSLLQAAAABJRU5ErkJggg==","TBZoomIn.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACWUlEQVRYw+VYwU7CQBAtN2960BA8gnf8FMSDiEfxiDEx7CyLB3+ARMBfgJoICX4Bfod8BSZyKAccZltoS9ttS0tM7CZNWbpvdmffvJ2ppv2T6/mgcQ4Vdg8CBN4rjfPng4SgH47YDYxgDktX+4EhVOFwJ3B+xt7A2IK2N4O98bNY4M0T6MLCBvUFEzaANrTxPsFfNiO80zyJCM/KMDOHz2HMbkXO/YbI8RqM166bsXJ49Aw8WXODrsgGvSqyvGc5kbW0TCi+oAsk/JjnQ+1UHlciR/TV3MpY8CHnY41qWSYUo8wXf1gpKilYCYkrJxaw2Etz9qVYpL4wR5f9ifkdPIeHpWx+/5vkmPmQFnlPW+vvRZUB5B9tN+94Ri2FlRHEHKUBrVEglIVHdKMorGz3AnVJaQD98Ep+0LckjcJlHhxWYQyILEW34ZJBVEzpf21XA+jsD8KqOhc2Iv7cJmKgRgaGDnmQorUtaXEMiJwMVpts4GlFgqw8fEIZQH9MCa+46ahQxyQpA/yTGHm12eJ72oGBF1jY5liBThOubzoEdbQTM9AmPLE/A+m7KO1NTp2myQYaO90KtNSlYg9il7pcp37gJHxkGo3C/g99SltmqaYtlFOnmXjtljoivDp1JC/2zTT2KUryu074+8pRKBv9aOk7MidC+u5Mxg3eUxUgyHur0BIR1mwvofgHr3mVUHCHohCrhDJJyzuOInCKKq+vikDQ8WlqLwLh5fE4ZhmLkIoyFnTPqA1/wSGW20NJQVch/s6vdyzEHdwq8iuorz4lQB2fiol9Svjz1y+we1CD3hl6FwAAAABJRU5ErkJggg==","TBZoomInDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjVBMVEUAAAC/v7/b29vf39/m5ubo6Ojq6urY2Njh4eHj4+Pe3t7f39/f39/a2trg4ODh4eHc3Nzd3d3g4ODb29vg4ODe3t7a2tre3t7a2tre3t7c3Nzf39/c3Nzd3d3d3d3d3d3b29ve3t7b29ve3t7c3Nzc3Nzc3Nzc3Nzd3d3b29ve3t7c3Nzc3Nzd3d3d3d1l6ZQlAAAALnRSTlMABAcICgsMDRESFxgoKSkrLC0xMjI2Nz0+RkhISUpSU1RVVlZYX2BteHl6e31/MGPHHQAAAYNJREFUSMfFlttygkAQRMcEDd6iaBSJyBpFIbCH//+8PIB4QS6bSlXmiRqmt5ie3mlE/iN64/naddfzca9L9atzTCkiOTgvLeXDveYu9H7YUG75eXl0Up6nTlEO2Vp19dMYSMPF4JIYLMMUiKfP6zeA9vv3yb6vAfcZNQoI7eoLOwSCKmGq5iARcYHgSTKZ1DU3SSqHvQOTevomwF3n1vfDEVmWZQ+ExLfs+hBKE0BC2N7MV6PtZoCt0deZ78GXZoDsQJV606T9NkA/RV+U6Dx28AwgITjF4xEW7YAlHApRpDBoBwwgyQUyhkjaARLBSERE5nDqAjjDTERE1iVhWU2U8lxddOd1AXgX+RgDjD/JuGljWjsO7q0cnLE0zMVnLG/jC9T1itq/XwJixYZrRqaGi8x8VYoEwKbeB4Lqug8M132+1auGstP1PlBY1vJqWR+NliVibQtTPCvPU+fCFD+tJttVj7ar7BanfnEOSWnsX/M2Y88JG81WrruajTr9Ovx5/AANW2DPUFlUSwAAAABJRU5ErkJggg==","TBZoomOut.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAACSklEQVRYw+VYwU7CQBCFGzc9SAgehTt+CuJB1CN4hJgYdpaFgz9AIuIv1JoICXwBfod8BSZwKAccpi20FGi33RITt0nTbrpvdmffvJ1pIvFP2nOqcQllVgcBAu/lxuVzShH04ym7hwHMYbl1zaAPd3ASCZzn2QcYHmjnZbAPng8F3kzDKywcUN8wZu/QgQ7ex/jmMMK7zbQkPCvB1Bo+hyGriOz2FyLLqzBcu27KSsHRk9C25wavInPoU5HhPduJrJVIBuILusCEH/KLQDt1gSsxR2j+3Era8AHnY49q2SZ8RlkfzlhRlhSsiMQ1J3ZgsdfW7IuhSH1ljS7tJ+aP7xwONosc0z2kRd7T1kr43ss/2m7e3Rm1FFZGMObsa40coSx2RDeKwsp2L6p2wRv5QfdIGoXL/HBYBWkiQ9FtbMkgKqbpfwWNjwjrzr2wAfGnosRAlQz0XfJgipZX0kI5KWsGq0M28LQiQVZ1/sGE8AqbjjJ1jFUZ4F/EyJvNFtdpB95dvFrKXa4V6DTh2qZDUEdHmYEO4YnjGYjfRXFvcuw0VRto7NwTaLFLxRHELna5jv3AUXxkGo3c8Q99SlumsaYtlFPHmXhFSx0RfhZk/UnQrDS2LZP8rhN+zXcUyoYml74jcyTSd3cybvCeXwGCvLcLLSGxZmcJxUe8uquEggcUhVAllEVa3nUVgRNUeX1VBIKOTxNnEQgvT2chy1iE9CljQd8ZtRLBc4Lldt+k4FYh/slvIxbiLm4V+A3UVr8SoIZPBWW/Ev58+wWZNt3EgwcumAAAAABJRU5ErkJggg==","TBZoomOutDM.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjVBMVEUAAAC/v7/b29vf39/m5ubo6Ojq6urY2Njh4eHj4+Pe3t7f39/f39/a2trg4ODh4eHc3Nzd3d3g4ODb29vg4ODe3t7a2tre3t7a2tre3t7c3Nzf39/c3Nzd3d3d3d3d3d3b29ve3t7b29ve3t7c3Nzc3Nzc3Nzc3Nzd3d3b29ve3t7c3Nzc3Nzd3d3d3d1l6ZQlAAAALnRSTlMABAcICgsMDRESFxgoKSkrLC0xMjI2Nz0+RkhISUpSU1RVVlZYX2BteHl6e31/MGPHHQAAAXxJREFUSMfFlttygkAQREeDBm8RNIpEwhpFIbAn//95eeCiBrlsKlWZJ2qZpnZ6eqYR+Y8YzJyt522d2aBP9pN7yigiPbrDjvTJQXMX+jBpSbeCPD0+K99X5ziH7K2m/EUCZNFqXB6M11EGJIvH+TtAB6P7w1GgAe8RNQqI7PoLOwLCOmGq4UMi4gHhg8N03lTcPK197AWYN9M3B+4qtz4b71MRktyyG0DU3tEI9jf91Wi7HWBr9LXnBwi6NPYOqtKbJht1AUYZulSi21lBUYVbPJ5g1Q1Yw7EQRQbjbsAY0lwgM4j7jFYMUxERceDcB3CBpYiIbCvCvhqikuem1J3fB+CX8jEGGF/JuGhjWns27rlqnLE0zMVnLG/jAeo7ovbvl4BYieGakYXhIjNflSIhsGv2gbC+7kPDdZ9v9bqhvOtmHygsa321rNdWyxKx9oUpXpTvq0thim9Wm+2qn7arOiQgQ/eYVsb+4Qz7jNZgutx43mY57fXr8OfxDQB9Um8d4L2kAAAAAElFTkSuQmCC","openhand.png":"data:image/png;base64,AAACAAEAICACAAgACAAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8="},Fh={nw:["x1","y1"],n:["y1"],ne:["x2","y1"],e:["x2"],se:["x2","y2"],s:["y2"],sw:["x1","y2"],w:["x1"]};function Zh(t,e){var n=e.drag&&!e.drag.links,r=e.linkStyle&&("horizontal"===e.linkStyle.path||"vertical"===e.linkStyle.path);return!(!t||!n&&!r||"link"!==t.type)}function Nh(t,e,n,r,i,o){if(0!==i)return null;var a=t.controller,s=t.overlays,u="node"===(null==n?void 0:n.type)&&n,l="link"===(null==n?void 0:n.type)&&n,c=a.options(),f=c.handMode;return o&&f?null===e||n?"map":s.chooseDefaultDragger(e):n&&"resize"===r.type?"resize":l&&!Zh(l,c)?l.id1===l.id2?null:"link":f&&(null===e||l)?"pan":u?"node":null===e||l?"marquee":s.chooseDefaultDragger(e)}function Vh(t,e){var n=e.controller,r=n.stopDrag,i=n.setPointerMoved;t.down||r(!1),i(t)}function Gh(t,e){var n=e.controller,r=n.options,i=n.getActiveDragger,o=n.updateCursor,a=n.deferHover,s=e.model.getByID,u=e.overlays,l=e.events,c=i();if(c&&"node"===c.type&&c.getDragIds&&t.lastDownId&&c.getDragIds().indexOf(Pt(t.lastDownId))>-1){var f=ar(ar({},t),{id:t.lastDownId});l.fire("pointer-move",rp(f,e))}else{var d=rp(t,e);l.fire("pointer-move",d);var h=d.id,p=null;if(h){var v=s(h);if(v){var g=Zh(v,r());p="node"!==v.type&&g?g?"pointer":p:function(t,e){return function(t){return t.subId&&"resize"===t.type?t.subId:null}(e)||(t?'url("'+jh["openhand.png"]+'"), pointer':"auto")}(d.id,d.subItem)}else p=u.getCursor(h)}c||(o(p),a(d))}}function Yh(t,e){var n=t.id,r=t.button,i=t.isPrimary,o=t.x,a=t.y,s=e.events,u=e.legacyEvents,l=e.model,c=e.overlays,f=e.controller,d=f.getActiveDragger,h=f.getFakeDragger,p=f.setFakeDragger,v=f.stopDrag;if(!d()||!t.dragging.started){var g=rp(t,e);s.fire("click",g),!g.defaultPrevented&&i&&((!g.id||!l.getByID(g.id))&&g.id||function(t,e,n){var r=e.selection,i=n.modifierKeys,o=i.consistentCtrl,a=i.shift,s=null===t,u=t&&r().has(t);(s&&r().getSelections().length>1||!u||o)&&r().set(t,o,a)}(g.id,l,g),n&&0===r&&c.doclick(n,o,a));var m=h();m&&t.validDownEvent&&!d()&&2!==t.button&&v(!1,m),p(null),"mouse"!==t.pointerType&&u.trigger("click",g.id,t.x,t.y,t.button,g.subItem.subId||null)}}function Wh(t,e){var n,r=e.controller,i=r.getActiveDragger,o=r.combo,a=r.zoomIn,s=e.model,u=e.events,l=e.legacyEvents;if(!i()||!t.dragging.started){var c=t.x,f=t.y,d=t.button,h=rp(t,e),p=h.id,v=h.subItem,g=0===d,m=g&&l.trigger("dblclick",p,c,f,null!==(n=v.subId)&&void 0!==n?n:null);u.fire("double-click",h),!h.defaultPrevented&&!m&&g&&(null===p?a(!0):s.getByID(p)&&o.internalUse.dblclick(p))}}function Uh(t,e,n){var r=e.x,i=e.y;if(!e.dragging.started)return{dx:0,dy:0};var o=t?t.viewToWorldX(r):r,a=t?t.viewToWorldY(i):i;return{dx:o-n.x,dy:a-n.y}}function Xh(t,e,n){var r=t.getByID(e);r&&(r._disableHitTesting=n,t.setDirty(e))}function Hh(t){return Array.isArray(t)?jt(t):gt(t)&&Array.isArray(t.add)?jt(t.add):{}}function Kh(t,e,n){var r=e.id,i=e.dragging,o=i.startX,a=i.startY,s=t.model,u=t.legacyEvents,l=t.events,c=t.getView,f=e,d=r&&s.getByID(r),h=d&&"node"===d.type?d.id:null,p="node",v=!1,g="move",m=!0,y=!1,b=new Set,x=!h||s.selection().has(h),w=u.trigger("dragstart",g,h,o,a,Ot(r));if(w){if(!0===w)return null;var A=Hh(w);Object.keys(A).forEach((function(t){return b.add(t)}))}else n.alsoDrag&&(Array.isArray(n.alsoDrag)?n.alsoDrag.forEach((function(t){return b.add(t)})):b.add(n.alsoDrag));if(b.forEach((function(t){var e;"node"!==(null===(e=s.getByID(t))||void 0===e?void 0:e.type)&&b.delete(t)})),n.dragCombos&&(x||h)){var _=x?s.selection().getSelections():[h];(function(t,e){var n=t.topParentId,r=t.getByID,i=[];return e.forEach((function(t){var e=r(t);"node"===(null==e?void 0:e.type)&&e.parentId&&i.push(n(e.parentId))})),i})(s,_).forEach((function(t){b.add(t)}))}if(x&&s.selection().forEach((function(t){var e=s.getByID(t);"node"===(null==e?void 0:e.type)&&b.add(t)})),h){var k=d;y=k&&!(!k.w||!k.h)}if(h)if(y){var C=b;(b=new Set).add(h),C.forEach((function(t){return b.add(t)}))}else b.add(h);var E=[],M=[];b.forEach((function(t){var e=s.getAncestryIds(t,!0);(e=e.slice(0,e.length-1)).some((function(t){return b.has(t)}))||E.push(t),M.push(t)}));var S=new Map,I=[];E.forEach((function(t){s.findAllComboChildren(I,t)})),E.forEach((function(t){var e=s.getByID(t);S.set(e,{x:e.x,y:e.y})}));var L=c(),T={x:L.viewToWorldX(e.dragging.startX),y:L.viewToWorldY(e.dragging.startY)};function P(){s.moveAllNodesTo(S,0,0)}var O=!1,R=e.id;function B(t){I.forEach((function(e){Xh(s,e,t)})),E.forEach((function(e){Xh(s,e,t)}))}return M.forEach(s.setDirty),{type:p,rebuild:{positions:!0},scrollable:!0,setLastProps:function(t){f=t},getLastProps:function(){return f},direction:n,getDragIds:function(){return M},getCursor:function(){return"move"},dragMove:function(t){if(!v){O||(B(!0),O=!0,l.privateFire("redraw",{all:!0})),f=t;var e=Uh(c(),t,T);n&&(n.horizontalMovement||(e.dx=0),n.verticalMovement||(e.dy=0)),s.moveAllNodesTo(S,e.dx,e.dy),m&&!y&&h&&s.setDirty(h),s.drawInTransientLayer(E)}},afterDraw:function(e){var n=f.x,r=f.y;m=!1;var i=e(n,r);return f.id=i,R=ap(p,E,f,R,l,u,t)},getLegacyDragStartRequest:function(){if(w&&"object"==typeof w)return w},endDrag:function(t){if(!v){v=!0;var e=f.x,n=f.y,i=f.dragging.started;if(c().cancelScroll(),u.trigger("dragend",g,Pt(r),e,n)||t)P();else if(i){var o=function(t){return t.map((function(t){var e=s.getByID(t);return{id:e.id,x:e.x,y:e.y}}))}(E);P(),u.trigger("prechange","move"),l.fire("prechange",{type:"move"}),s.setProperties(o,!1,{all:!0},!1)}B(!1),b.forEach(s.setDirty),u.trigger("dragcomplete",g,Pt(r),e,n)}}}}function Qh(t,e){var n=t.legacyEvents,r=t.events,i=t.getView,o=t.model,a=t.controller,s=e.dragging,u=s.startX,l=s.startY,c="area",f=a.options(),d=e,h=!1;if(n.trigger("dragstart",c,null,u,l,null))return null;var p=new Set;o.selection().forEach((function(t){p.add(t)}));var v=$e.midgrey,g=$e.blue,m={id:null,type:rn.rect,x1:u,y1:l,x2:u,y2:l,borderColour:v,borderWidth:1,fillColour:g,isFilled:!1,webglBorderColour:Cn(v),webglFillColour:Cn(g)},y={x1:0,y1:0,x2:0,y2:0};function b(t,e){var n=!1;o.selection().forEach((function(r){t.has(r)||e&&p.has(r)||(o.selection().remove(r,!0),n=!0)})),t.forEach((function(t){o.selection().has(t)||(o.selection().add(t,!0),n=!0)})),n&&(r.privateFire("redraw",{all:!0}),r.fire("selection-change"))}function x(t){var e=f.marqueeLinkSelection,n=new Set,r=o.getShownNodes(),i=o.getShownLinks();q(r,(function(t,e){Nn(y,t.x,t.y)&&n.add(e)})),"off"!==e&&q(i,(function(t,i){if("centre"===e)Nn(y,t._x,t._y)&&n.add(i);else if("ends"===e){var o=r[t.id1],a=r[t.id2];Nn(y,o.x,o.y)&&Nn(y,a.x,a.y)&&n.add(i)}})),b(n,t)}return{type:"marquee",rebuild:{drawOnly:!0},scrollable:!0,setLastProps:function(t){d=t},getLastProps:function(){return d},getCursor:function(){return"crosshair"},generate:function(t){var e=t.getLayer(),n=t.getLayerPath();t.setLayerPath(null),t.setLayer(Ni.HANDLES),t.copyPrimitive(m),t.setLayerPath(n),t.setLayer(e)},dragMove:function(t){if(d=t,!h){var e=t.modifierKeys,n=e.consistentCtrl,r=e.shift,o=n||r;!function(t,e,n){m.x1=Math.min(u,e),m.y1=Math.min(l,n),m.x2=Math.max(u,e),m.y2=Math.max(l,n),y.x1=t.viewToWorldX(m.x1),y.y1=t.viewToWorldY(m.y1),y.x2=t.viewToWorldX(m.x2),y.y2=t.viewToWorldY(m.y2)}(i(),t.x,t.y),x(o)}},endDrag:function(t){if(!h){h=!0,i().cancelScroll();var e=d.x,a=d.y;if(n.trigger("dragend",c,null,e,a)||t){var s=o.selection().hasChanged(p);o.selection().clear(!0),p.forEach((function(t){o.selection().add(t,!0)})),s&&r.fire("selection-change")}else n.trigger("selectionchange");n.trigger("dragcomplete",c,null,e,a)}}}}function Jh(t,e,n){var r,i,o=t.events,a=t.legacyEvents,s=t.getView,u=e.dragging,l=u.startX,c=u.startY,f="hand",d=!1,h={horizontalMovement:!0,verticalMovement:!0},p=s(),v=p.offsetX(),g=p.offsetY(),m=0,y=0,b=e,x=p.zoom(),w=a.trigger("dragstart",f,null,l,c,null);if(w){if(!gt(w))return n(),null;var A=w;h.horizontalMovement=null!==(r=A.x)&&void 0!==r?r:h.horizontalMovement,h.verticalMovement=null!==(i=A.y)&&void 0!==i?i:h.verticalMovement}return{type:"pan",rebuild:{drawOnly:!0},direction:h,dragMove:function(t){if(!d){if(e.dragging.started){var n=s();!function(t){var e=t.zoom();e!==x&&(v=t.offsetX(),g=t.offsetY(),l=b.x,c=b.y,x=e)}(n),function(t,e){m=t-l,y=e-c,h&&(h.horizontalMovement||(m=0),h.verticalMovement||(y=0))}(t.x,t.y),n.offsetX(v+m),n.offsetY(g+y),o.fire("view-change"),a.trigger("viewchange")}b=t}},setLastProps:function(t){b=t},getLastProps:function(){return b},getCursor:function(){return"move"},endDrag:function(t){if(!d){d=!0;var e=b.x,n=b.y,r=b.dragging.started;a.trigger("dragend",f,null,e,n)||t?Math.abs(m)+Math.abs(y)>0&&function(t,e,n){t.offsetX(v+0),t.offsetY(g+0),o.fire("view-change"),a.trigger("viewchange")}(s()):r||a.trigger("selectionchange"),a.trigger("dragcomplete",f,null,e,n)}}}}function qh(t,e){var n,r,i,o,a,s=e.events,u=e.model,l=e.overlays,c=e.controller,f=e.legacyEvents,d=t.id,h=t.button,p=Pt(d);if(!(p&&u.isTransferring(p)||t.pointers.length>1)){var v,g=c.getFakeDragger(),m={dragCombos:!0,alsoDrag:[],horizontalMovement:!0,verticalMovement:!0};if("create-link"!==(null===(n=c.getActiveDragger())||void 0===n?void 0:n.type)){var y=rp(t,e,{dragIds:null,setDragOptions:function(t){var e=ar({},t);"marquee"!==e.type&&"node"!==e.type&&"pan"!==e.type||(v=e.type),m=Ct(e,m)},type:null});y.type=Nh(e,d,u.getByID(p),y.subItem,h,c.inMapMode()),f.suppress(!0);var b=u.createDragger(e,c.getCanvasContext(),d,t,y.subItem,m,c.inMapMode());if(y.dragIds=(null==b?void 0:b.getDragIds)?sr(b.getDragIds()):[],f.suppress(!1),s.fire("drag-start",y),"create-link"!==(null===(r=c.getActiveDragger())||void 0===r?void 0:r.type)){var x=y.x,w=y.y,A=y.defaultPrevented,_=null;if(f.suppress(!0),v)_=function(t,e,n,r){var i=null,o=n.model;return"node"===e.type?i=Kh(n,r,e):"marquee"===t?i=Qh(n,r):"pan"===t&&(i=Jh(n,r,o.selection().clear)),i}(v,m,e,t);else if(!A&&g){var k=g.getLegacyDragStartRequest&&g.getLegacyDragStartRequest();k&&(m={alsoDrag:Object.keys(Hh(k)),dragCombos:null===(i=k.combos)||void 0===i||i,horizontalMovement:null===(o=k.x)||void 0===o||o,verticalMovement:null===(a=k.y)||void 0===a||a}),_=u.createDragger(e,c.getCanvasContext(),d,t,y.subItem,m,c.inMapMode())}d&&!_&&(_=l.createDragger(d,t)),_||(_=function(t,e){var n=t;return{type:null,rebuild:{drawOnly:!0},direction:{horizontalMovement:!0,verticalMovement:!0},dragMove:function(t){n=t},getCursor:function(){return"pointer"},setLastProps:function(t){n=t},getLastProps:function(){return n},endDrag:function(){e.getView().cancelScroll()},getDragIds:function(){return[]},scrollable:!1}}(t,e)),c.setActiveDragger(_),c.updateCursor(_.getCursor(x,w)),f.suppress(!1),op(t,e)}else op(t,e)}}}function $h(t,e){var n=e.controller,r=n.stopDrag,i=(0,n.getActiveDragger)();i&&i.setLastProps(t),r(!1)}function tp(t,e){var n=e.events,r=e.getView,i=e.controller,o=e.legacyEvents,a=t.x,s=t.y,u=t.deltaY,l=t.isNormalised,c=function(t){var e=t.x,n=t.y,r=t.deltaX,i=t.deltaY,o=t.deltaMode,a=t.modifierKeys,s=!1;return{deltaX:r,deltaY:i,x:e,y:n,deltaMode:o,modifierKeys:a,get defaultPrevented(){return s},preventDefault:function(){s=!0}}}(t),f=o.trigger("mousewheel",-u,a,s);if(n.fire("wheel",c),c.defaultPrevented||f)i.isMapMode()&&t.wheelEvent.stopImmediatePropagation();else if(!i.isMapMode()){if(t.wheelEvent.preventDefault(),Math.abs(u)){var d=r().wheelToPosition(-u,a,s,l);l&&i.pushAnimation(d)}i.render({drawOnly:!0})}}function ep(t,e){var n=e.events,r=e.controller,i=e.model,o=e.legacyEvents,a=t.keyCode,s=t.modifierKeys,u=ip(t);n.fire("key-down",u);var l=o.trigger("keydown",u.keyCode,s.ctrl,s.shift);if(u.defaultPrevented||l)t.keyboardEvent.preventDefault();else if(65===a&&s.consistentCtrl)i.selectAll(),r.render();else if(27!==a){if(i.hasSelection()){var c=0,f=0;switch(a){case 37:c=-20;break;case 38:f=-20;break;case 39:c=20;break;case 40:f=20}if(0!==c||0!==f)return o.trigger("prechange","move"),n.fire("prechange",{type:"move"}),i.moveSelection(c,f),void r.render();if(46===a){if(!o.trigger("delete")){o.trigger("prechange","delete"),n.fire("prechange",{type:"delete"});var d=i.selectionPlusDummyNodes();r.removeItem(d)}return void r.render()}113===a&&o.trigger("edit",i.doSelection())}}else r.stopDrag(!0)}function np(t,e){var n=e.events,r=ip(t);n.fire("key-up",r)}function rp(t,e,n){void 0===n&&(n={});var r=t.id,i=t.button,o=t.pointerType,a=t.modifierKeys,s=t.pointerId,u=t.x,l=t.y,c=!1,f=e.model,d=Pt(r),h=Ot(r),p={};if(f){var v=d&&f.getByID(d);!v&&r||v&&h&&(p=Rh(v,h)||{})}return ar({id:d,subItem:p,button:i,pointerType:o,pointerId:s,x:u,y:l,modifierKeys:a,get defaultPrevented(){return c},preventDefault:function(){c=!0}},n)}function ip(t){var e=t.keyCode,n=t.modifierKeys,r=!1;return{keyCode:e,modifierKeys:n,get defaultPrevented(){return r},preventDefault:function(){r=!0}}}function op(t,e){var n=e.events,r=e.controller,i=r.getActiveDragger();if(i&&t.isPrimary){var o=t.x,a=t.y,s=i.getDragIds?i.getDragIds():[],u=function(u){var l,c=r.getActiveDragger();if(c){c.dragMove(u),t.id=null!==(l=t.lastDownId)&&void 0!==l?l:null;var f=rp(t,e,{dragIds:sr(s),type:i.type});n.fire("drag-move",f),r.updateCursor(c.getCursor(o,a))}};(function(t,e,n,r){var i=n.controller,o=n.getView,a=i.options();if(e.scrollable&&function(t){var e=t.drag&&!t.drag.panAtBoundary,n=!t.dragPan;return!(e||n)}(a)){var s=o().maybeScroll(t,e,r);if(s)return i.pushAnimation(s),!0}return!1})(t,i,e,u)||u(t)}}var ap=function(t,e,n,r,i,o,a){var s=n.id,u=n.x,l=n.y,c=Pt(s);if(e[0]===c)return r;if(c!==r){var f=rp(n,a,{dragIds:sr(e),type:t}),d=f.subItem;o.trigger("dragover",c,u,l,d.subId||null),i.fire("drag-over",f)}return c};function sp(t,e,n,r){var i=t.model,o=t.events,a=t.legacyEvents,s=t.controller,u=t.getView,l=i.getByID,c=i.moveNode,f=i.moveAllNodesTo,d=i.removeItem,h=n.dragging,p=h.startX,v=h.startY,g=n,m=!1,y=!1;if(a.trigger("dragstart","dummy",r,p,v,null))return null;var b,x=e.id2,w={x:u().viewToWorldX(p),y:u().viewToWorldY(v)},A=new Map,_=l(x),k=_.x,C=_.y;function E(){c(x,k,C)}A.set(_,{x:_.x,y:_.y});var M=[r];return{type:"create-link",rebuild:{all:!0},scrollable:!0,getDragIds:function(){return M},getCursor:function(){return"move"},dragMove:function(t){if(!m){y||(Xh(i,x,!0),Xh(i,e.id,!0),o.privateFire("redraw",{all:!0}),y=!0);var n=Uh(u(),t,w);g=t,f(A,n.dx,n.dy)}},afterDraw:function(e){var n=e(g.x,g.y);return g.id=n,b=ap("create-link",M,g,b,o,a,t),n},getLastProps:function(){return g},setLastProps:function(t){g=t},endDrag:function(t){if(!m){m=!0;var n=g.x,r=g.y,i=Pt(g.id);u().cancelScroll();var c=a.trigger("dragend","dummy",i,n,r)||t;if(E(),a.trigger("prechange","move"),!c&&l(i)&&i!==e.id1){o.fire("prechange",{type:"move"});var f=et(e);f.id2=i,delete f.off,delete f._du,delete f._disableHitTesting,d([x,e.id]),s.merge([f])}else i=null;a.trigger("dragcomplete","dummy",i,n,r)}}}}function up(t,e,n,r){var i=t.legacyEvents,o=n.dragging,a=o.startX,s=o.startY,u=!1,l="hand",c=Pt(e),f=n;return i.trigger("dragstart",l,c,a,s,Ot(e)),{type:"map",rebuild:void 0,direction:{},dragMove:function(t){f=t},getCursor:function(){return"move"},setLastProps:function(t){f=t},getLastProps:function(){return f},endDrag:function(){if(!u){u=!0;var t=f.x,e=f.y;i.trigger("dragend",l,c,t,e),i.trigger("dragcomplete",l,c,t,e)}}}}function lp(t,e,n,r,i,o){var a=t.legacyEvents,s=t.events,u=t.model,l=t.getView,c=i.dragging,f=c.startX,d=c.startY,h=!1,p=i;if(a.trigger("dragstart","offset",o,f,d,Ot(o)))return null;var v={},g={},m={};function y(t){var e=u.getByID(t);e&&"link"===e.type&&(v[t]=e.off||0,g[t]=e.off||0,m[t]=!0)}u.selection().has(r.id)?u.selection().forEach(y):y(r.id);var b=Object.keys(g);function x(t,n,i,o){var a=n===r,s=a?t.viewToWorldX(i):i,u=a?t.viewToWorldY(o):o,l=e(1,n),c=e(2,n),f=function(t,e,n,r,i,o){return((n-t)*(e-o)-(t-i)*(r-e))/Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}(l.x,l.y,c.x,c.y,s,u);m[n.id]&&Math.abs(f-v[n.id])>8&&(m[n.id]=!1),m[n.id]||(Math.abs(a?f:f+v[n.id])<12&&(f=a?0:-v[n.id]),g[n.id]=a?f:f+v[n.id])}return{type:"link",rebuild:{all:!0},scrollable:!0,setLastProps:function(t){p=t},getLastProps:function(){return p},getDragIds:function(){return b},getCursor:function(){return"move"},dragMove:function(t){if(!h){p=t;var n=t.x,i=t.y,o=l(),a=o.viewToWorldX(n)-o.viewToWorldX(f),s=o.viewToWorldY(i)-o.viewToWorldY(d);q(g,(function(t,l){var c=u.getByID(l);if(c)if(c===r)x(o,c,n,i);else{var f=e(1,c),d=e(2,c),h=(f.x+d.x)/2,p=(f.y+d.y)/2;x(o,c,h+a,p+s)}u.setLinkOffset(l,g[l])}))}},endDrag:function(t){if(!h){var e=p.x,n=p.y;h=!0,l().cancelScroll();var r=a.trigger("dragend","offset",o,e,n)||t;if(u.getByID(o))if(r)q(g,(function(t,e){u.setLinkOffset(e,v[e])}));else if(p.dragging.started){var i=[];q(v,(function(t,e){var n=u.getByID(e);i.push({id:e,off:n.off}),u.setLinkOffset(e,t)})),a.trigger("prechange","offset"),s.fire("prechange",{type:"offset"}),i.forEach((function(t){var e=t.id,n=t.off;u.setLinkOffset(e,n)}))}a.trigger("dragcomplete","offset",o,e,n)}}}}var cp={w:!0,x:!0,y:!0,bw:!0,b1:!0,b2:!0},fp={b1:!0,b2:!0,bw:!0,e:!0,fs:!0,h:!0,off:!0,w:!0,x:!0,y:!0},dp={bs:!0,ff:!0,id1:!0,id2:!0,id:!0,ls:!0,sh:!0,t:!0,u:!0},hp={b:!0,c2:!0,c:!0,fbc:!0,fc:!0},pp={p:!0};function vp(t,e,n,r,i){var o,a,s,u=!1,l=new Set,c=new Set,f=new Set,d=new Set,h={},p={},v=[];function g(){return{allDirty:!1,allLinksMoved:!1,allLinksDirty:!1,anyLinkDirty:!1,dirty:new Map}}var m,y=g(),b=1,x=null,w=Ah(t,e,n);function A(t){var e=y.dirty;e.delete(t),e.set(t,2),p[t]&&(y.anyLinkDirty=!0)}function _(){S(),o=null,s=null}var k,C=va({numbers:fp,numOrString:pp,negatives:{x:!0,y:!0,off:!0,lat:!0,lng:!0},strings:dp,stringValues:{ls:{solid:!0,dashed:!0,dotted:!0},bs:{solid:!0,dashed:!0}},colours:hp,booleans:{hi:!0,bg:!0,ci:!0,du:!0,fb:!0,a1:!0,a2:!0,re:!0,tc:!0,a:!0},reserved:{gh:!0},mapPos:{pos:!0},halos:["ha0","ha1","ha2","ha3","ha4","ha5","ha6","ha7","ha8","ha9"]},A,_,(function(t){var r=!1;q(p,(function(e){var n=D(e,t);r=r||n})),q(h,(function(e){var n=D(e,t);r=r||n})),r&&(n.trigger("selectionchange"),e.fire("selection-change"))}));function E(){return x||(u?x={betweenness:function(){},clearCache:function(){},closeness:function(){},clusters:function(){return[[]]},components:function(){return[{nodes:[]}]},connections:function(){return[[]]},degrees:function(){return{}},distances:function(){return{}},eigenCentrality:function(){return{}},findAdjacency:function(){},internalMarkLinks:function(){},kCores:function(){return{}},neighbours:function(){return{nodes:[]}},pageRank:function(){return{}},privateGetLinkIdsBetween:function(){return[]},privateNeighbourLinks:function(){return[]},privateSetProperties:function(){},shortestPaths:function(){return{onePath:[],one:[],items:[],distance:0}}}:(x=Cf(e,n)).privateSetProperties(h,p)),x}function M(t,e){var n=1===t?e.id1:e.id2,r=l.has(e.id)?W(n):h[n];return{x:r.x,y:r.y}}function S(){y.allDirty=!0,e.privateFire("redraw",{all:!0})}function I(t,e){A(e)}function L(t,e){void 0===e&&(e=!1);var n=y.dirty,r=n.get(t);(!r||e&&1===r)&&(e&&n.delete(t),n.set(t,1))}function T(t,e,n){O(t,(function(t){t.x+=e,t.y+=n,L(t.id)}))}function P(t,e,n){var r=h[t];if(r){var i=e-r.x,o=n-r.y;r._combo?O([t],(function(t){t.x+=i,t.y+=o,L(t.id)})):(r.x+=i,r.y+=o,L(r.id))}}function O(t,e){for(var n={},r=t.slice(0);r.length>0;){var i=r.shift(),o=h[i];if(o&&!n[i]&&(n[i]=!0,e(o),o._combo))for(var a=o._combo.nodeIds,s=0,u=a.length;s<u;s++)n[a[s]]||r.push(a[s])}}function R(){v=null}function B(t){Object.keys(t).forEach((function(e){v.push(t[e])}))}function z(){return v||(v=[],B(p),B(h)),v}function D(t,e){return!!t[e]&&ct(t.id,!0)}function j(t){return t&&!!t.parentId}function F(t,e,n){for(var r="x"===e||"y"===e?L:A,i=0;i<t.length;i++){var o=t[i],a=h[o],s=p[o];a?(a[e]=n,r(o)):s&&(s[e]=n,A(o))}}function Z(t,e){return!!t[e]}function N(t,e,n){var r,i=_t(t);if(F(i,e,!1),C.ensureConsistency(e,h,p),n){var o={},a={};for(r=0;r<i.length;r++)o[i[r]]=!0;q(p,(function(t){if(Z(t,e)&&!Z(h[t.id1],e)&&!Z(h[t.id2],e)&&(o[t.id1]||o[t.id2])){t[e]=!1;var n=t.parentId;n&&p[n]&&(a[n]=!0)}})),C.applyPropertyRuleToComboLinks(a,e,p)}}function V(t,e){F(_t(t),e,!0),C.ensureConsistency(e,h,p)}function G(){var t=[];return z().forEach((function(e){e._combo||t.push(et(e,"d"))})),t}function Y(t,e,n,r,i){var o,a,s,u,l,c=!1,f=function(){a=Pt(t[o].id),u=[],a&&(e?(l=new RegExp(a,"im"),q(h,(function(t,e){l.test(e)&&u.push(t)})),q(p,(function(t,e){l.test(e)&&u.push(t)}))):(h[a]&&u.push(h[a]),p[a]&&u.push(p[a])));var f=et(t[o]),d=function(){var t=!0,e=u[s],o=f;if(!r&&"node"===e.type&&(void 0!==o.x||void 0!==o.y)){var a=void 0===o.x?e.x:o.x,l=void 0===o.y?e.y:o.y;P(e.id,a,l)}q(f,(function(r,o){if("id"!==o&&"type"!==o)switch(t&&"x"!==o&&"y"!==o&&(t=!1),o){case"id1":case"id2":if(r!==e[o])throw Error("You cannot change the ends of an existing link");break;case"parentId":case"hi":if("parentId"===o&&i&&r!=e[o])throw Error("You cannot manually change the parentId of an item");n.all=!0,c=!0,e[o]=r;break;case"oc":var a=e;a.oc&&(n.all=!0,a.oc=Gt(a.oc,f.oc));break;default:da[o]&&(e._noHalos=!1),cp[o]?n.positions=!0:n.all=!0,e[o]=r}})),t?L(e.id):A(e.id)};for(s=0;s<u.length;s++)d()};for(o=0;o<t.length;o++)f();c&&(C.ensureHiddenItemConsistency(h,p),it())}function W(t){var e=h[t]||p[t];if(e&&!e.hi){if("link"===e.type&&Rt(t)&&J(t))return e;var n=H(t);n.push(e);var r=null;return n.every((function(n){return null!==n&&(n.hi?(r=null,!1):n.id===t?(r=e,!1):!!n._combo&&(r=n,n._combo.open))})),r}return null}function U(t){return et(K(t),"d")}function X(t,e){var n=t,r=[],i=0;do{e&&1===i&&n.indexOf("_combolink")>-1||r.unshift(n);var o=K(n);n=o&&o.parentId,i++}while(n);return r}function H(t){var e=X(t,!1);return e.pop(),function(t){for(var e=_t(t),n=[],r=0;r<e.length;r++){var i=K(e[r]);i=i||null,n.push(i)}return n}(e)}function K(t){var e=Pt(t);return h[e]||p[e]||null}function Q(t,e){return!K(t).parentId||H(t).every((function(t){return t._combo.open&&(!e||!t.hi)}))}function J(t){var e=p[t];if(e&&!e.hi){if(e.parentId){if($(e.parentId)){var n=W(e.id1);if(e.id1===e.id2&&n)return!0;var r=W(e.id2);return!(!n||!r||n.id===r.id)}return!1}return!0}return!1}function $(t){return!K(t).parentId||H(t).every((function(t){return!t.hi}))}function tt(){var t=new Set;nt(h,t),nt(p,t),i.forEach((function(e){e.isAsset||t.has(e.src)||i.delete(e.src)}))}function nt(t,e){q(t,(function(t){rt(t,e),function(t,e){t.forEach((function(t){t&&"string"!=typeof t&&t.g&&t.g.forEach((function(t){rt(t,e)}))}))}([t,t.t1,t.t2],e),t.bu&&rt(t.bu.g,e)}))}function rt(t,e){if(t){var n=t.u;n&&(e.add(n),i.has(n)||i.get(n))}}function it(){x&&x.clearCache()}function ot(){o||(function(){o={},a=0;for(var t=Object.keys(h),e=0,n=t.length;e<n;e++){var r=t[e],i=h[r];!i.hi&&Q(r,!0)&&(o[r]=i,a++)}}(),function(){s={};for(var t=Object.keys(p),e=0,n=t.length;e<n;e++){var r=t[e],i=p[r],o=!i.hi;o&&(o=Rt(r)?J(r):Q(r,!0))&&(s[r]=i)}}())}function at(){if(!y.allDirty){var t=y.dirty.size;t>100?t>=a?(y.allLinksMoved=!y.anyLinkDirty,y.allLinksDirty=y.anyLinkDirty):null!==s&&q(s,(function(t,e){y.dirty.has(e)||(y.dirty.has(t.id1)||y.dirty.has(t.id2)||t.parentId&&function(t){var e=U(t);if(e&&"link"===e.type)return y.dirty.has(e.id1)||y.dirty.has(e.id2)}(t.parentId))&&y.dirty.set(e,1)})):(E().internalMarkLinks(y.dirty),l.forEach((function(t){var e=U(t).parentId;!y.dirty.has(t)&&e&&y.dirty.has(e)&&y.dirty.set(t,1)})))}}function st(e){var n=t.privateGetItem(e);n&&(n._combo||n.parentId)&&t.privateSetAllItemsInComboDirty([t.privateGetTopItemId(n.id)])}function ut(t,n,r){var i=Pt(t),o=!t&&0===f.size,a=1===f.size&&f.has(t);if(!o){if(!n&&!r){if(a)return;ht(!!i)}f.has(i)?n&&ct(i):lt(i),e.privateFire("redraw",{all:!0})}}function lt(t,r){void 0===r&&(r=!1);var i=Pt(t);i&&!f.has(i)&&function(t){return mt(t)&&!function(t,e){var n=!1;return h[t]&&(n=Z(h[t],"gh")),p[t]&&(n=Z(p[t],"gh")),n}(t)}(i)&&(st(i),f.add(i),A(i),r||(n.trigger("selectionchange"),e.fire("selection-change")))}function ct(t,r){var i=Pt(t);return!!f.delete(i)&&(st(i),A(i),r||(n.trigger("selectionchange"),e.fire("selection-change")),!0)}function ft(t){return!!f.size&&f.has(t)}function ht(t){void 0===t&&(t=!1);var r=f.size;f.forEach((function(t){A(t),st(t)})),f.clear(),t||(n.trigger("selectionchange"),r>0&&e.fire("selection-change"))}function pt(t){q(t,(function(t,e){lt(e,!0)}))}function vt(t){return!!c.size&&c.has(t)}function gt(t){return d.has(t)}function mt(t){return ot(),!(!o[t]&&!s[t])}function yt(){var t=[];return f.forEach((function(e){t.push(e)})),t}function bt(t){if(t){ht(!0);for(var n=0;n<t.length;n++)lt(t[n],!0);e.privateFire("redraw",{all:!0})}return yt()}function xt(t){var r=Cf(e,n);return r.privateSetProperties(h,t),r}function wt(t){var e=Ct(t,{all:!1,self:!0,combos:"all"});return E().connections(e)}function At(t,e){var n=[],r={};if(Dt(t)){var i=xt(t).findAdjacency;n=wt();for(var o=0;o<n.length;o++){var a=p[n[o][0]];i({all:!0,combos:"all"},a.id1,a.id2)&&(r[o]=!0)}}e(n,r)}function kt(t){e.privateFire("redraw",{all:!0}),At(t,Tt),Nt(Bt(t),!1,void 0,!1)}function Mt(t){for(var e={},n=0;n<t.length;n++){var r=t[n],i=p[r];i&&(e[r]=i)}return e}function St(){e.privateFire("redraw",{all:!0}),Tt(wt({self:!1,combos:"toplevel"}))}function It(t,e,n,r,i){var o=r||function(t){return t};function a(t){var e=Et(t.off)?t.off:1e6,n=o(t);return n.id1>n.id2&&(e=u(-e)),e}function s(t,e){return a(p[t])-a(p[e])}function u(t){return 0===t?0:t}q(e||t,(function(e,r){var a=t[+r];if(n||(a=a.filter((function(t){return!p[t].gh}))),a.length>0){a.sort(s);for(var l=o(p[a[0]]),c=l.id1===l.id2,f=a.length,d=c?20:40,h=c?0:-.5*d*(f-1),v=0;v<f;v++){var g=p[a[v]],m=o(g),y=h+v*d;y=m.id1<=m.id2?y:-y,i(g,u(y))}}}))}function Lt(t,e){t.off=e,A(t.id)}function Tt(t,e){It(t,e,!0,null,Lt)}function Ot(t,e){var n={};t.forEach((function(t){(function(t){var e=p[t];return e&&!e._combo})(t)&&(n[t]=!l.has(t))})),l.forEach((function(t){void 0===n[t]&&zt(t)}));var r=[];t.forEach((function(t){if(n[t]){var e=K(t);null!==e&&(l.add(t),r.push(e),A(t))}})),e&&Nt(r,void 0,void 0,!0),_()}function Rt(t){return!!l.size&&l.has(t)}function zt(t){A(t),l.delete(t),ft(t)&&!Q(t,!1)&&ct(t,!0)}function jt(t,e,n){t.forEach((function(t){var r=W(t.id1),i=W(t.id2);if(null!==r&&null!==i&&r!==i){var o=r.id>i.id?r.id+i.id:i.id+r.id;void 0===e[o]&&(e[o]=[]),e[o].push(t.id),n[t.id]={id1:r.id,id2:i.id}}}))}function Nt(t,e,n,r){var i,o=void 0===n?Lt:n,a={},s={};if(jt(Yt.getRevealedLinks().map(K).filter((function(t){return!t.hi})),a,s),t){var u=[],l={};t.forEach((function(t){if("node"===t.type){var e=W(t.id);e&&(l[e.id]=!0)}else u.push(t)}));var c={};jt(u,c,{}),i={};var f=!1;if(Object.keys(a).forEach((function(t,e){(void 0!==c[t]||function(t,e){if(s[t]){var n=void 0,r=s[t],i=X(r.id1,!1);for(n=0;n<i.length;n++)if(e[i[n]])return!0;for(i=X(r.id2,!1),n=0;n<i.length;n++)if(e[i[n]])return!0}return!1}(a[t][0],l))&&(i[e]=!0,f=!0)})),!f)return}if(r){var d=o;o=function(t,e){K(t.id1).parentId!==K(t.id2).parentId&&d(t,e)}}It(Bt(a),i,!!e,(function(t){return void 0!==s[t.id]?s[t.id]:t}),o)}var Yt={addItemsToTransfer:function(t){t.forEach((function(t){c.add(t)}))},allParentsOpen:Q,allParentsVisible:$,animated:function(){return r.animated()},applyRevealedLinkOffsets:Nt,applyUpdatedOffsets:function(t){q(p,(function(e,n){t[n]&&Yt.setLinkOffset(n,t[n].off)}))},applyVertices:function(t){q(h,(function(e,n){t[n]&&P(n,t[n].x,t[n].y)}))},arrange:function(r,i,o,a,s,u,l){var c=qc(h,a,t.privateGetMaxLabelLength(),s);w.arrange(r,e,n,i,o,u,c,l)},bothEndsForeground:function(t){return!(h[t.id1].bg||h[t.id2].bg)},bothEndsShown:function(t){return!t.hi&&!(h[t.id1].hi||h[t.id2].hi)},clearExtraItemsInTransientLayer:function(){d.forEach((function(t){A(t),st(t)})),d.clear()},contains:function(t){return r.contains(t,h).filter((function(t){return!j(h[t])}))},createDragger:function(t,e,n,r,i,o,a){var s=Pt(n),u=K(s),l="node"===(null==u?void 0:u.type)?u:null,c="link"===(null==u?void 0:u.type)?u:null,f=Nh(t,n,u,i,r.button,!!a);if("map"===f)return up(t,n,r);if(l&&"resize"===f)return function(t,e,n){var r,i,o=t.events,a=t.legacyEvents,s=t.getView,u=t.model,l=u.getByID,c=u.setDirty,f=t.controller,d=f.combo,h=f.options,p=n.id,v=n.dragging,g=v.startX,m=v.startY,y=v.started,b=n.modifierKeys,x=h().combos,w=!1,A=n,_=Pt(p),k=l(_),C="circle"===k.sh,E=d.api.isOpen(_),M=null!==(r=E?k.oc.w:k.w)&&void 0!==r?r:0,S=null!==(i=E?k.oc.h:k.h)&&void 0!==i?i:0,I=M/2,L=S/2,T={x:k.x,y:k.y,w:M,h:S,x1:k.x-I,y1:k.y-L,x2:k.x+I,y2:k.y+L,ratioH:k.h/k.w,ratioW:k.w/k.h},P=b.shift,O=b.consistentCtrl||E;if(a.trigger("dragstart","resize",_,g,m,null))return null;var R=function(t){var e=t[0],n="1"===t[1];return{position:T[e+(n?"2":"1")],direction:n?-1:1}},B=function(t,e){var n="x"===t?"w":"h",r="w"===n?"h":"w",i="x"===t?T.ratioH:T.ratioW;E?("circle"===(null==x?void 0:x.shape)&&(k.oc[r]=e),k.oc[n]=e):C?(k[n]=e,k[r]=e):(k[n]=e,P&&(k[r]=e*i))},z=function(t,e,n){var r,i=n[0],o=n[1],a=function(t,e){return O?2*Math.abs(t-e):"1"===o?"x"===i?function(t){var e=t,n=T.x+I;return k.x=(e+n)/2,n-e}(t):function(t){var e=t,n=T.y+L;return k.y=(e+n)/2,n-e}(t):"x"===i?function(t){var e=T.x-I,n=t;return k.x=(e+n)/2,n-e}(t):function(t){var e=T.y-L,n=t;return k.y=(e+n)/2,n-e}(t)};"x"===i?(r=a(t,T.x),B(i,r)):(r=a(e,T.y),B(i,r)),c(_)};return{type:"resize",rebuild:{all:!0},scrollable:!0,setLastProps:function(t){A=t},getLastProps:function(){return A},getCursor:function(){return"move"},dragMove:function(t){var n=t.x,r=t.y,i=t.modifierKeys,o=i.consistentCtrl,a=i.shift;if(y){var u=s(),l=u.viewToWorldX(n),c=u.viewToWorldY(r);if(P=a,O=o||E,e.forEach((function(t){z(l,c,t)})),P&&!O){var f=k.w/2,d=k.h/2;if(2===e.length){var h=R(e[1]),p=h.position,v=h.direction;"x"===e[1][0]?k.x=p+f*v:k.y=p+d*v}var g=R(e[0]),m=g.position,b=g.direction;"x"===e[0][0]?k.x=m+f*b:k.y=m+d*b}E||(k.w=Math.abs(k.w),k.h=Math.abs(k.h))}},endDrag:function(t){var e,n,r,i;if(!w){w=!0,s().cancelScroll(),k=l(_);var u=A.x,f=A.y,h={x:k.x,y:k.y,w:k.w,h:k.h,oc:{w:null!==(n=null===(e=k.oc)||void 0===e?void 0:e.w)&&void 0!==n?n:0,h:null!==(i=null===(r=k.oc)||void 0===r?void 0:r.h)&&void 0!==i?i:0}};E?(k.oc.w=T.w,k.oc.h=T.h):(k.w=T.w,k.h=T.h),k.x=T.x,k.y=T.y,a.trigger("dragend","resize",_,u,f)||t?c(_):(a.trigger("prechange","resize"),y&&(o.fire("prechange",{type:"resize"}),E?(k.oc.w=h.oc.w,k.oc.h=h.oc.h):(k.w=h.w,k.h=h.h),k.x=h.x,k.y=h.y,d.internalUse.afterComboResize(_))),a.trigger("dragcomplete","resize",_,u,f)}}}}(t,function(t){if(t.subId&&"resize"===t.type){var e=t.subId.split("-")[0];return Fh[e]}return[]}(i),r);if(c){if("create-link"===f)return sp(t,c,r,s);if("link"===f)return lp(t,M,0,c,r,s)}return Yt.clearExtraItemsInTransientLayer(),"pan"===f?Jh(t,r,ht):"node"===f?(ot(),Kh(t,r,o)):"marquee"===f?Qh(t,r):null},defaultValueFor:function(t,e){switch(t){case"e":case"w":case"h":return 1;case"fs":return r.fontSize;case"off":case"b1":case"b2":case"x":case"y":return 0;case"bw":return 4;case"donut":var n=Vt({v:[]},C.donutDefaults);return e&&(e.b&&(n.b=_n(e.b,0)),e.c&&Array.isArray(e.c)&&e.c.forEach((function(t,e){n.c[e]=_n(t,0)}))),n;case"ha0":case"ha1":case"ha2":case"ha3":case"ha4":case"ha5":case"ha6":case"ha7":case"ha8":case"ha9":return{c:e&&e.c?_n(e.c,0):"rgba(0, 0, 0, 0)",r:0,w:0};case"fi":return{c:"black",t:""};case"oc":return la;case"c":case"b":return $e.midgrey;case"fc":return $e.black;case"fbc":return $e.textback;default:return}},destroy:function(){u=!0,it(),y.dirty.clear(),x=null,h={},p={},y=g(),w=null},doSelection:bt,drawInTransientLayer:function(t){if(t&&t.length>0){t.forEach((function(t){d.has(t)||A(t)}));var e=Ft(t);d.forEach((function(t){e.has(t)||A(t)})),d=e}},each:function(t,e){t.type.match(/^(node|all)$/)&&q(h,e),t.type.match(/^(link|all)$/)&&q(p,e)},ensureObject:C.ensureObject,ensureTypesInArray:C.ensureTypesInArray,extractStructure:function(t,e,n,i){return w.extractStructure(r,t,h,p,E,e.fixed,n,i,void 0,e.overrides)},firstVisibleItemInAncestry:W,generate:function(t,e,n,i,a){void 0===i&&(i=!1),void 0===a&&(a=!1);var u,c=n.getUnzoom(),d=c!==b;return d&&S(),(y.allDirty||y.allLinksMoved||y.allLinksDirty||y.dirty.size)&&(ot(),at(),function(t){y.allDirty=!1,y.allLinksMoved=!1,y.allLinksDirty=!1,y.anyLinkDirty=!1,y.dirty.clear(),t.forEach(I)}((u=r.generate(o,s,y,t,e,n,ft,l,gt,vt,i,a)).stillDirty),b=c),r.generateHandles(t,e,n,f),r.animated()||u&&u.rebuildAll||d},findAllComboChildren:function t(e,n){var r=h[n]||p[n];r._combo&&("node"===r.type&&r._combo.nodeIds.forEach((function(n){h[n]._combo&&t(e,n),e.push(n)})),r._combo.linkIds.forEach((function(t){e.push(t)})))},getAlwaysRedraw:function(){return r.getAlwaysRedraw()},getAncestryIds:X,getByID:K,getItem:U,getParentItems:H,getRawItems:z,getRevealedLinks:function(){var t=[];return l.forEach((function(e){t.push(e)})),t},getShownNodes:function(){return ot(),o},getShownLinks:function(){return ot(),s},ghost:function(t){V(t,"gh")},graph:E,hasSelection:function(){return 0!==f.size},hidden:function(){return function(t){var e=[];return q(h,(function(t,n){t.hi&&e.push(n)})),q(p,(function(t,n){t.hi&&e.push(n)})),e}()},hide:function(t){V(t,"hi"),it()},isItemShown:mt,isRevealedLink:Rt,isSelected:ft,isTransferring:vt,labelPosition:function(t,e,n){var r=K(t);if(!r||r.hi)return null;var i=r._edit,o=n.getAnchorPosition(t,0);if(!i||i.hib)return null;var a=i.x1+o.x,s=i.y1+o.y,u=i.x2+o.x,l=i.y2+o.y;return{x1:e.x(a),y1:e.y(s),x2:e.x(u),y2:e.y(l),fs:e.worldToViewDistance(i.fs)}},layout:function(e,n,r,i,o,a){var s=qc(h,r,t.privateGetMaxLabelLength(),i);w.layout(e,n,E,s,o,a)},load:function(t){if(t){h={},p={},ht(!0),l.forEach((function(t){A(t),ft(t)&&!Q(t,!1)&&ct(t,!0)})),l.clear(),C.typeCheck(t,p);var e=C.filterNodesAndLinks(t.items,h,p,{selfLinks:m});p=e.links,h=e.nodes,Ot(_t(t.reveal).map((function(t){return""+t})),!1),C.ensureHiddenItemConsistency(h,p),x=null,R(),function(){for(var t=wt(),e={},n=0;n<t.length;n++){var r=!1,i=t[n];if(i.length>1){for(var o=0;o<i.length;o++){var a=p[i[o]];a&&(r=r||Et(a.off))}r||(e[n]=!0)}}Tt(t,e)}(),S()}tt()},makeNodePositionAnimator:function(t,e,n){var r=e,i=[];q(h,(function(e,n){t[n]&&i.push({id:n,from:{x:e.x,y:e.y},to:{x:t[n].x,y:t[n].y}})}));var o=i.length;return vr((function(t){r-=t;for(var a=n(Math.max(0,(e-r)/e)),s=0;s<o;s++){var u=i[s],l=u.from,c=u.to,f=l.x+a*(c.x-l.x),d=l.y+a*(c.y-l.y);P(u.id,f,d)}return r>0}),{positions:!0})},merge:function(t){var e=et(t);C.ensureTypesInArray(e,!1,p);var n={carefulWithXandY:!0,selfLinks:m},r=C.filterNodesAndLinks(e,h,p,n);q(r.nodes,(function(t,e){h[e]=Vt(h[e],t),h[e]._noHalos=!1,A(e)})),q(r.links,(function(t,e){p[e]=Vt(p[e],t),p[e]._noHalos=!1,A(e)})),C.ensureHiddenItemConsistency(h,p),it(),R(),kt(function(t){var e={};return q(t,(function(t,n){var r=p[n];r&&void 0===r.off&&(e[n]=r)})),e}(r.links)),tt()},moveAllNodesBy:T,moveAllNodesTo:function(t,e,n){t.forEach((function(t,r){P(r.id,t.x+e,t.y+n)}))},moveNode:P,moveSelection:function(t,e){var n=[];f.size&&(q(h,(function(t,e){ft(e)&&!j(t)&&n.push(e)})),q(p,(function(t,e){ft(e)&&(h[t.id1].du&&n.push(t.id1),h[t.id2].du&&n.push(t.id2))})));for(var r=0;r<n.length;r++){var i=h[n[r]];P(n[r],i.x+t,i.y+e)}},neighbourLinkIds:function(t){return E().privateNeighbourLinks(t)},privateGetLinksBetween:function(t,e){for(var n=E().privateGetLinkIdsBetween(t,e),r=[],i=n.length,o=0;o<i;o++)r.push(p[n[o]]);return r},privateSelection:function(){return f},removeFromTransientLayer:function(t){t.forEach((function(t){d.delete(t)&&A(t)}))},removeItem:function(t){var e,n=_t(t);if(n.length>0){for(var r={},i={},o=0;o<n.length;o++)e=n[o],p[e]&&(r[e]=p[e]),h[e]&&(i[e]=!0);q(p,(function(t,e){(i[t.id1]||i[t.id2])&&(r[e]=t)})),q(r,(function(t,e){ct(e,!0),zt(e),A(e),delete p[e]})),q(i,(function(t,e){ct(e,!0),A(e),delete h[e]})),it(),R(),kt(r),_()}},removeItemsFromTransfer:function(t){t.forEach((function(t){c.delete(t)}))},resetAllConnectionOffsets:St,resetConnectionOffsets:kt,resurrect:function(t){N(t,"gh",!0)},reveal:Ot,selectAll:function(){var t=f.size;pt(h),pt(p),e.privateFire("redraw",{all:!0}),n.trigger("selectionchange"),t!==f.size&&e.fire("selection-change")},selection:function(){return{add:lt,remove:ct,clear:ht,set:ut,getSelections:yt,forEach:f.forEach.bind(f),has:f.has.bind(f),hasChanged:function(t){return!(0===t.size&&0===f.size||function(t,e){if(t.size!==e.size)return!1;var n=!1;return t.forEach((function(t){n=n||!e.has(t)})),!n}(t,f))}}},selectionPlusDummyNodes:function(){for(var t=bt(),e=0;e<t.length;e++){var n=p[t[e]];n&&(h[n.id1].du&&t.push(n.id1),h[n.id2].du&&t.push(n.id2))}return t},serialize:function(){return{type:"LinkChart",items:G()}},setAllDirty:S,setDirty:A,setItem:function(t){var e=et(t);C.ensureObject(e,!1,p);var n=null;if("node"===e.type&&(n=h),"link"===e.type){if(n=p,!C.hasValidEnds(e,{},h,m))return;(h[e.id1].hi||h[e.id2].hi)&&(e.hi=!0)}if(C.setZeroXY(e),e.id&&null!==n){var r=n[e.id];n[e.id]=e,r&&(r._combo&&(n[e.id]._combo=r._combo),r.parentId&&(n[e.id].parentId=r.parentId),r._offset&&(n[e.id]._offset=r._offset)),e.hi?C.ensureHiddenItemConsistency(h,p):_(),it(),R(),A(e.id)}tt()},setLastHoverId:function(t){k=t},setLinkOffset:function(t,e){var n=p[t];n&&(n.off=e,A(t))},setOptions:function(t,e){m=!!t.selfLinks,r.setOptions(t,e)},setProperties:function(t,e,n,r,i,o){void 0===i&&(i=!1);var a=et(t);o&&o.api.isShown()&&o.internalUse.convertPos(a);var s=_t(a);C.ensureTypesInArray(s,!1,p),Y(s,e,n,r,i),tt()},setSelection:ut,show:function(t,e){N(t,"hi",e),it()},showFullLabelOnHover:function(t){k&&A(k),t?(A(t),r.setSpecialOptions("showFullLabel",t)):r.setSpecialOptions("showFullLabel",null)},showHideBendLinks:function(t){kt(Mt(t))},showHideGetLinksToBend:function(t,e){var n=Mt(t),r=function(t,e){var n;return At(t,(function(t,r){n=function(t,e,n){var r=[];return It(t,e,n,null,(function(t,e){r.push({id:t.id,off:e})})),r}(t,r,e)})),n}(n,e),i=function(t,e){var n=[];return Nt(Bt(t),e,(function(t,e){n.push({id:t.id,off:e})}),!1),n}(n,e);if(i.length>0){var o=Zt(i);r=r.filter((function(t){return void 0===o[t.id]})).concat(i)}for(var a=[],s=0;s<r.length;s++){var u=r[s];p[u.id].off!==u.off&&a.push(u)}return a},createNewLinkEndDragger:function(t,e,n){var r=Pt(e);return sp(t,p[r],n,r)},topParentId:function(t){for(var e=t,n=K(e),r=n&&n.parentId;r;)(e=r)===(r=(n=K(e))?n.parentId:null)&&(r=null);return e},type:function(){return"LinkChart"},unsafeApplyChanges:function(t,e,n){var r,i,o;for(r=0;r<t.length;r++){i=(o=t[r]).id;var a=void 0!==o.x,s=void 0!==o.y;!a&&!s||n?o._combo&&dt(o._combo.comboScale)&&T([i],0,0):P(i,a?o.x:h[i].x,s?o.y:h[i].y),Vt(h[i]||p[i],t[r]),e?A(i):L(i)}},updateLinkStyles:function(t){t.straighten&&St()},validateCombos:function(){var t={};function e(e){var n=e.parentId;if(n){var r=h[n]||p[n];if(!r)throw new Error("The "+e.type+" '"+e.id+"' has parentId = '"+n+"' but the parent item is not present in the model.");if(!r._combo)throw new Error("The "+e.type+" '"+e.id+"' has parentId = '"+n+"' but the parent item has no _combo property.");t[n]=t[n]||{},t[n][e.id]=!0}}function n(e){if(e._combo){var n={};(e._combo.nodeIds||[]).concat(e._combo.linkIds).forEach((function(r){n[r]=!0;var i=h[r]||p[r];if(!i)throw new Error("The combo "+e.type+" '"+e.id+"' has a child item '"+r+"' in its _combo property, but this item is not present in the model.");if(!t[e.id][r])throw new Error("The combo "+e.type+" '"+e.id+"' has a child item '"+r+"' in its _combo property, but this item's parentId property is "+(i.parentId?"set to '"+i.parentId+"'":"undefined."))})),q(t[e.id],(function(t,r){if(!n[r]){var i=h[r]||p[r];throw new Error("The "+i.type+" '"+i.id+"' has parentId set to '"+e.id+"' but is not included in the parent's _combo property.")}}))}}q(h,e),q(p,e),q(h,n),q(p,n)}};return Yt}var gp={backColour:!0,selectionColour:!0,selectionFontColour:!0,controlColour:!0};function mp(t,e,n,r,i,o,a,s,u,l){var c,f,d,h,p,v,g=u,m=null,y=s,b=null,x=!1,w=!1,A={arrows:"normal",backColour:void 0,backgroundAlpha:.2,bands:{bands:[],bottom:!1,top:!0},combos:{shape:"circle"},controlColour:$e.midgrey,controlTheme:"light",defaultStyles:void 0,drag:{links:!1,panAtBoundary:!0},dragPan:!0,fontFamily:"sans-serif",gradient:void 0,handMode:!1,hover:150,iconFontFamily:"sans-serif",imageAlignment:{},labelOffset:0,linkEnds:{spacing:"tight",avoidLabels:!0},_linkSelection:!0,linkStyle:{glyphs:"horizontal",transition:.75,inline:!1,path:"direct"},logo:void 0,marqueeLinkSelection:"centre",maxItemZoom:void 0,minZoom:.05,navigation:{shown:!0,p:"nw",x:0,y:0},overview:{icon:!0,p:"se",shown:!1,size:100},_rendering:{showTextAtlas:!1,showFontIconAtlas:!1,showImageAtlas:!1,canvasSkipItemsOutOfView:!0,disableFloatTexture:!1},selectedLink:void 0,selectedNode:void 0,selectionColour:void 0,selectionFontColour:void 0,selfLinks:!1,_showShadowCanvas:!1,zoom:{adaptiveStyling:!0},truncateLabels:void 0,watermark:{fb:!0},gestures:!0};h=o.resetControlColour(A.controlColour);var _={arrows:!0,backgroundAlpha:!0,combos:!0,fontFamily:!0,iconFontFamily:!0,imageAlignment:!0,labelOffset:!0,linkStyle:!0,linkEnds:!0,maxItemZoom:!0,selectedLink:!0,selectedNode:!0,selectionColour:!0,selectionFontColour:!0,truncateLabels:!0,_rendering:!0},k={backColour:!0,bands:!0,controlColour:!0,controlTheme:!0,navigation:!0,logo:!0,overview:!0,watermark:!0,fontFamily:!0},C=Ui();t.__w=C;var E=1,M=function(){var t,e={},n={};return A.defaultStyles&&(A.defaultStyles.comboLinks&&(e=A.defaultStyles.comboLinks),A.defaultStyles.openCombos&&(n=A.defaultStyles.openCombos),t=A.defaultStyles.comboGlyph),{comboLinks:e,openCombos:n,comboGlyph:t}},S=function(){return A.combos.shape},I=Ch(t,i,e,n,M,y,S),L="Cambridge Intelligence",T=[47,6,-11,-58,-64,-52,-48,-59,-51,21,-22,-66,-66,-48,-58,-67];function P(t){var e;return void 0!==t&&t!==bt&&(bt=t,t&&rt((e=0,vr((function(t){return e+=t,wt=Math.floor(8*(1-e%1200/1200)),bt}))))),bt}function O(t,e,n){void 0===t&&(t=r),void 0===e&&(e=A),void 0===n&&(n=!0);var i=e.watermark,o=e.navigation,a=e.overview,s=e.logo,u=e.bands,l=e.fontFamily,c=e.controlTheme,f=e.backColour;function d(t,e){for(var n="",r=0;r<e.length;r++)n+=String.fromCharCode(t.charCodeAt(r)+e[r]);return n}t.setup(h),i&&t.addTextWatermark(i,l),(null==o?void 0:o.shown)&&t.addNavigation(Gt,g,o,c),a&&t.addOverview(Gt,y,g,U,a,c,f),(null==s?void 0:s.u)&&t.addLogo(s),t.remove(d(L,lt),d(L,ct),d(L,T)),u&&t.addBanding(u,l),n&&Q({drawOnly:!0})}function R(){return null!==i&&i.api.isShown()}function B(t,e){q(e,(function(n,r){var i=t[r];if(gt(i)&&gt(n))B(i,n);else if(function(t){return!(!hp[t]||!F[t])}(r))if(Array.isArray(i))for(var o=Math.max(n.length,i.length),a=0;a<o;a++){var s=n[a],u=i[a];!fn(s)&&s||(e[r][a]=pn(s||u),t[r][a]=pn(u||s))}else fn(n)&&(i=fn(i)?i:n,t[r]=pn(i),e[r]=pn(n))}))}function z(t,e,n){if("number"==typeof t)return t+n*(e-t);if(Array.isArray(t)){var r=void 0,i=e;return Math.abs(t[0]-i[0])>.5?(r=t[0]<i[0]?z(1+t[0],i[0],n):z(t[0],1+i[0],n),r-=Math.floor(r)):r=z(t[0],i[0],n),vn([r,z(t[1],i[1],n),z(t[2],i[2],n),z(t[3],i[3],n)])}return e}function D(t,e,n){var r={};return q(t,(function(i,o){r[o]=o in e?F[o]?z(t[o],e[o],n):e[o]:i})),r}function j(t,e,n){if(!gt(e))return!1;var r=y.getByID(n);return null!==r&&gt(r[t])}var F=jt(fa.concat(["b","b1","b2","bw","c","c2","donut","e","fbc","fc","fi","fs","h","n","oc","off","r","w","x","y","_combo","t1","t2","comboScale","v"])),Z={t1:!0,t2:!0},N={};fa.concat(["fi","oc","_combo","t1","t2"]).forEach((function(t){N[t]=D})),N.donut=function(t,e,n){var r,i,o={};return q(t,(function(a,s){if(s in e)switch(s){case"c":var u=a,l=e.c;o[s]=l.map((function(t,e){return z(u[e],t,n)}));break;case"v":if(o.v=[],t.v){var c=Math.max(t.v.length,e.v.length);for(r=0,i=c;r<i;r++)o.v[r]=z(t.v[r]||0,e.v[r]||0,n)}else for(r=0,i=e.v.length;r<i;r++)o.v[r]=0;break;default:o[s]=z(t[s],e[s],n)}else o[s]=a})),o};var V=cp,G=null,Y=!1;function W(t){G=t,Y=!1,Tt()&&Rt()}var U,X,H=function(t){},K=function(){};function Q(t){e.privateFire("redraw",t||{all:!0})}var $=gr(Q),tt=null,nt=gr(Q),rt=$.push,it=nt.push;function ot(t){return"number"==typeof t&&(E=t,Q()),E}var at,st=mr($,ot),lt=[-35,-15,-8,-27,0,-8,12,1,-69,37,45,-13,-8,16,-11,8,0,8,9,-78],ct=[47,6,-11,-58,-64,-57,-48,-59,-51,19,-16,-66,-66,-48,-58,-67],ft=null,ht=.5;function pt(t){return 1-t}function vt(t){return t}function mt(t,e,n,r){var i=n;return vr((function(o){i-=o;var a=Math.max(0,Math.min(1,(n-i)/n));ht=e(a);var s=i>0;return s||(y.resurrect(t),ht=.5,xt(r)),s}),{all:!0})}var bt=!1,wt=3;function At(t,e){var n,r,o=E,a=A.backColour,s=A.gradient,u="white";e&&(n=g.scale(g.width()),r=g.scale(g.height()),R()&&(o=1,u=i.internalUse.getDefaultBackgroundColour())),a?Hn(t,a,o,n,r,e):s?Kn(t,s.stops,o,n,r,e):Hn(t,u,o,n,r,e),Gt.isMapMode()&&!e&&i.internalUse.setBackgroundColour(a,s)}function kt(t,e,n){C.resetExtras();var i=y.generate(C,f,g,e,!n.all&&!!n.positions);return C.startGeneratingForExtras(),function(t){if(!t&&G&&G.generate){var e=C.getLayerPath();C.setLayerPath(null),C.setLayer(Ni.DRAGGERS),G.generate(C),C.setLayerPath(e)}}(t),r.generate(C,f,g,G,t),function(){if(bt&&g){C.setLayer(Ni.WAIT);var t=g.scale(g.width()/2),e=g.scale(g.height()/2),n=g.scale(30);C.rect(0,0,g.width(),g.height(),void 0,0,"rgba(255, 255, 255, 0.5)",!0,null,-1,void 0);for(var r=0;r<8;r++){var i=r*(Math.PI/4),o=t+n*Math.cos(i),a=e+n*Math.sin(i),s=.2+(r+wt)%8/8*.8;C.circle(o,a,g.scale(10),$e.white,-1,"rgba(145, 146, 149, "+s+")",!0,null,-1,void 0,!1)}}}(),i}function Et(t,e){if(At(f,!1),a){if(a.setAlpha(ht,A.backgroundAlpha),o.hasUpdatedImages()&&(t.all=!0,a.updateTextures(A._rendering.showImageAtlas)),a.build(C,t,A),e&&e.getPixels)return a.getPixels(g,c,A,!!p,C.getAnchorBuffer());a.draw(g,c,A,!!p,C.getAnchorBuffer(),t)}}function Mt(t,e){return b.test(t,e,C)}var St=!1;function Tt(t,e){return void 0!==t&&!!t!==St&&(St=!St,i&&i.internalUse.lock(St),t?(P((e||{}).wait),Rt()):P(!1),Q()),St}var Pt,Ot=null;function Rt(t){var n=null!=G?G:tt;if(n&&!Y){Y=!0;var r=!!t,i=n.getLastProps();if(G){var o=G.getDragIds?G.getDragIds():[],a=rp(i,m,{dragIds:sr(o),type:G.type});r&&a.preventDefault(),e.fire("drag-end",a),r=r||a.defaultPrevented}G=null,n.endDrag(r,!!tt),tt=null,Q(),H("auto"),Q({drawOnly:!0})}}function Bt(t){return function(e,n,r,a,s){if(o.isReady()&&y){var u=r;u=It(u)||0===u.length?void 0:_t(u),R()?i.internalUse.zoom(t,e,n,u,void 0,a):(rt(g[t](y,C,f,e,n,u,a,s)||null),Q())}}}function zt(t,e){var n=Ct(e,{fixed:[],overrides:null==v?void 0:v.vertices});return y.extractStructure(f,n,t,S())}var Ft=!1;function Zt(t){return function(e,n,r){Ft=!1,v=e;var i=function(){v===e&&(v=void 0),xt(t)};ut((function(){w||function(t,e,n,r){if(e&&n){var i=Math.max(0,n.time||700),o="linear"===n.easing?wa:Aa,a=e.extents;y.updateLinkStyles(n),e.updatedEdges&&y.applyUpdatedOffsets(e.updatedEdges);var s=e.extents;if(Array.isArray(n.fit)){var u={};n.fit.forEach((function(t){var n=y.getByID(t);if("node"===(null==n?void 0:n.type)){var i=function(t,e,n){var r=t.id;if(e[r])return e[r];var i=y.firstVisibleItemInAncestry(r),o=e[i.id]?i:y.getByID(y.topParentId(r)),a=(n?n(i.id,!0):null)||{radius:ka,width:54,height:54};return{id:r,x:e[o.id].x+(i.x-o.x),y:e[o.id].y+(i.y-o.y),fixed:!1,labelOffset:Kc(i),lc:0,r:a.radius,w:a.width,h:a.height}}(n,e.vertices,r);i&&(u[i.id]=i)}})),Dt(u)&&(s=Nc(u))}var l=y.makeNodePositionAnimator(e.vertices,i,o),c=g.fitWorldExtents(s,!0,!0,!0,!0,i,t,o);n.animate?(it(l),n.fit?it(c):a&&it(function(t,e){var n=t;return vr((function(t){var r=(n-=t)<0;return r&&xt(e),!r}))}(i,t))):(y.applyVertices(e.vertices),Q(),a&&(n.fit?g.fitWorldExtents(s,!1,!0,!0,!0,0,t):t()))}else t()}(i,e,n,r)}))}}var Nt=window[String.fromCharCode(68,97,116,101)][String.fromCharCode(110,111,119)]()/17510,Gt={afterDraw:function(){o.hasPendingImages()&&Q()},animate:function(t){var n=G,r=$.animate(t,y);n&&n.rebuild&&e.privateFire("redraw",n.rebuild);var i=nt.animate(t);return r||i},animateBackgroundOpacity:st,animateProperties:function(t,r,o,a,s,u){a||(n.trigger("prechange","properties"),e.fire("prechange",{type:"properties"}));var l=et(t);R()&&i.internalUse.convertPos(l);for(var c=[],f=[],d={},h=[],p=!1,v={},g=function(t){var e=l[t],n=null,r=null;q(e,(function(t,i){!F[i]||Z[i]&&!j(i,t,e.id)?"id"!==i&&((n=n||{id:e.id})[i]=t):Lt(t)?(n=n||{id:e.id})[i]=t:(d[i]=!0,(r=r||{id:e.id})[i]=t),V[i]?v.positions=!0:"id"!==i&&(v.all=!0)})),n&&f.push(n),r&&c.push(r)},m=0;m<l.length;m++)g(m);function b(t){q(t,(function(e,n){void 0===e&&(t[n]=y.defaultValueFor(n))}))}function x(t){t.forEach((function(t){var e=y.getByID(t.id);if(e){b(t),E.push(t);var n=w(t,e);C.push(n)}}))}function w(t,e){var n={};return q(t,(function(t,r){"id"!==r&&("oc"===r&&e.oc?n[r]=Vt(et(y.defaultValueFor(r,t)),et(e[r])):n[r]=et(e[r]||y.defaultValueFor(r,t)))})),n}Object.keys(d).forEach((function(t){var e={fn:N[t]||z,prop:t};h.push(e),"x"!==t&&"y"!==t&&(p=!0)}));var A=r.time,_=wa;"cubic"===r.easing&&(_=Aa);var k=A,C=[],E=[];y.setProperties(f,!1,v,!1,!0);var M=vr((function(t,n){n?(y.ensureTypesInArray(c,!0),x(c),function(t,e){for(var n=0;n<e.length;n++)B(t[n],e[n])}(C,E)):k-=t;for(var r=0!==A?_(Math.max(0,Math.min(1,(A-k)/A))):1,i=k>0,a=[],l=0,f=E.length;l<f;l++){var d=E[l],v=C[l],g={id:d.id};n&&(g._noHalos=!1);for(var m=0,b=h.length;m<b;m++){var w=h[m],M=w.prop;void 0!==d[M]&&(g[M]=w.fn(v[M],d[M],r))}a.push(g)}return y.unsafeApplyChanges(a,p,s),u&&e.fire("view-change"),i||xt(o),i}),v);rt(M,r.queue)},appendCombos:function(t){t.combos=Gt.combo.internalUse.serialize(),t.reveal=Gt.combo.api.reveal()},arrange:function(t,e,n,r){if(y){var i=zt(t);y.arrange(t,e,i,f,S(),n,Zt(r))}},arrangeAndLayout:function(t,e,n){Gt.combo.internalUse.arrangeAndLayout(t,e,(function(t){y.updateLinkStyles(e.layout),t&&y.applyUpdatedOffsets(t)}),(function(t){if(e.layout.fit){var n=g.fitWorldExtents(t,e.animate,!0,!0,!0,e.time);rt(n)}}),n)},backgroundOpacity:ot,cancelAnimation:$.cancel,cancelLayoutAnimation:nt.cancel,combo:I,updateCursor:function(t){H&&H(t||"auto")},deferHover:function(t){Ot&&clearTimeout(Ot),Ot=ut(function(t){var r,i=t.x,o=t.y,a=t.id,s=(null===(r=t.subItem)||void 0===r?void 0:r.subId)||null,u=a;return u&&s&&(u+=s),function(){!G&&(null===a||a&&y.getByID(a))&&u!==Pt&&(Pt=u,function(t){A.truncateLabels&&A.truncateLabels.showOnHover&&(y.showFullLabelOnHover(t),Q())}(a),y.setLastHoverId(a),n.trigger("hover",a,i,o,s),e.fire("hover",t))}}(t),A.hover)},destroy:function(){w=!0,Gt.setContainer(null),C.destroy(),o.destroy(),C=null,Ot&&clearTimeout(Ot),f.webgl&&a.destroy()},draw:function(t,e){if(o.isReady()){if(93900171<Nt)return;kt(t,!1,e)&&(e.all=!0),y.getAlwaysRedraw()&&Q({drawOnly:!0}),p&&(Ci(p),Mi(C,p,at,g,A,!1,!1,r.drawOverviewContent,!1,A.backgroundAlpha,ht,!1,o)),f.webgl?Et(e):function(t){Ci(f),At(f,t);var e=!!p||void 0;Mi(C,f,at,g,A,!1,!1,r.drawOverviewContent,t,A.backgroundAlpha,ht,e,o),o.hasUpdatedImages()&&o.imagesUpdated()}(t)}},drawBackground:At,drawoffscreen:function(){b.dirty()},fitToModel:Bt("fitToModel"),fitToSelection:Bt("fitToSelection"),fitExtents:function(t,e,n,r){o.isReady()&&y&&(R()?i.internalUse.zoom("fitToExtents",t,e,[],n,r):(rt(g.fitWorldExtents(n,t,!0,!1,!0,e,r)),Q()))},fitModelHeight:Bt("fitModelHeight"),getActiveDragger:function(){return G},getCanvasContext:function(){return f},getChartCanvas:function(){if(f)return f.webglCanvas?f.webglCanvas:f.canvas},getInternalChartOptions:function(){return A},getMapOverlayElement:function(){return null==p?void 0:p.canvas},getMapApi:function(){return null!=i?i:void 0},getWebGLPixels:function(){if(f.webgl)return Et({all:!0},{getPixels:!0});throw new Error("Not in WebGL mode")},getWidgets:function(){return C},handlePointerMove:function(t){var e;d&&m&&(t&&G&&G.afterDraw&&(e=G.afterDraw(Mt)),void 0===e&&(e=Mt(d.x,d.y)),d.id=e,Gh(d,m),d=null)},hide:function(t,e,n){Q({all:!0}),e.animate?function(t,e,n){var r=e.time;if(0===t.length)xt(n);else{ht=1,y.ghost(t);var i,o=y.showHideGetLinksToBend(t,!1);o.length>0?(r*=2/3,i=function(){Gt.animateProperties(o,{time:r/2,queue:!1,easing:"linear"},n,!0)}):i=n;var a=mt(t,pt,r,(function(){y.hide(t),xt(i)}));rt(a,!0)}}(t,e,n):(y.hide(t),y.showHideBendLinks(t),Q({all:!0}),xt(n))},hittest:Mt,imageGenFn:function(t){return t&&(X=t),X},inMapMode:R,initOverlays:O,itemExtents:function(t){return C.itemExtents(t,f)},isLayingOut:function(){return Ft},isMapMode:function(){return!!p},labelPosition:function(t,e){return y.setDirty(t),kt(!1,!0,{}),y.labelPosition(t,e,C)},layout:function(t,e,n){if(y){Ft=!0;var r=e||{},i=zt(t,r);y.layout(t,i,f,S(),r,Zt(n))}},load:function(t,e){var n=et(t);Gt.combo.internalUse.preLoadUp(n,(function(t){y.load(n),Gt.combo.internalUse.postLoadUp(n,t,(function(){n.viewSettings&&Gt.setViewSettings(n.viewSettings,!1),!i||n.map&&n.map.keepSameMode?xt(e):i.internalUse.loadUp(n.map,e)}))}))},lock:Tt,makeBackgroundCanvas:function(t,e){return ft=U(t,e,!0),at=ft.getContext("2d"),ft},merge:function(r,o){n.trigger("prechange","merge"),e.fire("prechange",{type:"merge"});var a=et(r),s=Gt.combo.internalUse.preMerge(a,o),u=s.itemsToMerge;R()&&(u=i.internalUse.preMerge(u)),y.merge(u),t.privateSetNonImageProperties(s.propertiesToSet)},modelExtents:function(){return y.generate(C,f,g),C.itemExtents(null,f)},options:function(t,e,n){if(void 0===n&&(n=!R()),t){var r=!1,a=!1,s=!1,u=et(t),c=gt;q(u,(function(t,e){var n;if(!yt(A[e],t)){if(gp[e]&&!It(t)&&!fn(t))return;var u=null===(n=A[e])||void 0===n?void 0:n.path;if(A[e]=t,"backgroundAlpha"===e&&(!dt(t)||t<0||t>1)&&(t=.2,A[e]=t),/fontfamily/i.test(e)&&(A[e]=Jn(t)),"logo"===e&&("string"==typeof t&&(A[e]={p:"ne",u:void 0,x:0,y:0},A[e].u=t),t||(A[e]={p:"ne",u:void 0,x:0,y:0})),"navigation"===e&&(t?c(t)?A[e]=Ct(t,{shown:!0,p:"nw",x:0,y:0}):A[e]={shown:!0,p:"nw",x:0,y:0}:(A[e]={shown:!0,p:"nw",x:0,y:0},A[e].shown=!1)),"overview"===e)if(t)if(c(t)){if((p=ar({},t)).backColour=fn(p.backColour)?p.backColour:void 0,p.borderColour=fn(p.borderColour)?p.borderColour:void 0,null!==p.size&&dt(p.size)&&p.size>=0){var d=Math.min(g.width(),g.height())-1;p.size=Math.max(0,Math.min(d,p.size))}else p.size=void 0;A[e]=Ct(p,{icon:!0,p:"se",shown:!1,size:100})}else A[e]={icon:!0,p:"se",shown:!1,size:100};else A[e]={icon:!0,p:"se",shown:!1,size:100},A[e].icon=!1;if("watermark"===e&&c(t)){var p=t;A[e].fc=p.fc&&fn(p.fc)?p.fc:void 0,A[e].fbc=p.fbc&&fn(p.fbc)?p.fbc:void 0}if("bands"===e)if(t)if(gt(t)){if(A[e]=Ct(t,{bands:[],bottom:!1,top:!0}),A[e].bands){A[e].bands=_t(A[e].bands);for(var v=A[e].bands.length,m=0;m<v;m++)A[e].bands[m]=Ct(A[e].bands[m],{fb:!1,fc:"lightgrey",x:0,w:100})}}else A[e]={bands:[],bottom:!1,top:!0};else A[e]={bands:[],bottom:!1,top:!0};if("combos"===e)if(gt(t)){A[e]=Ct(t,{shape:"circle"});var w=A[e].shape;w&&-1!==["circle","rectangle"].indexOf(w)||(A[e].shape="circle")}else A[e]={shape:"circle"};if("truncateLabels"===e&&(t?gt(t)?A[e]=Ct(t,{maxLength:30,showOnHover:!0}):A[e]={maxLength:30,showOnHover:!0}:A[e]=void 0),"selectedNode"!==e&&"selectedLink"!==e||!c(A[e])||y.ensureObject(A[e]),"_showShadowCanvas"===e&&x!==A._showShadowCanvas&&(x=A._showShadowCanvas,b.debugCanvas(x?f:null)),"imageAlignment"===e&&l.updateAlignmentRecords(t),"controlColour"===e&&(h=t?o.resetControlColour(t,"dark"===A.controlTheme):o.resetControlColour(null)),"controlTheme"===e&&("light"!==t&&"dark"!==t&&(A.controlTheme="light"),h=o.resetControlColour(A.controlColour,"dark"===t)),"linkStyle"===e)if(t&&gt(t)){A[e]=Ct(t,{glyphs:"horizontal",transition:.75,inline:!1,path:"direct"});var C=A[e],E=C.transition,M=C.path;(!dt(E)||E<0||E>1)&&(A[e].transition=.75),M&&-1!==["direct","horizontal","vertical"].indexOf(M)||(A[e].path="direct"),A[e].path!==u&&(s=!0)}else A[e]={glyphs:"horizontal",transition:.75,inline:!1,path:"direct"};"defaultStyles"===e&&q(t,(function(t,n){-1!==["openCombos","comboLinks","comboGlyph"].indexOf(n)?"comboGlyph"===n&&null===A[e][n]||(A[e][n]=c(t)?t:void 0,A[e][n]&&y.ensureObject(A[e][n])):A[e][n]=void 0})),"handMode"===e&&R()&&i.internalUse.setHandMode(A.handMode),"drag"===e&&(t?gt(t)&&(A[e]=Ct(t,{links:!1,panAtBoundary:!0})):A[e]={links:!1,panAtBoundary:!0}),"_rendering"===e&&t&&gt(t)&&(A[e]=Ct(t,{showTextAtlas:!1,showFontIconAtlas:!1,showImageAtlas:!1,canvasSkipItemsOutOfView:!0,disableFloatTexture:!1})),_[e]&&(a=!0),k[e]&&(r=!0)}})),y.setOptions(A,n),g.setMaxItemZoom(A.maxItemZoom),g.setMinZoom(A.minZoom),a&&(y.setAllDirty(),Q({all:!0})),r&&O(),s&&y.resetAllConnectionOffsets(),R()&&!Tt()&&i.internalUse.enableDragging(A.handMode),Q({drawOnly:!0}),o.invokeWhenImagesHaveLoaded(e)}return et(A,!0)},pan:function(t,e,n,r){R()?i.internalUse.pan(t,e,n,r):(rt(g.pan(t,e,n,r)),Q({drawOnly:!0}))},panBy:function(t,e,n,r,i){rt(g.panBy(t,e,n,!1,r,i)),Q({drawOnly:!0})},ping:function(t,e,n){function r(t,e,n,r){var i={id:e};i[n]=r,t.push(i)}for(var i=_t(t),o=[],a=[],s=[],u={},l=0;l<i.length;l++){var c=i[l],f=y.firstVisibleItemInAncestry(c);if(f&&!u[f.id]){u[c=f.id]=!0;var d="link"===f.type,h=-1,p=void 0;do{p="_ha"+ ++h}while(h<5&&f[p]);if(h<5){var v=pn(e.c),g=vn([v[0],v[1],v[2],.001]);r(o,c,p,{r:d?void 0:Math.max(28-e.w/2,0),w:0,c:e.c}),r(a,c,p,{r:d?void 0:e.r,w:d?e.lw:e.w,c:g}),r(s,c,p,null)}}}o.length>0?function t(e,n,r,i,o,a){Gt.setProperties(e,!1,!0,{}),Gt.animateProperties(n,{time:i,queue:!1,easing:"linear"},(function(){o>1?t(e,n,r,i,o-1,a):(Gt.setProperties(r,!1,!0,{}),xt(a))}),!0)}(o,a,s,e.time,e.repeat,n):xt(n)},pushAnimation:rt,removeItem:function(t){Gt.combo.internalUse.preDelete(t)},render:Q,resetConnectionOffsets:function(){y&&y.resetAllConnectionOffsets()},setActiveDragger:W,setCanvasContext:function(t){f=t},setContainer:function(t){J(Gt.isMapMode()?i.api.leafletMap().getContainer():f.webglCanvas||f.canvas,t,K)},setCreateCanvasFn:function(t){U=t},setCursorFn:function(t){H=t},setFakeDragger:function(t){tt=t,Y=!1},getFakeDragger:function(){return tt},setItem:function(e){var n=t.privateGetItem(e.id);if(!n||n.type===e.type){var r=Gt.combo.internalUse.preMerge([e]),o=r.itemsToMerge,a=o.shift();a&&R()&&i.internalUse.preSetItem(a),y.merge(o),a&&y.setItem(a),t.privateSetNonImageProperties(r.propertiesToSet)}},setServices:function(r){m=r,f&&f.webgl&&a.shutdownAndReset(),y=m.model,I=Ch(t,i,e,n,M,y,S),y.setOptions(A,!R())},setOverlayContext:function(t){p=t},setOverviewView:function(t){c=t},setPointerMoved:function(t){d=t},setProperties:function(t,r,o,a){o||(n.trigger("prechange","properties"),e.fire("prechange",{type:"properties"})),y.setProperties(t,r,a,!1,!0,i)},setShadowCanvas:function(t){b=Si(t,f,g,a),C.setShadowColourMap(b.getShadowColourMap()),y.setAllDirty()},setStartGameLoopFn:function(t){K=t},setView:function(t){g=t},setViewSettings:function(t,e,n,r){rt(g.fromSettingsDirect(t,e,n,r))},setZoom:function(t,e,n,r){R()?i.internalUse.setZoom(t,e,n,r):(rt(g.setZoom(t,e,n,r)),Q({drawOnly:!0}))},show:function(t,e,n,r){Q({all:!0}),y.show(t,e),n.animate?function(t,e,n){var r=e.time;function i(){var e=mt(t,vt,r,n);rt(e,!0)}if(0===t.length)xt(n);else{ht=0,y.ghost(t);var o=y.showHideGetLinksToBend(t,!0);o.length>0?(r*=2/3,Gt.animateProperties(o,{time:r/2,queue:!1,easing:"linear"},i,!0)):i()}}(t,n,r):(y.showHideBendLinks(t),Q({all:!0}),xt(r))},createNewLinkEndDragger:function(t,e,n){if(y&&m){var r=n.dragging.startX,i=n.dragging.startY;if(W(y.createNewLinkEndDragger(m,t,n,e)),G&&t){var o=G.getCursor(r,i);H(o)}}},stopDrag:Rt,wait:P,watermarkSize:function(){return r.getWatermarkSize(f)},zoomIn:function(t,e,n){R()?i.internalUse.zoom("in",t,e,void 0,void 0,n):(rt(g.zoomIn(t,e,n)),Q({drawOnly:!0}))},zoomOut:function(t,e,n){R()?i.internalUse.zoom("out",t,e,void 0,void 0,n):(rt(g.zoomOut(t,e,n)),Q({drawOnly:!0}))}};return Gt}function yp(t,e,n,r){var i=document.createElement("canvas"),o=i.getContext("2d");i.id="webglDebug"+r+"Canvas"+e,i.width=t,i.height=t;var a=document.getElementById(i.id);return n?a?a.parentNode.replaceChild(i,a):document.getElementsByTagName("body")[0].appendChild(i):a&&document.getElementsByTagName("body")[0].removeChild(a),o}var bp=512,xp=264,wp="Image";function Ap(t){return{alphaChannel:!0,img:t,rebuild:!1,size:0}}function _p(t,e){for(var n=[],r=4,i=4,o=4,a=0,s=t.getMissingImage(),u=function(t){var e=[],n=2;return t.forEach((function(t){if(t.isLoaded){var r=t.width>t.height?"width":"height";if(t.src&&t.src.indexOf(".svg")>-1){var i=0|Math.max(t.width,t.height);if(i){var o=256/i;t.width=Math.round(t.width*o),t.height=Math.round(t.height*o)}else t.width=256,t.height=256}var a=function(t,e){var n=1,r=!1;t>xp&&(e>0?t>bp&&(n=t/bp):n=t/xp,r=!0);return{imageRatio:n,largeImage:r}}(t.height,n);a.largeImage&&n>0&&n--,t.size=t[r]/a.imageRatio,t.imageRatio=a.imageRatio,t.nonSquare=t.width!==t.height&&r,e.push(t)}})),e.sort((function(t,e){return t.size-e.size}))}(t),l=function(t){for(var e=1,n=8,r=8,i=0,o=0,a=t.length;o<a;o++){var s=t[o],u=s.width/s.imageRatio,l=s.height/s.imageRatio;n+u+8>1024&&(n=0,r+=i+8,i=0),r+l>1024&&(e++,r=8),l>i&&(i=l),n+=u+8}return e<4?1024:e<=12?2048:4096}(u),c=1/l,f=yp(l,0,e,wp),d=[],h=0,p=u.length;h<p;h++){var v=u[h];if(v.isMissing)d.push(v);else{var g=v.width/v.imageRatio,m=v.height/v.imageRatio;if(r+g+8>l&&(r=0,i+=a+8,a=0),i+m>l&&(o++,i=8,n.push(Ap(f.canvas)),f=yp(l,o,e,wp)),v.u1=r*c,v.v1=i*c,v.u2=(r+g)*c,v.v2=(i+m)*c,v.isEmoji&&(v.v2=i*c,v.v1=(i+m)*c),v.maxDimension=v.nonSquare,v.textureBank=o,v.colourComponentTexture=-1,v.nonSquare){var y=v.v2-v.v1,b=v.u2-v.u1;if("width"===v.nonSquare){var x=(b-b*(y/b))/2;v.cu1=v.u1+x,v.cv1=v.v1,v.cu2=v.u2-x,v.cv2=v.v2}else{var w=(y-y*(b/y))/2;v.cu1=v.u1,v.cv1=v.v1+w,v.cu2=v.u2,v.cv2=v.v2-w}}else v.cu1=v.u1,v.cv1=v.v1,v.cu2=v.u2,v.cv2=v.v2;f.drawImage(v.hasControlColour?v.co:v.im,r,i,g,m),m>a&&(a=m),r+=g+8}}for(d.forEach((function(t){t.u1=s.u1,t.v1=s.v1,t.u2=s.u2,t.v2=s.v2,t.cu1=s.cu1,t.cv1=s.cv1,t.cu2=s.cu2,t.cv2=s.cv2,t.textureBank=s.textureBank})),n.push(Ap(f.canvas)),o++;o<7;){var A=yp(1,o++,!1,wp);n.push(Ap(A.canvas))}return n}var kp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACwklEQVR4Ae2aA8xkQRCEz7Zt27Zt20ZwZny2bdu2bdu2uVdnb/6ufZqX6eQLd7qmKtvP/nTp0qVLly5d3mvh3dzgI/AIqWmQfnTwRKi9Ffg3MoTBRAB3QHgDtGcJdV+CxEb/C0KAc0QI43zULUhotnfSKHwEOUm9IOC0UG8vCEjpmTgKx0FgQqurUOctSCVQsHQUugh14oGXQo2eTj4rvAQJBBpLhf2PEv8yy0dhtR97lxX2fQ8y8WasHYXqfuh7Wdizj0oXSLdBOC89ewv7nQHBOAP2jcLo//RKDt4KT7G57TPPj8JHkP0fvTYJ+wxX+V7hGAj8S49awvWXQShnBMCPQsdva8OC28K1RZxjnh+FFyAeGC5cN9FNt80HwAfB7296PYuoNgoEZR3mmB8FgtnqP0HiuQci85tSfxRqiPRdNgpL1X+YyvMYxKT0XTIKjXhx9UdhvRveKQQAO8kAurghgE7AQ/IGpFfZfNpvJjw+cBaEUtF8UHDUoNPgVBUD6As8BlJXtfP/B4MDeAaSqGA+NLgIPCZwCAR1egDjBYYYhjnZfCnC0AtiTQEnmo9EPNcbAhoSAVwEIZ0WwAKhicMgyLe169QehYV36xBXeKl/WR8fPCfeLeRygvnY4LHP1/gL77YlrxKD22neP9jAvMY28Kapv23+iQPYB5DNS7/k4DXxajyLHeajgIfEuzz6sxgvHAQBrA5ghnCT10EYP/QNBA4RIbS00nwRYoOVBP0zEPcSD0FkK8wHBxeEm9tA6EwlQp5gun/iC453IBWhE5c4IH4E2cw0nwS8FW5qqA96A4h/wQEQwKwAlhOvs8L5oBcBPCZCaGCG+aLERpoboNuZ0L0BQhhpPhA4QVymBjLooHudCKG7kQG0IjZQxUD9RuQjtKhGiIcHD4Ti+4B/AwMICE4SIYz5b09dunTp0qVL1ydOC8gcEyAGqgAAAABJRU5ErkJggg==";function Cp(t,e,n){var r=function(){var t=0,e=new Map;return{destroy:function(){e.clear()},push:function(n){if(n&&vt(n)){var r={id:t++,fn:n};e.set(r.id,r)}},runAll:function(){if(e.size>0){var t=[];e.forEach((function(e){t.push(e)})),t.forEach((function(t){e.delete(t.id)})),t.forEach((function(t){t.fn()}))}}}}(),i=t||Op,o=i();o.src=kp;var a=Ep("",o);a.isLoaded=!0;var s=new Map,u=new Set,l=!1,c=!1,f=function(){var t,e,n;return{colouriseImage:function(r){var i=document.createElement("canvas");i.width=r.width,i.height=r.height;var o=i.getContext("2d");o.clearRect(0,0,r.width,r.height),o.drawImage(r.im,0,0,r.width,r.height);for(var a=o.getImageData(0,0,r.width,r.height),s=a.data,u=0;u<s.length;u+=4){var l=xn(s[u],s[u+1],s[u+2]);if(Math.abs(l[0]-t[0])<.02){var c=n?t[2]:l[2],f=An(e[0],e[1],c);a.data[u]=f[0],a.data[u+1]=f[1],a.data[u+2]=f[2]}}return o.putImageData(a,0,0),i},setColour:function(r,i){void 0===i&&(i=!1);var o=i?$e.darkmodedefault:$e.ci,a=dn(o);t=xn(a[0],a[1],a[2]),n=i;var s=dn(r||o);return An((e=xn(s[0],s[1],s[2]))[0],e[1],t[2])}}}(),d=window["D"+9884..toString(30)][25871..toString(33)]()/24584;function h(t){return function(){if(w(t.src)){var e=function(t){var e=function(t){var e=void 0!==t.naturalWidth&&0===t.naturalWidth;return!Sp(t.src)&&function(t,e){var n=e||"";return n.slice(Math.max(n.length-5,0))==="."+t}("svg",t.src)&&(e=e&&0===t.width),e?new Error("Invalid Image"):null}(t);if(e)return e;try{null===M&&(M=document.createElement("canvas").getContext("2d")),M.drawImage(t,0,0,1,1),M.getImageData(0,0,1,1)}catch(t){return M=null,t}return null}(t.im);e?function(t,e){if(t.isCors)E(e,t);else{t.isCors=!0;var n=i();n.crossOrigin="anonymous",n.onload=h(t),n.onerror=p(t),t.im=n,S(t)}}(t,e):function(t){var e=t.im;u.add(t.src),t.isLoaded=!0,t.width=e.width,t.height=e.height,t.isHiRes&&(e.width/=2,e.height/=2),t.hasControlColour&&(t.co=f.colouriseImage(t)),t.hasCutout&&(t.ci=Pp(t))}(t)}C()}}function p(t){return function(e){t.isHiRes?(t.isHiRes=!1,S(t)):E(e,t),C()}}function v(t,n,r){l=!0;var o=i(),a=Ep(t,o,n&&(e||Mp()),r);return s.set(t,a),o.onload=h(a),o.onerror=p(a),a.isSVG?m(a):S(a),a}function g(t,e,n){t.rawSvg=e;var r=new Blob([e.outerHTML],{type:n}),i=URL.createObjectURL(r);t.im.onerror=function(){S(t)},t.im.src=i}function m(t){if("undefined"==typeof window||window.isJSDOM)S(t);else{var e="image/svg+xml",r=Lp(t.src);if(r){var i=t.src.split("data:image/"+r[1]+",")[1],o=(new DOMParser).parseFromString(i,e).documentElement;if(o instanceof SVGElement)return void g(t,o,e)}var a=new XMLHttpRequest;a.open("GET",""+(n||"")+t.src),a.responseType="document",a.overrideMimeType(e),a.onload=function(){a.readyState===a.DONE&&200===a.status&&a.response?g(t,a.response.children[0],e):S(t)},a.onerror=function(){S(t)},a.send()}}function y(t){var e=x(t);return e.isLoaded&&!e.ci&&(e.ci=Pp(e)),e.hasCutout=!0,e}function b(t,e){var n=x(t,e,!0);return n.isLoaded&&!n.hasControlColour&&(n.co=f.colouriseImage(n),u.add(n.src)),n.hasControlColour=!0,n}function x(t,e,n){return s.get(t)||v(t,!!e,!!n)}function w(t){return s.has(t)}function A(){if(l){var t=0;s.forEach((function(e){e.isLoaded&&t++})),l=t!==s.size}return l}function _(t){Pn>44694273||(s.forEach(t),t(a))}function k(){return a}function C(){A()||r.runAll()}function E(t,e){u.add(e.src),e.im=o,e.ci=o,e.co=o,e.isMissing=!0,e.isLoaded=!0,e.hasControlColour=!1,e.error=t,l=!0}var M=null;function S(t){var e="",r=t.src;-1===r.indexOf("data:")&&(e+=n||""),e+=t.isHiRes?function(t){var e=t.length-4;return t.substr(0,e)+"@2x.png"}(r):r,t.im.src=e}function I(t,e,n){if(Sp(t))return t;var r=x(t);if(!r.isLoaded)return null;var i=e||r.im.width,o=n||r.im.height,a=i+"x"+o;if(r.uri[a])return r.uri[a];var s=Ip(r.im,i,o);return s&&(r.uri[a]=s),s}return{createImageLookup:function(){return{getHTMLElement:function(t,e){var n=x(t);if(!n.isLoaded)return null;switch(e){case"co":return b(t).co;case"ci":return y(t).ci;default:return n.im}},getDataUri:I,getSVG:function(t){var e=x(t);return e.rawSvg?e.rawSvg:null},getMissingImage:k}},delete:function(t){var e=s.get(t),n=s.delete(t);return n&&e.isLoaded&&(c=!0,l=!0),n},destroy:function(){s.clear(),r.destroy()},forEach:_,get:x,getControlColourImage:b,getCutoutImage:y,getEmojiImage:function(t){var e=s.get(t);if(!e){var n=function(t){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=128,e.height=128,n.fillStyle="black",n.font="105px sans-serif";var r=n.measureText(t).width,i=r*(128/105);return e.width=Math.max(1,i),n.font="105px sans-serif",n.fillText(t,(e.width-r)/2,96),e}(t);e=Ep(t,n,!1,!1),s.set(t,e),e.isLoaded=!0,e.width=n.width,e.height=n.height,e.isEmoji=!0,u.add(t)}return e},getMissingImage:k,has:w,hasPendingImages:A,hasUpdatedImages:function(){return!(!u.size&&!c)},imagesUpdated:function(){u.clear(),c=!1},invokeWhenImagesHaveLoaded:function(t){A()?r.push(t):xt(t)},isReady:function(){try{if(d>66855971)return}catch(t){}return true},resetControlColour:function(t,e){void 0===e&&(e=!1);var n=f.setColour(t,e);return _((function(t){t.isLoaded&&t.hasControlColour&&(t.co=f.colouriseImage(t),u.add(t.src))})),n},resetUpdatedImages:function(){_((function(t){u.add(t.src)}))},waitForImages:function t(e){A()?setTimeout((function(){t(e)}),100):xt(e)}}}function Ep(t,e,n,r){return{src:t,im:e,co:null,ci:null,width:64,height:64,imageRatio:1,isLoaded:!1,hasControlColour:!1,hasCutout:!1,isCors:!1,isHiRes:!!n,isMissing:!1,isAsset:!!r,isEmoji:!1,isSVG:"svg"===(Tp(t)||"").slice(0,3),uri:{}}}function Mp(){return window.devicePixelRatio>=1.5}function Sp(t){return"data:image/"===(t||"").slice(0,11)}function Ip(t,e,n){var r=document.createElement("canvas");r.width=e,r.height=n;var i=r.getContext("2d");return i?(i.drawImage(t,0,0,e,n),r.toDataURL()):null}function Lp(t){return t.match(/^data:image\/([^,]*),.,*/)}function Tp(t){var e=Lp(t)||t.match(/.*\.([0-9a-zA-Z]+)$/);return e&&e[1].toLowerCase()||""}function Pp(t){var e=t.im,n=Math.min(e.width,e.height),r=n<e.height?Math.floor((e.height-n)/2):0,i=n<e.width?Math.floor((e.width-n)/2):0,o=Math.floor(n/2),a=document.createElement("canvas");a.width=n,a.height=n;var s=a.getContext("2d");return s.save(),s.beginPath(),s.arc(o,o,o,0,2*Math.PI,!1),s.clip(),s.drawImage(e,i,r,n,n,0,0,n,n),s.restore(),a}function Op(){return document.createElement("img")}function Rp(t){return"IMG"===t.tagName}function Bp(t){return"CANVAS"===t.tagName}function zp(t,e,n,r,i){var o={minX:0,minY:0,tiles:new Map},a=t.getPane("mapPane"),s=Dp(a.style.transform,{width:0,height:0,x:0,y:0,scale:1});!function(t,e,n,r){var i=[];jp(t,"leaflet-tile-container",(function(t){var n=Dp(t.style.transform,e),r=parseInt(t.parentElement.style.zIndex,10)||0;jp(t,"leaflet-tile",(function(t){i.push({tile:t,zIndex:r,containerOffset:n})}))})),i.sort((function(t,e){return t.zIndex-e.zIndex})),i.forEach((function(t,e){var i=t.tile,o=Dp(i.style.transform,t.containerOffset);n.get(i.src),0===e?(r.minX=o.x,r.minY=o.y):(r.minX=Math.min(r.minX,o.x),r.minY=Math.min(r.minY,o.y)),r.tiles.set(i,ar(ar({},o),{width:i.width,height:i.height}))}))}(a,s,r,o),function(t,e,n,r,i,o){var a=t.getPane("overlayPane"),s=[];jp(a,null,(function(t){s.push(t)})),s.sort((function(t,e){return(0|+t.style.zIndex)-(0|+e.style.zIndex)})),s.forEach((function(t){var a=t===i,s=Dp(t.style.transform,e);if(Rp(t))n.get(t.src),r.tiles.set(t,ar(ar({},s),{width:t.width,height:t.height,scale:t.width/t.naturalWidth}));else if(Bp(t)){if(!o&&a)return;t.style.width&&a&&(s.scale=Fp(t.style.width)[0]/t.width),r.tiles.set(t,ar(ar({},s),{width:t.width,height:t.height}))}}))}(t,s,r,o,e,n),r.waitForImages((function(){i(o)}))}function Dp(t,e){var n=Gt({},e),r=t.split(/translate(3d)?\(|\);?/);if(r[2]&&r[2].length){var i=Fp(r[2]);n.x+=i[0]||0,n.y+=i[1]||0}return n}function jp(t,e,n){for(var r=e?t.getElementsByClassName(e):t.children,i=0;i<r.length;i++)n(r[i],i)}function Fp(t){return t.match(/[-\d]+/g).map(Number)}function Zp(t){"pan"!==t.type&&"slider"!==t.type&&"marquee"!==t.type&&"link"!==t.type&&"map"!==t.type&&t.preventDefault()}function Np(t){t.preventDefault()}var Vp=!1;function Gp(t,e,n){t.on(e,(function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t.off(e,r),n.apply(void 0,i)}))}var Yp=new Map;Yp.set(0,-1),Yp.set(1,0),Yp.set(4,1),Yp.set(2,2),Yp.set(8,3),Yp.set(16,4),Yp.set(32,5);function Wp(t,e){return"undefined"!=typeof navigator&&"MacIntel"===navigator.platform?e:t}function Up(t){t.preventDefault()}var Xp=function(){function t(t,e){this.pointerEvents=["pointerdown","pointerup","pointermove","pointercancel","pointerout","pointerleave","pointerenter"],this.elementEventHandlers=new Map,this.globalEventHandlers=new Map,this.lastClickId=void 0,this.gestureStarted=!1,this.activePointers=new Map,this.element=t,this.hitTest=e,this.events=new $c,this.gestureState={centreX:0,centreY:0,translateX:0,translateY:0,pinchLength:0,scale:1,dx:0,dy:0},this.setup()}return t.prototype.onKeyEvent=function(t){var e=t.keyCode,n=t.altKey,r=t.metaKey,i=t.shiftKey,o=t.ctrlKey;this.events.fire(t.type,{keyboardEvent:t,keyCode:e,modifierKeys:{alt:n,meta:r,shift:i,ctrl:o,consistentCtrl:Wp(o,r)}})},t.prototype.addEventListener=function(t,e,n){this.element.addEventListener(t,e,n),this.elementEventHandlers.set(t,e)},t.prototype.addGlobalEventListener=function(t,e,n){document.addEventListener(t,e,n),this.globalEventHandlers.set(t,e)},t.prototype.setup=function(){var t=this,e=this.element;e.style.touchAction="none",e.style.webkitTapHighlightColor="rgba(0,0,0,0)",this.pointerEvents.forEach((function(e){t.addEventListener(e,t.onPointerEvent.bind(t))})),this.addEventListener("contextmenu",Up),this.addEventListener("dblclick",Up),this.addEventListener("keydown",this.onKeyEvent.bind(this)),this.addEventListener("keyup",this.onKeyEvent.bind(this)),this.addEventListener("MSHoldVisual",Up),this.addGlobalEventListener("pointerup",this.onGlobalPointerEvent.bind(this)),this.addGlobalEventListener("pointermove",this.onGlobalPointerEvent.bind(this)),this.addEventListener("wheel",this.onWheelEvent.bind(this),{passive:!1})},t.prototype.onGlobalPointerEvent=function(t){var e=t,n=e.pointerId,r=e.type,i=this.activePointers.size,o=this.activePointers.get(n);if(o){var a=o.pointerEvent===t,s=!o.down&&("pointermove"===r||"pointerup"===r);if(a||s)return;Hp(o,e,this.element,!0);var u=this.removePointerIfNeeded(o);u||this.startDraggingIfNeeded(o);var l=this.calculateGesture(this.activePointers,i),c=this.getTouches(),f=ar(ar({},o),{gesture:l,pointers:c});this.events.fire(r,f),l&&this.activePointers.size>=2&&i!==this.activePointers.size?(i>=2&&this.events.fire("gestureend",f),this.events.fire("gesturestart",f),this.gestureStarted=!0):l&&this.activePointers.size>=2&&this.events.fire("gesturechange",f),u&&o.dragging.started&&this.handleDragEnd(f,i)}},t.prototype.onPointerEvent=function(t){var e=t.pointerId,n=t.type,r=this.activePointers.size;"pointerdown"!==n&&t.preventDefault();var i=this.activePointers.get(e),o="pointerdown"===n;i&&!o?Hp(i,t,this.element,!1):i=function(t,e,n){var r=t.isPrimary,i=t.metaKey,o=t.shiftKey,a=t.ctrlKey,s=t.pointerType,u=t.pointerId,l=t.type,c=t.altKey,f=t.timeStamp,d=Qp(e,t),h=d.x,p=d.y,v=Kp(t),g="pointerdown"===l;return{button:v,id:null,pointerEvent:t,down:v>-1,dragging:{started:!1,startX:h,startY:p},isPrimary:r,modifierKeys:{alt:c,meta:i,shift:o,ctrl:a,consistentCtrl:Wp(a,i)},pointerType:s,pointerId:u,timestamp:f,x:h,y:p,isGlobalEvent:n,pointers:[],validDownEvent:g}}(t,this.element,!1),this.addPointerIfNeeded(i),i.id=this.hitTest(i),i.validDownEvent&&o&&(i.lastDownId=i.id);var a=this.removePointerIfNeeded(i);a||this.startDraggingIfNeeded(i);var s=this.calculateGesture(this.activePointers,r),u=ar(ar({},i),{pointers:this.getTouches(),gesture:s});s&&this.handleGestures(s,u,r),this.firePointerEvent(u),a&&i.dragging.started&&this.handleDragEnd(u,r)},t.prototype.handleDragEnd=function(t,e){this.events.fire("dragend",t),this.activePointers.size<2&&e>1&&this.events.fire("gestureend",t)},t.prototype.firePointerEvent=function(t){"pointerdown"===t.pointerEvent.type?this.doPointerDown(t):"pointerup"===t.pointerEvent.type?this.doPointerUp(t):this.events.fire(t.pointerEvent.type,t)},t.prototype.handleGestures=function(t,e,n){var r=this.activePointers.size;t&&r>=2&&n!==r?(n>1&&this.events.fire("gestureend",e),this.events.fire("gesturestart",e),this.gestureStarted=!0):t&&r>1&&this.events.fire("gesturechange",e)},t.prototype.onWheelEvent=function(t){var e,n=t.deltaX,r=t.deltaY,i=t.deltaMode,o=t.metaKey,a=t.altKey,s=t.shiftKey,u=t.ctrlKey,l=t.offsetX,c=t.offsetY,f=t.button,d=Math.abs(r);if(this.normaliseWheelDelta=0,d>0){(100===d||120===d||i>0)&&(this.normaliseWheelDelta=60);var h=r>0?1:-1;e=this.normaliseWheelDelta>0?this.normaliseWheelDelta*h:Math.min(100,d)*h}else e=0;if(Math.abs(e)>0||Math.abs(n)>0){var p={button:f,deltaX:n,deltaY:e,deltaMode:i,modifierKeys:{alt:a,meta:o,shift:s,ctrl:u,consistentCtrl:Wp(u,o)},isNormalised:this.normaliseWheelDelta>0,x:l,y:c,wheelEvent:t};this.events.fire("wheel",p)}},t.prototype.addPointerIfNeeded=function(t){var e=t.pointerEvent.type,n=t.pointerType,r=t.pointerId,i=this.activePointers;"touch"===n?i.forEach((function(t,e){"touch"!==t.pointerType&&i.delete(e)})):i.forEach((function(t,e){t.pointerId!==r&&i.delete(e)})),"pointerdown"!==e&&"pointerenter"!==e||i.set(r,t)},t.prototype.removePointerIfNeeded=function(t){var e=t.pointerId,n=t.pointerEvent.type;return("pointerup"===n||"pointercancel"===n)&&this.activePointers.delete(e)},t.prototype.startDraggingIfNeeded=function(t){var e=t.validDownEvent,n=t.dragging,r=t.x,i=t.y,o=n.startX,a=n.startY;if(e)if(n.started)this.events.fire("dragmove",ar(ar({},t),{pointers:this.getTouches()}));else{var s="mouse"===t.pointerType?5:9;n.started=Wt(r-o,i-a)>s,n.started&&(clearTimeout(this.contextMenuTimer),this.events.fire("dragstart",ar(ar({},t),{pointers:this.getTouches(),id:t.lastDownId||null})))}},t.prototype.getTouches=function(){var t=[];return this.activePointers.forEach((function(e){return t.push({id:e.pointerId,x:e.x,y:e.y,pointerType:e.pointerType})})),t},t.prototype.calculateGesture=function(t,e){var n;if(t.size>1){var r=void 0;e!==t.size?(this.gestureState={centreX:0,centreY:0,translateX:0,translateY:0,pinchLength:0,scale:1,dx:0,dy:0},this.extractGestureState(this.gestureState),r=this.gestureState):(r={centreX:0,centreY:0,translateX:0,translateY:0,pinchLength:0,scale:1,dx:0,dy:0},this.extractGestureState(r));var i=this.gestureState,o=r.centreX,a=r.centreY,s=Math.round(o-i.centreX-i.translateX),u=Math.round(a-i.centreY-i.translateY);i.translateX+=s,i.translateY+=u,n={dx:s,dy:u,centreX:o,centreY:a,scale:r.pinchLength/i.pinchLength,translateX:i.translateX,translateY:i.translateY,pinchLength:r.pinchLength},i.scale=n.scale}return n},t.prototype.extractGestureState=function(t){var e=[];if(this.activePointers.forEach((function(t){e.push(t)})),e.length>1){var n=e[0],r=e[1];t.centreX=(n.x+r.x)/2,t.centreY=(n.y+r.y)/2,t.pinchLength=Math.max(1,Yt(n.x,n.y,r.x,r.y))}},t.prototype.on=function(t,e){this.events.on(t,e)},t.prototype.off=function(t,e){this.events.off(t,e)},t.prototype.destroy=function(){var t=this;this.elementEventHandlers.forEach((function(e,n){t.element.removeEventListener(n,e)})),this.globalEventHandlers.forEach((function(t,e){document.removeEventListener(e,t)}))},t.prototype.fireContextMenuOnLongTouch=function(t){var e=this;clearTimeout(this.contextMenuTimer),this.contextMenuTimer=window.setTimeout((function(){e.events.fire("contextmenu",t)}),1e3)},t.prototype.fireContextMenuForMouse=function(t){var e=t.button,n=t.modifierKeys.ctrl,r="MacIntel"===navigator.platform&&n&&0===e;(2===e||r)&&this.events.fire("contextmenu",t)},t.prototype.doPointerDown=function(t){var e=t.validDownEvent,n=t.pointerType,r=t.button,i=t.timestamp;e&&(this.events.fire("pointerdown",t),"mouse"===n?this.fireContextMenuForMouse(t):this.fireContextMenuOnLongTouch(t),this.prepareForDoubleClick(i,r))},t.prototype.prepareForDoubleClick=function(t,e){var n=this.doubleClickState;!n||t-n.firstEventTime>500||n.button!==e?(this.doubleClickState={firstEventTime:t,lastEventTime:t,button:e},this.lastClickId=void 0):n.lastEventTime=t},t.prototype.doPointerUp=function(t){var e=t.id,n=this.doubleClickState;if(clearTimeout(this.contextMenuTimer),this.events.fire("pointerup",t),t.lastDownId!==e||this.gestureStarted)this.doubleClickState=void 0,this.lastClickId=void 0;else{if(this.events.fire("click",t),n){var r=n.lastEventTime,i=n.firstEventTime;i&&this.lastClickId===e?(r-i<500&&this.events.fire("doubleclick",t),this.doubleClickState=void 0,this.lastClickId=void 0):void 0!==this.lastClickId&&(n.firstEventTime=n.lastEventTime)}this.lastClickId=e}0===this.activePointers.size&&(this.gestureStarted=!1)},t}();function Hp(t,e,n,r){var i=e.metaKey,o=e.shiftKey,a=e.ctrlKey,s=e.type,u=e.button,l=e.altKey,c=Qp(n,e),f=c.x,d=c.y;t.isGlobalEvent=r,t.pointerEvent=e;var h="pointerdown"===s;"pointerup"!==s?(u>=0&&(t.button=Kp(e)),t.down=t.button>-1,t.validDownEvent=(t.validDownEvent||h)&&t.down):t.down=!1,t.modifierKeys={alt:l,meta:i,shift:o,ctrl:a,consistentCtrl:Wp(a,i)},t.x=f,t.y=d,t.timestamp=e.timeStamp;var p=t.dragging;t.validDownEvent&&void 0===p.startX&&(p.startX=f,p.startY=d)}function Kp(t){var e,n=t.buttons;return t.button>=0&&n<=0&&(n=1),null!==(e=Yp.get(n))&&void 0!==e?e:-1}function Qp(t,e){var n=t.getBoundingClientRect();return{x:Math.round(e.clientX-n.left),y:Math.round(e.clientY-n.top)}}function Jp(t,e,n,r,i,o){var a,s,u,l,c,f,d,h,p,v,g,m,y,b,x,w,A,_=!1,k=!1,C={},E={watermark:!1,overview:!1,gestures:!1,handMode:!0},M=et(o),S=["doubleClickZoom","dragging","keyboard","scrollWheelZoom","touchZoom"],I=!1;function T(){return l}function P(){d||(d=t.privateCanvasApi.privateGetElement(),b=function(t){if(!t)return-1;for(var e=0,n=t;n=n.previousSibling;)++e;return e}(d))}function O(){return"object"==typeof L&&L&&"Map"in L&&"version"in L}function R(){if(a){var e=t.lock()||!w;h.style.touchAction=e?"none":""}}function B(t){a=t,r.setLeafletMap(a)}function z(e){a&&function(t,e,n,r,i,o){var a=e.controller.lock,s=!1,u=!0,l=!0;function c(t){u&&!a()&&(l=Bh(t,e),t.id&&t.pointerEvent.preventDefault())}function f(t){u&&!a()&&l&&Yh(t,e)}function d(t){u&&!a()&&Wh(t,e)}function h(t){l=!0,u&&!a()&&(zh(t,e),(n.doubleClickZoom.enabled()||Vp)&&(!u||t.id&&"_"===t.id.charAt(0)&&"__dragger"!==t.id?(n.doubleClickZoom.disable(),Vp=!0):(n.doubleClickZoom.enable(),Vp=!1)))}function p(t){u&&!a()&&qh(t,e)}function v(t){u&&!a()&&op(t,e)}function g(t){u&&!a()&&$h(t,e)}function m(t){Vh(t,e)}function y(t){u&&!a()&&(t.isGlobalEvent&&n.getContainer().dispatchEvent(new PointerEvent("pointerup",t.pointerEvent)),Dh(t,e))}function b(t){u&&!a()&&(t.keyCode<37||t.keyCode>40)&&ep(t,e)}function x(t){u&&!a()&&(t.keyCode<37||t.keyCode>40)&&np(t,e)}function w(){var t=o();t&&(r?(t.on("pointerdown",h),t.on("pointermove",m),t.on("pointerup",y),t.on("contextmenu",c),t.on("click",f),t.on("doubleclick",d),t.on("dragstart",p),t.on("dragmove",v),t.on("dragend",g),t.on("keydown",b),t.on("keyup",x),t.on("wheel",(function(t){tp(t,e)})),t.on("pointercancel",(function(){e.controller.stopDrag(!1)}))):t.off())}function A(){var e=r?t.privateOn:t.privateOff;e("double-click",Np),e("drag-start",Zp)}r?t._leafletEventHandlers||(A(),w(),t._leafletEventHandlers={contextmenu:function(){},move:function(){s||i()},zoomstart:function(){u=!1,s=!0},zoomend:function(){u=!0,s=!1}},n.on(t._leafletEventHandlers)):(n.off(t._leafletEventHandlers),t._leafletEventHandlers=null,A(),w())}(t,c,a,e,F,T)}function D(t){if(a){var e=t?"disable":"enable",n=t||!w?"disable":"enable";S.forEach((function(t){"dragging"===t?a.dragging[n]():a[t][e]()})),z(!t),R()}}function j(){var t=a.containerPointToLayerPoint([0,0]),e=new L.Point(Math.round(t.x),Math.round(t.y));L.DomUtil.setPosition(d,e),x.offsetX(-e.x),x.offsetY(-e.y)}function F(){j(),rt({drawOnly:!0})}function Z(e){t.setProperties(Y(),!1,e)}function N(){return new(L.Layer.extend({initialize:function(t,e){L.Util.setOptions(this,e)},setOptions:function(t){return L.Util.setOptions(this,t),this.redraw()},redraw:function(){return this._forceRedraw(),this},onAdd:function(){this.getPane().appendChild(d),a.on("zoomend",this._onZoomEnd,this),a.on("moveend",this._onMoveEnd,this),a.options.zoomAnimation&&a.on("zoomanim",this._animateZoom,this),a.on("zoom",this._zoom,this),l=new Xp(h,(function(t){return"pointer-move"===t.pointerEvent.type?null:s.hittest(t.x,t.y)})),z(!0);var t=a.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(d,t)},onRemove:function(){a.off("zoomend",this._onZoomEnd,this),a.off("moveend",this._onMoveEnd,this),l.destroy(),z(!1),a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this),a.on("zoom",this._zoom,this)},addTo:function(){return a.addLayer(this),this},_onZoomEnd:function(){j(),this._forceRedraw({all:!0})},_onMoveEnd:function(){n.trigger("viewchange"),e.fire("view-change"),this._forceRedraw()},_forceRedraw:function(t){a&&Z((function(){rt(t)}))},_animateZoom:function(t){var e=a.getZoomScale(t.zoom),n=a._getCenterOffset(t.center)._multiplyBy(-e).subtract(a._getMapPanePos());L.DomUtil.setTransform(d,n,e)},_zoom:function(t){t.pinch&&Z()}}))}function V(){return i.anyOpenCombos()?o.time*(2/3):o.time}function G(){var t=r.getZoom();return.75+.5*((t=Math.min(15,Math.max(4,t)))-4)/11}function Y(){var e=[];return t.privateEach({type:"node",items:"toplevel"},(function(t){if(te(t)){var n=ar(ar({},st(t)),{id:t.id});e.push(n)}})),e}function W(t,e){m=d.style.position,y=d.style.top,d.style.position="absolute",d.style.zIndex="1000",d.classList.add("leaflet-zoom-animated"),d.style.transformOrigin="50% 50%",(h=document.createElement("div")).style.width=d.clientWidth+"px",h.style.height=d.clientHeight+"px",h.style.position="relative",h.style.top=d.style.top,h.style.left=d.style.left,(g=d.parentNode).insertBefore(h,d),d.style.pointerEvents="none",d=d,L.Draggable.include({_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),function(t,e){t._leaflet_pos=e,t.style.transform=function(t,e){return L.Browser.ie3d?"translate("+Math.round(t)+"px,"+Math.round(e)+"px)":"translate3d("+Math.round(t)+"px,"+Math.round(e)+"px, 0px)"}(e.x,e.y)}(this._element,this._newPos),this.fire("drag",t)}});var n=Gt({boxZoom:!1,zoomAnimationThreshold:20,zoomControl:!1,preferCanvas:!0},o.leaflet);B(new L.Map(h,n)),function(){p=document.createElement("canvas"),s.setOverlayContext(p.getContext("2d"));var t=a.getSize();p.width=t.x,p.height=t.y,p.style.margin="0",p.style.pointerEvents="none",lr(p,p.getContext("2d"),!1,!1);var e=L.Control.extend({options:{position:"topleft"},onAdd:function(){return p}});v=new e,a.addControl(v)}(),D(!0),t?r.centerView(t):r.fitMapToBounds(null,!1),U(e)}function U(t){var e,n={};function r(){N().addTo(a),xt(t)}"string"==typeof o.tiles?e=o.tiles:o.tiles&&(e=o.tiles&&o.tiles.url||M.tiles.url,n=L.Util.extend(n,o.tiles)),e?(Gp(u=new L.TileLayer(e,n),"loading",r),a.addLayer(u)):r()}function X(r,o){i.clearState(),k=!1,r.lockChart||t.lock(!1),r.triggerEvent&&(n.trigger("map","hideend"),e.fire("map",{type:"hideend"})),bt(o)}function H(t,e){s.setOverlayContext(null),function(t){d.style.top=h.offsetTop+"px";var e=b>0?g.childNodes[b+1]:g.firstChild;g.insertBefore(d,e),d.style.transform="",d.style.transformOrigin="",t&&Z(),rt({positions:!0})}(t.restorePositions),a.removeControl(v),function(t,e){Q(t,1,e)}(t.animate,(function(){h.parentNode&&h.parentNode.removeChild(h),d.style.pointerEvents="auto",d.style.position=m,d.style.top=y,a.remove(),B(null),xt(e)}))}function K(e){_=!1,t.combo().open(i.getOpenCombos(),{animate:!1,adapt:"none"},(function(){var n=i.getPositions();if("restore"===o.transition&&n){var r=Bt(n).filter((function(e){return!t.combo().find(e.id)}));t.setProperties(r,!1,e)}else{var a=t.privateValidateLayoutOptions({animate:!1});t.allowDraw(!1),s.layout("standard",a,(function(){t.allowDraw(!0),xt(e)}))}}))}function Q(e,n,r){e?t.privateAnimateBackgroundOpacity(n,{time:o.time},r):(t.privateSetBackgroundOpacity(n),xt(r))}function J(t,e){Q(t,0,e)}function $(e){t.privateEach({type:"node",items:"toplevel"},(function(t){t.hi||e({id:t.id,x:t.x,y:t.y})}))}function tt(){var t=[];return $((function(e){t.push(e)})),t}function nt(t,e){if(_){h.style.height=e+"px",h.style.width=t+"px";var n=p.getContext("2d");p.width=t,p.height=e,lr(p,n,!1,!1),A=!0,a.invalidateSize(!1),A=!1}else f=[t,e]}function rt(t){var n=null!=t?t:{positions:!0};e.privateFire("forceRedraw",n)}function it(){var e=t.options();C={},q(E,(function(t,n){C[n]=e[n]}))}function ot(t){var e;"direct"!==(null===(e=s.options(t?C:E,void 0,!!t).linkStyle)||void 0===e?void 0:e.path)&&s.resetConnectionOffsets()}function at(){ot(!0),C={}}function st(t){var e=a.latLngToContainerPoint([t.pos.lat,t.pos.lng]);return x.worldCoordinates(e.x,e.y)}return O()&&(L.Map.prototype._panInsideMaxBounds=function(){if(!this._enforcingBounds){var t=void 0;A&&(t={animate:!1}),this.panInsideBounds(this.options.maxBounds,t)}}),{changeTilesLayer:function(t){a?(a.removeLayer(u),U(t)):xt(t)},convertPos:function(e){var n,r,o,a=_t(e);for(r=0;r<a.length;r++)Mt(n=a[r],"pos")&&(n.pos&&dt(n.pos.lat)&&dt(n.pos.lng)?(i.isHiddenOnMap(n.id)&&(n.hi=!1),i.recordNodeState(n),o=st({pos:Vt(t.getItem(n.id).pos,n.pos)}),n.x=o.x,n.y=o.y):(i.setHiddenOnMap(n.id),n.hi=!0))},enableDragging:function(t){a.dragging.enabled()!==t&&(t?a.dragging.enable():a.dragging.disable())},getLeafletMap:function(){return a},getMapContainer:function(){return h},showMap:function(r){if(t.privateIsLayingOut())xt(r);else{if(null===t.privateCanvasApi.privateGetContainer())throw new Error("Cannot enter map mode while the chart is not on the page.");if(function(){var t="1.3.4",e=L.version.split("-")[0].split("+")[0];if(ee(e,t)<0)throw new Error("Cannot use an older version of Leaflet than "+t);!I&&ee(e,"1.3.4")>0&&(console.warn("You are using an unsupported version of Leaflet - please use 1.3.4 instead."),I=!0)}(),P(),a||k)xt(r);else{w=!0,k=!0;var s=t.lock();t.lock(!0),n.trigger("map","showstart"),e.fire("map",{type:"showstart"}),it(),ot(),i.recordState();var u=i.getHiddenOnMapIds();t.hide(u,{time:o.time,animate:o.animate},(function(){W(null,(function(){!function(e){if(o.animate){var n=V(),r={time:o.time*(1/3),adapt:"none"},a=t.viewOptions();t.combo().close(i.getOpenCombos(),r,(function(){var r=G();a.zoom===r?t.animateProperties(Y(),{time:n},e):t.viewOptions({zoom:r},{animate:!1},(function(){var i=Y();t.viewOptions(a,{animate:!1},(function(){var o=2;function a(){0==--o&&xt(e)}var s={animate:!0,time:n};t.viewOptions({zoom:r},s,a),t.animateProperties(i,s,a)}))}))}))}else t.combo().close(i.getOpenCombos(),{animate:!1},(function(){t.viewOptions({zoom:G()},{animate:!1},(function(){Z(e)}))}))}((function(){J(o.animate,(function(){!function(r,i){_=!0,k=!1,n.trigger("map","showend"),e.fire("map",{type:"showend"}),r||t.lock(!1),f&&(nt(f[0],f[1]),t.zoom("fit"),f=null),bt(i)}(s,r)}))}))}))}))}}},hideMap:function(s){if(a&&!k){if(null===t.privateCanvasApi.privateGetContainer())throw new Error("Cannot exit map mode while the chart is not on the page.");var u=t.lock(),l=V();k=!0,t.lock(!0),n.trigger("map","hidestart"),e.fire("map",{type:"hidestart"}),r.fitMapToBounds(null,o.animate,(function(){var e,n;H({restorePositions:!0,animate:o.animate},(function(){o.animate&&(e=t.viewOptions(),n=tt()),K((function(){var r=tt();at(),t.show(i.getHiddenOnMapIds(),!1,{animate:!1},(function(){t.zoom("fit",{animate:!1},(function(){if(o.animate){var a=t.viewOptions();t.combo().close(i.getOpenCombos(),{animate:!1,adapt:"none"},(function(){!function(e,n,r,a){t.viewOptions(e,{animate:!1},(function(){t.hide(i.getHiddenOnMapIds(),{animate:!1},(function(){t.setProperties(n,!1,(function(){t.viewOptions(r,{animate:!0,time:l}),t.animateProperties(a,{time:l},(function(){t.combo().open(i.getOpenCombos(),{time:o.time*(1/3),adapt:"none"},c)}))}))}))}))}(e,n,a,r)}))}else X({lockChart:u,triggerEvent:!0},s)}))}))}))}))}))}else xt(s);function c(){var e=i.getHiddenOnMapIds();t.show(e,!1,{animate:e.length>0,time:o.time},(function(){X({lockChart:u,triggerEvent:!0},s)}))}},isLeafletLoaded:O,isMapLoaded:function(){return!!a},isShown:function(){return _},isTransitioning:function(){return k},latLngToWorldCoordinates:st,lockEvents:D,restoreMapMode:function(e,n){var r=t.lock();P(),_=!0,it(),W(e,(function(){ot(),j(),Z((function(){J(!1,(function(){r||D(!1),xt(n)}))}))}))},restoreNetworkMode:function(e){var n=t.lock();P(),_=!1,H({restorePositions:!1,animate:!1},(function(){at(),X({lockChart:n,triggerEvent:!1},e)}))},setDependencies:function(t){s=(c=t).controller},setHandMode:function(t){t!==w&&(w=t,R())},setSize:nt,setView:function(t){x=t},updateNodePositions:Z}}function qp(t,e){var n=null;function r(){return n.getZoom()}function i(t){if(t.length){var e=L.latLngBounds(t),n=e.getNorth(),r=e.getSouth(),i=e.getWest(),o=e.getEast();if(n===r&&i===o){var a=.01;e=L.latLngBounds([[n-a,i-a],[n+a,i+a]])}return e}}function o(){var e=[];return t.privateEach({type:"node",items:"toplevel"},(function(t){te(t)&&!t.hi&&e.push(L.latLng(t.pos.lat,t.pos.lng))})),e}function a(t,e){if(r()!==e)return!0;var i=n._limitCenter(t,e,n.options.maxBounds),o=n._getCenterOffset(i).floor();return!(!o.x&&!o.y)}function s(t,s,u){var l=i(t||o());if(l)void 0===r()||function(t){var i=L.point([2*(e.padding||0),2*(e.padding||0)]),o=n.getBoundsZoom(t,!1,i);if(r()!==o)return!0;var s=n.project(t.getSouthWest(),o),u=n.project(t.getNorthEast(),o);return a(n.unproject(s.add(u).divideBy(2),o),o)}(l)?(d(u),n.fitBounds(l,{animate:!!s,padding:[e.padding||0,e.padding||0]})):xt(u);else{var c=L.latLng(0,0);a(c,2)?(d(u),n.setView(c,2,{animate:!!s})):xt(u)}}function u(e,n,r){var i=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];It(r)||!te(r)||r.hi||e.push(L.latLng(r.pos.lat,r.pos.lng))}return e}(t.getItem(e));i.length?s(i,!!n,r):xt(r)}function l(){return n.getMaxZoom()}function c(){return n.getMinZoom()}function f(){return Math.min(1,(l()-c())/10)}function d(t){vt(t)&&Gp(n,"moveend",(function(e){t()}))}return{fitMapToBounds:s,getMaxZoom:l,getMinZoom:c,getZoom:r,pan:function(e,r,o,a){var s=null,u=100,l={animate:!!r,duration:dt(o)?o/1e3:.25};if(d(a),"selection"===e){var c=[],f=t.getItem(t.selection());if(f.length){for(var h=void 0,p=0;p<f.length;p++)if("node"===(h=f[p]).type){var v=h;te(v)&&!v.hi&&c.push(L.latLng(v.pos.lat,v.pos.lng))}n.panInsideBounds(i(c),l)}}else{switch(e){case"up":s=[0,-u];break;case"down":s=[0,u];break;case"left":s=[-u,0];break;case"right":s=[u,0]}s&&n.panBy(s,l)}},panBy:function(t,e){n.panBy(t,e)},setLeafletMap:function(t){n=t},centerView:function(t){n.setView([t.lat,t.lng],t.zoom,{reset:!0})},setZoom:function(t,e,r,i){d(i),n.setZoom(t,{animate:e})},zoom:function(e,i,a,c,h,p){var v={animate:!!i,duration:dt(a)?a/1e3:.25};switch(e){case"in":d(p),n.zoomIn(f(),v);break;case"out":d(p),n.zoomOut(f(),v);break;case"fitToExtents":!function(e,r,i){var o=t.viewCoordinates(e.x1,e.y1),a=t.viewCoordinates(e.x2,e.y2);s([n.containerPointToLatLng([o.x,o.y]),n.containerPointToLatLng([a.x,a.y])],!!r,i)}(h,i,p);break;case"fit":case"fitToModel":c?u(c,i,p):s(o(),!!i,p);break;case"selection":case"fitToSelection":u(t.selection(),i,p);break;case"height":case"fitModelHeight":var g=-1/0,m=-1/0,y=1/0,b=1/0,x=function(t){var e=t;null!==e&&te(e)&&!e.hi&&(e.pos.lat>g&&(g=e.pos.lat,m=e.pos.lng),e.pos.lat<y&&(y=e.pos.lat,b=e.pos.lng))};c?t.privateGetItem(c).forEach(x):t.privateEach({type:"node",items:"toplevel"},x),isFinite(g)&&isFinite(m)&&isFinite(y)&&isFinite(b)?s([[g,m],[y,b]],!!i,p):vt(p)&&xt(p)}return r()/l()}}}function $p(t,e,n){var r={animate:!0,time:800,tiles:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.',subdomains:"abcd",minZoom:0,maxZoom:20},transition:"restore",padding:5},i="#ddd",o=qp(t,r),a=function(t){var e,n,r=new Set;function i(){r=new Set,e=[],n={}}function o(t){var e=t.id;delete n[e],r.delete(e),te(t)?n[e]={id:e,x:t.x||0,y:t.y||0}:t.hi||r.add(e)}return i(),{anyOpenCombos:function(){return e&&e.length>0},clearState:i,getPositions:function(){return n},getOpenCombos:function(){return e},getHiddenOnMapIds:function(){var t=[];return r.forEach((function(e){t.push(e)})),t},isHiddenOnMap:function(t){return r.has(t)},setHiddenOnMap:function(t){r.add(t)},deserialize:function(t){r=et(t.hiddenOnMap)||new Set,e=et(t.openCombos)||[],n=et(t.positions)||{}},serialize:function(){return{hiddenOnMap:et(r),openCombos:et(e),positions:et(n)}},recordLinkState:function(e){if("link"===e.type&&!e.hi){var n=t.getItem(e.id1),i=t.getItem(e.id2);n&&i&&te(n)&&te(i)||r.add(e.id)}},recordNodeState:o,recordState:function(){i(),t.privateEach({type:"node",items:"all"},(function(t){var n=t.id;t._combo&&t._combo.open&&e.push(n),t.parentId||o(t)})),t.privateEach({type:"link",items:"toplevel"},(function(t){t.hi||!r.has(t.id1)&&!r.has(t.id2)||r.add(t.id)}))}}}(t),s=Jp(t,e,n,o,a,r),u=s.isLeafletLoaded();function l(){throw new Error("Leaflet was not found. Make sure you include leaflet.js and leaflet.css in your web page.")}function c(t){return u?t:l}function f(t){if("node"===t.type)if(a.recordNodeState(t),te(t)){var e=s.latLngToWorldCoordinates(t);t.x=e.x,t.y=e.y}else t.hi||(t.hi=!0)}return{api:{show:c(s.showMap),hide:c(s.hideMap),viewCoordinates:c((function(t,e){var n=s.getLeafletMap().latLngToContainerPoint([t,e]);return{x:n.x,y:n.y}})),mapCoordinates:c((function(t,e){var n=s.getLeafletMap().containerPointToLatLng([t,e]);return{lat:n.lat,lng:n.lng}})),isShown:function(){return s&&s.isShown()},leafletMap:s.getLeafletMap,options:c((function(t,e){return t&&(q(t,(function(t,e){switch(e){case"padding":case"time":dt(t)&&(r[e]=t);break;default:r[e]=t}})),"tiles"in t&&s?s.changeTilesLayer(e):xt(e)),et(r)}))},internalUse:{convertPos:s.convertPos,enableDragging:s.enableDragging,getDefaultBackgroundColour:function(){return i},getMapContainer:s.getMapContainer,getMaxZoom:o.getMaxZoom,getMinZoom:o.getMinZoom,getZoom:o.getZoom,isMapLoaded:s.isMapLoaded,isTransitioning:s.isTransitioning,loadUp:function(t,e){if(u){var n=t||{};n.show?function(t,e){a.deserialize({hiddenOnMap:t.hiddenOnMap,openCombos:t.openCombos,positions:t.restoreXY}),s.isShown()?(o.centerView(t),s.updateNodePositions(e)):s.restoreMapMode(t,e)}(n,e):function(t){s.isShown()?s.restoreNetworkMode(t):xt(t)}(e)}else xt(e)},lock:s.lockEvents,pan:o.pan,panBy:o.panBy,preMerge:function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r];if("node"===i.type){var o=t.getItem(i.id);if(o){var s=a.getPositions(),u={};a.isHiddenOnMap(i.id)?u.hi=!1:"hi"in o&&(u.hi=o.hi),s[i.id]&&(u.x=s[i.id].x,u.y=s[i.id].y),o.pos&&(u.pos=o.pos),i=Vt(u,i)}f(i)}"link"===i.type&&a.recordLinkState(i),n.push(i)}return n},preSetItem:f,serialize:function(){if(!u)return null;var t=s.getLeafletMap(),e={show:s.isShown()};if(e.show){var n=t.getCenter();e.lat=n.lat,e.lng=n.lng,e.zoom=t.getZoom(),e.bounds=t.getBounds().toBBoxString();var r=a.serialize();e.hiddenOnMap=r.hiddenOnMap,e.openCombos=r.openCombos,e.restoreXY=r.positions}return e},setBackgroundColour:function(t,e){var n=s.getMapContainer();t?n.style.background=t:e?Qn(n,e.stops,1):n.style.background=i},setDependencies:s.setDependencies,setHandMode:s.setHandMode,setSize:s.setSize,setView:s.setView,setZoom:o.setZoom,toDataURL:function(t,e,n,r,i){return function(t,e,n,r,i,o){var a=e(n.width,n.height),s=a.getContext("2d"),u=Cp();i(s,!0),zp(t,r,!0,u,(function(t){var e;t.tiles.forEach((function(t,e){var i=e;if(Rp(e)){var o=u.get(e.src);i=o.isMissing?null:o.im}else i===r&&(i=n);i&&s.drawImage(i,Math.floor(t.x),Math.floor(t.y),t.width*t.scale,t.height*t.scale)}));try{e=a.toDataURL()}catch(t){throw new Error("[toDataURL] Error exporting chart."+t)}finally{xt(o,e)}}))}(s.getLeafletMap(),t,e,n,r,i)},zoom:o.zoom}}}function tv(t,e,n,r,i,o){var a=0,s=0,u=0,l=0,c=0,f=t||0,d=e||0,h=i||1;function p(t){return h*t}function v(t){return t&&(f=t),f}function g(t){return((t-a)*u+l)*h}function m(t){return((t-s)*u+c)*h}function y(t){return(t/h-l)/u+a}function b(t){return(t/h-c)/u+s}function x(t){return-1===t?-1:t*u*h}var w=4,A=.05,_=1/0;function k(){return!(!o||!o.internalUse.isMapLoaded())}function C(t){return Math.min(w,Math.max(t,A))}function E(t,e,n,r,i){return void 0===i&&(i=!1),R(C(t),h*f/2,h*d/2,e,n,r,i)}var M,S,I,L;function T(t){return t?{x1:g(t.x1),y1:m(t.y1),x2:g(t.x2),y2:m(t.y2)}:null}function P(t,e,n,r,i,o,p,v,g,m,x){var w;w=(t.y2-t.y1)/(t.x2-t.x1)>d/f?u*(d-(o?d/8:0))/(t.y2-t.y1):u*(f-(o?f/8:0))/(t.x2-t.x1),w*=h,r&&(w=C(w)),i&&w>1&&(w=1),m&&(w=u);var A=(t.x1+t.x2)/2,_=(t.y1+t.y2)/2,k=e?(e.x1+e.x2)/2:y(A),E=e?(e.y1+e.y2)/2:b(_);return F(u,w,f/2-(k-a)*w-l,d/2-(E-s)*w-c,n,p,g,v,x)}function O(t,e,n,r,i,o,a,s,u){e.generate(n,r,N,!0,!1);var l=n.itemExtents(t,r);if(l){var c,f=T(l);if(u)c=t?f.x1+(f.x2-f.x1)/2:v()/2,f.x1=c,f.x2=c;return P(f,l,i,!0,!0,!0,o,!1,a,s)}return xt(a),null}function R(t,e,n,r,i,o,f){void 0===f&&(f=!1);var d=C(t),p=y(e),v=b(n);return F(u,d,e/h-(p-a)*d-l,n/h-(v-s)*d-c,r,i,o,f)}function B(t){a=421,s=298,t?F(u,1,421-l,298-c,!0):(l=421,c=298,u=1)}function z(t){return Et(t)&&(l=t),l}function D(t){return Et(t)&&(c=t),c}function j(t,e,n,r,i,o){return F(u,u,t,e,n,i,o,r)}function F(t,e,i,o,a,s,f,d,h){var p=i||0,v=o||0;return a?function(t,e,i,o,a,s,f){void 0===f&&(f=_a);var d=a||200,h=d,p=l,v=c;return vr((function(a){h-=a;var g=f(Math.max(0,Math.min(1,(d-h)/d)));l=p+g*i,c=v+g*o,u=C(t+g*(e-t));var m=h>0;return n&&n.fire("view-change"),m||(r&&r.trigger("viewchange"),xt(s)),m}),{drawOnly:!0})}(t,e,p,v,s,f,h):(l+=p,c+=v,u=e,r&&!d&&(r.trigger("viewchange"),n&&n.fire("view-change")),xt(f),null)}function Z(t){var e=k(),i=e?-3:.1;return vr((function(a){var s=0===S&&0===I;return e?o.internalUse.panBy([S*i,I*i],{animate:!1}):(l+=a*i*S,c+=a*i*I),M=!s,t&&t(L),s||(r&&r.trigger("viewchange"),n&&n.fire("view-change")),!s}),{positions:!0})}B();var N={cancelScroll:function(){S=0,I=0},fitExtents:P,fitModelHeight:function(t,e,n,r,i,o,a,s){return o?O(Ft(o),t,e,n,r,i,a,s,!0):O(null,t,e,n,r,i,a,!1,!0)},fitToModel:function(t,e,n,r,i,o,a,s){return o?O(Ft(o),t,e,n,r,i,a,s):O(null,t,e,n,r,i,a)},fitToSelection:function(t,e,n,r,i,o,a,s){return O(t.privateSelection(),t,e,n,r,i,a,s)},fitWorldExtents:function(t,e,n,r,i,o,a,s){return t?P(T(t),null,e,n,r,i,o,!1,a,void 0,s):(xt(a),null)},fromOldSettings:function(t,e,i){if(e){var o=tv(t.width,t.height,n,r);return o.setZoom(t.zoom,!1),o.offsetX=t.offsetX,o.offsetY=t.offsetY,P({x1:o.viewToWorldX(0),y1:o.viewToWorldY(0),x2:o.viewToWorldX(o.width()),y2:o.viewToWorldY(o.height())},null,!1,!1,!1,!1,0)}return E(t.zoom,!1,void 0,void 0,!0),l=t.offsetX,c=t.offsetY,i&&(l=f/2-(y(t.width/2)-a)*u,c=d/2-(b(t.height/2)-s)*u),n&&n.fire("view-change"),r&&r.trigger("viewchange"),null},fromSettingsDirect:function(t,e,n,r){return F(u,C(t.zoom),t.offsetX-l,t.offsetY-c,e,n,r)},getMaxItemZoom:function(){return _},setMaxZoom:function(t){w=t},getMaxZoom:function(){return w},getMinZoom:function(){return A},getUnzoom:function(){return u>_?_/u:1},getZoomScale:function(){return u},height:function(t){return t&&(d=t),d},maybeScroll:function(t,e,n){var r=t.x,i=t.y,o=p(50);return S=0,I=0,L=t,r<o&&(S=1),r>p(f)-o&&(S=-1),i<o&&(I=1),i>p(d)-o&&(I=-1),e.direction&&(e.direction.horizontalMovement||(S=0),e.direction.verticalMovement||(I=0)),0===S&&0===I||M?null:(M=!0,Z(n))},offsetX:z,offsetXtoWebglPanX:function(){var t=f/2;return-(1-z()/t)+(t-a)/t*u},offsetY:D,offsetYtoWebglPanY:function(){var t=d/2;return 1-D()/t-(t-s)/t*u},pan:function(t,e,n,r){var i=0,o=0;switch(t){case"up":o=1;break;case"down":o=-1;break;case"left":i=1;break;case"right":i=-1}return j(i*=100,o*=100,e,!1,n,r)},panBy:j,reset:B,scale:p,scaleFactor:function(t){return t&&(h=t),h},setMaxItemZoom:function(t){_=t||1/0},setMinZoom:function(t,e){void 0===e&&(e=!1),A=e&&t||Math.min(1,Math.max(.001,t||.05)),u<A&&F(u,A,l,c,!1)},settings:function(){return{width:f,height:d,zoom:u,offsetX:l,offsetY:c}},setZoom:E,sw:function(t){return-1===t?-1:x(t)+7},viewToWorldDistance:function(t){return t/(u*h)},viewToWorldX:y,viewToWorldY:b,w:x,wheelToPosition:function(t,e,n,r){return R(C(u*(1+t/300)),e,n,r,66.66666666666667)},width:v,worldExtentsToView:T,worldToViewDistance:function(t){return t&&t*u*h},worldToViewX:g,worldToViewY:m,x:g,y:m,worldCoordinates:function(t,e){var n=N.scale(t),r=N.scale(e);return{x:N.viewToWorldX(n),y:N.viewToWorldY(r)}},zoom:function(){return k()?o.internalUse.getZoom():u},zoomIn:function(t,e,n){return R(C(1.4*u),h*f/2,h*d/2,t,e,n)},zoomOut:function(t,e,n){return R(C(u/1.4),h*f/2,h*d/2,t,e,n)},zoomToPosition:R};return N}function ev(t,e,n,r,i){void 0===i&&(i=1);var o,a={},s={},u=[],l={};function c(){return null!==n&&n.api.isShown()}var f,d,h,p,v,g,m=$e.white,y=$e.lightgrey,b=$e.darkmodegrey;function x(){a={},o={},s={},u=[],l={}}function w(t,e,n,r,i,o,a){t.rect(e.scale(n),e.scale(r),e.scale(i),e.scale(o),$e.transparent,-1,$e.transparent,!0,a,-1)}function A(t,e){return jh[t+("dark"===e?"DM.png":".png")]}var _={ne:"sw",nw:"se",se:"nw",sw:"ne"};return{addBanding:function(t,e){var n={generate:function(n,r,o){var a=Vt({top:!0},t);if(a&&a.bands){var s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,h=void 0;n.setLayer(Ni.BANDS);var p=1/0;for(s=0;s<a.bands.length;s++)(f=a.bands[s]).t&&(u=o.worldToViewDistance(f.w/2),l=f.ff||e,d=.75*(c=(f.fs||20)*i),(h=ir(r,f.t,c,f.fb,l).width/2)+d>u&&(c=Math.floor(c*u/(h+d))),c<p&&(p=c));for(p!==1/0&&(d=.75*p),s=0;s<a.bands.length;s++){f=a.bands[s];var v=o.x(f.x),g=o.x(f.x-f.w/2),m=o.x(f.x+f.w/2),y=o.scale(-1),b=o.scale(o.height()+1);u=o.worldToViewDistance(f.w/2);var x=f.c||"#f7f7f7";if(n.rect(g,y,m,b,"white",-1,x,!0,"",-1),f.t&&p>3){n.setLayer(Ni.BANDLABELS),l=f.ff||e,h=ir(r,f.t,p,f.fb,l).width/2;var w=f.fc||$e.lightgrey,A=o.scale(p),_=(m-g)/2-h;if(a.top){var k=6+A;n.rect(g,y,m,k+3,"white",-1,x,!0,"",-1,void 0),n.text(v,k-A/2,f.t,w,A,f.fb,"",-1,l,!0,2*h,!1,!1,g+_,y+6,m+_,k+6,void 0,void 0,void 0)}if(a.bottom){var C=o.height()-3,E=C-(A+6);n.rect(g,E,m,b,"white",-1,x,!0,"",-1,void 0),n.text(v,C-A/2,f.t,w,A,f.fb,"",-1,l,!0,2*h,!1,!1,g+_,E+6,m+_,E+6+c,void 0,void 0,void 0)}n.setLayer(Ni.BANDS)}}}}};u.push(n)},addLogo:function(t){var e=t.u,n=r.get(e,Mp(),!0),i={generate:function(r,i,o){r.setLayer(Ni.OVERLAYS);var a=n.im.width,s=n.im.height,u=t.p||"ne",l=("w"===u.charAt(1)?15:o.width()-(a+15))+(t.x||0),c=("n"===u.charAt(0)?15:o.height()-(s+15))+(t.y||0);r.image(o.scale(l),o.scale(c),o.scale(l+a),o.scale(c+s),e,"_logo",-1,null,0,!0)}};u.push(i)},addMapAttribution:function(t,e,n,r){var i={generate:function(i,o,a){i.setLayer(Ni.UNDERLAYS);var s=-1===r.indexOf("leaflet-left")?a.width()-e:0,u=-1===r.indexOf("leaflet-top")?a.height()-n:0;t&&i.image(s,u,s+e,u+n,t.src,null,-1,null,0,!1)}};u.push(i)},addNavigation:function(t,i,f,d){var h=A("Nav-Control-Head",d),p=A("Nav-Control-Zoom",d),v=A("Nav-Control-Short-Zoom",d),g=A("Slider",d),m=A("Hand",d),y=A("Arrow",d);r.getControlColourImage(h,!1);var b=r.getControlColourImage(p,!1),x=r.getControlColourImage(v,!1);r.get(g,!1,!0),r.get(m,!1,!0),r.get(y,!1,!0);var _=R()?145:247,k=f.p||"nw",C=("w"===k.charAt(1)?7:i.width()-69)+(f.x||0),E=("n"===k.charAt(0)?17:i.height()-(17+_))+(f.y||0),M=C+21,S=E+118,I=E+215;function L(){return!!t.options().handMode}function T(e,n){var r=O(e-6);t.setZoom(r,n)}function P(t){var e,r,o;null!==n&&n.internalUse.isMapLoaded()?(e=n.internalUse.getMinZoom(),r=Math.max(n.internalUse.getMaxZoom(),e+1),o=t):(e=Math.log(i.getMinZoom()),r=Math.log(i.getMaxZoom()),o=Math.log(t));var a=(o-e)/(r-e);return Math.floor(S+(1-a)*(I-S))}function O(t){var e,r=1-(t-S)/(I-S);if(c()){var o=n.internalUse;e=(o.getMaxZoom()-o.getMinZoom())*r+o.getMinZoom()}else e=Math.exp(r*(Math.log(i.getMaxZoom())-Math.log(i.getMinZoom()))+Math.log(i.getMinZoom()));return e}function R(){return i.height()<300}l._zoomIn=function(){t.zoomIn(!0)},l._zoomOut=function(){t.zoomOut(!0)},l._panLeft=function(){t.pan("left",!0)},l._panRight=function(){t.pan("right",!0)},l._panUp=function(){t.pan("up",!0)},l._panDown=function(){t.pan("down",!0)},l._fitToWindow=function(){t.fitToModel(!0)},l._toggleMode=function(){var e=t.options();e.handMode=!e.handMode,t.options(e)},l._scale=function(t,e,n){T(n,!0)},s._zoomIn="pointer",s._zoomOut="pointer",s._panLeft="pointer",s._panRight="pointer",s._panUp="pointer",s._panDown="pointer",s._fitToWindow="pointer",s._toggleMode="pointer",s._scale="pointer",s._slider='grab, url("'+jh["openhand.png"]+'"), pointer',a._slider=function(r){var a=!1;o._slider="slider";var s=r,u=c()?i.zoom():i.settings();return R()||e.trigger("dragstart","slider")?null:(c()&&n.internalUse.enableDragging(!1),{type:"slider",rebuild:{drawOnly:!0},getCursor:function(){return"move"},setLastProps:function(t){s=t},getLastProps:function(){return s},dragMove:function(t){s=t,t.dragging.started&&T(t.y,!1)},endDrag:function(r){a||(a=!0,(e.trigger("dragend","slider")||r)&&(c()&&"number"==typeof u?t.setZoom(u,!1):"number"!=typeof u&&i.fromSettingsDirect(u,!1)),c()&&n.internalUse.enableDragging(!!t.options().handMode),e.trigger("dragcomplete","slider"))}})};var B={generate:function(t,e,n,r,i){if(!i){t.setLayer(Ni.OVERLAYS),t.image(n.scale(C+5),n.scale(E+6),n.scale(C+57),n.scale(E+58),h,null,-1,"co",0,!0);var o=100;R()?t.image(n.scale(C+16),n.scale(E+o),n.scale(C+16+x.im.width/2),n.scale(E+o+x.im.height/2),v,null,-1,"co",0,!0):t.image(n.scale(C+16),n.scale(E+o),n.scale(C+16+b.im.width/2),n.scale(E+o+b.im.height/2),p,null,-1,"co",0,!0);var a=C+19,s=E+64,u=n.scale(a),l=n.scale(s),c=n.scale(a+28),f=n.scale(s+32),d=L()?m:y;t.image(u,l,c,f,d,null,-1,null,0,!0),t.setLayer(Ni.OVERLAYSSHADOW),t.image(u,l,c,f,d,"_toggleMode",-1,null,0,!1);var A=23,_=39,k=R()?124:222;if(w(t,n,C+A,E+105,C+_,E+105+18,"_zoomIn"),w(t,n,C+A,E+k,C+_,E+k+18,"_zoomOut"),w(t,n,C+5,E+A,C+A,E+_,"_panLeft"),w(t,n,C+_,E+A,C+57,E+_,"_panRight"),w(t,n,C+A,E+5,C+_,E+A,"_panUp"),w(t,n,C+A,E+_,C+_,E+57,"_panDown"),w(t,n,C+A,E+A,C+_,E+_,"_fitToWindow"),R()||w(t,n,C+A,E+105+18,C+_,E+k,"_scale"),w(t,n,C+A-3,E+68,C+_+3,E+68+22,"_toggleMode"),!R()){var S=P(n.zoom()),I=n.scale(M),T=n.scale(S),O=n.scale(M+21),B=n.scale(S+12);t.image(I-4,T-4,O+4,B+4,g,"_slider",-1,null,0,!1),t.setLayer(Ni.OVERLAYS),t.image(I,T,O,B,g,null,-1,null,0,!0)}}}};u.push(B)},addOverview:function(n,i,c,x,w,k,C){var E=w.p&&_[w.p]?w.p:"se",M=A("Arrow-"+_[E],k),S=A("Arrow-"+E,k);w.size=w.size||100,d=w.size,p=!!w.shown,v="n"===E.charAt(0),g="w"===E.charAt(1);var I=(h=x(d,d)).getContext("2d"),L=!1,T=!1,P=Date.now(),O=tv(d,d,t,e);function R(t){var e={x1:c.viewToWorldX(c.scale(-t)),x2:c.viewToWorldX(c.scale(c.width()+t)),y1:c.viewToWorldY(c.scale(-t)),y2:c.viewToWorldY(c.scale(c.height()+t))};return{x1:O.worldToViewX(e.x1),x2:O.worldToViewX(e.x2),y1:O.worldToViewY(e.y1),y2:O.worldToViewY(e.y2)}}l._overviewIcon=function(){w.shown=!w.shown,p=w.shown,e.trigger("overview",p?"open":"close"),t.privateFire("redraw",{drawOnly:!0})},s._overviewIcon="pointer";var B,z,D=null,j=!1,F=0,Z=0,N=0,V=0;function G(){N+=B.x,V+=B.y,t.privateFire("redraw")}function Y(){z&&(clearInterval(z),z=null)}function W(t){var e=Math.max(t.width(),t.height())/2;O.reset(!1);var n=R(e);O.fitExtents(n,null,!1,!1,void 0,void 0,void 0,!0);var r=t.getMaxItemZoom();r!==1/0&&O.setMaxItemZoom(r/8),j&&O.panBy(N,V,!1,!0)}function U(t,e){return{x1:t.scale(g?-1:t.width()-e),y1:t.scale(v?-1:t.height()-e),x2:t.scale(g?e:t.width()+1),y2:t.scale(v?e:t.height()+1)}}s._overviewBox='url("'+jh["openhand.png"]+'"), pointer',a._overviewBox=function(t){var r=!1,i="overview";if(o._overviewBox="overview",e.trigger("dragstart",i))return null;var a=t;j=t.dragging.started,F=0,Z=0,N=0,V=0;var s=2-D.x1,u=d-D.x2-2,l=2-D.y1,f=d-D.y2-2;return{type:i,rebuild:{drawOnly:!0},setLastProps:function(t){a=t},getLastProps:function(){return a},getCursor:function(){return"move"},dragMove:function(t){if(a=t,t.dragging.started){Y(),F=t.x-t.dragging.startX,Z=t.y-t.dragging.startY,B={x:0,y:0};var e=!1;F<s&&(F=s,B.x=2,e=!0),F>u&&(F=u,B.x=-2,e=!0),Z<l&&(Z=l,B.y=2,e=!0),Z>f&&(Z=f,B.y=-2,e=!0),e&&(z=lt(G,50))}},endDrag:function(t){if(!r){if(r=!0,j=!1,Y(),!e.trigger("dragend","overview")&&!t){var i=-(F-N)*(c.zoom()/O.zoom()),o=-(Z-V)*(c.zoom()/O.zoom());n.panBy(i,o,!0)}e.trigger("dragcomplete","overview")}}}};var X={generate:function(e,o,a,s,u){if(!u){var l=Math.max(1,a.scale(1));if(p){var c=U(a,d),h=w.borderColour||y;if((q=w.backColour)||(q="dark"===k&&C?C:m),e.setLayer(Ni.OVERLAYSSHADOW),e.rect(c.x1,c.y1,c.x2,c.y2,q,-1,q,!0,"_overviewBorder1",-1),e.rect(c.x1,c.y1,c.x2,c.y2,h,l,q,!1,"_overviewBorder2",-1),e.setLayer(Ni.OVERVIEW),e.rect(c.x1,c.y1,c.x2,c.y2,h,l,q,!1,null,-1),i){var x=Date.now();if(L&&!j&&x<P+1e3&&T)t.privateFire("redraw");else{if(P=Date.now(),L=!0,o.webgl)W(a),n.setOverviewView(O);else{I.clearRect(0,0,d,d);var A=_n(q,1/hn(q));I.fillStyle=A,I.fillRect(0,0,d,d),W(a),Mi(e,I,null,O,n.options(),!1,!0,null,!1,0,0,void 0,r)}T=Date.now()-P>30}D||(D=R(0));var _=j?F:0,E=j?Z:0,B=j?"_overviewBoxDragging":"_overviewBox",z=a.scale(g?D.x1+_:a.width()-d+D.x1+_),N=a.scale(v?D.y1+E:a.height()-d+D.y1+E),V=a.scale(g?D.x2+_:a.width()-d+D.x2+_),G=a.scale(v?D.y2+E:a.height()-d+D.y2+E),Y=Math.max(1,a.scale(2)),X=w.borderColour||f||y,H=_n(X,.5);e.setLayer(Ni.OVERVIEWSHADOW),e.rect(z,N,V,G,X,Y,H,!j,B,-1),e.setLayer(Ni.OVERVIEW),e.rect(z,N,V,G,X,Y,H,!j,B,-1)}}var K=p?S:M,Q=r.get(K,!1,!0).im;if(w.icon){var J=Q.width/2,q=(h="dark"===k?b:y,"dark"===k?$e.darkmodeblue:$e.white),$=U(a,J);e.setLayer(Ni.OVERVIEW),e.rect($.x1,$.y1,$.x2,$.y2,h,l,q,!0,"_overviewIconRect",-1),e.image(a.scale(g?0:a.width()-J),a.scale(v?0:a.height()-J),a.scale(g?J:a.width()),a.scale(v?J:a.height()),K,"_overviewIcon",-1,"co",0,!0),r.getControlColourImage(K),e.setLayer(Ni.OVERVIEWSHADOW);var tt=2*J;e.rect(a.scale(g?-1:a.width()-tt),a.scale(v?-1:a.height()-tt),a.scale(g?tt:a.width()+1),a.scale(v?tt:a.height()+1),y,-1,m,!0,"_overviewIcon",-1)}}}};u.push(X)},addTextWatermark:function(t,e){var n,o=Ct(t,{fs:80,fc:$e.lightgrey,ff:e}),a=o.u,s=o.t,l=o.fs,c=o.fc,f=o.fb,d=o.fbc,h=o.a,p=o.ff,v=l*i;a&&(n=r.get(a,!1,!0));var g={watermarkSize:function(t){var e,r;if(n){var i=n.im;e=i.width,r=i.height}else s&&(e=ir(t,s,v,f,p).width,r=v);return e?{width:e+10,height:r+10}:null},generate:function(t,e,r){var i,o;if(t.setLayer(Ni.UNDERLAYS),n){var u=n.im;i=r.scale((r.width()-u.width)/2),o=r.scale((r.height()-u.height)/2),t.image(i,o,i+r.scale(u.width),o+r.scale(u.height),a,null,-1,null,0,!1)}else if(s){var l=r.scale(v),g=ir(e,s,v,f,p).width;i=r.scale((r.width()-g)/2),o=r.scale((r.height()+v)/2);var m=-3.5,y=Math.floor(l/8);"top"===h&&(o=l+y),"bottom"===h&&(o=r.scale(r.height())+1),d&&t.rect(i-m,o-l-y,i+g+m+y,o,d,-1,d,!0,null,-1),t.text(r.scale(r.width()/2),o-l/2,s,c,l,!!f,null,-1,p,!0,g,!1,!1,i+m,o-l,i+g+m,o)}}};u.push(g)},chooseDefaultDragger:function(t){return o[t]||null},createDragger:function(t,e){return t in a?a[t](e):null},doclick:function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t&&l[t]&&l[t].apply(l,sr([t,e,n],r))},drawOverviewContent:function(t,e){if(p&&h){var n=e.scale(d);t.drawImage(h,0,0,n,n,e.scale(g?0:e.width()-d),e.scale(v?0:e.height()-d),n,n)}},generate:function(t,e,n,r,i){t.setLayerPath(null);for(var o=0;o<u.length;o++)u[o].generate(t,e,n,r,i)},getCursor:function(t){return t&&t in s?s[t]:"auto"},getWatermarkSize:function(t){for(var e=0;e<u.length;e++){var n=u[e];if(n.watermarkSize)return n.watermarkSize(t)}return null},remove:function(t,e,n){var r=42*i,o={generate:function(i,o,a){i.setLayer(Ni.OVERLAYS_REQUIRED);var s=ir(o,t,r).width,u=a.scale((a.width()-s)/2),l=a.scale((a.height()+r)/2);i.text(u+2,l+2-a.scale(r)/2,t,n,a.scale(r),!0,null,-1,void 0,!1,s,!1,!1,u+2,l+2-a.scale(r),u+2+s,l+2),i.text(u,l-a.scale(r)/2,t,e,a.scale(r),!0,null,-1,void 0,!1,s,!1,!1,u,l-a.scale(r),u+s,l)}};u.push(o)},reset:x,setup:function(t){x(),f=en(t[0],t[1],t[2],1)}}}var nv,rv="Unable to export, failed to create canvas",iv="Unable to export, failed to create export SVG",ov="Unable to export",av=function(t){return"Unable to export: "+t.name+" - "+t.message},sv="Font specified but not embedded in exported file",uv="Error loading font",lv="Fonts to embed should be supplied in .woff or .ttf format",cv="Bold weight font not supplied: bold formatting will not be applied in export",fv="Regular weight font not supplied: bold variant will be used instead",dv="Font dictionary should contain a single entry for font",hv="data:application/font-",pv=new RegExp("^"+hv+"([^;]*);"),vv=["woff","ttf"];function gv(t,e,n,r){var i={type:"font",fontFamily:n,msg:e};r&&(i.src=null==r?void 0:r.src,i.weight=null==r?void 0:r.weight),t.push(i)}function mv(t,e,n,r){Object.keys(e).forEach((function(e){gv(t,sv,e)})),n&&Object.keys(n).forEach((function(e){gv(t,cv,e)})),r&&Object.keys(r).forEach((function(e){gv(t,fv,e)}))}function yv(t,e,n,r){-1===vv.indexOf(n)&&gv(r,lv,e,t)}function bv(t,e,n,r,i){var o=0;function a(t,r,a){var s,u=r.src,l=u.match(pv);if(l){if(s=l[1],yv(r,a,s,e),i)return void i(t,r,s)}else s=u.slice((Math.max(0,u.lastIndexOf("."))||1/0)+1),yv(r,a,s,e);var c=new XMLHttpRequest;c.open("GET",u),c.responseType="arraybuffer",c.onload=function(){c.readyState===c.DONE&&200===c.status?n(t,c.response,s):gv(e,uv,a,r),--o},c.onerror=function(){gv(e,uv,a,r),--o},++o,c.send()}var s={};q(t,(function(t,n){var r=$t(n).toLowerCase();t.forEach((function(t){var n="bold"===t.weight?r+"-bold":r;s[n]?s[n].duplicateWarning||(e.push({type:"font",fontFamily:r,msg:dv,weight:t.weight||"regular"}),s[n].duplicateWarning=!0):s[n]=ar(ar({},t),{duplicateWarning:!1}),a(n,t,r)}))})),function t(){o>0?setTimeout(t,100):r()}()}function xv(t){return function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{e=t.apply(void 0,n)}catch(t){throw new Error(t.message?av(t):ov)}return e}}function wv(t,e,n,r,i){var o=function(r){return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}},a=o(i),s=o(r),u=i-r<=Math.PI?"0":"1";return"M "+a.x+" "+a.y+" A "+n+" "+n+" 0 "+u+" 0 "+s.x+" "+s.y}function Av(t,e){t.beginPath(),e.segments.forEach((function(e){switch(e.type){case an.MoveTo:t.moveTo(e.value[0],e.value[1]);break;case an.LineTo:t.lineTo(e.value[0],e.value[1])}})),e.closed&&t.closePath();var n=e.stroke,r=n.width,i=n.colour,o=n.opacity;t.strokeStyle=_n(i,o),t.lineWidth=r,e.fill&&(t.fillStyle=_n(e.fill.colour,e.fill.opacity)),t.stroke(),e.fill&&t.fill()}var _v=((nv={})[rn.arc]=Sr,nv[rn.bezier]=zr,nv[rn.circle]=Lr,nv[rn.rect]=Or,nv[rn.line]=Pr,nv[rn.triangle]=Br,nv[rn.text]=Rr,nv[rn.image]=Tr,nv[on.smootharea]=Av,nv);function kv(t,e){return function(t,e){for(var n=atob(t.split(",")[1]),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([i],{type:e})}(t.toDataURL(e),e)}function Cv(t,e){var n;return{pluginType:"export-image",name:t,load:function(r,i,o){n=i,r.width*r.height>100*Math.pow(2,20)&&n.push({type:"size",msg:"Exported image exceeds 100 megapixels and could fail to export successfully due to browser memory limitations."});var a=Ei(r.width,r.height),s=Ei(r.width,r.height),u=a;if(!u||!s)throw new Error(rv);o({drawPrimitive:function(t){(0,_v[t.type])(u,t,e)},drawToBackground:function(){u=s},drawToForeground:function(){u=a},commitBackground:function(){var t=null==s?void 0:s.canvas;if(!a||!t)throw new Error(ov);a.globalAlpha=r.backgroundAlpha,a.drawImage(t,0,0,t.width,t.height),a.globalAlpha=1,s=Ei(r.width,r.height)},finish:function(e){if(!a)throw new Error(ov);var r=a.canvas;if(!r)throw new Error(ov);var i="image/"+t,o=function(t){if(!t)throw new Error(ov);e({url:window.URL.createObjectURL(t),warnings:n})};void 0!==r.toBlob?r.toBlob(o,i):o(kv(r,i))}})}}}var Ev="http://www.w3.org/2000/svg",Mv={arial:!0,"'courier new'":!0,georgia:!0,tahoma:!0,"'times new roman'":!0,"'trebuchet ms'":!0,verdana:!0,cursive:!0,emoji:!0,fangsong:!0,fantasy:!0,math:!0,monospace:!0,"sans-serif":!0,serif:!0,courier:!0,helvetica:!0,times:!0},Sv={otf:"opentype",ttf:"truetype"};function Iv(t,e){var n=document.createElementNS(Ev,t);return q(e,(function(t,e){n.setAttribute(e,t)})),n}function Lv(t){var e,n,r,i,o,a,s;function u(t){var e="gradient"+s++,n=Iv("linearGradient",{id:e,gradientUnits:"userSpaceOnUse",x1:""+t.direction.start.x,y1:""+t.direction.start.y,x2:""+t.direction.end.x,y2:""+t.direction.end.y});return t.stops.sort((function(t,e){return t.offset-e.offset})).forEach((function(t){var e=Iv("stop",{offset:""+t.offset,"stop-color":t.colour,"stop-opacity":""+t.opacity});n.appendChild(e)})),a.appendChild(n),e}function l(t){var e=t.angle,n=t.origin,r=function(t){return t*(180/Math.PI)}(e);return"translate("+n.x+" "+n.y+") rotate("+r+")"}function c(t,e,n,r){void 0===r&&(r=0);var i={};if("gradient"===t.type){var o=u(t);i.stroke="url(#"+o+")"}else i.stroke=t.colour,i["stroke-opacity"]=""+t.opacity;return i["stroke-width"]=""+e,n&&(i["stroke-dasharray"]=n.dash+" "+n.gap,i["stroke-dashoffset"]=""+((n.dashOffset||0)+r),n.dash<1&&(i["stroke-linecap"]="round")),i}function f(t){return t?{fill:t.colour,"fill-opacity":""+t.opacity}:{fill:"none"}}function d(t,e){if(t&&t.width>0){var n={stroke:t.colour,"stroke-opacity":""+t.opacity,"stroke-width":""+t.width};return e&&(n["stroke-dasharray"]=e.dash+" "+e.gap),n}return{stroke:"none"}}function h(t){var e=t.rotation,n=t.x1,r=t.y1,i={x:""+n,y:""+r,width:""+(t.x2-n),height:""+(t.y2-r),opacity:""+t.alpha};return e&&(i.transform=l(e)),i}function p(t,e,n){var r={x:""+t,y:""+e};return n&&(r.transform=l(n)),r}var v=((e={})[rn.arc]=function(t,e){var n=e.x,r=e.y,i=e.r,o=e.segments,a=e.dashing,s=e.strokeWidth;o.forEach((function(e){var o=e.startAngle,u=e.endAngle,l=e.strokeStyle,f=e.offset,d=Iv("path",ar({d:wv(n,r,i,o,u),fill:"none"},c(l,s,a,f)));t.appendChild(d)}))},e[rn.bezier]=function(t,e){var n=e.segments,r=e.strokeWidth,i=e.dashing;n.forEach((function(e){var o=e.xs,a=e.ys,s=e.strokeStyle,u=e.offset,l=Iv("path",ar({d:"M "+o[0]+" "+a[0]+" C "+o[1]+" "+a[1]+" "+o[2]+" "+a[2]+" "+o[3]+" "+a[3],fill:"none"},c(s||n[0].strokeStyle,r,i,u)));t.appendChild(l)}))},e[rn.circle]=function(t,e){var n=e.x,r=e.y,i=e.r,o=e.fill,a=e.stroke,s=e.dashing,u=Iv("circle",ar(ar({cx:""+n,cy:""+r,r:""+i},f(o)),d(a,s)));t.appendChild(u)},e[rn.rect]=function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.fill,s=e.stroke,c=e.cornerRadius,h=e.rotation,p=Iv("g",{}),v=c?{rx:""+c,ry:""+c}:{};h&&(v.transform=l(h));var g=i-n,m=o-r,y="gradient"===(null==a?void 0:a.type)?{fill:"url(#"+u(a)+")"}:f(a),b=Iv("rect",ar(ar(ar({x:""+n,y:""+r,width:""+g,height:""+m},v),y),d(s)));p.appendChild(b),t.appendChild(p)},e[rn.line]=function(t,e){var n=e.start,r=e.end,i=e.strokeStyle,o=e.strokeWidth,a=e.dashing,s=e.offset,u=Iv("path",ar({d:"M "+n.x+" "+n.y+" L "+r.x+" "+r.y,fill:"none"},c(i,o,a,s)));t.appendChild(u)},e[rn.triangle]=function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.x3,s=e.y3,u=e.fill,c=e.stroke,h=e.rotation,p=ar(ar({},f(u)),d(c));h&&(p.transform=l(h)),p.points=n+", "+r+" "+i+", "+o+" "+a+", "+s,t.appendChild(Iv("polygon",p))},e[rn.text]=function(t,e){var o=e.text,a=e.x,s=e.y,u=e.rotation,l=e.size,c=e.colour,f=e.fontFamily,d=e.isBold,h=e.textAlign,v=!0,g=$t(f).toLowerCase();if(d&&n[g+"-bold"])i[g+="-bold"],v=!1;else if(n[g])i[g]=!0;else if(!Mv[g]&&(r[g]=!0,e.isFontIcon)){var m=function(t){var e=t.size,n=t.colour,r=t.fontFamily,i=t.text,o=t.x,a=t.y,s=t.rotation,u=$t(r).toLowerCase(),l=1.5*e,c=Math.max(2*l,128),f=c/1.5,d=c/2,h=document.createElement("canvas");h.width=c,h.height=c;var v=h.getContext("2d");if(!v)return null;v.fillStyle=n.colour,v.textAlign="center",v.textBaseline="middle",v.font=f+"px "+u,v.fillText(i,d,d);var g=p(o-l/2,a-l/2,s);return Iv("image",ar(ar({href:h.toDataURL()},g),{width:""+l,height:""+l,opacity:""+n.opacity}))}(e);if(m)return void t.appendChild(m)}var y=ar({"font-family":g+("sans-serif"===g?"":", sans-serif"),"font-size":l+"px",fill:c.colour,"fill-opacity":""+c.opacity,"dominant-baseline":"central","text-anchor":"center"===h?"middle":"start"},p(a,s,u));d&&v&&(y["font-weight"]="bold");var b=Iv("text",y);b.textContent=function(t){return t.replace(/([\u0000-\u001f\u007f-\u009f])/g,"")}(o),t.appendChild(b)},e[rn.image]=function(e,n){var r=document.createElementNS(Ev,"g");e.appendChild(r);var i=n.specifier,o=n.src,a=n.x1,s=n.y1,u=n.x2,l=n.y2;"ci"===i&&r.setAttribute("clip-path","url(#cut-out-clip-path)");var c="url"===o.type?t.getSVG(o.url):null;if(c){var f=c.cloneNode(!0);if(!f.getAttribute("viewBox")){var d=f.getAttribute("width"),p=f.getAttribute("height");d&&p&&f.setAttribute("viewBox","0 0 "+parseInt(d)+" "+parseInt(p))}q(h(n),(function(t,e){f.setAttribute(e,t)})),r.appendChild(f)}else{var v=Math.min(u-a,l-s),g=v<64?128/v:2,m=(d=(u-a)*g,p=(l-s)*g);if(m="url"===o.type?t.getDataUri(o.url,d,p):Ip(o.el,d,p)){var y=Iv("image",ar({href:m,preserveAspectRatio:"none"},h(n)));r.appendChild(y)}else r.appendChild(function(t){return Iv("image",ar({href:kp,preserveAspectRatio:"none"},h(t)))}(n))}},e[on.smootharea]=function(t,e){},e);return{pluginType:"export-image",name:"svg",load:function(e,u,l){var c=e.width,f=e.height,d=e.fonts,h=function(t,e){return Iv("svg",{width:""+t,height:""+e,viewBox:"0 0 "+t+" "+e})}(c,f),p=document.createElementNS(Ev,"g"),g=h;if(!g)throw new Error(iv);n={},r={},i={},o=u,a=document.createElementNS(Ev,"defs"),h.appendChild(a),a.appendChild(function(){var t=Iv("clipPath",{id:"cut-out-clip-path",clipPathUnits:"objectBoundingBox"}),e=Iv("ellipse",{cx:"0.5",cy:"0.5",rx:"0.5",ry:"0.5"});return t.appendChild(e),t}()),s=0;var m={drawPrimitive:function(e){(0,v[e.type])(g,e,t)},drawToBackground:function(){g=p},drawToForeground:function(){g=h},commitBackground:function(){if(!p||!h)throw new Error(ov);p.setAttribute("opacity",""+e.backgroundAlpha),h.appendChild(p),p=document.createElementNS(Ev,"g")},finish:function(t){if(!h)throw new Error(ov);Object.keys(i).forEach((function(t){!function(t,e){var n=document.createElementNS(Ev,"style"),r=Sv[e.format]||e.format;n.setAttribute("type","text/css"),n.textContent+="\n    @font-face {\n      font-family: "+t+';\n      src: url("'+e.src+'") format("'+r+'");\n    }',a.appendChild(n)}(t,n[t])}));var e=(new XMLSerializer).serializeToString(h),s=new Blob([e],{type:"image/svg+xml"});if(mv(o,r),!s)throw new Error(ov);t({url:URL.createObjectURL(s),warnings:o})}};d?function(t,e){bv(t,o,(function(t,e,r){var i=function(t){for(var e=new Uint8Array(t),n=e.byteLength,r="",i=0;i<n;i++)r+=String.fromCharCode(e[i]);return window.btoa(r)}(e);n[t]={src:""+hv+r+";charset=utf-8;base64,"+i,format:r},"-bold"!==t.slice(-5)||n[t.slice(0,-5)]||(n[t.slice(0,-5)]=n[t])}),(function(){l(m)}),(function(t,e,r){n[t]={src:e.src,format:r}}))}(d):l(m)}}}var Tv={courier:{regular:"Courier",bold:"Courier-Bold",asciiOnly:!0},"courier-oblique":{regular:"Courier-Oblique",bold:"Courier-BoldOblique",asciiOnly:!0},helvetica:{regular:"Helvetica",bold:"Helvetica-Bold",asciiOnly:!0},"helvetica-oblique":{regular:"Helvetica-Oblique",bold:"Helvetica-BoldOblique",asciiOnly:!0},"times-roman":{regular:"Times-Roman",bold:"Times-Bold",asciiOnly:!0},"times-italic":{regular:"Times-Italic",bold:"Times-BoldItalic",asciiOnly:!0},symbol:{regular:"Symbol",bold:"Symbol",asciiOnly:!0},zapfdingbats:{regular:"ZapfDingbats",bold:"ZapfDingbats",asciiOnly:!0},"courier-bold":{regular:"Courier-Bold",bold:"Courier-Bold",asciiOnly:!0},"courier-boldoblique":{regular:"Courier-BoldOblique",bold:"Courier-BoldOblique",asciiOnly:!0},"helvetica-bold":{regular:"Helvetica-Bold",bold:"Helvetica-Bold",asciiOnly:!0},"helvetica-boldoblique":{regular:"Helvetica-BoldOblique",bold:"Helvetica-BoldOblique",asciiOnly:!0},"times-bold":{regular:"Times-Bold",bold:"Times-Bold",asciiOnly:!0},"times-bolditalic":{regular:"Times-BoldItalic",bold:"Times-BoldItalic",asciiOnly:!0}},Pv={monospace:"courier","sans-serif":"helvetica",serif:"times-roman","system-ui":"helvetica","ui-monospaced":"courier","ui-serif":"times-roman"};function Ov(t){var e,n,r,i,o,a,s,u,l,c,f=!1;function d(t,e,n,r){void 0===r&&(r=1),Object.keys(t.page.fonts).length&&(e.resources.data.Font=t.page.fonts),Object.keys(t.page.xobjects).length&&(e.resources.data.XObject=t.page.xobjects),Object.keys(t.page.ext_gstates).length&&(e.resources.data.ExtGState=t.page.ext_gstates),Object.keys(t.page.patterns).length&&(e.resources.data.Pattern=t.page.patterns),e.resources.end(),e.xobj.end(),t._ctm=e.savedMatrix,t.page=e.savedPage,n&&(t.fillOpacity(r),t.page.xobjects[e.name]=e.xobj,t.addContent("/"+e.name+" Do"))}function h(t,e){var n=t.linearGradient(e.direction.start.x,e.direction.start.y,e.direction.end.x,e.direction.end.y),r=e.stops[0];n.stop(0,"#"+mn(r.colour),r.opacity),e.stops.sort((function(t,e){return t.offset-e.offset})).forEach((function(t){n.stop(t.offset,"#"+mn(t.colour),t.opacity)}));var i=e.stops[e.stops.length-1];return n.stop(1,"#"+mn(i.colour),i.opacity),n}function p(t,e,n,r,i){void 0===i&&(i=0),"gradient"===e.type?t.strokeColor(h(t,e)):t.strokeColor("#"+mn(e.colour),e.opacity),t.lineWidth(n).lineCap("butt"),r?(t.dash(r.dash,{space:r.gap,phase:(r.dashOffset||0)+i}),r.dash<1&&t.lineCap("round")):t.undash()}function v(t,e){return!!e&&(t.fillColor("#"+mn(e.colour),e.opacity),!0)}function g(t,e,n){return!!(e&&e.width>0)&&(t.strokeColor("#"+mn(e.colour),e.opacity).lineWidth(e.width).lineCap("butt"),n?t.dash(n.dash,{space:n.gap}):t.undash(),!0)}function m(t,e,n){e&&n?t.fillAndStroke():e?t.fill():n&&t.stroke()}function y(t,e,n,r,i,o,a){var s=e.x,u=e.y,l=e.colour,c=e.fontFamily,f=e.text,d=document.createElement("canvas");d.width=r,d.height=r;var h=d.getContext("2d");h&&(h.fillStyle=l.colour,h.textAlign="center",h.textBaseline=i,h.font=n+"px '"+c+"'",h.fillText(f,.5*r,r*o),t.image(d.toDataURL(),s-a/2,u-a/2,{fit:[a,a],align:"center",valign:"center"}))}var b={arc:function(t,e){var n=e.x,r=e.y,i=e.r,o=e.segments,a=e.dashing,s=e.strokeWidth;o.forEach((function(e){var o=e.startAngle,u=e.endAngle,l=e.strokeStyle,c=e.offset;p(t,l,s,a,c),t.path(wv(n,r,i,o,u)).stroke()}))},bezier:function(t,e){var n=e.segments,r=e.strokeWidth,i=e.dashing;n.forEach((function(e){var o=e.xs,a=e.ys,s=e.strokeStyle,u=e.offset;p(t,s||n[0].strokeStyle,r,i,u);var l=["M",o[0],a[0],"C",o[1],a[1],o[2],a[2],o[3],a[3]].join(" ");t.path(l).stroke()}))},circle:function(t,e){var n=e.x,r=e.y,i=e.r,o=e.fill,a=e.stroke,s=e.dashing;t.circle(n,r,i),m(t,v(t,o),g(t,a,s))},rectangle:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.fill,s=e.stroke,u=e.cornerRadius,l=e.rotation,c=i-n,f=o-r;l&&t.translate(l.origin.x,l.origin.y).rotate(180*l.angle/Math.PI),u?t.roundedRect(n,r,c,f,u):t.rect(n,r,c,f);var d=!1;"gradient"===(null==a?void 0:a.type)?(t.fillColor(h(t,a)),d=!0):d=v(t,a),m(t,d,g(t,s))},line:function(t,e){var n=e.start,r=e.end;p(t,e.strokeStyle,e.strokeWidth,e.dashing,e.offset);var i=["M",n.x,n.y,"L",r.x,r.y].join(" ");t.path(i).stroke()},triangle:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.x3,s=e.y3,u=e.fill,l=e.stroke,c=e.rotation;c&&t.translate(c.origin.x,c.origin.y).rotate(180*c.angle/Math.PI),t.polygon([n,r],[i,o],[a,s]),m(t,v(t,u),g(t,l))},text:function(t,s){var u=s.text,l=s.x,c=s.y,f=s.rotation,d=s.size,h=s.colour,p=s.fontFamily,v=s.isBold,g=s.textAlign,m=s.isFontIcon;f&&t.translate(f.origin.x,f.origin.y).rotate(180*f.angle/Math.PI);var b=$t(p).toLowerCase();v?e[b+"-bold"]?b+="-bold":e[b]&&(r[b]=!0):!e[b]&&e[b+"-bold"]&&(i[b]=!0,b+="-bold");var x=!1;if(e[b])o[b]||(t.registerFont(b,e[b]),o[b]=!0),t.font(b);else{if(m)return n[b]=!0,void function(t,e){var n=1.5*e.size,r=Math.max(2*n,128);y(t,e,r/1.5,r,"middle",.5,n)}(t,s);var w=Tv[b]||Tv[Pv[b]];w||(n[b]=!0,w=a),t.font(v?w.bold:w.regular),x=w.asciiOnly}if(t.fontSize(d).fillColor("#"+mn(h.colour),h.opacity),m||x&&!ue(u)){var A="center"===g?l-t.widthOfString(u)/2:l;t.text(u,A,c,{lineBreak:!1,baseline:"middle"})}else{var _="",k=0,C=Ne(ce(le(u)),u,!1).result.map((function(t){return t.text})),E=C.reduce((function(e,n){return ue(n)?e+d:e+t.widthOfString(n)}),0),M="center"===g?l-E/2:l;C.forEach((function(e){ue(e)?(x&&(t.text(_,M,c,{lineBreak:!1,baseline:"middle"}),_="",M+=k,k=0),function(t,e){var n=1.25*e.size,r=Math.max(n,128);y(t,e,84*r/128,r,"alphabetic",.75,n)}(t,Ct({text:e,x:M+=d/2},s)),M+=d/2):x?(_+=e,k+=t.widthOfString(e)):(t.text(e,M,c,{lineBreak:!1,baseline:"middle"}),M+=t.widthOfString(e))})),x&&_.length>0&&t.text(_,M,c,{lineBreak:!1,baseline:"middle"})}},image:function(e,n){var r=n.src,i=n.x1,o=n.y1,a=n.x2,l=n.y2,c=n.specifier,f=a-i,d=l-o;function h(n){var a,s=Math.min(f,d),u=s<64?128/s:2,l=f*u,h=d*u;if("url"===r.type)if("png"===n||"jpeg"===n)a=t.getDataUri(r.url,l,h);else{var p=t.getHTMLElement(r.url,c);p&&(a=Ip(p,l,h))}else a=Ip(r.el,l,h);e.image(a||t.getMissingImage().src,i,o,{width:f,height:d})}"ci"===c&&e.ellipse((i+a)/2,(o+l)/2,f/2,d/2).clip();var p="url"===r.type?Tp(r.url):"";if(u&&"url"===r.type&&"svg"===p.slice(0,3)){var v=t.getSVG(r.url);if(v){var g=v.cloneNode(!0);try{SVGtoPDF(e,g,i,o,{width:f,height:d,preserveAspectRatio:"none"})}catch(t){s.push({type:"image",src:r.url,msg:"Unable to embed image as SVG: embedded as PNG instead."}),h(p)}return}}h(p)},smootharea:function(){}};return{pluginType:"export-image",name:"pdf",load:xv((function(h,p,v){e={},o={},n={},r={},i={},s=p,(u="function"==typeof SVGtoPDF)||s.push({type:"dependency",name:"svg-to-pdfkit",msg:"SVG-to-PDFKit not found: any SVGs in the chart will be rendered as PNGs in the export."});var g,m,y,x,w=h.width,A=h.height,_=h.heading,k=h.fonts,C=0;if(f)m=l.x,y=l.y;else{g=l.pipe(blobStream());var E=l.page,M=E.margins,S=M.left,I=M.right,L=E.width-S-I;C=(L-w)/2,_&&l.fontSize(l.page.height/30).text(_,{width:L,align:"center"}).moveDown()}l.translate(l.x+C,l.y),l.rect(0,0,w,A).clip();var T={drawPrimitive:function(e){var n=b[e.type];l.save(),n(l,e,t),l.restore()},drawToBackground:function(){x&&d(l,x,!1),x=function(t,e,n){var r={name:"G"+(t._groupCount=(t._groupCount||0)+1),resources:t.ref({}),xobj:t.ref({Subtype:"Form",BBox:[0,0,e,n],Group:{S:"Transparency",I:!0}}),savedMatrix:t._ctm,savedPage:t.page};return t._ctm=[1,0,0,1,0,0],t.page={width:t.page.width,height:t.page.height,write:function(t){r.xobj.write(t)},fonts:t.page.fonts,xobjects:t.page.xobjects,ext_gstates:t.page.ext_gstates,patterns:t.page.patterns},r}(l,w,A)},commitBackground:function(){x&&(d(l,x,!0,h.backgroundAlpha),x=void 0)},drawToForeground:function(){x&&(d(l,x,!1),x=void 0),l.fillOpacity(1)},finish:function(t){x&&(d(l,x,!1),x=void 0),mv(s,n,r,i),f?(l.restore(),l.font(c.font),l.fontSize(c.fontSize),l.x=m,l.y=y+A,t({warnings:s})):(l.end(),g.on("finish",(function(){t({url:g.toBlobURL("application/pdf"),warnings:s})})))}};k?function(t,n,r){var i="sans-serif",u=i+"-bold";bv(n,s,(function(t,n){e[t]=n}),(function(){if(e[i]){t.registerFont(i,e[i]),o[i]=!0;var n=i;e[u]&&(t.registerFont(u,e[u]),o[u],n=u),a={regular:i,bold:n,asciiOnly:!1}}else a=Tv.helvetica;v(T)}))}(l,k):(a=Tv.helvetica,v(T))})),initialize:xv((function(t){var e=t,n=e.doc,r=e.heading;if("undefined"==typeof PDFDocument||"object"!=typeof PDFDocument.prototype)throw new Error("PDFKit was not found. To export to PDF make sure pdfkit.standalone.js is included in your webpage");if(n instanceof PDFDocument){l=n,f=!0;try{l.save()}catch(t){throw new Error("Unable to use the supplied PDF doc. Ensure a valid PDFKit doc has been provided.")}c={font:l._font.name,fontSize:l._fontSize}}else{if("function"!=typeof blobStream)throw new Error("blobStream was not found. To export to PDF make sure blob-stream.js is included in your webpage");try{l=new PDFDocument(n)}catch(t){throw new Error("Unable to create PDF doc. Ensure valid PDFKit options have been provided.")}if(!l)throw new Error("No PDF doc created.")}var i=l.page.margins,o=i.left,a=i.right,s=i.top,u=i.bottom;if(!(dt(o)&&dt(a)&&dt(s)&&dt(u)))throw new Error('Invalid or missing margin value. Ensure a valid "margin" value or "margins" object has been specified for the PDF document.');var d=l.y,h=l.page.width-l.x-a;r&&!f&&(l.fontSize(l.page.height/30),d+=l.heightOfString(r,{width:h})+l.currentLineHeight(!0));var p=l.page.height-d-u;if(h<=0||p<=0)throw new Error("No space available on page for exported image.");return{availablePage:{width:h,height:p}}}))}}function Rv(){return{pluginType:"export-image",name:"test",load:function(t,e,n){var r=t.backgroundAlpha,i=[],o=[];t.fonts&&q(t.fonts,(function(t,e){t.forEach((function(t){i.push(ar({type:"font",fontFamily:e},t))}))}));var a=i;if(!a||!o)throw new Error(ov);n({drawPrimitive:function(t){a.push(t)},drawToBackground:function(){a=o},drawToForeground:function(){a=i},commitBackground:function(){i.push.apply(i,sr([{type:"background-start",backgroundAlpha:r}],o,[{type:"background-end"}]))},finish:function(t){var n=new Blob([JSON.stringify(i)],{type:"application/json"});t({url:URL.createObjectURL(n),warnings:e})}})}}}function Bv(t,e,n){var r,i,o,a,s=t.controller,u=s.modelExtents,l=s.isMapMode,c=t.getView(),f=e.extents,d=n&&n.availablePage,h=[],p=null,v=1;if("chart"!==f||l()||(p=u())||h.push({type:"size",msg:"Cannot use chart extents of empty chart: exporting view instead"}),p){var g=c.worldExtentsToView(p),m=g.x1,y=g.x2,b=g.y1,x=g.y2,w=Math.min(y-m,x-b)/8;r=y-m+w,i=x-b+w,o=(m+y)/2,a=(b+x)/2}else o=(r=c.width())/2,a=(i=c.height())/2;if(!l()){var A=e.fitTo,_=0,k=0;if("page"===A&&d?(_=d.width,k=d.height):A&&"page"!==A&&(_=dt(A.width)&&A.width||0,k=dt(A.height)&&A.height||0),_>0&&k>0){var C=_/k;r/i>C?i=r/C:r=i*C,v=Math.min(_/r,k/i)}else _>0?v=_/r:k>0&&(v=k/i)}var E=Math.max(1/r,1/i);E>v&&(v=E,h.push({type:"size",msg:"One or both dimensions are less than 1px: image will be scaled up."}));var M=!1;if(d){var S=Math.min(d.width/r,d.height/i);S<v&&(v=S,M=!0,h.push({type:"size",msg:"Exported image is larger than available page space: image will be scaled to fit the page."}))}var I=tv(r,i),L=c.settings().zoom*v;if(L<I.getMinZoom()&&(I.setMinZoom(L,!0),L<.001)){var T=Math.round(r*v*1e3)/1e3,P=Math.round(i*v*1e3)/1e3;h.push({type:"size",msg:"Export dimensions ("+T+"px X "+P+"px) below recommended values for current chart size and zoom level. "+(M?"Try increasing available page space or page size.":"Try supplying larger height and/or width dimensions in the fitTo export option.")})}I.setMaxZoom(1/0),I.fromSettingsDirect(c.settings(),!1);var O=c.worldCoordinates(o,a),R=O.x,B=O.y;I.width(r*v),I.height(i*v),I.setZoom(L,!1);var z=I.worldToViewX(R),D=I.worldToViewY(B),j=I.width()/2,F=I.height()/2;return I.panBy(-(z-j),-(D-F),!1,!0),{scale:v,exportView:I,sizeWarnings:h}}function zv(t,e,n,r,i){var o=document.createElement("canvas");o.width=t,o.height=e;var a=o.getContext("2d"),s=[];if(a){var u=i.backgroundColor||"rgba(255, 255, 255, 0.7)",l=i.color||"rgb(51, 51, 51)",c=i.fontFamily.split(",")[0].replace(/"/g,"")||"Helvetica",f=Number(i.fontSize.replace("px","")),d=Number(i.paddingLeft.replace("px","")),h=Number(i.paddingRight.replace("px","")),p=Number(i.lineHeight.replace("px","")),v=ir(a,n,f,!1,c).width,g=v+h+d;return g>t?function(t,e,n,r,i,o,a){for(var s=Math.ceil(t.length*n/r);r>n;){for(var u=t.lastIndexOf(" ",s),l=t.indexOf(" ",u+1),c=t.substring(0,u),f=t.substring(0,l),d=ir(i,c,o,!1,a).width,h=ir(i,f,o,!1,a).width;d>n||h<n&&h>0;)d>n?(l=u,u=t.lastIndexOf(" ",l-1)):(u=l,l=t.indexOf(" ",u+1)),c=t.substring(0,u),f=t.substring(0,l),d=ir(i,c,o,!1,a).width,h=ir(i,f,o,!1,a).width;e.push(c),r=ir(i,t=t.substring(u+1),o,!1,a).width}e.push(t)}(n,s,g=t,v,a,f,c):s.push(n),a.fillStyle=u,a.fillRect(0,0,t,e),a.fillStyle=l,a.textAlign="left",a.textBaseline="middle",a.font=f+"px '"+c+"'",s.forEach((function(t,e){a.fillText(t,d,p*(.5+e))})),r.get(o.toDataURL(),!1,!0)}}function Dv(t,e,n){var r,i,o=[];(null===(r=n.gradient)||void 0===r?void 0:r.stops)&&(o=function(t){return t.stops.sort((function(t,e){return t.r-e.r})).map((function(t){return ar({offset:t.r},Mn(t.c))}))}(n.gradient)),o.length>1&&!n.backColour?t.drawPrimitive({type:rn.rect,x1:0,y1:0,x2:e.width,y2:e.height,stroke:void 0,fill:{type:"gradient",direction:{start:{x:0,y:0},end:{x:0,y:e.height}},stops:o}}):t.drawPrimitive({type:rn.rect,x1:0,y1:0,x2:e.width,y2:e.height,stroke:void 0,fill:ar({type:"solid"},Mn(null!==(i=n.backColour)&&void 0!==i?i:"white"))})}function jv(t,e,n,r){var i,o=Ui(((i={})[Ni.BANDLABELS]={isContentLayer:!0,hideFromExport:!1,useView:!1},i[Ni.OVERLAYS_REQUIRED]={shadowType:-1,useView:!1,alwaysUpdate:!0,isContentLayer:!0,hideFromExport:!1},i)),a=ev(ef,wr,null,t,n),s={},u=e.bands;return(null==u?void 0:u.bands)&&(s.bands=et(u)),r(a,s,!1),{widgets:o,overlays:a}}function Fv(t,e,n,r,i){var o=document.createElement("canvas").getContext("2d");e.startGeneratingForExtras(),n.generate(e,o,i,null,!0),_i(e,i,r,!1,!1,r.backgroundAlpha,r.ghostAlpha,!0,void 0,t)}function Zv(t){var e=t.controller,n=e.getWidgets,r=e.getInternalChartOptions,i=e.getChartCanvas,o=e.isMapMode,a=e.getMapApi,s=e.initOverlays,u=t.imageManager,l=u.createImageLookup(),c=new Map;return c.set("png",Cv("png",l)),c.set("jpeg",Cv("jpeg",l)),c.set("test",Rv()),c.set("svg",Lv(l)),c.set("pdf",Ov(l)),{exportImage:function(e,l){var f=t.getView(),d=e.type,h=c.get(d);if(!h)throw new Error("Export format '"+d+"' not supported");var p=Cp(),v=function(t,e){return t.initialize&&t.initialize(e)}(h,e),g=Bv(t,e,v),m=g.scale,y=g.exportView,b=g.sizeWarnings,x=r(),w=n(),A={width:y.width(),height:y.height(),backgroundAlpha:x.backgroundAlpha};!function(t,e){if(/^(pdf|svg|test)$/.test(e.type)){var n=e.fonts;if(n&&gt(n)){var r={};Object.keys(n).forEach((function(t){var e=_t(n[t]);r[t]=[],e.forEach((function(e){"string"==typeof e.src&&r[t].push(e)}))})),t.fonts=r}t.noAdaptive=!0}"pdf"===e.type&&(t.heading=e.heading)}(A,e),function(t,e,n,r){"export-image"===t.pluginType&&t.name&&"function"==typeof t.load&&t.load(ar({},e),n,r)}(h,A,b,(function(t){var e,n;Dv(t,A,x);var r=Math.max(m,Math.min(y.width()/f.width(),y.height()/f.height())),c=jv(u,x,r,s),d=function(){!function(t,e,n,r,i,o,a,s){var u=xv(_i),l=xv(Fv);u(t,n,r,!1,!1,r.backgroundAlpha,r.ghostAlpha,!0,void 0,i,o,a),l(i,e.widgets,e.overlays,r,n),i.finish(s)}(w,c,y,x,t,m,A.noAdaptive,l)};if(o()){var h=i(),v=null===(e=a())||void 0===e?void 0:e.api.leafletMap();if(!h||!v)throw new Error("Unable to Export");var g=null===(n=v.attributionControl)||void 0===n?void 0:n._container;zp(v,h,!1,p,(function(e){var n;if(function(t,e,n,r,i){var o=e.settings().zoom/t.settings().zoom,a=0-r.minX,s=0-r.minY,u=r.minX*o,l=r.minY*o;r.tiles.forEach((function(t,e){var r;if(Rp(e)){var c=n.get(e.src);if(c.isMissing)return;r=c.im}else{if(!Bp(e))return;r=e}var f=(t.x-a)*o-u,d=(t.y-s)*o-l,h=f+t.width*o,p=d+t.height*o;i.drawPrimitive({type:rn.image,src:{type:"html",el:r},specifier:null,x1:f,y1:d,x2:h,y2:p,alpha:1})}))}(f,y,p,e,t),null==g?void 0:g.textContent){var i=window.getComputedStyle(g),o=Array.from((null===(n=g.parentElement)||void 0===n?void 0:n.classList)||[]),a=function(t,e,n,r,i){var o,a=Ui(((o={})[Ni.UNDERLAYS]={isContentLayer:!0,hideFromExport:!1,useView:!1},o)),s=ev(ef,wr,null,r,i),u=Number(e.width.replace("px","")),l=Number(e.height.replace("px","")),c=zv(u,l,t,r,e);return s.addMapAttribution(c,u*i,l*i,n),{widgets:a,overlays:s}}(g.textContent,i,o,u,r),s=a.widgets,l=a.overlays;u.waitForImages((function(){Fv(t,s,l,x,y),d()}))}else d()}))}else{var b=function(t,e,n){var r,i=e.bands,o=e.watermark,a=e.fontFamily,s=Ui(((r={})[Ni.UNDERLAYS]={isContentLayer:!0,hideFromExport:!1,useView:!1},r[Ni.BANDS]={isContentLayer:!0,hideFromExport:!1,useView:!1},r)),u=ev(ef,wr,null,t,n);return(null==i?void 0:i.bands)&&u.addBanding(i,a),o&&u.addTextWatermark(o,a),{widgets:s,overlays:u}}(u,x,r),_=b.widgets,k=b.overlays;Fv(t,_,k,x,y),d()}}))}}}var Nv=-50,Vv=50;function Gv(t){return gt(t)}function Yv(){throw new Error("Chart has been destroyed")}function Wv(t,e,n,r,i){var o=tf(),a=xr(),s=n.privateGetElement(),u=function(){var t=new Map;return{clear:function(){t.clear()},getImage:function(e){return t.get(e)},updateAlignmentRecords:function(e){Gv(e)&&Object.keys(e).forEach((function(n){var r=e[n];if(Gv(r)){var i=function(t){var e=1,n=0,r=0;return"e"in t&&dt(t.e)&&t.e>0&&(e=t.e),"dx"in t&&dt(t.dx)&&(n=re(t.dx,Nv,Vv)),"dy"in t&&dt(t.dy)&&(r=re(t.dy,Nv,Vv)),{e:e,dx:n,dy:r}}(r),o=parseInt(n,10);if(dt(o)){var a=String.fromCharCode(o);t.set(a,i)}else t.set(n,i);e[n]=i}}))}}}(),l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},c={animateProperties:function(t,e,n){P(t,e,n)},arrange:function(t,e,n,r){var i=function(t){var e=t||{};return e.tightness=j(e),Ct(e,{fit:!1,animate:!0,tidy:!1,ratio:D(),tightness:5})}(n);y.arrange(t||"grid",e,i,r)},bind:a.bind,clear:function(){a.trigger("prechange","delete"),o.fire("prechange",{type:"delete"}),y.load({type:"LinkChart",items:[],map:{keepSameMode:!0}},(function(){y.render()}))},combo:function(){return y.combo.api},contains:function(t){return g?g.contains(t):[]},createLink:function(t,e,n,r){var i=f.getItem(t);if(f.getItem(e))throw new Error("LinkId ("+e+") already exists and must be unique");if(t&&i&&"node"===i.type&&e){var a=Pt(e),s=Ct(n,{style:{}});o.privateOn("drag-end",(function t(e){var n=e.type,i=e.id;"create-link"===n&&(f.removeItem(u),o.privateOff("drag-end",t),xt(r,i===a?null:i))}));var u="dummyEnd"+Math.floor(1e7*Math.random()),l={type:"node",du:!0,id:u,x:i.x,y:i.y},c=p.worldToViewX(i.x),d=p.worldToViewY(i.y),h=Vt(s.style,{id:a,id1:t,id2:u,type:"link",_du:!0});f.merge([l,h],(function(){}));var v={x:c,y:d,dragging:{startX:c,startY:d,started:!0}};y.createNewLinkEndDragger(a,u+"\u2704id2",v)}},destroy:function(){f.setContainer(null),y.isMapMode()&&(h.api.leafletMap().remove(),y.setOverlayContext(null)),_.destroy(),y.destroy(),de={forced:{},auto:{}},function(t){Tn.delete(t)}(n.id()),k(),Qe={},Je={},nr={},rr={},Bn(),i.destroy(),g.destroy(),T(d.map()),T(d.combo()),T(d),u.clear(),y=null,p=null,v=null,g=null,m=null,a=null,o=null,y=null,b=null,f=null},each:function(t,e){var n=Ct(t,{type:"all",items:"underlying"});return b.each(n,!1,e)},expand:function(t,e,n){var r=e;function i(t){return function(e,n){if(c.filter&&Dt(e)){var r=et(c.filter);return r.animate=t,f.filter((function(t){var n=t;return e[n.id]?c.filter.filterFn(n):!n.hi}),r,n)}return n()}}function s(t,e,n){var r=c.arrange;r.animate=e,f.combo().arrange(t,r,n)}var u=["adaptive","nonadjacent","adjacent","none","all"],l=["adaptive","rectangle","circle","none"],c=Ct(r=r||{},{animate:!0,time:1e3,layout:{},arrange:{}});c.filter=function(t,e){var n;if(t.filter&&vt(t.filter.filterFn)){var r=t.filter.filterFn;return(n=B(t.filter)).time=Math.floor(e/5),n.filterFn=r,n}}(r,c.time),c.filter&&(c.time-=c.filter.time),c.layout=function(t){t.layout.animate=t.animate,t.layout.time=t.time;var e=t;t.layout=Ct(t.layout,{fit:e.fit,straighten:e.straighten,tidy:e.tidy,tightness:e.tightness});var n=Ct(t.layout,{absoluteFixed:!1,consistent:!0,easing:"cubic",expanding:!0,fit:!1,fix:"adaptive",name:"standard",packing:"adaptive",pinToFirstFixed:!0,tidy:!0});return n.fix=function(t){return u.indexOf(t)>=0?t:u[0]}(n.fix),"adaptive"!==n.fix&&(n.absoluteFixed=!0),"organic"===n.name&&"adaptive"===n.fix&&(n.mode="adaptive",n.fix="none"),It(t.layout.packing)?!1===n.tidy&&(n.packing="none"):n.packing=function(t){return l.indexOf(t)>=0?t:l[0]}(n.packing),F(n)}(c),c.arrange=function(t){var e=t.arrange;return e.animate=t.animate,e.time=t.time,e.easing=t.layout.easing,t.filter&&(e.updateGlyph=t.filter.updateGlyph),Ct(e,{resize:!0,updateGlyph:!0})}(c),a.trigger("prechange","expand"),o.fire("prechange",{type:"expand"}),N(_t(At(t)),i(!1),i(c.animate),(function(t,e,r){var i=!1;if(c.animate)for(var o=0;o<t.open.length;o++)if(f.privateItemIsShown(t.open[o])){i=!0;break}var a=t.open.concat(t.closed);e?i?function(t,e){c.layout.fixed=e,y.arrangeAndLayout(t,c,n)}(a,r):s(a,!1,(function(){!function(t){c.layout.fixed=t,f.layout(c.layout.name,c.layout,n)}(r)})):s(a,i,n)}),c)},export:function(t,e){var n;if(!e)throw new Error("[export] callback is required");var r,i=t;i.type=null===(n=i.type)||void 0===n?void 0:n.toLowerCase(),i.doc&&(r="pdf"===i.type&&i.doc,delete i.doc);var o=Ct(i,{type:"png",extents:"view"});r&&(o.doc=r),f.update(),A.exportImage(o,e)},filter:function(t,e,n){var r=B(e);b.filter(t,r,n)},foreground:function(t,e,n){R(e);var r=Ct(e,{type:"node",items:"underlying",foregroundOpenCombos:!0});b.foreground(t,r,n)},getItem:function(t){return Array.isArray(t)?t.map(g.getItem):g?g.getItem(t):null},getItemInfoAt:function(t,e){var n=y.hittest(t,e);if(n){var r=Ot(n),i=L(n);return{id:Pt(n),subItem:r?Rh(i,r):{}}}},graph:function(){return g.graph()},hide:function(t,e,n){if(It(t)||""===t)xt(n);else{a.trigger("prechange","hide"),o.fire("prechange",{type:"hide"});var r=_t(t),i=M(e);i=Ct(i,{updateGlyph:!0});var s=y.combo.internalUse.hide(r,i);y.hide(s,i,n)}},labelPosition:function(t){return g?y.labelPosition(t,p):null},layout:function(t,e,n){if(E()||h&&h.internalUse.isTransitioning())xt(n);else{var r=F(e);y.layout(t||"standard",r,n)}},load:function(t,n){if("LinkChart"!==(t&&t.type))throw new Error("Unknown chart type passed to load");if(h&&h.internalUse.isTransitioning())throw new Error("Cannot load chart during map show or hide operation");g=vp(f,o,a,v,e),x.model=g,y.setServices(x),y.load(t,(function(){y.initOverlays(),e.invokeWhenImagesHaveLoaded(n)}))},lock:function(t,e){return y.lock(t,e)},map:function(){return h.api},merge:function(t,n){S(t,{updateGlyph:!0}),y.render(),e.invokeWhenImagesHaveLoaded(n)},off:o.off,on:o.on,options:z,pan:function(t,e,n){var r=M(e);"selection"!==t||E()?y.pan(t,r.animate,r.time,n):y.fitToSelection(r.animate,r.time,void 0,n,!0)},ping:function(t,e,n){var r=Ct(e,{c:"#909090",w:20,r:80,time:800,repeat:1,lw:40});y.ping(t,r,n)},removeItem:function(t){a.trigger("prechange","delete"),o.fire("prechange",{type:"delete"}),y.removeItem(t),y.render()},selection:function(t){var e=It(t)?t:_t(t),n=g?g.doSelection(e):[];return e&&y.render(),n},serialize:function(){var t=g.serialize();y.appendCombos(t);var e=h.internalUse.serialize();return e&&(t.map=e),t.viewSettings=p.settings(),t},setContainer:function(t){var e=hr(t);n.privateSetContainer(e),y.setContainer(e)},setItem:function(t,n){t&&(a.trigger("prechange","properties"),o.fire("prechange",{type:"properties"}),y.setItem(t),y.render(),e.invokeWhenImagesHaveLoaded(n))},setProperties:function(t,n,r){if(void 0===n&&(n=!1),t){var i={};y.setProperties(t,n,!1,i),y.render(i)}e.invokeWhenImagesHaveLoaded(r)},show:function(t,e,n,r){if(It(t)||""===t)xt(r);else{a.trigger("prechange","show"),o.fire("prechange",{type:"show"});var i=_t(t),s=M(n);s=Ct(s,{updateGlyph:!0});var u=y.combo.internalUse.show(i);y.show(u,!!e,s,r);var l=[];u.forEach((function(t){var e=f.privateGetItem(t);return"node"===e.type&&(e._combo&&l.push(e.id),e.parentId&&l.push(e.parentId)),!1})),y.combo.internalUse.ensureMinimumOpenComboSize(l)}},toDataURL:function(t,n,r,i){var o,a,s;if(!i)throw new Error("[toDataURL] callback is required");y.isMapMode()?(o=p.width(),a=p.height()):(o=Math.floor(t),a=Math.floor(n));var l=p.settings();o=o>0?o:l.width,a=a>0?a:l.height;var c=Ct(r,{fit:"exact",watermark:!0,gradient:!0,logo:!0});if(E()&&(c.fit="exact"),"oneToOne"===c.fit){(s=y.modelExtents())||(s={x1:0,y1:0,x2:100,y2:100}),s.x1-=10,s.y1-=10,s.x2+=10,s.y2+=10;var d=y.watermarkSize();if(d&&c.watermark){var v=(d.width-(s.x2-s.x1))/2;v>0&&(s.x1-=v,s.x2+=v);var m=(d.height-(s.y2-s.y1))/2;m>0&&(s.y1-=m,s.y2+=m)}o=s.x2-s.x1,a=s.y2-s.y1,c.noScale=!0}function b(t){o=Math.floor(o/t),a=Math.floor(a/t)}var x=o*a/16e6;x>1&&b(Math.sqrt(x));var A=o/8e3;A>1&&b(A);var _=a/8e3;_>1&&b(_);var k=w(o,a,!0),C=c.noScale?1:o/p.width(),M=tf(),S=xr(),I=tv(Math.floor(o/C),Math.floor(a/C),M,S,C,h),L=ev(M,S,null,e),T=mp(f,M,S,L,null,e,null,g,I,u),P={model:g,controller:T,getView:function(){return I},events:M,legacyEvents:S,overlays:L,imageManager:e};T.setCreateCanvasFn(w),T.setServices(P),T.setView(I),T.setCanvasContext(k.getContext("2d")),T.setShadowCanvas(null),T.imageGenFn(y.imageGenFn()),function(){var t=y.options();t.overview={shown:!1},c.watermark||(t.watermark=void 0),c.gradient||(t.gradient=void 0),c.logo||(t.logo=void 0),T.options(t),T.backgroundOpacity(y.backgroundOpacity());var n=T.makeBackgroundCanvas(o,a),r=[];switch(c.selection||(r=g.doSelection(),g.doSelection([])),c.fit){case"chart":T.fitToModel(!1);break;case"view":I.fromOldSettings(p.settings(),!0,!1);break;case"exact":I.fromOldSettings(p.settings(),!1,!1);break;case"oneToOne":I.fitWorldExtents(s,!1,!1,!1,!1,0)}I.scaleFactor(C),T.initOverlays(),T.draw(!0,{all:!0}),e.waitForImages((function(){var t;T.draw(!0,{all:!0});try{t=k.toDataURL()}catch(t){throw new Error("[toDataURL] There is a problem exporting the chart."+t)}finally{if("rtl"===k.dir){var e=document.getElementsByTagName("body")[0];e.removeChild(k),e.removeChild(n)}}if(c.selection||g.doSelection(r),g.setAllDirty(),E()){var o=y.getChartCanvas();h.internalUse.toDataURL(w,k,o,y.drawBackground,i)}else xt(i,t)}))}()},unbind:a.unbind,viewCoordinates:function(t,e){return{x:p.worldToViewX(t),y:p.worldToViewY(e)}},viewOptions:function(t,e,n){if(!t)return p.settings();var r=M(e),i=Ct(t,{offsetX:0,offsetY:0,zoom:1});y.setViewSettings(i,r.animate,r.time,(function(){y.render({drawOnly:!0}),xt(n)}))},worldCoordinates:function(t,e){var n=p.worldCoordinates(t,e),r=n.x,i=n.y;return{x:Math.floor(r),y:Math.floor(i)}},zoom:function(t,e,n){var r=M(e);switch(t){case"in":y.zoomIn(r.animate,r.time,n);break;case"out":y.zoomOut(r.animate,r.time,n);break;case"one":y.setZoom(1,r.animate,r.time,n);break;case"fit":r.extents?y.fitExtents(r.animate,r.time,r.extents,n):y.fitToModel(r.animate,r.time,r.ids,n);break;case"selection":y.fitToSelection(r.animate,r.time,void 0,n);break;case"height":y.fitModelHeight(r.animate,r.time,r.ids,n)}}},f=ar(ar({_leafletEventHandlers:null,applyRevealedLinkOffsets:function(t){g&&g.applyRevealedLinkOffsets(t)},cancelAnimation:function(){y.cancelAnimation()},privateCanvasApi:n,chartType:function(){return g.type()},displayOptions:z,getExtents:function(t){return y.itemExtents(Ft(t))},getLastError:function(){return a.getErrors()},ggwp:function(){return y.getWebGLPixels()},hidden:function(){return g.hidden()},interactionOptions:z,privateAddItemsToTransfer:function(t){g.addItemsToTransfer(t)},privateAllParentsOpen:function(t,e){return void 0===e&&(e=!1),null!==g&&g.allParentsOpen(t,e)},privateAnimateBackgroundOpacity:function(t,e,n){var r=Ct(e,{time:500});y.animateBackgroundOpacity(O(t),r.time,n)},privateAnimateProperties:function(t,e,n,r,i){P(t,e,n,!0,r,i)},privateBothEndsForeground:function(t){return g.bothEndsForeground(t)},privateBothEndsShown:function(t){return g.bothEndsShown(t)},privateEach:function(t,e){var n=Ct(t,{type:"all",items:"underlying"});return b.each(n,!0,e)},privateFirstVisibleItemInAncestry:function(t){return g?g.firstVisibleItemInAncestry(t):null},privateGetAncestryIds:function(t){return g.getAncestryIds(t,!1)},privateGetCanvas:function(){return y.getCanvasContext()},privateGetGenerator:function(){return v},privateGetItem:L,privateGetLinksBetween:function(t,e){return g.privateGetLinksBetween(t,e)},privateGetMapContainer:function(){return h.internalUse.getMapContainer()},privateGetMaxLabelLength:function(){return pa(z().truncateLabels)},privateGetParentItems:function(t){return g.getParentItems(t)},privateGetRawItems:function(){return g?g.getRawItems():[]},privateGetTopItemId:function(t){return g.topParentId(t)},privateGraph:function(){return g.graph()},privateHideWithoutCombos:function(t,e,n){a.trigger("prechange","hide"),o.fire("prechange",{type:"hide"});var r=_t(t),i=M(e);y.hide(r,i,n)},privateInit:function(t,e,n,r,i,o,a){w=r,y.setCursorFn(i),y.setCreateCanvasFn(r),y.imageGenFn(o),y.setStartGameLoopFn(a),C(t,e,n,!1)},privateIsLayingOut:l,privateItemIsShown:function(t){return!!g&&g.isItemShown(t)},privateMapSetSize:function(t,e){h.internalUse.setSize(t,e)},privateMerge:function(t){var e=t;h&&h.api.isShown()&&(e=h.internalUse.preMerge(e)),g.merge(e),y.render()},privateNeighbourLinkIds:function(t){return g.neighbourLinkIds(t)},privateRedrawItem:function(t){g&&g.setDirty(t)},privateRemoveItem:function(t){g.removeItem(t),y.render()},privateRemoveItemsFromTransfer:function(t){g.removeItemsFromTransfer(t)},privateReveal:function(t){var e=t;if(e){e=_t(e);var n=f.privateGetItem(e).filter((function(t){return t&&"link"===t.type&&!t._combo}));g.reveal(Nt(n),!0),o.privateFire("redraw",{all:!0})}return g.getRevealedLinks()},privateSetAllDirty:function(){y.render(),g.setAllDirty()},privateSetAllItemsInComboDirty:function(t){f.privateGetItem(t).forEach((function(t){t&&(f.privateRedrawItem(t.id),t._combo&&(f.privateSetAllItemsInComboDirty(t._combo.linkIds),t._combo.nodeIds&&f.privateSetAllItemsInComboDirty(t._combo.nodeIds)))}))},privateSetBackgroundOpacity:function(t){y.backgroundOpacity(O(t))},privateSetNonImageProperties:function(t,e){void 0===e&&(e=!1);var n={};g.setProperties(t,!1,n,e),y.render(n)},privateSetRemoveComponentReference:function(t){k=t},privateSetSize:C,privateShowWithoutCombos:function(t,e,n,r){a.trigger("prechange","show"),o.fire("prechange",{type:"show"});var i=_t(t),s=M(n);y.show(i,e,s,r)},privateTopParentId:function(t){return g?g.topParentId(t):t},privateUseAutoSizing:function(){return!f.map().isShown()},privateValidateLayoutOptions:F,validateCombos:function(){g.validateCombos()},allowDraw:l,redraw:l,update:l,privateOn:o.privateOn,privateOff:o.privateOff,privateFire:o.privateFire},c),a),d=ar({},c),h=$p(f,o,a),p=tv(100,100,o,a,1,h),v=Ea(f,i,u),g=vp(f,o,a,v,e),m=ev(o,a,h,e),y=mp(f,o,a,m,h,e,r,g,p,u),b=function(t,e,n){var r=null,i=null,o=null,a=null;function s(t,e,s){if(!t.type||!t.type.match(/^(node|link|all)$/))throw new TypeError("options type property should be either 'node', 'link' or 'all'");if(!t.items||!t.items.match(/^(underlying|toplevel|all)$/))throw new TypeError("options items property should be either 'underlying', 'toplevel' or 'all'");if(r||(i=n.privateGetRawItems(),o=i,e?a=i:(r=et(i,"d"),a=r)),vt(s))for(var c=0;c<o.length;c++){var f=o[c];u(t.type,f)&&l(t.items,f)&&s(a[c])}}function u(t,e){return"all"===t||t===e.type}function l(t,e){var n;switch(t){case"toplevel":n=!e.parentId;break;case"all":n=!0;break;default:n=!e._combo}return n}function c(t,e,n,r,i,o,a){var u={},l={all:{}};l[n]={nodes:[],links:[]},l[r]={nodes:[],links:[]},l.all[n]={nodes:[],links:[]},l.all[r]={nodes:[],links:[]};var c=function(){var t={all:[],nodes:[],links:[]};return s({type:"all",items:a?"underlying":"toplevel"},!1,(function(e){t.all.push(e),"node"===e.type?t.nodes.push(e):t.links.push(e)})),t}();return function(e){("node"===i?e.nodes:"link"===i?e.links:e.all).forEach((function(e){t(e)&&(u[e.id]=!0)}))}(c),function(t){"link"===i&&(o?function(t,e){e.forEach((function(e){t[e.id]&&(t[e.id1]=!0,t[e.id2]=!0)}))}(u,t.links):t.nodes.forEach((function(t){u[t.id]=!0})))}(c),function(t){"node"===i&&function(t,e){e.forEach((function(e){t[e.id]=!(!t[e.id1]||!t[e.id2])}))}(u,t.links)}(c),function(t){"all"===i&&"bg"!==e&&t.links.forEach((function(t){u[t.id]=!(!u[t.id1]||!u[t.id2]||!u[t.id])}))}(c),function(t){if("link"!==i&&o){var e={};t.links.forEach((function(t){e[t.id1]=e[t.id1]||u[t.id]&&u[t.id2],e[t.id2]=e[t.id2]||u[t.id]&&u[t.id1]})),t.nodes.forEach((function(t){u[t.id]=u[t.id]&&e[t.id]}))}}(c),c.all.forEach((function(t){var i="node"===t.type?"nodes":"links",o=u[t.id]?n:r;!u[t.id]==!t[e]&&l[o][i].push(t.id),l.all[o][i].push(t.id)})),l}return e.privateOn("redraw",(function(){r=null,i=null})),{each:s,filter:function(e,r,i){var o="underlying"===r.items,a=c(e,"hi","shown","hidden",r.type,r.hideSingletons,o),s=a.shown.nodes.concat(a.shown.links),u=a.hidden.nodes.concat(a.hidden.links),l=t.combo.internalUse.filter(s,u,a,r);function f(){xt(i,et({shown:a.shown,hidden:a.hidden,combos:a.combos},!0))}s=l.toShow,(u=l.toHide).length>0?s.length>0?(r.time/=2,n.privateHideWithoutCombos(u,r,(function(){n.privateShowWithoutCombos(s,!1,r,f)}))):n.privateHideWithoutCombos(u,r,f):s.length>0?n.privateShowWithoutCombos(s,!1,r,f):f()},foreground:function(e,r,i){var o="link"===r.type,a="underlying"===r.items,s=c(e,"bg","foreground","background",r.type,o,a),u=s.foreground.nodes.concat(s.foreground.links),l=s.background.nodes.concat(s.background.links),f=t.combo.internalUse.foreground(u,l,s,r),d=f.toHide.map((function(t){return{id:t,bg:!0}})),h=f.toShow.map((function(t){return{id:t,bg:!1}}));n.setProperties(d.concat(h)),xt(i,et({foreground:s.foreground,background:s.background},!0))}}}(y,o,f),x={model:g,controller:y,overlays:m,getView:function(){return p},events:o,legacyEvents:a,imageManager:e};y.setServices(x),h.internalUse.setDependencies(x);var w,A=Zv(x),_=new Xp(s,(function(t){return"pointermove"===t.pointerEvent.type?null:y.hittest(t.x,t.y)}));!function(t,e){var n=e.controller.lock;function r(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return!n()&&t.apply(void 0,e)}}var i,o=!0;t.on("pointerdown",r((function(t){o=!0,zh(t,e)}))),t.on("contextmenu",r((function(t){o=Bh(t,e)}))),t.on("pointerup",r((function(t){Dh(t,e)}))),t.on("pointermove",r((function(t){Vh(t,e)}))),t.on("pointercancel",(function(){e.controller.stopDrag(!1)})),t.on("click",r((function(t){o&&Yh(t,e)}))),t.on("doubleclick",r((function(t){Wh(t,e)}))),t.on("dragstart",r((function(t){qh(t,e)}))),t.on("dragmove",r((function(t){op(t,e)}))),t.on("dragend",r((function(t){$h(t,e)}))),t.on("wheel",r((function(t){tp(t,e)}))),t.on("keydown",r((function(t){ep(t,e)}))),t.on("keyup",r((function(t){np(t,e)}))),t.on("gesturestart",(function(t){i=function(t,e){return e.controller.stopDrag(!1),e.getView().zoom()}(0,e)})),t.on("gesturechange",r((function(t){!function(t,e,n){if(t.gesture){var r=t.gesture,i=r.scale,o=r.dx,a=r.dy,s=r.centreX,u=r.centreY,l=t.pointers,c=e.getView();2===l.length&&c.zoomToPosition(i*n,s,u),c.panBy(o,a,!1),e.controller.render({drawOnly:!0})}}(t,e,i)}))),t.on("gestureend",(function(t){}))}(_,x);var k=function(){};function C(t,e,n,r){var i=w(e,n,!1);y.makeBackgroundCanvas(e,n);var s=p;p=tv(e,n,o,a,1,h),y.setView(p),y.setCanvasContext(t),y.setShadowCanvas(i.getContext("2d")),Bn(),s&&(s.cancelScroll(),p.setMinZoom(s.getMinZoom()),p.setMaxItemZoom(s.getMaxItemZoom()),p.fromOldSettings(s.settings(),!1,r)),h.internalUse.setView(p),y.initOverlays()}function E(){return h&&h.api.isShown()}function M(t){return Ct(!0===t?{animate:!0}:t,{animate:!1,time:1e3})}function S(t,e){if(It(t))throw new Error("Null or undefined object passed to merge");var n=At(t);y.merge(n,e)}function I(t,e){var n=g.getByID(t);return!n||!e&&n.parentId?null:n}function L(t){return function(t,e){return g?Array.isArray(t)?t.map((function(t){return I(t,true)})):I(t,true):null}(t)}function T(t){Object.keys(t).forEach((function(e){t[e]=Yv}))}function P(t,e,n,r,i,o){var a=Ct(e,{time:1e3,easing:"linear",queue:!0});(a.time<0||!dt(a.time))&&(a.time=0);var s=_t(t);y.animateProperties(s,a,n,r,i,o)}function O(t){return"number"==typeof t?Math.min(Math.max(0,t),1):t?1:0}function R(t){t&&"boolean"==typeof t.combos&&!t.items&&(t.items=t.combos?"underlying":"toplevel")}function B(t){return R(t),Ct(t,{type:"all",items:"underlying",hideSingletons:!It(t)&&"link"===t.type,animate:!0,time:1e3,updateGlyph:!0})}function z(t,e){return y.options(t,e)}function D(){var t=f.viewOptions();return t.height>0?t.width/t.height:1}function j(t){return It(t.tightness)?5:+t.tightness}function F(t){var e=t||{};return e.tightness=j(e),Ct(e,{fit:!0,animate:!0,expanding:!1,tidy:!0,ratio:D(),pinToFirstFixed:!0,tightness:5,straighten:!0,absoluteFixed:!1})}function Z(t){return!0!==t.hi}function N(t,e,n,r,i){var o=i.layout.fix,a=!i.filter||i.filter.updateGlyph,s=et(t);function u(t,e){f.privateEach({type:"link",items:"toplevel"},(function(n){if(!t[n.id1]||!t[n.id2]){var r=t[n.id1]||t[n.id2],i=t[n.id1]?n.id2:n.id1;r&&i&&(e[i]||(e[i]={x:0,y:0,_counter:0,id:i}),e[i].x+=r.x,e[i].y+=r.y,e[i]._counter++)}}));var n=0;return q(e,(function(e){t[e.id]||(e.x/=e._counter,e.y/=e._counter,t[e.id]=e,n++)})),n}function l(){var t=[],e=[],n={};return g.each({type:"all"},(function(r){"node"===r.type?t.push(r):"link"===r.type&&e.push(r),n[r.id]=r})),{nodes:t,links:e,allItems:n}}function c(t){if("adaptive"!==o)return null;var e=Sc(t.nodes.filter(Z),t.links.filter(Z));return{parts:Nu.connectedComponents(e.staticGraph),labels:e.vertexMap}}function d(){var t=0;return f.privateEach({items:"toplevel"},(function(){t++})),t}var h={};s=function(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r];It(i)||n[i.id]||(n[i.id]=!0,h[i.id]={x:i.x,y:i.y},delete i.x,delete i.y,e.push(i))}return e}(s);var p=function(){var t={open:[],closed:[]};return s.forEach((function(e){var n=e;"node"===n.type&&n.parentId&&(f.combo().isOpen(n.parentId)?t.open.push(n.parentId):t.closed.push(n.parentId))})),t}(),v=l(),m=c(v),y=d();S(s,{updateGlyph:a});var b=c(l()),x=function(t){var e={dict:{},touched:{}},n="adjacent"===o||"nonadjacent"===o||"adaptive"===o;return s.forEach((function(r){var i=r;if(e.dict[i.id]=i,n&&"link"===i.type){var o=f.privateTopParentId(i.id);if(!t[o]){var a=f.privateTopParentId(i.id1);a&&t[a]&&(e.touched[a]=!0);var s=f.privateTopParentId(i.id2);s&&t[s]&&(e.touched[s]=!0)}}})),e}(v.allItems),w=x.dict;m&&b&&ul.adaptiveExpand.findAdaptiveGroups(m,b).forEach((function(t){x.touched[t]=!0}));var A=function(t,e){switch(o){case"all":return t;case"adjacent":return Object.keys(e);case"adaptive":case"nonadjacent":return t.filter((function(t){return!e[t]}));default:return[]}}(v.nodes.map((function(t){return t.id})),x.touched);e(w,(function(){!function(t,e){if(!E()){for(var n,r={},i=[];0!==n;)n=u(e,r);t.forEach((function(t){var e=t;"node"!==e.type||r[e.id]||(e.x=h[e.id].x,e.y=h[e.id].y)})),q(r,(function(t){i.push(t)})),f.setProperties(i)}}(s,v.allItems),n(v.allItems,(function(){r(p,d()!==y,A)}))}))}f.privateIsLayingOut=y.isLayingOut;var V=pr((function(t,e,n){t&&(y.draw(e,n),y.drawoffscreen(),function(t){t.all=!1,t.positions=!1}(n)),y.handlePointerMove(t),t&&y.afterDraw()}),y.animate,y.getCanvasContext);return Vt(f,V),o.privateOn("redraw",V.redraw),{public:d,internal:{api:f}}}var Uv={};function Xv(t,e){for(var n=["webgl","experimental-webgl"],r=null,i=0;i<n.length;i++){try{r=t.getContext(n[i],e)}catch(t){}if(r)break}return r}function Hv(t){return Xv(document.createElement("canvas"),t)}function Kv(t,e,n){var r=function(t,e){for(var n=t.createProgram(),r=0;r<e.length;++r)t.attachShader(n,e[r]);if(t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS)){var i=t.getProgramInfoLog(n);throw t.deleteProgram(n),new Error("Error in program linking:"+i)}return n}(t,[e,n]);return r.vertexShader=e,r.fragmentShader=n,r}function Qv(t,e){t.useProgram(e),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null)}function Jv(t,e,n){var r=t.createShader(n),i=atob(Uv[e]);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error("Error in shader: "+o)}return r}function qv(t){var e=t.getParameter(t.VERSION),n=t.getParameter(t.VENDOR),r=t.getParameter(t.RENDERER);if("Mozilla"!==n){var i=t.getExtension("WEBGL_debug_renderer_info");i&&(n=t.getParameter(i.UNMASKED_VENDOR_WEBGL),r=t.getParameter(i.UNMASKED_RENDERER_WEBGL)),i=null}return{vendor:n,renderer:r,version:e}}Uv["line-arc-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247YXR0cmlidXRlIGZsb2F0IGFfcmFkaXVzO2F0dHJpYnV0ZSBmbG9hdCBhX3N0YXJ0QW5nbGU7YXR0cmlidXRlIGZsb2F0IGFfZW5kQW5nbGU7YXR0cmlidXRlIGZsb2F0IGFfd2lkdGg7YXR0cmlidXRlIHZlYzQgYV9jb2xvdXI7YXR0cmlidXRlIHZlYzQgYV9jb2xvdXIyO2F0dHJpYnV0ZSB2ZWMzIGFfaGl0VGVzdENvbG91cjthdHRyaWJ1dGUgZmxvYXQgYV9saW5lVHlwZTthdHRyaWJ1dGUgdmVjMyBhX2NvcmU7dW5pZm9ybSBmbG9hdCB1X2hpdFRlc3Q7dW5pZm9ybSBmbG9hdCB1X3pvb207dW5pZm9ybSB2ZWMzIHVfcmVzb2x1dGlvbjt1bmlmb3JtIG1hdDQgdV90cmFuc2Zvcm07dW5pZm9ybSBmbG9hdCB1X3RpbWU7dW5pZm9ybSBib29sIHVfYWRhcHRpdmVTdHlsaW5nO3ZhcnlpbmcgdmVjNCB2X2NvbG91cjt2YXJ5aW5nIHZlYzQgdl9jb2xvdXIyO3ZhcnlpbmcgdmVjNCB2X2NvcmU7dmFyeWluZyB2ZWM0IHZfbGluZURhdGE7dmFyeWluZyB2ZWMzIHZfaGl0VGVzdENvbG91cjt2YXJ5aW5nIHZlYzQgdl9iYXJ5Y2VudHJpYzt2YXJ5aW5nIHZlYzQgdl9hcmNfcG9zaXRpb25fZGV0YWlsO3ZhcnlpbmcgdmVjMyB2X2Rhc2hpbmc7ZmxvYXQgYT0zLjE0MTU5MjY1MzU5O2ludCBiPTI7aW50IGM9MztpbnQgZD00O2ludCBlPTU7ZmxvYXQgZj0xNS4wO2NvbnN0IGZsb2F0IGc9NC4wO2NvbnN0IGZsb2F0IGg9Zy0wLjU7ZmxvYXQgaT0wLjAwMDE7aW50IGooZmxvYXQgYSl7cmV0dXJuIGludChmbG9vcihhKzAuNSkpO31mbG9hdCBrKGZsb2F0IGwsZmxvYXQgbSxmbG9hdCBuKXtmbG9hdCBvPW1heChuLWwsMC4wKTtmbG9hdCBwPW1heChpLG0tbCk7cmV0dXJuIG1pbigxLjAsby9wKTt9ZmxvYXQgcSgpe2lmKHVfem9vbT4wLjE1KXtyZXR1cm4gbWl4KDAuNzUsMS4wLGsoMC4xNSwwLjIsdV96b29tKSk7fWlmKHVfem9vbT4wLjA4KXtyZXR1cm4gbWl4KDAuNCwwLjc1LGsoMC4wOCwwLjE1LHVfem9vbSkpO31yZXR1cm4gbWl4KDAuMiwwLjQsaygwLjAxLDAuMDgsdV96b29tKSk7fXZlYzIgcih2ZWMyIHMsZmxvYXQgdCxmbG9hdCB1LGZsb2F0IHYsZmxvYXQgdyl7cmV0dXJuIHZlYzIocy54Kyh0KmNvcyh1K3YqdykpLHMueSsodCpzaW4odSt2KncpKSk7fWZsb2F0IHgoZmxvYXQgeSxmbG9hdCB6KXtmbG9hdCBBPXkvMi4wO2Zsb2F0IEI9Zmxvb3IoKCh6K0EpLyh5K0EpKSswLjUpO2lmKChCKnkpPnope0I9MS4wO31yZXR1cm4gQjt9dmVjMiBDKHZlYzIgRCx2ZWMyIEUsdmVjMiBGLGludCBHKXt2ZWMyIEg7dmVjMiBJO2lmKEc9PTApe0g9RDtJPShFK0YpLzIuMDt9ZWxzZSBpZihHPT0xKXtIPUU7ST0oRCtGKS8yLjA7fWVsc2UgaWYoRz09Mil7SD1GO0k9KEUrRCkvMi4wO312ZWMyIEo9bm9ybWFsaXplKEgtSSk7SCs9Si91X3pvb207cmV0dXJuIEg7fXZvaWQgbWFpbigpe3ZlYzQgSz1hX2NvbG91ci8yNTUuMDt2ZWM0IEw9YV9jb2xvdXIyLzI1NS4wO2Zsb2F0IE09MS4wL3Vfem9vbTtpbnQgTj1qKGFfbGluZVR5cGUpO2Jvb2wgTz1OPT1iO2Jvb2wgUD1OPT1jO2Jvb2wgUT1OPT1kO2Jvb2wgUj1OPj1lO3ZlYzIgSDtpZihSKXtpbnQgRz1qKGFfbGluZVR5cGUpLWU7dmVjMiBEPWFfcG9zaXRpb247dmVjMiBFPXZlYzIoYV9yYWRpdXMsYV9zdGFydEFuZ2xlKTt2ZWMyIEY9dmVjMihhX2VuZEFuZ2xlLGFfd2lkdGgpO2Zsb2F0IFM9ZGlzdGFuY2UoRSxGKTtmbG9hdCBUPVMvdV96b29tO2Zsb2F0IFU9MS4wL1Q7SD1DKEQsRSxGLEcpO3ZfYmFyeWNlbnRyaWM9dmVjNChhX2NvcmUueHl6LFUpO3ZfY29yZT12ZWM0KDEuMCk7dl9saW5lRGF0YT12ZWM0KDAuMCwwLjAsMC4wLGFfbGluZVR5cGUpO31lbHNle3ZlYzIgcz1hX3Bvc2l0aW9uO2Zsb2F0IHQ9YV9yYWRpdXM7ZmxvYXQgVj1hX3N0YXJ0QW5nbGU7ZmxvYXQgVz1hX2VuZEFuZ2xlO2Zsb2F0IFg7ZmxvYXQgWTtmbG9hdCBNPTEuMC91X3pvb207aWYodV9oaXRUZXN0PT0xLjApe009Ny4wL3Vfem9vbTt9Ym9vbCBaPWooc2lnbihhX2NvcmUucikpPT0xO2Zsb2F0IHc9YWJzKGFfY29yZS5yKS0xLjA7ZmxvYXQgdj0oYV9lbmRBbmdsZS1hX3N0YXJ0QW5nbGUpL2c7ZmxvYXQgYmE9MS4wL3VfcmVzb2x1dGlvbi56O2lmKFApe2JhPW1heChiYSxzdGVwKDIuNSxhX2xpbmVUeXBlKSoyLjApO31mbG9hdCBiYj1tYXgoYV93aWR0aCp1X3pvb20sYmEpL3Vfem9vbTtmbG9hdCBiYz1tYXgocSgpLHNtb290aHN0ZXAoMC4wLDEuMCxhX3dpZHRoKnVfem9vbSkpO2lmKHVfYWRhcHRpdmVTdHlsaW5nKXtLLmEqPWJjO0wuYSo9YmM7fWZsb2F0IGJkPWJiK007ZmxvYXQgYmU9YmQvMi4wO2Zsb2F0IGJmPWJiLzIuMDtpZih3PGcpe1k9MS4wO31lbHNle1k9LTEuMDt9ZmxvYXQgYmc9YV9yYWRpdXMqKFctVik7dmVjMiBiaD1yKHMsbWF4KHQrYmYsMC4wKSxhX3N0YXJ0QW5nbGUsdix3KyhZLzIuMCkpO2Zsb2F0IGJpPXYvMi4wO2Zsb2F0IGJqPWxlbmd0aChiaC1zKTtmbG9hdCBiaz1iai9jb3MoYmkpO2Zsb2F0IGJsPXNtb290aHN0ZXAoNDAwMC4wLDIwMDAwLjAsdCkqMy4wO2lmKFope1g9YmsrTStibDt9ZWxzZXtibCo9Mi4wO1g9dC1iZS1ibDt9dl9saW5lRGF0YT12ZWM0KDAuMCxiYixiZywtYV9saW5lVHlwZSk7WD1tYXgoWCwwLjApO2Zsb2F0IGJtPSgxLjAvYmcpL3Vfem9vbTtmbG9hdCBibj1iZyp1X3pvb207ZmxvYXQgYm89KFctVikvYm47ZmxvYXQgYnA9VjtmbG9hdCBicT1ibzticC09KDEuMC1zdGVwKDAuNSx3KSkqYnE7YnArPXN0ZXAoaCx3KSpicTtIPXIocyxYLGJwLHYsdyk7dl9hcmNfcG9zaXRpb25fZGV0YWlsPXZlYzQoSCxzKTtpZihQKXtmbG9hdCBicj1ibi80LjA7ZmxvYXQgYnM9YmcvKGJiKjIuMCk7ZmxvYXQgYnQ9bWluKGJyLGJzKTt2X2NvcmU9dmVjNChicCxjZWlsKGJ0KSxibSxhX3JhZGl1cyk7dl9kYXNoaW5nPXZlYzMoYmIsYmIsMC41KTt9ZWxzZSBpZihPKXtmbG9hdCB5PW1heCgyLjAvdV96b29tLGJiKjIuMCk7ZmxvYXQgYnU9eCh5LGJnKTtmbG9hdCBBPShiZy15KmJ1KS8oYnUtMS4wKTtmbG9hdCBidj1BKmJ1LyhiZytBKTt2X2NvcmU9dmVjNChicCxidS1idixibSxhX3JhZGl1cyk7ZmxvYXQgYnc9KHkvKHkrQSkpLzIuMDt2X2Rhc2hpbmc9dmVjMyh5LEEsYncpO31lbHNlIGlmKFEpe2Zsb2F0IGJ4PWFfY29yZS55O2Zsb2F0IGJ5PWYqYng7ZmxvYXQgYno9bWF4KDMwLjAsYmIqMy4wKTtmbG9hdCBiQT1iejtieT1taW4oYkEqMTYuMCxhYnMoYnkpKSpzaWduKGJ4KTtmbG9hdCBiQj0xMDAwLjAqYkEvYnk7ZmxvYXQgYkM9bW9kKHVfdGltZS9iQiwxLjApO2Zsb2F0IGJEPWJ6L2FfcmFkaXVzO2Zsb2F0IGJFPWJEKigyLjAvMy4wKTtmbG9hdCBiRj1iQypiRDt2X2NvcmU9dmVjNChicCx3L2csYm0sYV9yYWRpdXMpO3ZfZGFzaGluZz12ZWMzKGJELDAuMCxiRik7fWVsc2V7dl9jb3JlPXZlYzQoYnAsdy9nLGJtLGFfcmFkaXVzKTt9fXZlYzIgYkc9SC91X3Jlc29sdXRpb24ueHk7dmVjMiBiSD1iRyoyLjA7dmVjMiBiST1iSC0xLjA7dl9jb2xvdXI9Szt2X2NvbG91cjI9TDt2X2hpdFRlc3RDb2xvdXI9YV9oaXRUZXN0Q29sb3VyO2dsX1Bvc2l0aW9uPXVfdHJhbnNmb3JtKnZlYzQoYkkqdmVjMigxLC0xKSwwLDEpO30=",Uv["line-bezier-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcDA7YXR0cmlidXRlIHZlYzIgYV9wMTthdHRyaWJ1dGUgdmVjMiBhX3AyO2F0dHJpYnV0ZSB2ZWMyIGFfcDM7YXR0cmlidXRlIGZsb2F0IGFfd2lkdGg7YXR0cmlidXRlIGZsb2F0IGFfZmxvd1ZlbG9jaXR5O2F0dHJpYnV0ZSB2ZWM0IGFfY29sb3VyO2F0dHJpYnV0ZSB2ZWM0IGFfY29sb3VyMjthdHRyaWJ1dGUgdmVjMyBhX2hpdFRlc3RDb2xvdXI7YXR0cmlidXRlIGZsb2F0IGFfbGluZVR5cGU7YXR0cmlidXRlIHZlYzQgYV9jb3JlO3VuaWZvcm0gZmxvYXQgdV9oaXRUZXN0O3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gdmVjMyB1X3Jlc29sdXRpb247dW5pZm9ybSBtYXQ0IHVfdHJhbnNmb3JtO3VuaWZvcm0gZmxvYXQgdV90aW1lO3VuaWZvcm0gYm9vbCB1X2FkYXB0aXZlU3R5bGluZzt2YXJ5aW5nIHZlYzQgdl9jb2xvdXI7dmFyeWluZyB2ZWM0IHZfY29sb3VyMjt2YXJ5aW5nIHZlYzQgdl9jb3JlO3ZhcnlpbmcgdmVjNCB2X2xpbmVEYXRhO3ZhcnlpbmcgdmVjMyB2X2hpdFRlc3RDb2xvdXI7dmFyeWluZyB2ZWM0IHZfYmFyeWNlbnRyaWM7dmFyeWluZyB2ZWM0IHZfYXJjX3Bvc2l0aW9uX2RldGFpbDt2YXJ5aW5nIHZlYzMgdl9kYXNoaW5nO2ludCBhPTI7aW50IGI9MztpbnQgYz00O2ludCBkPTU7Y29uc3QgaW50IGU9NTA7ZmxvYXQgZj0wLjAwMDE7ZmxvYXQgZz0xNS4wO2ludCBoKGZsb2F0IGEpe3JldHVybiBpbnQoZmxvb3IoYSswLjUpKTt9ZmxvYXQgaShmbG9hdCBqLGZsb2F0IGssZmxvYXQgbCl7ZmxvYXQgbT1tYXgobC1qLDAuMCk7ZmxvYXQgbj1tYXgoZixrLWopO3JldHVybiBtaW4oMS4wLG0vbik7fWZsb2F0IG8oKXtpZih1X3pvb20+MC4xNSl7cmV0dXJuIG1peCgwLjc1LDEuMCxpKDAuMTUsMC4yLHVfem9vbSkpO31pZih1X3pvb20+MC4wOCl7cmV0dXJuIG1peCgwLjQsMC43NSxpKDAuMDgsMC4xNSx1X3pvb20pKTt9cmV0dXJuIG1peCgwLjIsMC40LGkoMC4wMSwwLjA4LHVfem9vbSkpO312ZWMyIHAoZmxvYXQgcSl7ZmxvYXQgcj0xLjAtcTtyZXR1cm4gKHBvdyhyLDMuMCkqYV9wMCkrKDMuMCpwb3cociwyLjApKnEqYV9wMSkrKDMuMCpyKnBvdyhxLDIuMCkqYV9wMikrKHBvdyhxLDMuMCkqYV9wMyk7fXZlYzIgcyhmbG9hdCBxKXt2ZWMyIHQ9KC0zLjAqcG93KCgxLjAtcSksMi4wKSphX3AwKSsoMy4wKigxLjAtKDMuMCpxKSkqKDEuMC1xKSphX3AxKSsoMy4wKnEqKDIuMC0oMy4wKnEpKSphX3AyKSsoMy4wKnBvdyhxLDIuMCkqYV9wMyk7dmVjMiB1PW5vcm1hbGl6ZSh0KTtyZXR1cm4gdmVjMigtdS55LHUueCk7fWZsb2F0IHYoZmxvYXQgdyxmbG9hdCB4KXtmbG9hdCB5PXcvMi4wO2Zsb2F0IHo9Zmxvb3IoKCh4K3kpLyh3K3kpKSswLjUpO2lmKCh6KncpPngpe3o9MS4wO31yZXR1cm4gejt9dmVjMiBBKHZlYzIgQix2ZWMyIEMsdmVjMiBELGludCBFKXt2ZWMyIEY7dmVjMiBHO2lmKEU9PTApe0Y9QjtHPShDK0QpLzIuMDt9ZWxzZSBpZihFPT0xKXtGPUM7Rz0oQitEKS8yLjA7fWVsc2UgaWYoRT09Mil7Rj1EO0c9KEMrQikvMi4wO312ZWMyIEg9bm9ybWFsaXplKEYtRyk7Ris9SC91X3pvb207cmV0dXJuIEY7fXZvaWQgbWFpbigpe3ZlYzQgST1hX2NvbG91ci8yNTUuMDt2ZWM0IEo9YV9jb2xvdXIyLzI1NS4wO2Zsb2F0IEs9MS4wL3Vfem9vbTtpbnQgTD1oKGFfbGluZVR5cGUpO2Jvb2wgTT1MPT1hO2Jvb2wgTj1MPT1iO2Jvb2wgTz1MPT1jO2Jvb2wgUD1MPT1kO3ZlYzIgRjtpZihQKXtpbnQgRT1oKGFfY29yZS53KTt2ZWMyIEI9YV9wMDt2ZWMyIEM9YV9wMTt2ZWMyIEQ9YV9wMjtmbG9hdCBRPWRpc3RhbmNlKEMsRCk7ZmxvYXQgUj1RL3Vfem9vbTtmbG9hdCBTPTEuMC9SO0Y9QShCLEMsRCxFKTt2X2JhcnljZW50cmljPXZlYzQoYV9jb3JlLnh5eixTKTt2X2NvcmU9dmVjNCgxLjApO3ZfbGluZURhdGE9dmVjNCgwLjAsMC4wLDAuMCxhX2xpbmVUeXBlKTt9ZWxzZXt2ZWMyIFQ9YV9wMDt2ZWMyIFU9YV9wMTt2ZWMyIFY9YV9wMjt2ZWMyIFc9YV9wMztmbG9hdCBLPTEuMC91X3pvb207aWYodV9oaXRUZXN0PT0xLjApe0s9Ny4wL3Vfem9vbTt9ZmxvYXQgWD1mbG9vcihhX2NvcmUueCowLjUpO2Zsb2F0IFk9MS4wLSgyLjAqKG1vZChhX2NvcmUueCwyLjApKSk7ZmxvYXQgWj1hYnMoYV9jb3JlLnkpO2ludCBiYT1oKFopO2Jvb2wgYmI9c2lnbihhX2NvcmUueSk9PS0xLjA7ZmxvYXQgYmM9KCgoYV9jb3JlLnorMTI4LjApKjI1Ni4wKSthX2NvcmUudysxMjguMCkvNjU1MzUuMDtmbG9hdCBiZD0xLjAvdV9yZXNvbHV0aW9uLno7aWYoTil7YmQ9bWF4KGJkLHN0ZXAoMi41LGFfbGluZVR5cGUpKjIuMCk7fWZsb2F0IGJlPW1heChhX3dpZHRoKnVfem9vbSxiZCkvdV96b29tO2Zsb2F0IGJmPW1heChvKCksc21vb3Roc3RlcCgwLjAsMS4wLGFfd2lkdGgqdV96b29tKSk7aWYodV9hZGFwdGl2ZVN0eWxpbmcpe0kuYSo9YmY7Si5hKj1iZjt9ZmxvYXQgYmc9YmUrSztmbG9hdCBiaD1iZy8yLjA7ZmxvYXQgYmk9YmUvMi4wO2Zsb2F0IGJqPTAuMDtmbG9hdCBiaz0wLjA7dmVjMiBibD12ZWMyKDAuMCk7dmVjMiBibT1UO2lmKCFiYiYmWD09MC4wKXtGPVQ7Ymw9cygwLjApO0YrPXZlYzIoLWJsLnksYmwueCkvdV96b29tO31mb3IoaW50IGJuPTE7Ym48PWU7Ym4rKyl7aWYoYm4+YmEpe2JyZWFrO31mbG9hdCB0PWZsb2F0KGJuKS9aO3ZlYzIgYm89cCh0KTtiais9ZGlzdGFuY2UoYm0sYm8pO2lmKGJuPT1pbnQoWCkpe0Y9Ym87Ymw9cyh0KTtiaz1iajt9Ym09Ym87fWlmKGJiJiZpbnQoWCk9PWJhKXtGKz12ZWMyKGJsLnksLWJsLngpL3Vfem9vbTt9ZmxvYXQgYnA9YmovYmM7aWYoYmIpe2JrPSgoKDEuMC1iYykqYnApK2JrKTt9YmsvPWJwO3ZlYzIgYnE9YmwqKGJnLzIuMCkqWTtGPUYrYnE7aWYoaW50KFkpPT0xKXt2X2xpbmVEYXRhPXZlYzQoLWJnLGJlLGJwLGFfbGluZVR5cGUpO31lbHNle3ZfbGluZURhdGE9dmVjNChiZyxiZSxicCxhX2xpbmVUeXBlKTt9ZmxvYXQgYnI9KDEuMC9icCkvdV96b29tO2Zsb2F0IGJzPWJwKnVfem9vbTtpZihOKXtmbG9hdCBidD1icy80LjA7ZmxvYXQgYnU9YnAvKGJlKjIuMCk7ZmxvYXQgYnY9bWluKGJ0LGJ1KTt2X2NvcmU9dmVjNChiayxjZWlsKGJ2KSxiciwwLjApO3ZfZGFzaGluZz12ZWMzKGJlLGJlLDAuNSk7fWVsc2UgaWYoTSl7ZmxvYXQgdz1tYXgoMi4wL3Vfem9vbSxiZSoyLjApO2Zsb2F0IGJ3PXYodyxicCk7ZmxvYXQgeT0oYnAtdypidykvKGJ3LTEuMCk7ZmxvYXQgYng9eSpidy8oYnAreSk7dl9jb3JlPXZlYzQoYmssYnctYngsYnIsMCk7ZmxvYXQgYnk9KHcvKHcreSkpLzIuMDt2X2Rhc2hpbmc9dmVjMyh3LHksYnkpO31lbHNlIGlmKE8pe2Zsb2F0IGJ6PWFfZmxvd1ZlbG9jaXR5O2Zsb2F0IGJBPWcqYno7ZmxvYXQgYkI9bWF4KDMwLjAsYmUqMy4wKTtmbG9hdCBiQz1iQjtiQT1taW4oYkMqMTYuMCxhYnMoYkEpKSpzaWduKGJ6KTtmbG9hdCBiRD0xMDAwLjAqYkMvYkE7ZmxvYXQgYkU9bW9kKHVfdGltZS9iRCwxLjApO2Zsb2F0IGJGPWJFKmJCO3ZfY29yZT12ZWM0KGJrLFgvWixiciwwLjApO3ZfZGFzaGluZz12ZWMzKGJCLDAuMCxiRik7fWVsc2V7dl9jb3JlPXZlYzQoYmssWC9aLGJyLDAuMCk7fX12ZWMyIGJHPUYvdV9yZXNvbHV0aW9uLnh5O3ZlYzIgYkg9YkcqMi4wO3ZlYzIgYkk9YkgtMS4wO3ZfY29sb3VyPUk7dl9jb2xvdXIyPUo7dl9oaXRUZXN0Q29sb3VyPWFfaGl0VGVzdENvbG91cjtnbF9Qb3NpdGlvbj11X3RyYW5zZm9ybSp2ZWM0KGJJKnZlYzIoMSwtMSksMCwxKTt9",Uv["line-fragment"]="CiNpZmRlZiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMKCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCgojZW5kaWYKcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O3VuaWZvcm0gZmxvYXQgdV9oaXRUZXN0O3VuaWZvcm0gZmxvYXQgdV9zaGFkb3dUeXBlO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gZmxvYXQgdV9ncmFkaWVudFN0YXJ0RnJhY3Rpb247dmFyeWluZyB2ZWM0IHZfY29sb3VyO3ZhcnlpbmcgdmVjNCB2X2NvbG91cjI7dmFyeWluZyB2ZWMzIHZfaGl0VGVzdENvbG91cjt2YXJ5aW5nIHZlYzQgdl9jb3JlO3ZhcnlpbmcgdmVjNCB2X2xpbmVEYXRhO3ZhcnlpbmcgdmVjNCB2X2JhcnljZW50cmljO3ZhcnlpbmcgdmVjNCB2X2FyY19wb3NpdGlvbl9kZXRhaWw7dmFyeWluZyB2ZWMzIHZfZGFzaGluZztpbnQgYT0yO2ludCBiPTM7aW50IGM9NDtpbnQgZD01O2Zsb2F0IGU9My4xNDE1OTI2NTM1OTtmbG9hdCBmPTAuNzA3MTA2NzgxMTg2NTQ3NTc7ZmxvYXQgZyhmbG9hdCBoLGZsb2F0IGkpe2Zsb2F0IGo9bGVuZ3RoKHZlYzIoZEZkeChpKSxkRmR5KGkpKSkqZjtyZXR1cm4gc21vb3Roc3RlcChoLWosaCtqLGkpO31mbG9hdCBrPTAuMDAwMTtmbG9hdCBsKGZsb2F0IG0sZmxvYXQgbixmbG9hdCBpKXtmbG9hdCBvPW1heChpLW0sMC4wKTtmbG9hdCBwPW1heChrLG4tbSk7cmV0dXJuIG1pbigxLjAsby9wKTt9ZmxvYXQgcSh2ZWMzIHIpe3ZlYzMgcz1md2lkdGgocik7dmVjMyB0PXNtb290aHN0ZXAodmVjMygwLjApLHMqMi4wLHIpO3JldHVybiBtaW4obWluKHQueCx0LnkpLHQueik7fWludCB1KGZsb2F0IGEpe3JldHVybiBpbnQoZmxvb3IoYSswLjUpKTt9dmVjNCB2KGZsb2F0IHcpe2Zsb2F0IHg9bCh1X2dyYWRpZW50U3RhcnRGcmFjdGlvbiwxLjAtdV9ncmFkaWVudFN0YXJ0RnJhY3Rpb24sdyk7dmVjMyB5PW1peCh2X2NvbG91ci5yZ2Isdl9jb2xvdXIyLnJnYix4KTtmbG9hdCB6PW1peCh2X2NvbG91ci5hLHZfY29sb3VyMi5hLHgpO3JldHVybiB2ZWM0KHkqeix6KTt9dmVjNCBBKHZlYzQgeSxmbG9hdCBCLGZsb2F0IEMpe2Zsb2F0IGg9KEMvMi4wKSp1X3pvb207ZmxvYXQgRD1hYnMoQikqdV96b29tO3kqPTEuMC1zbW9vdGhzdGVwKGgtZixoK2YsRCk7cmV0dXJuIHk7fWZsb2F0IEUoZmxvYXQgRCxmbG9hdCBGLGZsb2F0IEcpe3JldHVybiAoRC9GKSpHO312ZWM0IEgoYm9vbCBJLGJvb2wgSixib29sIEssYm9vbCBMKXtmbG9hdCBCPXZfbGluZURhdGEueC8yLjA7ZmxvYXQgQz12X2xpbmVEYXRhLnk7ZmxvYXQgTT12X2NvcmUueDt2ZWM0IE49dihNKTtmbG9hdCBPPXZfY29yZS56O2Zsb2F0IFA9dl9saW5lRGF0YS56O2lmKEwpe2Zsb2F0IFE9dl9kYXNoaW5nLng7ZmxvYXQgUj1RKigyLjAvMy4wKTtmbG9hdCBTPXZfZGFzaGluZy56O2Zsb2F0IFQ9TSpQO2Zsb2F0IFU9bW9kKFQtKFAvMi4wKS0oUS8yLjApLFEpO2Zsb2F0IFY9bW9kKFMtVSxRKTtmbG9hdCBXPWRpc3RhbmNlKFYsUS8yLjApO04qPTEuMC1nKFIvMi4wLFcpO049QShOLEIsQyk7Tio9ZyhPLHZfY29yZS54KTtOKj0xLjAtZygxLjAtTyx2X2NvcmUueCk7fWVsc2UgaWYoSSl7ZmxvYXQgWD12X2NvcmUueTtmbG9hdCBZPUMvMi4wO2Zsb2F0IFo9dl9kYXNoaW5nLng7ZmxvYXQgYmE9dl9kYXNoaW5nLno7ZmxvYXQgYmI9TSpYO3ZlYzIgYmM9dmVjMihNKlAsQik7ZmxvYXQgYmQ9ZnJhY3QoYmIpLWJhO2Zsb2F0IGJlPWZsb29yKGJkKzAuNSk7ZmxvYXQgYmY9YmItYmQrYmU7dmVjMiBiZz12ZWMyKChiZi9YKSpQLDAuMCk7ZmxvYXQgYmg9WTtpZihKKXtiYy55PTAuMDtiaD1aLzIuMDtOPUEoTixCLEMpO31mbG9hdCBXPWRpc3RhbmNlKGJjLGJnKTtOKj0xLjAtZyhiaCxXKTt9ZWxzZXtOPUEoTixCLEMpO04qPWcoTyx2X2NvcmUueCk7Tio9MS4wLWcoMS4wLU8sdl9jb3JlLngpO31yZXR1cm4gTjt9dmVjNCBiaShib29sIEksYm9vbCBKLGJvb2wgSyxib29sIEwpe2Zsb2F0IEM9dl9saW5lRGF0YS55O2Zsb2F0IE89dl9jb3JlLno7ZmxvYXQgUD12X2xpbmVEYXRhLno7ZmxvYXQgWT1DLzIuMDtmbG9hdCBiaj12X2NvcmUuYTtmbG9hdCBiaz1QL2JqO3ZlYzIgRD12X2FyY19wb3NpdGlvbl9kZXRhaWwueHk7dmVjMiBibD12X2FyY19wb3NpdGlvbl9kZXRhaWwuenc7ZmxvYXQgYm09ZGlzdGFuY2UoRCxibCk7ZmxvYXQgYm49YXRhbihELnktYmwueSxELngtYmwueCk7aWYoYm48dl9jb3JlLngpe2JuKz0yLjAqZTt9ZmxvYXQgYm89dl9jb3JlLng7ZmxvYXQgYnA9KGJuLWJvKS8oYmspO3ZlYzQgTj12KGJwKTtpZihMKXtmbG9hdCBicT12X2Rhc2hpbmcueDtmbG9hdCBicj1icSooMi4wLzMuMCk7ZmxvYXQgUz12X2Rhc2hpbmcuejtmbG9hdCBicz1icCpiaztmbG9hdCBidD1tb2QoYnMtKGJrLzIuMCktKGJxLzIuMCksYnEpO2Zsb2F0IGJ1PW1vZChTLWJ0LGJxKTtmbG9hdCBXPWRpc3RhbmNlKGJ1LGJxLzIuMCk7ZmxvYXQgYnY9dl9jb3JlLnk7Tio9MS4wLWcoYnIvMi4wLFcpO04qPWcoYmosYm0rWSk7Tio9MS4wLWcoYmorWSxibSk7Tio9ZyhPLGJ2KTtOKj0xLjAtZygxLjAtTyxidik7fWVsc2UgaWYoSSl7ZmxvYXQgWj12X2Rhc2hpbmcueDtmbG9hdCBiYT12X2Rhc2hpbmcuejtmbG9hdCBYPXZfY29yZS55O2Zsb2F0IGJ3PWJwKlg7dmVjMiBieD1EO2Zsb2F0IGJkPWZyYWN0KGJ3KS1iYTtmbG9hdCBiZT1mbG9vcihiZCswLjUpO2Zsb2F0IGJnPWJ3LWJkK2JlO2Zsb2F0IGJ5PUUoYmcsWCxiaykrYm87aWYoSyl7dmVjMiBiZz12ZWMyKGJsLngrKGJqKmNvcyhieSkpLGJsLnkrKGJqKnNpbihieSkpKTtmbG9hdCBXPWRpc3RhbmNlKGJ4LGJnKTtmbG9hdCBiej1ZO04qPTEuMC1nKGJ6LFcpO31lbHNle2Zsb2F0IGJBPWRpc3RhbmNlKGJuLGJ5KTtmbG9hdCBiej1FKFovMi4wLFAsYmspO04qPTEuMC1nKGJ6LGJBKTtOKj1nKGJqLGJtK1kpO04qPTEuMC1nKGJqK1ksYm0pO319ZWxzZXtmbG9hdCBidj12X2NvcmUueTtOKj1nKGJqLGJtK1kpO04qPTEuMC1nKGJqK1ksYm0pO04qPWcoTyxidik7Tio9MS4wLWcoMS4wLU8sYnYpO31yZXR1cm4gTjt9dm9pZCBtYWluKCl7aW50IGJCPWludCh1X3NoYWRvd1R5cGUpO2Zsb2F0IGJDPWFicyh2X2xpbmVEYXRhLncpO2ludCBiRD11KGJDKTtib29sIGJFPXNpZ24odl9saW5lRGF0YS53KTwwLjA7Ym9vbCBJPWJDPjEuNTtib29sIEo9YkQ9PWE7Ym9vbCBLPWJEPT1iO2Jvb2wgTD1iRD09Yztib29sIGJGPWJEPj1kO2Jvb2wgYkc9YkI9PS0xO2Jvb2wgYkg9YkI9PTE7aWYodV9oaXRUZXN0PjAuNSl7aWYoYkcpe2Rpc2NhcmQ7fWVsc2V7ZmxvYXQgYkk9bGVuZ3RoKHN0ZXAoMS4wLHZfaGl0VGVzdENvbG91cikpO2dsX0ZyYWdDb2xvcj12ZWM0KHZfaGl0VGVzdENvbG91ci8yNTUuMCxiSSk7fX1lbHNlIGlmKGJIKXtkaXNjYXJkO31lbHNle3ZlYzQgTjtpZihiRil7Tj12ZWM0KHZfY29sb3VyLnJnYip2X2NvbG91ci5hLHZfY29sb3VyLmEpO04qPWcodl9iYXJ5Y2VudHJpYy5hLHEodl9iYXJ5Y2VudHJpYy5yZ2IpKTt9ZWxzZXtpZihiRSl7Tj1iaShJLEosSyxMKTt9ZWxzZXtOPUgoSSxKLEssTCk7fX1nbF9GcmFnQ29sb3I9Tjt9fQ==",Uv["line-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb24xO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb24yO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb24zO2F0dHJpYnV0ZSB2ZWM0IGFfdmVydGV4SW5mbzthdHRyaWJ1dGUgdmVjNCBhX2NvbG91cjthdHRyaWJ1dGUgdmVjNCBhX2NvbG91cjI7YXR0cmlidXRlIHZlYzMgYV9oaXRUZXN0Q29sb3VyO2F0dHJpYnV0ZSBmbG9hdCBhX2xpbmVUeXBlO3VuaWZvcm0gZmxvYXQgdV9oaXRUZXN0O3VuaWZvcm0gdmVjMyB1X3Jlc29sdXRpb247dW5pZm9ybSBtYXQ0IHVfdHJhbnNmb3JtO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gZmxvYXQgdV92aWV3SW5kZXBlbmRlbnQ7dW5pZm9ybSBmbG9hdCB1X3RpbWU7dW5pZm9ybSBib29sIHVfYWRhcHRpdmVTdHlsaW5nO3ZhcnlpbmcgdmVjNCB2X2NvbG91cjt2YXJ5aW5nIHZlYzQgdl9jb2xvdXIyO3ZhcnlpbmcgdmVjNCB2X2NvcmU7dmFyeWluZyB2ZWMzIHZfaGl0VGVzdENvbG91cjt2YXJ5aW5nIHZlYzQgdl9saW5lRGF0YTt2YXJ5aW5nIHZlYzQgdl9iYXJ5Y2VudHJpYzt2YXJ5aW5nIHZlYzQgdl9hcmNfcG9zaXRpb25fZGV0YWlsO3ZhcnlpbmcgdmVjMyB2X2Rhc2hpbmc7aW50IGE9MjtpbnQgYj0zO2ludCBjPTQ7aW50IGQ9NTtmbG9hdCBlPTAuMDAwMTtmbG9hdCBmPTE1LjA7aW50IGcoZmxvYXQgYSl7cmV0dXJuIGludChmbG9vcihhKzAuNSkpO31mbG9hdCBoKGZsb2F0IGksZmxvYXQgail7ZmxvYXQgaz1pLzIuMDtmbG9hdCBsPWZsb29yKCgoaitrKS8oaStrKSkrMC41KTtpZigobCppKT5qKXtsPTEuMDt9cmV0dXJuIGw7fXZlYzIgbSh2ZWMyIG4sdmVjMiBvLHZlYzIgcCxpbnQgcSl7dmVjMiByO3ZlYzIgcztpZihxPT0wKXtyPW47cz0obytwKS8yLjA7fWVsc2UgaWYocT09MSl7cj1vO3M9KG4rcCkvMi4wO31lbHNlIGlmKHE9PTIpe3I9cDtzPShvK24pLzIuMDt9dmVjMiB0PW5vcm1hbGl6ZShyLXMpO3IrPXQvdV96b29tO3JldHVybiByO31mbG9hdCB1KGZsb2F0IHYsZmxvYXQgdyxmbG9hdCB4KXtmbG9hdCB5PW1heCh4LXYsMC4wKTtmbG9hdCB6PW1heChlLHctdik7cmV0dXJuIG1pbigxLjAseS96KTt9ZmxvYXQgQSgpe2lmKHVfem9vbT4wLjE1KXtyZXR1cm4gbWl4KDAuNzUsMS4wLHUoMC4xNSwwLjIsdV96b29tKSk7fWlmKHVfem9vbT4wLjA4KXtyZXR1cm4gbWl4KDAuNCwwLjc1LHUoMC4wOCwwLjE1LHVfem9vbSkpO31yZXR1cm4gbWl4KDAuMiwwLjQsdSgwLjAxLDAuMDgsdV96b29tKSk7fXZvaWQgbWFpbigpe2Zsb2F0IEI9MS4wL3VfcmVzb2x1dGlvbi56O3ZlYzQgQz1hX2NvbG91ci8yNTUuMDt2ZWM0IEQ9YV9jb2xvdXIyLzI1NS4wO2ludCBFPWcoYV9saW5lVHlwZSk7Ym9vbCBGPUU9PWE7Ym9vbCBHPUU9PWI7Ym9vbCBIPUU9PWM7Ym9vbCBJPUU9PWQ7dmVjMiByO2Zsb2F0IEo7ZmxvYXQgSztpZihJKXtpbnQgcT1pbnQoYV92ZXJ0ZXhJbmZvLncpO3ZlYzIgbj1hX3Bvc2l0aW9uMTt2ZWMyIG89YV9wb3NpdGlvbjI7dmVjMiBwPWFfcG9zaXRpb24zO2Zsb2F0IEw9ZGlzdGFuY2UobyxwKTtmbG9hdCBNPUwvdV96b29tO2Zsb2F0IEs9MS4wL007cj1tKG4sbyxwLHEpO3ZfbGluZURhdGE9dmVjNCgwLjAsMC4wLDAuMCxhX2xpbmVUeXBlKTt2X2JhcnljZW50cmljPXZlYzQoYV92ZXJ0ZXhJbmZvLnh5eixLKTt9ZWxzZXtmbG9hdCBOPTEuMC91X3pvb207aWYodV9oaXRUZXN0PT0xLjApe049Ny4wL3Vfem9vbTt9ZmxvYXQgQj0xLjAvdV9yZXNvbHV0aW9uLno7aWYoRyl7Qj1tYXgoQixzdGVwKDIuNSxhX2xpbmVUeXBlKSoyLjApO312ZWMyIE89bm9ybWFsaXplKGFfcG9zaXRpb24yLWFfcG9zaXRpb24xKTt2ZWMyIFA9Ty91X3pvb207ZmxvYXQgUT1hX3ZlcnRleEluZm8ueS0xLjA7ZmxvYXQgUj1hX3ZlcnRleEluZm8ueCthX3ZlcnRleEluZm8uejt2ZWMyIFM9YV9wb3NpdGlvbjItYV9wb3NpdGlvbjE7dmVjMiBUPW5vcm1hbGl6ZSh2ZWMyKC1TLnksUy54KSk7aWYoaW50KGFfdmVydGV4SW5mby54KT09MCl7cj1hX3Bvc2l0aW9uMS1QO31lbHNle3I9YV9wb3NpdGlvbjIrUDt9ZmxvYXQgVT1hX3Bvc2l0aW9uMy54O2Zsb2F0IFY9bWF4KEEoKSxzbW9vdGhzdGVwKDAuMCwxLjAsVSp1X3pvb20pKTtpZihpbnQodV92aWV3SW5kZXBlbmRlbnQpPT0wKXtVPW1heCgoVSkqdV96b29tLEIpL3Vfem9vbTt9ZmxvYXQgVz1VK047dmVjMiBYPVQqKFcvMi4wKSpRO3I9citYO2Zsb2F0IFk9ZGlzdGFuY2UoYV9wb3NpdGlvbjEsYV9wb3NpdGlvbjIpO2Zsb2F0IFo9WSp1X3pvb207ZmxvYXQgYmE9KDEuMC9ZKS91X3pvb207aWYoRyl7ZmxvYXQgYmI9Wi80LjA7ZmxvYXQgYmM9WS8oVSoyLjApO2Zsb2F0IGJkPW1pbihiYixiYyk7dl9jb3JlPXZlYzQoUixjZWlsKGJkKSxiYSwwLjApO3ZfZGFzaGluZz12ZWMzKFUsVSwwLjUpO31lbHNlIGlmKEYpe2Zsb2F0IGk9bWF4KDIuMC91X3pvb20sVSoyLjApO2Zsb2F0IGJlPWgoaSxZKTtmbG9hdCBrPShZLWkqYmUpLyhiZS0xLjApO2Zsb2F0IGJmPWsqYmUvKFkrayk7dl9jb3JlPXZlYzQoUixiZS1iZixiYSwwLjApO2Zsb2F0IGJnPShpLyhpK2spKS8yLjA7dl9kYXNoaW5nPXZlYzMoaSxrLGJnKTt9ZWxzZSBpZihIKXtmbG9hdCBiaD1hX3Bvc2l0aW9uMy55O2Zsb2F0IGJpPWYqYmg7ZmxvYXQgYmo9bWF4KDMwLjAsVSozLjApO2Zsb2F0IGJrPWJqO2JpPW1pbihiayoxNi4wLGFicyhiaSkpKnNpZ24oYmgpO2Zsb2F0IGJsPTEwMDAuMCpiay9iaTtmbG9hdCBibT1tb2QodV90aW1lL2JsLDEuMCk7ZmxvYXQgYm49Ym0qYmo7dl9kYXNoaW5nPXZlYzMoYmosMC4wLGJuKTt2X2NvcmU9dmVjNChSLDAuMCxiYSwwLjApO31lbHNle3ZfY29yZT12ZWM0KFIsMC4wLGJhLDAuMCk7fWlmKGludChRKT09MSl7dl9saW5lRGF0YT12ZWM0KC1XLFUsWSxhX2xpbmVUeXBlKTt9ZWxzZXt2X2xpbmVEYXRhPXZlYzQoVyxVLFksYV9saW5lVHlwZSk7fWlmKHVfYWRhcHRpdmVTdHlsaW5nKXtDLmEqPVY7RC5hKj1WO319dmVjMiBibz1yL3VfcmVzb2x1dGlvbi54eTt2ZWMyIGJwPWJvKjIuMDt2ZWMyIGJxPWJwLTEuMDt2X2NvbG91cj1DO3ZfY29sb3VyMj1EO3ZfaGl0VGVzdENvbG91cj1hX2hpdFRlc3RDb2xvdXI7Z2xfUG9zaXRpb249dV90cmFuc2Zvcm0qdmVjNChicSp2ZWMyKDEsLTEpLDAsMSk7fQ==",Uv["triangle-fragment"]="CiNpZmRlZiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMKCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCgojZW5kaWYKcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2VbN107dW5pZm9ybSBsb3dwIGZsb2F0IHVfaGl0VGVzdDt1bmlmb3JtIHZlYzMgdV9yZXNvbHV0aW9uO3VuaWZvcm0gZmxvYXQgdV9zaGFkb3dUeXBlO3VuaWZvcm0gZmxvYXQgdV96b29tO3ZhcnlpbmcgdmVjNCB2X3RleENvb3JkO3ZhcnlpbmcgdmVjNCB2X2NvbG91cjt2YXJ5aW5nIHZlYzMgdl9oaXRUZXN0Q29sb3VyO3ZhcnlpbmcgdmVjMiB2X3RleHR1cmVCYW5rO3ZhcnlpbmcgZmxvYXQgdl9ib3JkZXJXaWR0aDt2YXJ5aW5nIHZlYzQgdl9zaGFwZVNpemU7dmFyeWluZyBmbG9hdCB2X3BpeGVsO3ZhcnlpbmcgdmVjMiB2X2RvbnV0U2VnbWVudDtjb25zdCBmbG9hdCBhPTMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NTtmbG9hdCBiKGZsb2F0IGMsZmxvYXQgZCl7ZmxvYXQgZT1sZW5ndGgodmVjMihkRmR4KGQpLGRGZHkoZCkpKSowLjcwNzEwNjc4MTE4NjU0NzU3O3JldHVybiBzbW9vdGhzdGVwKGMtZSxjK2UsZCk7fWludCBmKGZsb2F0IGEpe3JldHVybiBpbnQoZmxvb3IoYSswLjUpKTt9ZmxvYXQgZyhmbG9hdCBoKXtmbG9hdCBpPXVfcmVzb2x1dGlvbi56KnVfem9vbTtmbG9hdCBqPTEuMC1zdGVwKDEuMCxoKmkpO2Zsb2F0IGs9MS4wL2k7cmV0dXJuIG1heChoLGoqayk7fWZsb2F0IGwoZmxvYXQgbSl7ZmxvYXQgaT11X3Jlc29sdXRpb24ueip1X3pvb207ZmxvYXQgaD0wLjA7aWYodl9ib3JkZXJXaWR0aCE9MC4wKXtoPW1heCgxLjAsYWJzKHZfYm9yZGVyV2lkdGgpKmkpO31mbG9hdCBuPTAuMDtmbG9hdCBvPXZfZG9udXRTZWdtZW50Lng7aWYobz4wLjApe24rPW1heCgxLjAsbyppKTt9ZmxvYXQgcD12X2RvbnV0U2VnbWVudC55O2lmKHA+MC4wKXtpZihzdGVwKDUuMCxtKT09MS4wKXtuKz1tYXgoMS4wLHAqaSk7fWg9MC4wO31mbG9hdCBxPWFicyh2X3NoYXBlU2l6ZS56KSppO2Zsb2F0IHI9dl9zaGFwZVNpemUudyppO2Zsb2F0IHM9YWJzKDAuNS0odl90ZXhDb29yZC54L3ZfdGV4Q29vcmQueikpKnE7ZmxvYXQgdD1hYnMoMC41LSh2X3RleENvb3JkLnkvdl90ZXhDb29yZC53KSkqcjtmbG9hdCB1PTAuNSpxO2Zsb2F0IHY9MC41KnI7ZmxvYXQgdz0xLjA7aWYoaD4wLjApe2Zsb2F0IHg9bitoO2Zsb2F0IHk9c3RlcCh1LXgscyk7ZmxvYXQgej1zdGVwKHYteCx0KTt3PW1heCh5LHopO31mbG9hdCBBPTAuMDtpZihuPjAuMCl7ZmxvYXQgQj1zdGVwKHUtbixzKTtmbG9hdCBDPXN0ZXAodi1uLHQpO0E9bWF4KEIsQyk7fXJldHVybiB3KigxLjAtQSk7fWZsb2F0IEQoZmxvYXQgRSx2ZWM0IEYpe2Zsb2F0IEc7aW50IEg9ZihFKTtpZihIPT0wKXtHPUYucjt9ZWxzZSBpZihIPT0xKXtHPUYuZzt9ZWxzZXtHPUYuYjt9cmV0dXJuIEc7fXZlYzQgSShmbG9hdCBKLHZlYzQgSyxmbG9hdCBMKXtmbG9hdCBNPShLLnIrSy5iK0suZykvMy4wO2Zsb2F0IE49c3RlcCgxLjAsTSkqTDtmbG9hdCBPPU4qKHN0ZXAoMC4yNSxKKSptaW4oTSwwLjI1KSk7dmVjNCBQPXZlYzQoKEsucmdiK08pKksuYSxLLmEpO3JldHVybiBKKlA7fWZsb2F0IFEodmVjMiBSLGZsb2F0IFMsZmxvYXQgVCxmbG9hdCBoLGZsb2F0IFUpe1U9bWF4KDAuMCxVLWgpO2Zsb2F0IHU9Uy8yLjA7ZmxvYXQgdj1ULzIuMDtmbG9hdCBhPXUtVS1oO2Zsb2F0IGI9di1VLWg7ZmxvYXQgeD1SLngtdTtmbG9hdCB5PVIueS12O2Zsb2F0IFY9cG93KG1heChhYnMoeCktYSwwLjApLDIuMCk7ZmxvYXQgVz1wb3cobWF4KGFicyh5KS1iLDAuMCksMi4wKTtyZXR1cm4gVitXO31mbG9hdCBYKGZsb2F0IFkpe3JldHVybiAoZGlzdGFuY2Uodl90ZXhDb29yZC56dyx2ZWMyKDAuNSkpKlkpKnVfem9vbTt9dmVjNCBaKHZlYzQgUCxmbG9hdCBVKXtmbG9hdCBiYT1wb3coVSwyLjApO2Zsb2F0IGJiPVEodl90ZXhDb29yZC54eSx2X3RleENvb3JkLnosdl90ZXhDb29yZC53LDAuMCxVKTtpZihhYnModl9ib3JkZXJXaWR0aCk+MC4wKXtQKj0xLjAtYihiYSxiYik7YmI9USh2X3RleENvb3JkLnh5LHZfdGV4Q29vcmQueix2X3RleENvb3JkLncsdl9ib3JkZXJXaWR0aCxVKTtmbG9hdCBiYz1tYXgoMC4wLFUtdl9ib3JkZXJXaWR0aCk7ZmxvYXQgYmQ9cG93KGJjLDIuMCk7UCo9YihiZCxiYik7fWVsc2V7UCo9MS4wLWIoYmEsYmIpO31yZXR1cm4gUDt9dmVjNCBiZSh2ZWM0IGJmLHZlYzQgYmcsZmxvYXQgTCl7ZmxvYXQgSj1EKHZfdGV4dHVyZUJhbmsueSxiZik7cmV0dXJuIEkoSixiZyxMKTt9ZmxvYXQgYmgoZmxvYXQgbSl7cmV0dXJuIG1heCgwLjIsc21vb3Roc3RlcCgwLjAsNS4wLG0pKTt9dm9pZCBtYWluKCl7ZmxvYXQgcT1hYnModl9zaGFwZVNpemUueik7ZmxvYXQgcj12X3NoYXBlU2l6ZS53O2Zsb2F0IGJpPWFicyh2X3NoYXBlU2l6ZS54KTtmbG9hdCBiaj12X3NoYXBlU2l6ZS55O2Zsb2F0IGJrPW1pbihiaSxiaik7ZmxvYXQgbT0oKGJrLzIuMCkqdV96b29tKS0wLjU7ZmxvYXQgaD1hYnModl9ib3JkZXJXaWR0aCk7dmVjNCBQO2ludCBibD1mKHVfc2hhZG93VHlwZSk7Ym9vbCBibT1mKHZfc2hhcGVTaXplLngpPjA7Ym9vbCBibj1mKHZfc2hhcGVTaXplLngpPDA7Ym9vbCBibz1mKHZfYm9yZGVyV2lkdGgpPDA7Ym9vbCBicD1ibD09MTtib29sIGJxPWYodV9oaXRUZXN0KT09MTt2ZWMyIGJyPXZfdGV4Q29vcmQuenc7ZmxvYXQgYnM9dl9kb251dFNlZ21lbnQueDtmbG9hdCBidD12X2RvbnV0U2VnbWVudC55O2Zsb2F0IFU9bWF4KC12X2RvbnV0U2VnbWVudC54LDAuMCk7aW50IEU9Zih2X3RleHR1cmVCYW5rLngpO2Jvb2wgYnU9Ym4mJih2X2JvcmRlcldpZHRoIT0wLjB8fHZfZG9udXRTZWdtZW50Lng+MC4wfHx2X2RvbnV0U2VnbWVudC55PjAuMCk7Ym9vbCBidj1FPT0tMztib29sIGJ3PWJtJiYoYnMhPTAuMHx8YnQhPTAuMCk7ZmxvYXQgYng7aWYoYnd8fGJvKXtpZihicz5hKXticy09Mi4wKmE7fWlmKGJ0PmEpe2J0LT0yLjAqYTt9ZmxvYXQgeD1ici54LTAuNTtmbG9hdCB5PWJyLnktMC41O2J4PWF0YW4oeSx4KTt9aWYoYnEpe2lmKGJsPT0tMSl7ZGlzY2FyZDt9ZWxzZXtmbG9hdCBieT1sZW5ndGgoc3RlcCgxLjAsdl9oaXRUZXN0Q29sb3VyKSk7UD12ZWM0KHZfaGl0VGVzdENvbG91ci8yNTUuMCxieSk7aWYoYm0pe2Zsb2F0IGJ6PVgocSk7UCo9MS4wLXN0ZXAobSxieik7aWYoaD4wLjApe2Zsb2F0IGJBPWgqdV96b29tO1AqPXN0ZXAobS1iQSxieik7fWlmKGJ3KXtpZihicz49YnQpe1AqPXN0ZXAoYnMsYngpKygxLjAtc3RlcChidCxieCkpO31lbHNle1AqPXN0ZXAoYnMsYngpO1AqPTEuMC1zdGVwKGJ0LGJ4KTt9fX1lbHNlIGlmKFU+MC4wKXtmbG9hdCBiQj1wb3coVSwyLjApO2Zsb2F0IGJDPVEodl90ZXhDb29yZC54eSx2X3RleENvb3JkLnosdl90ZXhDb29yZC53LDAuMCxVKTtQKj0xLjAtc3RlcChiQixiQyk7fWVsc2UgaWYoYnUpe1AqPWwobSk7fX19ZWxzZSBpZihicCl7ZGlzY2FyZDt9ZWxzZXtQPXZfY29sb3VyLzI1NS4wO2Zsb2F0IGJEPVAuYTtpZihFPj0wKXt2ZWM0IEY7ZmxvYXQgYkU9LTIuMC8zLjA7ZmxvYXQgYkY9LTAuODtpZihFPT0wKXtGPXRleHR1cmUyRCh1X2ltYWdlWzBdLHZfdGV4Q29vcmQueHksYkYpO1A9YmUoRixQLDEuMCk7fWVsc2UgaWYoRT09MSl7Rj10ZXh0dXJlMkQodV9pbWFnZVsxXSx2X3RleENvb3JkLnh5LGJGKTtQPWJlKEYsUCwxLjApO31lbHNlIGlmKEU9PTIpe0Y9dGV4dHVyZTJEKHVfaW1hZ2VbMl0sdl90ZXhDb29yZC54eSxiRik7UD1iZShGLFAsMS4wKTt9ZWxzZSBpZihFPT0zKXtGPXRleHR1cmUyRCh1X2ltYWdlWzNdLHZfdGV4Q29vcmQueHksYkUpO1A9YmUoRixQLDAuMCk7fWVsc2UgaWYoRT09NCl7UD10ZXh0dXJlMkQodV9pbWFnZVs0XSx2X3RleENvb3JkLnh5LGJFKSpiRDt9ZWxzZSBpZihFPT01KXtQPXRleHR1cmUyRCh1X2ltYWdlWzVdLHZfdGV4Q29vcmQueHksYkUpKmJEO31lbHNlIGlmKEU9PTYpe1A9dGV4dHVyZTJEKHVfaW1hZ2VbNl0sdl90ZXhDb29yZC54eSxiRSkqYkQ7fX1lbHNle2Zsb2F0IGJEPVAuYTtQPXZlYzQoUC5yZ2IqYkQsYkQpO31pZihibSl7ZmxvYXQgYno9WChxKTtQKj0xLjAtYihtLGJ6KTtpZihoPjAuMCl7ZmxvYXQgYkE9bWF4KDEuMCxoKnVfem9vbSk7UCo9YihtLWJBLGJ6KTtQKj1iaChtKTt9aWYoYncpe2Zsb2F0IGJHPXZfcGl4ZWwqMS41O2Zsb2F0IGJIPWJzLWJHO2Zsb2F0IGJJPWJzK2JHO2Zsb2F0IGJKPWJ0LWJHO2Zsb2F0IGJLPWJ0K2JHO2lmKGJzPj1idCl7UCo9c21vb3Roc3RlcChiSCxiSSxieCkrKDEuMC1zbW9vdGhzdGVwKGJKLGJLLGJ4KSk7fWVsc2V7UCo9c21vb3Roc3RlcChiSCxiSSxieCk7UCo9MS4wLXNtb290aHN0ZXAoYkosYkssYngpO319ZWxzZSBpZihibyl7ZmxvYXQgYkw9aCoyLjA7ZmxvYXQgYk09YkwvMi4wO2Zsb2F0IGJOPTIuMCooYSooYmkvMi4wKSk7ZmxvYXQgYk89YngvKDIuMCphKTtmbG9hdCBiUD1mbG9vcigoYk4rYk0pLyhiTCtiTSktMS4wKTtmbG9hdCBiUT1zaW4oKChiTypiUCkpKigyLjAqYSkpO1AqPWIoLTAuNSxiUSk7fX1lbHNlIGlmKFU+MC4wKXtQPVooUCxVKTt9ZWxzZSBpZihidSl7UCo9bChtKTtpZih2X2JvcmRlcldpZHRoPjAuMCl7Ym9vbCBiUj1mKHZfZG9udXRTZWdtZW50LnkpPT0tMTtpZighYlIpe1AqPWJoKG0pO31pZihidil7ZmxvYXQgYk09ZyhoKTtmbG9hdCBiTD1iTSoyLjA7ZmxvYXQgYlA9Zmxvb3IoKHZfdGV4Q29vcmQueitiTSkvKGJMK2JNKSkrMC41O2Zsb2F0IGJRPXNpbigoKCh2X3RleENvb3JkLngvdl90ZXhDb29yZC56KSpiUCkpKigyLjAqYSkpO1AqPXN0ZXAoLTAuNDksYlEpO2JQPWZsb29yKCh2X3RleENvb3JkLncrYk0pLyhiTCtiTSkpKzAuNTtiUT1zaW4oKCgodl90ZXhDb29yZC55L3ZfdGV4Q29vcmQudykqYlApKSooMi4wKmEpKTtQKj1iKC0wLjQ5LGJRKTt9fX19Z2xfRnJhZ0NvbG9yPVA7fQ==",Uv["triangle-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247YXR0cmlidXRlIHZlYzQgYV90ZXhDb29yZDthdHRyaWJ1dGUgdmVjMyBhX2hpdFRlc3RDb2xvdXI7YXR0cmlidXRlIGZsb2F0IGFfdmVydGV4SW5kZXg7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlQmFuazthdHRyaWJ1dGUgdmVjNCBhX2NvbG91cjthdHRyaWJ1dGUgZmxvYXQgYV9jaXJjbGVSYWRpdXM7YXR0cmlidXRlIGZsb2F0IGFfd2lkdGg7YXR0cmlidXRlIGZsb2F0IGFfc3RhcnRBbmdsZTthdHRyaWJ1dGUgZmxvYXQgYV9lbmRBbmdsZTthdHRyaWJ1dGUgZmxvYXQgYV9hbmNob3I7dW5pZm9ybSB2ZWMzIHVfcmVzb2x1dGlvbjt1bmlmb3JtIG1hdDQgdV90cmFuc2Zvcm07dW5pZm9ybSBmbG9hdCB1X3pvb207dW5pZm9ybSBsb3dwIGZsb2F0IHVfaGl0VGVzdDt1bmlmb3JtIHNhbXBsZXIyRCB1X2FuY2hvclRleHR1cmU7dW5pZm9ybSBmbG9hdCB1X2FuY2hvclRleHR1cmVTaXplO3VuaWZvcm0gYm9vbCB1X3VzZUFuY2hvcjt1bmlmb3JtIGJvb2wgdV92aWV3SW5kZXBlbmRlbnQ7dW5pZm9ybSBib29sIHVfYWRhcHRpdmVTdHlsaW5nO3ZhcnlpbmcgZmxvYXQgdl9ib3JkZXJXaWR0aDt2YXJ5aW5nIHZlYzQgdl9zaGFwZVNpemU7dmFyeWluZyB2ZWM0IHZfdGV4Q29vcmQ7dmFyeWluZyB2ZWM0IHZfY29sb3VyO3ZhcnlpbmcgdmVjMyB2X2hpdFRlc3RDb2xvdXI7dmFyeWluZyB2ZWMyIHZfdGV4dHVyZUJhbms7dmFyeWluZyBmbG9hdCB2X3BpeGVsO3ZhcnlpbmcgdmVjMiB2X2RvbnV0U2VnbWVudDtpbnQgYShmbG9hdCBhKXtyZXR1cm4gaW50KGZsb29yKGErMC41KSk7fWZsb2F0IGIoZmxvYXQgYyl7dmVjMiBkPXZlYzIobW9kKGMsdV9hbmNob3JUZXh0dXJlU2l6ZSksZmxvb3IoYy91X2FuY2hvclRleHR1cmVTaXplKSk7ZCs9MC41O3ZlYzIgZT12ZWMyKGQvdV9hbmNob3JUZXh0dXJlU2l6ZSk7cmV0dXJuIHRleHR1cmUyRCh1X2FuY2hvclRleHR1cmUsZSkucjt9dmVjMiBmKGZsb2F0IGMpe3JldHVybiB2ZWMyKGIoYyksYihjKzEuMCkpO312ZWMyIGcodmVjMiBhKXtyZXR1cm4gZmxvb3IoYSswLjUpO312ZWMyIGgodmVjMiBpKXt2ZWMyIGo9aS91X3Jlc29sdXRpb24ueHk7dmVjMiBrPWoqMi4wO3JldHVybiBrLTEuMDt9dmVjMiBsKHZlYzIgaSl7aSs9MS4wO2kvPTIuMDtyZXR1cm4gaSp1X3Jlc29sdXRpb24ueHk7fXZlYzIgbSh2ZWMyIG4pe2Zsb2F0IG89bGVuZ3RoKG4qdV96b29tKTt2ZWMyIHA9bm9ybWFsaXplKG4pO3JldHVybiBwKihtYXgoMC4wLDIuMC1vKS91X3pvb20pO31mbG9hdCBtKGZsb2F0IHEpe2Zsb2F0IG89bGVuZ3RoKHEqdV96b29tKTtyZXR1cm4gbWF4KHEsKDIuMC1vKS91X3pvb20pO31mbG9hdCByKGZsb2F0IHEpe2Zsb2F0IG89cSp1X3pvb207cmV0dXJuIHNtb290aHN0ZXAoMi4wLDMuMCxvKTt9dmVjMiBzKGludCB0LGZsb2F0IHEpe3ZlYzIgcDtpZih0PT0wKXtwPW5vcm1hbGl6ZSh2ZWMyKC0xLjAsLTEuMCkpO31lbHNlIGlmKHQ9PTEpe3A9bm9ybWFsaXplKHZlYzIoMS4wLC0xLjApKTt9ZWxzZSBpZih0PT0yKXtwPW5vcm1hbGl6ZSh2ZWMyKC0xLjAsMS4wKSk7fWVsc2UgaWYodD09Myl7cD1ub3JtYWxpemUodmVjMigxLjAsMS4wKSk7fXJldHVybiBwKmxlbmd0aCh2ZWMyKHEpKTt9dm9pZCBtYWluKCl7dmVjNCB1PWFfY29sb3VyO2Jvb2wgdj1hKHVfaGl0VGVzdCk9PTE7Ym9vbCB3PWFfY2lyY2xlUmFkaXVzPjAuMDtmbG9hdCB4PWFfY2lyY2xlUmFkaXVzO2ludCB5PWEoYV90ZXh0dXJlQmFuay54KTtib29sIHo9YShhX2NpcmNsZVJhZGl1cyk9PS0xO2Zsb2F0IEE9MC4wO2Jvb2wgQj1mYWxzZTt2ZWMyIEM9YV9wb3NpdGlvbi54eTt2ZWMyIEQ9YV9wb3NpdGlvbjtmbG9hdCBFO2Zsb2F0IEY7ZmxvYXQgRztmbG9hdCBIO3ZlYzIgcDtpbnQgdD1hKGFfdmVydGV4SW5kZXgpO2lmKHcpe2lmKHVfYWRhcHRpdmVTdHlsaW5nJiYhdV92aWV3SW5kZXBlbmRlbnQpe3g9bSh4KTt9RT1hYnMoeCk7Rj1FO31lbHNle0U9YV90ZXhDb29yZC56LzIuMDtGPWFfdGV4Q29vcmQudy8yLjA7fUc9RSoyLjA7SD1IKjIuMDtmbG9hdCBJPTAuMDtpZih5PjMpe2lmKHVfYWRhcHRpdmVTdHlsaW5nJiYhdV92aWV3SW5kZXBlbmRlbnQpe0QrPW0oQyk7fUk9YV93aWR0aDtEKz1zKHQsSSk7fWVsc2UgaWYoKHk+LTEmJnk8Myl8fHk9PS00KXtBPWFicyhhX3dpZHRoKTtCPWEoQSk+MDtpZih1X2FkYXB0aXZlU3R5bGluZyl7dS5hKj1yKG1pbihFLEYpKTt9fWVsc2V7aWYodV9hZGFwdGl2ZVN0eWxpbmcmJiF1X3ZpZXdJbmRlcGVuZGVudCl7RCs9bShDKTt9QT1hYnMoYV93aWR0aCk7Qj1hKEEpPjA7fWZsb2F0IEo9MC4wO2lmKCF6KXtKPWNlaWwoQS8yLjApO31pZihCKXtpZih2KXtmbG9hdCBLPSg3LjAvdV96b29tKTtBKz1LO0orPWNlaWwoSy8yLjApO312ZWMyIEw9cyh0LEopO0QrPUw7Rys9YWJzKEwueCoyLjApO0grPWFicyhMLnkqMi4wKTt9aWYodV91c2VBbmNob3ImJmFfYW5jaG9yPi0wLjUpe2Zsb2F0IE09YihhX2FuY2hvcisyLjApO3ZlYzIgTj12ZWMyKHNpbigtTSksY29zKC1NKSk7dmVjMiBPPXZlYzIoKEQueCpOLnkpK0QueSpOLngsKEQueSpOLnkpLUQueCpOLngpO0Q9TytmKGFfYW5jaG9yKTt9aWYodil7RCo9MS4wLXN0ZXAoYV9oaXRUZXN0Q29sb3VyLngrYV9oaXRUZXN0Q29sb3VyLnkrYV9oaXRUZXN0Q29sb3VyLnosMC4wKTt9Z2xfUG9zaXRpb249dV90cmFuc2Zvcm0qdmVjNChoKEQpKnZlYzIoMSwtMSksMCwxKTtpZighdyl7dmVjMiBQPWdsX1Bvc2l0aW9uLnh5O1A9bChQKTtQPWcoUCp1X3Jlc29sdXRpb24ueikvdV9yZXNvbHV0aW9uLno7Z2xfUG9zaXRpb24ueHk9aChQKTt9dl90ZXhDb29yZD1hX3RleENvb3JkO3ZfY29sb3VyPXU7dl9oaXRUZXN0Q29sb3VyPWFfaGl0VGVzdENvbG91cjt2X3RleHR1cmVCYW5rPWFfdGV4dHVyZUJhbms7aWYodyl7ZmxvYXQgUT0oQS8yLjApO2Zsb2F0IFI9KHgrUSkqMi4wO3Zfc2hhcGVTaXplPXZlYzQoUixSLEcsRyk7fWVsc2V7ZmxvYXQgUT0wLjA7aWYoIXope1E9KEEvMi4wKTt9dl9zaGFwZVNpemU9dmVjNCgtYV90ZXhDb29yZC56LVEsYV90ZXhDb29yZC53K1EsLWFfdGV4Q29vcmQuei1KLGFfdGV4Q29vcmQudytKKTt9dl9ib3JkZXJXaWR0aD1BKnNpZ24oYV93aWR0aCk7dl9waXhlbD0oMS4wLyhhX2NpcmNsZVJhZGl1cyoyLjApKS91X3pvb207dl9kb251dFNlZ21lbnQ9dmVjMihhX3N0YXJ0QW5nbGUsYV9lbmRBbmdsZSk7fQ==",Uv["renderToTexture-fragment"]="CiNpZmRlZiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMKCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCgojZW5kaWYKcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dW5pZm9ybSBmbG9hdCB1X2dsb2JhbEFscGhhO3VuaWZvcm0gdmVjNCB1X2JhY2tncm91bmRDb2xvdXI7dmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7dm9pZCBtYWluKCl7dmVjNCBhPXVfYmFja2dyb3VuZENvbG91ci8yNTUuMDthPXZlYzQoYS5yZ2IqYS5hLGEuYSk7Z2xfRnJhZ0NvbG9yPShhK3RleHR1cmUyRCh1X2ltYWdlLHZfdGV4Q29vcmQpKSp1X2dsb2JhbEFscGhhO30=",Uv["renderToTexture-vertex"]="cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247YXR0cmlidXRlIHZlYzIgYV90ZXhDb29yZDt2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDt2b2lkIG1haW4oKXtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zaXRpb24sMC4wLDEuMCk7dl90ZXhDb29yZD1hX3RleENvb3JkO30=";var $v="undefined"!=typeof window,tg=!1,eg=!1;function ng(t,e){return t.some((function(t){return e.indexOf(t)>-1}))}function rg(){if(eg)return!tg;if($v){var t="file:"!==document.location.protocol,e=["OES_standard_derivatives","OES_element_index_uint","ANGLE_instanced_arrays"],n=Hv({failIfMajorPerformanceCaveat:!0}),r=void 0;if(t=t&&!!n){var i=n.getSupportedExtensions(),o={};for(r=0;r<i.length;r++)o[i[r]]=!0;for(r=0;t&&r<e.length;r++)t=t&&o[e[r]]}if(t){var a=qv(n),s=a.vendor,u=a.renderer;s&&u&&(t=!(ng(["VMware","VirtualBox"],s)||ng(["SwiftShader","Microsoft Basic Render Driver","VirtualBox","Parallels","VMware"],u)))}return n=null,tg=tg||!t,eg=!0,t}return!tg}var ig={longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampm:["AM","PM"],quarter:"Q",half:"H"},og=[31,28,31,30,31,30,31,31,30,31,30,31],ag={milli:0,sec:1,min:2,hour:3,day:4,week:5,month:6,year:7};function sg(t,e){return e?t-t%e:0}function ug(t){if(t<ag.milli||ag.year<t)throw new Error("bad unit range")}function lg(t){return 1===new Date(t,1,29).getMonth()}function cg(t){return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function fg(t){var e=new Date(t);return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function dg(t,e,n){ug(e);var r=new Date(t);switch(e>ag.milli&&r.setUTCMilliseconds(0),e>ag.sec&&r.setUTCSeconds(0),e>ag.min&&r.setUTCMinutes(0),e>ag.hour&&r.setUTCHours(0),e>=ag.month&&r.setUTCDate(1),e>=ag.year&&r.setUTCMonth(0),e){case ag.milli:r.setUTCMilliseconds(sg(r.getUTCMilliseconds(),n));break;case ag.sec:r.setUTCSeconds(sg(r.getUTCSeconds(),n));break;case ag.min:r.setUTCMinutes(sg(r.getUTCMinutes(),n));break;case ag.hour:r.setUTCHours(sg(r.getUTCHours(),n));break;case ag.day:break;case ag.week:var i=r.getUTCDay(),o=i>=1?i-1:6;r.setTime(r.getTime()-24*o*60*60*1e3);break;case ag.month:r.setUTCMonth(sg(r.getUTCMonth(),n));break;case ag.year:r.setUTCFullYear(sg(r.getUTCFullYear(),n))}return r.getTime()}function hg(t,e,n){if(ug(e),e<=ag.week){var r=n;return e>ag.milli&&(r*=1e3),e>ag.sec&&(r*=60),e>ag.min&&(r*=60),e>ag.hour&&(r*=24),e>ag.day&&(r*=7),t+r}var i=new Date(t);switch(e){case ag.month:var o=i.getUTCMonth()+n,a=o%12,s=Math.floor(o/12);a<0&&(a+=12);var u=i.getUTCDate();u=Math.min(u,function(t,e){return 1===t&&lg(e)?29:og[t]}(a,i.getUTCFullYear()+s)),i.setUTCDate(u),i.setUTCMonth(a),0!==s&&i.setTime(hg(i.getTime(),ag.year,s));break;case ag.year:1===i.getUTCMonth()&&29===i.getUTCDate()&&(lg(i.getUTCFullYear()+n)||i.setTime(hg(i.getTime(),ag.day,-1))),i.setUTCFullYear(i.getUTCFullYear()+n)}return i.getTime()}function pg(t){for(var e=""+t;e.length<2;)e="0"+e;return e}var vg=new RegExp("(f?f?f)|(s?s)|(m?m)|(h?h)|(H?H)|(t?t?t)|(d?d?d?d)|(M?M?M?M?M)|(Q?Q)|yyyy|yy","gm"),gg={f:function(t){return Math.floor(t.getUTCMilliseconds()/100)},ff:function(t){return pg(Math.floor(t.getUTCMilliseconds()/10))},fff:function(t){return pg(Math.floor(t.getUTCMilliseconds()))},s:function(t){return t.getUTCSeconds()},ss:function(t){return pg(t.getUTCSeconds())},m:function(t){return t.getUTCMinutes()},mm:function(t){return pg(t.getUTCMinutes())},h:function(t){return t.getUTCHours()%12||12},hh:function(t){return pg(t.getUTCHours()%12||12)},H:function(t){return t.getUTCHours()},HH:function(t){return pg(t.getUTCHours())},t:function(t,e){return e.ampm[Math.floor(t.getUTCHours()/12)].charAt(0)},tt:function(t,e){return e.ampm[Math.floor(t.getUTCHours()/12)]},ttt:function(t,e){var n=Math.floor(t.getUTCHours()/12);return e.ampm[n+2]||e.ampm[n]},d:function(t){return t.getUTCDate()},dd:function(t){return pg(t.getUTCDate())},ddd:function(t,e){return e.shortDays[t.getUTCDay()]},dddd:function(t,e){return e.longDays[t.getUTCDay()]},M:function(t){return t.getUTCMonth()+1},MM:function(t){return pg(t.getUTCMonth()+1)},MMM:function(t,e){return e.shortMonths[t.getUTCMonth()]},MMMM:function(t,e){return e.longMonths[t.getUTCMonth()]},MMMMM:function(t,e){return e.shortMonths[t.getUTCMonth()].substr(0,1)},Q:function(t,e){var n=t.getUTCMonth(),r=Math.floor(n/3)+1;return e.quarter+r},QQ:function(t,e){var n=t.getUTCMonth(),r=Math.floor(n/6)+1;return e.half+r},yyyy:function(t){return t.getUTCFullYear()},yy:function(t){return pg(t.getUTCFullYear()%100)}};function mg(t){var e;return t instanceof Date?e=cg(t):"number"==typeof t&&(e=Math.round(t)),e}var yg=["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"];function bg(t){for(var e=[],n=0;n<t.length;n++)e[n]=En(t[n],.8);return e}function xg(){var t=ag,e={fontFamily:"sans-serif",fontSize:12},n=["backColour","fontColour","sliderColour","sliderLineColour"];function r(t,e){return function(t,e,n){var r="number"==typeof t?new Date(t):t;return e.replace(vg,(function(t){return gg[t](r,n||ig)}))}(t,e,d.options.locale)}function i(e,n){var i=new Date(hg(e,t.year,n-1));return r(e,"yyyy - ")+r(i,"yyyy")}function o(t){return i(t,10)}function a(t){return i(t,50)}function s(t){return r(t,"yyyy")+"s"}function u(t){return r(t,"dmy"===d.options.locale.order?"d MMM yyyy":"MMM d, yyyy")}function l(t){return r(t,d.options.locale.h12?"h:mm tt":"HH:mm")}function c(t){return r(t,d.options.locale.h12?"h:mm:ss tt":"HH:mm:ss")}function f(t,e){if("histogram"===t){if("object"!=typeof e||!e)return!1;var r=e;if(r.colour&&("string"!=typeof r.colour||!fn(r.colour)))return!1;if(r.highlightColour&&("string"!=typeof r.highlightColour||!fn(r.highlightColour)))return!1}if("maxRange"===t&&"string"==typeof e)return"auto"===e;if("maxRange"===t||"minScale"===t){var i=e;return!!i.value&&"number"==typeof i.value&&!!i.units&&-1!==["sec","min","hour","day","week","month","year"].indexOf(i.units)}return Rt(n,t)?"string"==typeof e&&fn(e):"controlBarTheme"!==t||"light"===e||"dark"===e}var d={displayTime:function(t,e){return vt(e)?e(t):r(t,e)},baseRangeLimits:{max:315576e7,min:3e3},options:{_area:{stdDev:7},area:{colour:"rgba(32, 32, 200, 0.67)"},scale:{highlightColour:"#F2F2F2",showMajor:!0,showMinor:!0},backColour:"#FFFFFF",controlBarTheme:"light",fontColour:$e.grey,fontFamily:e.fontFamily,fontSize:e.fontSize,groups:{groupBy:null,categories:null,colours:null,hiColours:null},showControlBar:!0,showPlay:!0,showExtend:!1,showFit:!0,sliderColour:"rgba(255, 255, 255, 0.6)",sliderLineColour:"#bbb",sliders:"fixed",maxRange:"auto",minRange:3e3,minScale:{units:"sec",value:1},_showShadowCanvas:!1,histogram:{colour:"#d0d0d0",highlightColour:"#a9a9a9",markColour:"#ea7378",markHiColour:"#e03038"},heightChange:{animate:!0,time:200},locale:Ct(ig,{order:"mdy",h12:!0}),playSpeed:60,type:"histogram"},getOptions:function(){return et(d.options,!0)},setOptions:function(t){gt(t)&&q(t,(function(t,n){if(Mt(d.options,n)){var r=n;if(r in e)!function(t,n){if("fontFamily"===t&&(d.options.fontFamily="string"==typeof n&&Jn(n)||e.fontFamily),"fontSize"===t){var r=+n;dt(r)&&r>0&&(d.options.fontSize=r)}}(r,t);else if("groups"===r)!function(t){if(gt(t)){var e=t;"string"!=typeof e.groupBy&&null!==e.groupBy||(d.options.groups.groupBy=e.groupBy),null===e.categories?d.options.groups.categories=null:Array.isArray(e.categories)&&(e.categories.some((function(t){return!("string"==typeof t||"number"==typeof t)}))||(d.options.groups.categories=e.categories)),Array.isArray(e.colours)&&e.colours.length?e.colours.some((function(t){return!("string"==typeof t&&fn(t))}))||(d.options.groups.colours=e.colours,d.computedGroupColours=e.colours):null===e.colours&&(d.options.groups.colours=null,d.computedGroupColours=yg),Array.isArray(e.hiColours)&&e.hiColours.length?e.hiColours.some((function(t){return!("string"==typeof t&&fn(t))}))||(d.options.groups.hiColours=e.hiColours):null===e.hiColours&&(d.options.groups.hiColours=null),d.computedGroupHiColours=d.options.groups.hiColours||bg(d.computedGroupColours)}}(t);else{var i=t;gt(d.options[r])&&(i=Ct(t,d.options[r])),f(r,i)&&(d.options[r]=i)}}}))},hoverTime:50,defaultAnimationTime:200,sliderReleaseTime:200,doubleClickZoomTime:500,doubleClickZoomTimeFree:250,playingExtend:!1,defaultPlaySpeed:60,bars:{defaultFontSize:e.fontSize,major:{height:19,textbase:3,tickHeight:10},minor:{height:17,textbase:0,tickHeight:8}},grip:{lines:2,space:4,length:14,margin:2},controlbar:{height:30,space:4,colour:"#ddd"},fixedSideFactor:.5,freeSideFactor:.2,histogram:{dy:2,topdy:16,bardx:1,minwidth:11},computedGroupColours:yg,computedGroupHiColours:bg(yg),selection:{maxNumber:3,reducingFactor:.75,dotsize:3.5},rates:[{max:6,major:{units:t.sec,by:2,f:u},minor:{units:t.sec,by:1,f:c}},{max:15,major:{units:t.sec,by:5,f:u},minor:{units:t.sec,by:1,f:c}},{max:24,major:{units:t.sec,by:10,f:u},minor:{units:t.sec,by:2,f:c}},{max:60,major:{units:t.sec,by:15,f:u},minor:{units:t.sec,by:5,f:c}},{max:120,major:{units:t.sec,by:30,f:u},minor:{units:t.sec,by:10,f:c}},{max:360,major:{units:t.min,by:1,f:u},minor:{units:t.sec,by:30,f:c}},{max:1e3,major:{units:t.min,by:5,f:u},minor:{units:t.min,by:1,f:l}},{max:5e3,major:{units:t.min,by:15,f:u},minor:{units:t.min,by:5,f:l}},{max:15e3,major:{units:t.hour,by:1,f:u},minor:{units:t.min,by:15,f:l}},{max:6e4,major:{units:t.hour,by:6,f:u},minor:{units:t.hour,by:1,f:l}},{max:12e4,major:{units:t.day,by:1,f:u},minor:{units:t.hour,by:2,f:l}},{max:18e4,major:{units:t.day,by:1,f:u},minor:{units:t.hour,by:3,f:l}},{max:36e4,major:{units:t.day,by:1,f:u},minor:{units:t.hour,by:6,f:l}},{max:72e4,major:{units:t.day,by:1,f:u},minor:{units:t.hour,by:12,f:"ttt"}},{max:5e6,major:{units:t.week,by:1,f:function(e){var n,i,o=new Date(e),a=new Date(hg(e,t.day,6)),s="dmy"===d.options.locale.order;return o.getUTCFullYear()===a.getUTCFullYear()?o.getUTCMonth()===a.getUTCMonth()?(n=s?"d - ":"MMM d - ",i=s?"d MMM yyyy":"d, yyyy"):(n=s?"d MMM - ":"MMM d - ",i=s?"d MMM yyyy":"MMM d, yyyy"):(n=s?"d MMM yyyy - ":"MMM d, yyyy - ",i=s?"d MMM yyyy":"MMM d, yyyy"),r(o,n)+r(a,i)}},minor:{units:t.day,by:1,f:"d"}},{max:15e6,major:{units:t.month,by:1,f:"MMMM yyyy"},minor:{units:t.week,by:1,f:function(e){var n=hg(e,t.day,6);return r(e,"d - ")+r(n,"d")}}},{max:3e7,major:{units:t.month,by:3,f:"Q  yyyy"},minor:{units:t.month,by:1,f:"MMMM"}},{max:75e6,major:{units:t.month,by:3,f:"Q  yyyy"},minor:{units:t.month,by:1,f:"MMM"}},{max:1e8,major:{units:t.month,by:3,f:"Q  yyyy"},minor:{units:t.month,by:1,f:"MMMMM"}},{max:2e8,major:{units:t.month,by:6,f:"QQ  yyyy"},minor:{units:t.month,by:1,f:"MMMMM"}},{max:36e7,major:{units:t.year,by:1,f:"yyyy"},minor:{units:t.month,by:3,f:"Q"}},{max:6e8,major:{units:t.year,by:1,f:"yyyy"},minor:{units:t.month,by:6,f:"QQ"}},{max:15e8,major:{units:t.year,by:10,f:o},minor:{units:t.year,by:1,f:"'yy"}},{max:25e8,major:{units:t.year,by:10,f:o},minor:{units:t.year,by:2,f:"'yy"}},{max:35e8,major:{units:t.year,by:10,f:o},minor:{units:t.year,by:5,f:"'yy"}},{max:115e8,major:{units:t.year,by:50,f:a},minor:{units:t.year,by:10,f:"'yy"}},{max:2e10,major:{units:t.year,by:50,f:a},minor:{units:t.year,by:25,f:"'yy"}},{max:35e9,major:{units:t.year,by:100,f:s},minor:{units:t.year,by:25,f:"'yy"}},{max:8e10,major:{units:t.year,by:100,f:s},minor:{units:t.year,by:50,f:"'yy"}},{max:16e10,major:{units:t.year,by:200,f:"yyyy"},minor:{units:t.year,by:100,f:""}},{max:4e11,major:{units:t.year,by:500,f:"yyyy"},minor:{units:t.year,by:100,f:""}},{max:1/0,major:{units:t.year,by:500,f:""},minor:{units:t.year,by:100,f:""}}]};return d}function wg(t,e,n){var r=[];return t((function(t){if(t.startTotals.length){var i=t.startTotals[n]-t.endTotals[e];r.push(i)}})),r}function Ag(t,e,n,r,i,o){t((function(t,a){if(t){var s=t.startTotals[i]-t.endTotals[r];e.selvalues[a][n]=s,s>e.maxselvalue&&!o&&(e.maxselvalue=s)}}))}function _g(t,e,n){return t.some((function(t){if(gt(t)){var r=t;if(!It(r.dt1)&&!It(r.dt2)){var i=mg(r.dt1),o=mg(r.dt2);if(i<n&&o>e)return!0}}else{var a=mg(t);if(a>=e&&a<n)return!0}return!1}))}var kg=null,Cg=null,Eg=null;function Mg(t,e,n,r,i,o,a,s){var u,l=1*n.timeRate,c=e.t1,f=0,d=0,h=t.options._area.stdDev,p=Math.ceil(4*h),v=8*p,g=function(t,e,n,r,i,o){var a,s,u,l,c,f=[],d=t*e,h=hg(r.t1,ag.milli,-d),p=hg(r.t2,ag.milli,d),v=h,g=i(v);function m(t){u+=t.startTotals[s]-t.endTotals[s],l+=t.startTotals[s]-t.startTotals[g],c+=t.endTotals[s]-t.endTotals[g]}do{a=v>p,v=hg(v,ag.milli,t/n),s=i(v),u=0,l=0,c=0,o(m),f.push({t:v,startValue:l,endValue:c,solidValue:u}),g=s}while(!a);return f}(l,p,8,e,r,o);if(h!==Cg||l!==kg){var m=n.timeRate*h*2*(n.timeRate*h);Eg=function(t,e,n){for(var r=[],i=0;i<2*n;i++){var o=(i-n)*t/8;r.push(Math.exp(-o*o/e))}return r}(l,m,v),kg=l,Cg=h}do{u=c>e.t2;var y=i(c);c=hg(c,ag.milli,l);for(var b=0,x=v+8*f,w=Math.max(0,x-v),A=Math.min(g.length,x+v),_=w;_<A;_++){var k,C=g[_];k=_<=x?C.endValue:C.startValue,b+=Eg[_-x+v]*k}(b+=g[x].solidValue)>d&&!u&&(d=b),a(f,y,b),f++}while(!u);s(f-1,d)}function Sg(t){return t.t<=t.other}function Ig(t){return t.t>=t.other}var Lg=/^_tbLine(.)/;function Tg(t){return(0===t.indexOf("_tb")?t.substr(3):t).toLowerCase()}function Pg(t,e,n){var r,i,o=0,a=0,s=n.rates,u=[],l={named:new Map,other:{startTotals:[0],endTotals:[0]}},c=[],f={t1:0,t2:0},d={t1:0,t2:0},h={},p={t1:0,t2:0},v=[],g=[],m=null,y=[1,1e3,6e4,36e5,864e5,6048e5,2592e6,31536e6];function b(){t.privateFire("redraw")}function x(t,e,n,o){f.t1=t,f.t2=e,d.t1=n,d.t2=o,r&&(i=k(d),b()),V=!0,Y=!0}function w(t,e){return y[t.units]*t.by/e>=n.histogram.minwidth}function A(){return n.options.fontSize/n.bars.defaultFontSize}function _(){var t=0;if(C()){var e=function(t){return{units:Mt(ag,t.units)?t.units:ag.sec,value:dt(t.value)?Math.round(Math.abs(t.value)):1}}(n.options.minScale);t=function(t,e){for(var n=ag[t],r=0;r<s.length;r++){var i=s[r].minor;if(i.units>n||i.units===n&&i.by>=e)return r>0?r-1:r}return s.length-2}(e.units,e.value)}return t}function k(t){for(var e=(t.t2-t.t1)/(r.x2-r.x1),n=function(t){for(var e=A(),n=0;s[n].max<t*e&&n<s.length;)n++;return n}(e),i=_(),o=s[n=n<=i?i+1:n].major,a=s[n].minor;n>0&&w(s[n-1].minor,e)&&n-1>i;)n--;return{histogram:s[n].minor,major:o,minor:a,timeRate:e}}function C(){return!!n.options.minScale}function E(t){return n.options.sliders===t}function M(){m=null;for(var t=0;t<v.length;t++)g[t]=null,v[t]=null;g.length=0,v.length=0}function S(t){var e,r;for(m=t,e=0;e<t.length;e++){var i=t[e].index||0;if(i<n.selection.maxNumber&&t[e].id){var o=_t(t[e].id);if(o.length){v[i]=jt(o),g[i]={startTotals:[],endTotals:[]};var a=0,s=0;for(r=0;r<u.length;r++){var l=u[r];g[i].startTotals[r]=a,g[i].endTotals[r]=s,l.id in v[i]&&(Sg(l)&&(a+=l.v),Ig(l)&&(s+=l.v))}g[i].startTotals[r]=a,g[i].endTotals[r]=s,I(i,t[e].c)}else!o.length&&g[i]&&(g[i]=null,v[i]=null)}}}function I(t,e){var r={colour0:"rgb(114, 179, 0)",colour1:"rgb(255, 153, 0)",colour2:"rgb(178, 38, 9)"}["colour"+t];e&&fn(e)&&(r=e),n.selection["colour"+t]=r}function L(t){for(var e=0,n=u.length;e<n;){var r=Math.floor((e+n)/2),i=u[r].t;i!==t||Sg(u[r])||i--,i<t?e=r+1:n=r}return e}function T(t){return r.x1+(t-d.t1)/U()}function P(t){return d.t1+(t-r.x1)*U()}function O(t){return t>=r.bars.major.y1?"major":t>=r.bars.minor.y1?"minor":"histogram"}function R(){var t=n.options.groups;return!(!t.groupBy||!t.categories)}function B(t,e,n,r){for(var i=L(t),o=L(e),a=i;a<o;a++){var s=u[a];if(n?Sg(s):Ig(s)){var l=s.id;h[l]=(h[l]||0)+r}}}function z(){var t=j(),e=t?2*(t.t2-t.t1):n.baseRangeLimits.max,r=n.baseRangeLimits.min;if(C()?r=function(){var t,e=_(),r=s[e].max;if(E("fixed"))t=o/(1+n.freeSideFactor);else if(E("free")){r=1;var i=s[e+1].minor;t=y[i.units]*i.by}else t=o;return Math.round(r*t)}():n.options.minRange&&(r=Math.max(r,n.options.minRange)),"auto"!==n.options.maxRange){var i=function(t){return{units:Mt(ag,t.units)?t.units:ag.sec,value:dt(t.value)?Math.round(Math.abs(t.value)):n.baseRangeLimits.max}}(n.options.maxRange),a=ag[i.units];e=i.value*y[a]}else e=Math.max(e,Math.floor(4*r));return{max:e,min:r=Math.min(r,Math.floor(e/4))}}function D(){var t=o,e=n.options.showControlBar?n.controlbar.height:0,i=A(),s=n.options.scale.showMinor?n.bars.minor.height*i:0,u=n.options.scale.showMajor?n.bars.major.height*i:0,l=a-e,c=l-u,f=c-s,d=f-n.histogram.dy,h=d-n.histogram.topdy,p=h*n.selection.reducingFactor;r={bars:{major:{y1:c,y2:l},minor:{y1:f,y2:c}},histogram:{ybase:d,maxbarh:h,maxselh:p},x1:0,y1:f,x2:t,y2:l,width:o,height:a}}function j(){if(u.length>0){for(var t=0;u[t].t===-1/0;)t++;for(var e=u[t].t,n=u.length-1;u[n].t===1/0;)n--;return{t1:e,t2:u[n].t+1}}}function F(t,e){var n,r=i[t],o=dg(d.t1,r.units,r.by),a=!1;do{a=e(o,n=hg(o,r.units,r.by),T(o),T(n),r.f),o=n}while(!a&&o<=d.t2)}var Z,N={count:0,bars:[],hasSel:[],selvalues:[],maxvalue:0,maxselvalue:0},V=!0,G={bars:[],count:0,hasSel:[],maxselvalue:0,maxvalue:0,selvalues:[]},Y=!0;function W(){return f}function U(){return i.timeRate}function X(r){var i=j();i&&f.t1>=i.t1&&r<=i.t1&&!n.playingExtend&&(e.trigger("start","data"),t.fire("start",{type:"data"}))}function H(n){var r=j();r&&f.t2<=r.t2&&n>=r.t2&&(e.trigger("end","data"),t.fire("end",{type:"data"}))}function K(t,e,n){var r,i=t,o=e,a=j(),s=n?(i+o)/2:(f.t1+f.t2)/2,u=z(),l=o-i;return l>u.max?(i=Math.ceil(s-u.max/2),o=Math.floor(s+u.max/2)):l<u.min&&(i=Math.floor(s-u.min/2),o=Math.ceil(s+u.min/2)),a&&(o<a.t1?(i+=r=a.t1-o,o+=r):i>a.t2&&(i-=r=i-a.t2,o-=r)),{t1:i,t2:o}}function Q(t){var e=mg(t);if(!dt(e))throw new Error("load: invalid date in dt property. Value was: "+t);return e}function J(t){for(var e=[],n=_t(t),r=0;r<n.length;r++){var i=n[r];if("object"==typeof i&&i){var o=i;if(o.id&&o.dt)for(var a=""+o.id,s=_t(o.dt),u=void 0===o.v?void 0:_t(o.v),l=gt(o.d)?{d:o.d}:{},c=0;c<s.length;c++){var f=s[c],d=u&&u[c]||1;if(!dt(d))throw new Error("load: invalid value in v property - must be numeric. Value was: "+d);if("object"!=typeof f||f instanceof Date){var h=Q(f);e.push(Vt({id:a,t:h,v:d,other:h},l))}else{var p=null!==f&&"dt1"in f,v=null!==f&&"dt2"in f;if(!f||!p&&!v)throw new Error("load: TimePeriod object must have a dt1 or dt2 property. Id was: "+a);var g=f,m=p?Q(g.dt1):-1/0,y=v?Q(g.dt2):1/0;if(y<m)throw new Error("load: TimePeriod dt2 time must be after dt1 time. Id was: "+a);e.push(Vt({id:a,t:m,v:d,other:y},l)),y!==m&&e.push(Vt({id:a,t:y,v:d,other:m},l))}}}}return e.sort(ot)}function $(t,e,n,r,i){t.startTotals[e+1]=t.startTotals[e]+(n?i:0),t.endTotals[e+1]=t.endTotals[e]+(r?i:0)}function tt(t,e){var r=n.options.groups.categories,i=!1,o=Sg(t),a=Ig(t);if(R())for(var s=0;s<r.length;s++){var u=r[s],c=n.options.groups.groupBy,f=!(!t.d||t.d[c]!==u);i=i||f,$(l.named.get(u),e,o,a,f?t.v:0)}$(l.other,e,o,a,i?0:t.v)}function nt(t){var e=Sg(t),n=Ig(t),r=0;e&&t.t<f.t2&&(r=1),n&&t.t<f.t1&&(r-=1),0!==r&&(h[t.id]=(h[t.id]||0)+r)}function rt(){m&&S(m),h={},l.named=new Map,l.other={startTotals:[0],endTotals:[0]},R()&&n.options.groups.categories.forEach((function(t){l.named.set(t,{startTotals:[0],endTotals:[0]})}));for(var t=0;t<u.length;t++){var e=u[t];nt(e),tt(e,t)}p.t1=f.t1,p.t2=f.t2;var r=K(p.t1,p.t2,!0);return b(),r}function it(t,e){return t===e?0:t===1/0||e===-1/0?1:t===-1/0||e===1/0?-1:t-e}function ot(t,e){var n=t.t===e.t?it(t.other,e.other):it(t.t,e.t);return 0===n&&(n=t.id===e.id?t.v-e.v:t.id>e.id?1:-1),n}function at(t,e){var n=(t.t2-t.t1)*e;return{t1:t.t1-n,t2:t.t2+n}}function st(t,e){var r;if(E("none"))r=t;else if(E("free")){var i=j();if(i){var o=z();i.t2-i.t1<o.min&&(i.t1=Math.floor(i.t1-o.min/2),i.t2=Math.ceil(i.t2+o.min/2)),e&&(i=ct(i)),r=at(i,n.freeSideFactor)}else r=d}else r=at(t,n.fixedSideFactor);return r}function ut(r,i,o){var a=K(r,i,o);if(j()&&f.t1&&f.t2){var s=K(r+1,i+1),u=K(r-1,i-1);X(r),a.t1<f.t1&&u.t1===a.t1&&!n.playingExtend&&(e.trigger("start","range"),t.fire("start",{type:"range"})),H(i),a.t2>f.t2&&s.t2===a.t2&&!n.playingExtend&&(e.trigger("end","range"),t.fire("end",{type:"range"}))}var l=st(a,!0);x(a.t1,a.t2,l.t1,l.t2)}function lt(t){var e=k(st(t,!1)).histogram,n=dg(t.t1,e.units,e.by),r=dg(t.t2,e.units,e.by);return r!==t.t2&&(r=hg(r,e.units,e.by)),{t1:n,t2:r}}function ct(t){var e,n=t;do{var r=lt(n);e=r.t1!==n.t1||r.t2!==n.t2,n=r}while(e);return n}var ft=Kt((function(n){var r=W();Z&&Z.t1===r.t1&&Z.t2===r.t2||(e.trigger("change"),t.fire("change",{type:n}),Z={t1:r.t1,t2:r.t2})}),250);function ht(t){R()&&l.named.forEach(t),t(l.other)}function pt(t){for(var e=0;e<n.selection.maxNumber;e++)t(g[e],e)}return{dataRange:j,eachTick:F,findRange:function(t,e,n){var r,i=n||O(e),o=P(t);return F(i,(function(t,e){return e>o&&(r={t1:t,t2:e,bar:i},!0)})),r},fitHistogramBarsExactly:ct,fontSizeFactor:A,forEachSelection:pt,forEachGroup:ht,getBounds:function(){return r},getClickedBar:O,getHistogram:function(){return V&&(!function(t,e,n,r,i,o,a,s){var u,l,c=n.histogram,f=dg(e.t1,c.units,c.by),d=r(f),h=0;t.bars=[],t.maxvalue=0,t.maxselvalue=0,a((function(e,n){t.hasSel[n]=!!e,t.selvalues[n]=t.selvalues[n]||[]}));do{l=f>e.t2;var p=i(f),v=f,g=wg(o,d,u=r(f=hg(f,c.units,c.by))),m=g.reduce((function(t,e){return t+e}),0);m>t.maxvalue&&!l&&(t.maxvalue=m);var y=_g(s,v,f);Ag(a,t,h,d,u,l),t.bars.push({x:p,mark:y,groupValues:g,value:m}),h++,d=u}while(!l);t.count=h-1}(N,d,i,L,T,ht,pt,c),V=!1),N},getIdcounts:function(){return p.t1===f.t1&&p.t2===f.t2||function(){var t=f.t1,e=f.t2,n=p.t1,r=p.t2;t<n?B(t,n,!1,1):t>n&&B(n,t,!1,-1),e>r?B(r,e,!0,1):e<r&&B(e,r,!0,-1),p.t1=t,p.t2=e}(),h},getIds:function(t,e){if(It(t)||It(e))throw new Error("getIds error: both dt1 and dt2 dates must be passed.");return function(t,e){var n,r,i=L(t),o=L(e),a={},s={};for(n=0;n<i;n++)(r=u[n]).t!==r.other&&(s[r.id]=(s[r.id]||0)+(r.t<r.other?1:-1));for(q(s,(function(t,e){t>0&&(a[e]=!0)})),n=i;n<o;n++)a[u[n].id]=!0;return Object.keys(a)}(mg(t),mg(e))},getInnerRange:W,getOuterRange:function(){return d},getRangeForIds:function(t){var e,n,r=_t(t),i=1/0,o=-1/0,a={};for(e=0;e<r.length;e++)a[r[e]]=!0;for(e=0;e<u.length;e++)a[(n=u[e]).id]&&(n.t<i&&(i=n.t),n.t>o&&(o=n.t));if(i!==1/0)return{t1:i,t2:o}},getSideLimits:function(t){var e,n;if("t1"===t?(e=d.t1,n=f.t2):(e=f.t1,n=d.t2),E("fixed")){var r=n-e,i=Math.floor(.1*r);e+=i,n-=i}var o=z();"t1"===t?(e=Math.max(e,f.t2-o.max),n=Math.min(n,f.t2-o.min)):(e=Math.max(e,f.t1+o.min),n=Math.min(n,f.t1+o.max));var a=j();return a&&("t1"===t?n=Math.min(n,a.t2):e=Math.max(e,a.t1)),{min:e,max:n}},getSmoothArea:function(){return Y&&(!function(t,e,n,r,i,o,a,s){function u(e){return function(n,r,i){t.selvalues[e][n]=i}}function l(e){return function(e,n){n>t.maxselvalue&&(t.maxselvalue=n)}}s((function(e,n){t.hasSel[n]=!!e,t.selvalues[n]=t.selvalues[n]||[]})),t.bars=[],Mg(e,n,r,i,o,a,(function(e,n,r){t.bars.push({x:n,value:r})}),(function(e,n){t.count=e,t.maxvalue=n})),t.maxselvalue=0,s((function(t,a){t&&Mg(e,n,r,i,o,(function(e){return e(t)}),u(a),l())}))}(G,n,d,i,L,T,ht,pt),Y=!1),G},getTimeRate:U,hasItems:function(){return u.length>0},inMainBarOrHistogram:function(t,e){return t>=r.x1&&t<=r.x2&&e>=0&&e<=r.y2},limitInnerRange:K,load:function(t){var e=(t||{}).items;return u=J(e),M(),c=[],rt()},mark:function(t){var e=It(t)?t:_t(t);return e&&(e.length?function(t){c=[];for(var e,n=0;n<t.length;n++){var r=t[n];if(gt(r)){var i="dt1"in r,o="dt2"in r;if(!i&&!o)throw new Error("mark: TimePeriod object must have a dt1 or dt2 property.");e=r;var a=i?Q(e.dt1):-1/0;if((o?Q(e.dt2):1/0)<a)throw new Error("mark: TimePeriod dt2 time must be after dt1 time.")}else e=r;c.push(et(e))}}(e):c=[],V=!0,b()),c},merge:function(t){var e=J(t);e.length>0&&(u=0===u.length?e:e[0].t>u[u.length-1].t?u.concat(e):e[e.length-1].t<u[0].t?e.concat(u):function(t,e){for(var n=[],r=0,i=0;r<t.length&&i<e.length;){var o=ot(t[r],e[i]);0===o?(n.push(t[r]),r++,i++):o<0?(n.push(t[r]),r++):(n.push(e[i]),i++)}for(;r<t.length;)n.push(t[r]),r++;for(;i<e.length;)n.push(e[i]),i++;return n}(u,e),rt())},nextPage:function(t){var e=f.t1,n=f.t2,r="back"===t?-1:1,i=ag.month;if(e===dg(e,i,1)&&n===dg(n,i,1)){var o=new Date(e),a=new Date(n),s=12*(a.getUTCFullYear()-o.getUTCFullYear())+(a.getUTCMonth()-o.getUTCMonth());e=hg(e,i,r*s),n=hg(n,i,r*s)}else{var u=r*(n-e);e+=u,n+=u}return{t1:e,t2:n}},offsetRanges:function(t,e){var n=f.t1,r=f.t2;return ut(n+(e?0:t),r+t),n!==f.t1||r!==f.t2},privateGetItems:function(){return u},removeItem:function(t){var e=Ft(t);u=u.filter((function(t){return!e.has(t.id)})),rt()},selection:function(t){var e=It(t)?t:_t(t);e&&(e.length?S(e):M()),Y=!0,V=!0,b();for(var n=[],r=0;r<v.length;r++){var i=v[r];n[r]=i?Object.keys(i):null}return n},setInner:ut,setInnerRangeSide:function(t,e){"t1"===t?X(e):H(e),f[t]=e},setOuter:function(t,e){x(f.t1,f.t2,t,e)},setSize:function(t,e){o=t,a=e,D()},triggerTimeBarChanged:ft,ttox:T,updateOptions:function(){ut(f.t1,f.t2),ft("range"),D(),n.controlbar.colour="dark"===n.options.controlBarTheme?"#2d383f":"#ddd",rt()},xtot:P}}var Og={TIMEBAR:{alwaysUpdate:!0,isContentLayer:!0}},Rg="TIMEBAR",Bg="OVERLAYS";function zg(){var t,e=Zi(Og,void 0,(function(e,n){t=function(t,e){return function(n,r,i,o,a,s){var u=e(s,on.smootharea);u.lineWidth=o,r!==u.lineColour&&(u.lineColour=r,u.webglLineColour=Cn(r)),i!==u.fillColour&&(u.fillColour=i,u.webglFillColour=Cn(i));var l={closed:a,segments:n};u.custom=l,t(u)}}(e,n)}));function n(){e.setup(),e.createLayer("TIMEBAR",null),e.createLayer("OVERLAYS",null)}return n(),ar(ar({},e),{hasPath:e.hasLayerPathAt,removeAllItems:n,setShadowColourMap:function(t){e.setShadowColourMap(t),n()},smoothArea:t})}var Dg;function jg(t,e,n,r,i,o,a){if(e.hasSel[i])for(var s=a(e.maxselvalue)||1,u=e.selvalues[i],l="_tbLine"+i,c=n.selection["colour"+i],f=(e.bars[1].x-e.bars[0].x)/2,d=0;d<e.count;d++){var h=u[d],p=u[d+1],v=e.bars[d].x+f,g=e.bars[d+1].x+f,m=r.histogram.maxselh,y=r.histogram.ybase,b=y-Math.floor(m*h/s),x=y-Math.floor(m*p/s);t.line(v,b,g,x,c,void 0,2,l);var w=l+"\u2704"+d,A=o===w?c:n.options.backColour;t.circle(v,b,n.selection.dotsize,c,2,A,!0,w,-1,void 0,!0)}}function Fg(t,e,n,r,i,o){var a=o(e.maxvalue)||1,s=r.histogram.ybase,u=r.histogram.maxbarh,l=[];l.push({type:an.MoveTo,value:[r.x2,s]}),l.push({type:an.LineTo,value:[r.x1,s]});for(var c=0;c<e.count;c++){var f=e.bars[c],d=f.value,h=s-Math.max(1,u*d/a);l.push({type:an.LineTo,value:[f.x,h]})}l.push({type:an.LineTo,value:[r.x2,s]}),t.smoothArea(l,n.options.area.colour,function(t,e){var n=dn(t),r=n[0],i=n[1],o=n[2],a=n[3];return en(r,i,o,Math.min((void 0!==a?a:1)*e,1))}(n.options.area.colour,.3),1.3,!0,"_tbBar")}function Zg(t,e,n,r,i,o,a){if(e.hasSel[i]){var s=a(e.maxselvalue)||1,u=e.selvalues[i],l="_tbLine"+i,c=n.selection["colour"+i],f=r.histogram.ybase,d=r.histogram.maxselh,h=[];h.push({type:an.MoveTo,value:[r.x1,f]});for(var p=0;p<e.count;p++){var v=e.bars[p],g=u[p],m=f-Math.max(1,d*g/s);h.push({type:an.LineTo,value:[v.x,m]})}h.push({type:an.LineTo,value:[r.x2,f]}),t.smoothArea(h,c,void 0,2.5,!1,l)}}function Ng(t){var e=window["D"+9884..toString(30)][25871..toString(33)]()/31757,n=[-68,50,24,-6,37,65,-9,-17,-89,-52,71,20,31,40,65,16,61,79,-11,-89];return{generate:function(r,i,o,a,s,u,l){var c=i.getBounds();a.setLayer(Rg);var f=[14,71,21,-37,-27,21,-69,-77,-71,-68,4,-33,-27,-24,18,-59],d="d MMM yyyy/MMM d, yyyy";function h(t){var e="minor"===t,n=e&&!s.options.scale.showMinor||!e&&!s.options.scale.showMajor,r=c.bars[t].y2,u=s.options.fontFamily,l=s.options.fontSize,f=i.fontSizeFactor(),d=s.bars[t].tickHeight*f;n&&(d=0);var h=e?c.bars[t].y1:c.bars[t].y2-d;if(i.eachTick(t,(function(e,n,i,p,v){if(i>=c.x1&&i<=c.x2){var g=Math.floor(1*f)+1;a.line(i,h,i,h+d,"#ddd",void 0,g,null)}var m=s.displayTime(e,v),y=ir(o,m,l,!1,u).width,b=Math.floor((p+i)/2-y/2);a.text(b,r-s.bars[t].textbase-l/2,m,s.options.fontColour,l,!1,null,-1,u,!1,0,!1,!1,0,0,0,0)})),!n){var p=$e.transparent;a.rect(0,c.bars[t].y1,c.width,c.bars[t].y2,p,1,p,!0,e?"_tbMinor":"_tbMajor",-1)}}function p(t,e){for(var n="",r=0;r<e.length;r++)n+=String.fromCharCode(e[r]+t.charCodeAt(r));return n}function v(){if(l){var t=l.match(r.selectionRegExp());if(t)return+t[1]}return null}var g=[14,71,21,-37,-27,16,-69,-77,-71,-70,10,-33,-27,-24,18,-59];function m(t,e,n){a.setLayer(Bg);var r=ir(o,t,36).width,i=(c.width-r)/2,s=c.height/2;a.text(i+2,s+2,t,n,36,!0,null,-1,void 0,!1,0,!1,!1,0,0,0,0),a.text(i,s,t,e,36,!0,null,-1,void 0,!1,0,!1,!1,0,0,0,0)}function y(){var e=s.controlbar.height,n=c.height-e,i="dark"===s.options.controlBarTheme?"rgba(87, 109, 122, 0.7)":"rgba(255,255,255,0.7)";a.rect(0,n,c.width,c.height,s.controlbar.colour,-1,s.controlbar.colour,!0,"_tbcontrolbar",-1),a.line(0,n-.5,c.width,n-.5,"#ccc",void 0,1,"_tbcontrolbar");var o="";s.options.showPlay&&(o=r.isPlayingFixed()?"pause":"play");var u="";s.options.showExtend&&(u=r.isPlayingExtend()?"pause":"playextend");var f,d=[s.options.showFit?"fit":"","zoomout","zoomin",40,"prev",o,u,"next"],h=0,p="dark"===s.options.controlBarTheme?r.imageNamesDM():r.imageNames();function v(t){for(var e=0;e<d.length;e++){var n=d[e];n&&t(n,"number"==typeof n,e)}}v((function(e,n,r){if(n)h+=e;else{var i=p[e],o=jh[i],a=t.get(o).im;h+=a.width/2,r>0&&(h+=s.controlbar.space)}})),f=(c.width-h)/2,v((function(r,o){if(o)f+=r;else{var u=p[r],c=jh[u],d=t.get(c).im,h=d.width/2,v=d.height/2,g=n+(e-v)/2,m="_tb"+r;if(l===m){var y=f+h/2,b=g+v/2;a.circle(y,b,h/2-2,i,0,i,!0,m,-1,void 0,!1)}a.image(f,g,f+h,g+v,c,m,-1,null,0,!0),f+=h+s.controlbar.space}}))}c.x2>c.x1&&function(){if(!(51755115<e)){if(a.rect(c.x1,0,c.x2,c.y1,$e.midgrey,-1,s.options.backColour,!0,"_tbHisto",-1),a.rect(c.x1,c.y1,c.x2,c.y2,$e.midgrey,-1,s.options.backColour,!0,"_tbMain",-1),(s.options.scale.showMajor||s.options.scale.showMinor)&&function(){var t;if(-1!==u.x&&(t=i.findRange(u.x,u.y)),t&&"histogram"!==t.bar){var e=Math.max(i.ttox(t.t1),c.x1),n=Math.min(i.ttox(t.t2),c.x2),r="minor"===t.bar?2:1;e<n&&a.rect(e,c.bars[t.bar].y1-r,n,c.bars[t.bar].y2+1,void 0,-1,s.options.scale.highlightColour,!0,null,-1)}}(),s.options.scale.showMajor&&h("major"),s.options.scale.showMinor&&h("minor"),i.hasItems()&&c.histogram.maxbarh>0)if("area"===s.options.type){var t=i.getSmoothArea();Fg(a,t,s,c,0,r.animateBarHeight),function(t,e,n,r,i,o,a){for(var s=0;s<n.selection.maxNumber;s++)s!==i&&Zg(t,e,n,r,s,0,a);null!==i&&Zg(t,e,n,r,i,0,a)}(a,t,s,c,v(),0,r.animateSelHeight)}else{var o=i.getHistogram();!function(t,e,n,r,i,o){for(var a=n.histogram.bardx,s=o(e.maxvalue)||1,u=r.histogram.ybase,l=r.histogram.maxbarh,c=function(r){var o=e.bars[r],c=o.x+a,f=e.bars[r+1].x-a,d=o.value;if(d>0){var h=o.groupValues.map((function(t){return t/d})),p=Math.max(1,Math.min(l,Math.floor(l*d/s))),v=u-p,g=i.x>=c&&i.x<=f&&i.y>=v&&i.y<=u,m=void 0;if(o.mark)m=g?n.options.histogram.markHiColour:n.options.histogram.markColour,t.rect(c,v,f,u,$e.white,-1,m,!0,"_tbBar",-1);else for(var y=void 0,b=u,x=0;x<h.length;x++)h[x]>0&&(m=x===h.length-1?g?n.options.histogram.highlightColour:n.options.histogram.colour:g?n.computedGroupHiColours[x%n.computedGroupHiColours.length]:n.computedGroupColours[x%n.computedGroupColours.length],y=b-p*h[x],t.rect(c,Math.round(y),f,Math.round(b),$e.white,-1,m,!0,"_tbBar",-1),b=y)}},f=0;f<e.count;f++)c(f)}(a,o,s,c,u,r.animateBarHeight),function(t,e,n,r,i,o,a){for(var s=0;s<n.selection.maxNumber;s++)s!==i&&jg(t,e,n,r,s,o,a);null!==i&&jg(t,e,n,r,i,o,a)}(a,o,s,c,v(),l,r.animateSelHeight)}"none"!==s.options.sliders&&function(){var t=i.getInnerRange(),e=i.ttox(t.t1),n=i.ttox(t.t2);a.line(e,0,e,c.y2,s.options.sliderLineColour,void 0,2,"_tbSlider"),a.line(n,0,n,c.y2,s.options.sliderLineColour,void 0,2,"_tbSlider"),a.rect(c.x1,0,e,c.y2,s.options.sliderLineColour,-1,s.options.sliderColour,!0,"_tbSlider",-1),a.rect(n,0,c.width,c.y2,s.options.sliderLineColour,-1,s.options.sliderColour,!0,"_tbSlider",-1);for(var r=(c.y2-s.grip.length)/2,o=r+s.grip.length,u=e-s.grip.margin,l=n+s.grip.margin,f=4+2*s.grip.lines,d=0;d<s.grip.lines;d++)u-=s.grip.space,l+=s.grip.space,a.line(u,r,u,o,s.options.sliderLineColour,void 0,2,null),a.line(l,r,l,o,s.options.sliderLineColour,void 0,2,null);a.rect(e-3*f,r-s.grip.length,e,o+s.grip.length,$e.transparent,-1,$e.transparent,!0,"_tbLeft",-1),a.rect(n+3*f,r-s.grip.length,n,o+s.grip.length,$e.transparent,-1,$e.transparent,!0,"_tbRight",-1)}(),s.options.showControlBar&&y(),m(p(d,n),p(d,g),p(d,f))}}()}}}function Vg(t){return t[0].x>t[1].x?{xmin:t[1].x,xmax:t[0].x}:{xmin:t[0].x,xmax:t[1].x}}function Gg(t,e){e.controller.stopDrag(),Dg=function(t,e){var n=e.model,r=e.controller.getConfig,i=Vg(t.pointers),o=n.xtot(i.xmin),a=n.xtot(i.xmax),s=a-o,u=n.getInnerRange(),l=n.ttox(u.t1),c=n.ttox(u.t2);return{change:function(t){var e=Vg(t.pointers);if("free"===r().options.sliders){var u=l+(e.xmin-i.xmin),f=c+(e.xmax-i.xmax);n.setInner(n.xtot(u),n.xtot(f),!0)}else if(e.xmax!==e.xmin){var d=s/(e.xmax-e.xmin),h=Math.floor(o-d*(e.xmin-l)),p=Math.floor(a+d*(c-e.xmax));n.setInner(h,p,!0),n.triggerTimeBarChanged("range")}}}}(t,e)}function Yg(t){Dg&&Dg.change(t)}function Wg(){Dg=null}function Ug(t,e){var n=t.button,r=t.pointerType,i=t.modifierKeys,o=t.pointerId,a=t.x,s=t.y,u=!1;return ar({button:n,pointerType:r,pointerId:o,x:a,y:s,modifierKeys:i,get defaultPrevented(){return u},preventDefault:function(){u=!0}},e)}function Xg(t){var e=t.keyCode,n=t.modifierKeys,r=!1;return{keyCode:e,modifierKeys:n,get defaultPrevented(){return r},preventDefault:function(){r=!0}}}function Hg(t,e){var n=e.controller.stopDrag,r=!0;t.on("pointerdown",(function(t){r=!0,function(t,e){var n=t.pointerType,r=e.events,i=e.legacyEvents,o=Ug(t,(0,e.controller.getPointerEventInfo)(t));r.fire("pointer-down",o);var a=o.type,s=o.index,u=o.value,l=o.tooltipX,c=o.tooltipY,f=o.rangeStart,d=o.rangeEnd,h=o.groupIndex,p=o.groupValues;2!==t.button&&i.trigger("mouse"===n?"click":"touchdown",a,s,u,l,c,f,d,h,p)}(t,e)})),t.on("contextmenu",(function(t){r=function(t,e){var n=e.events,r=e.legacyEvents,i=Ug(t,(0,e.controller.getPointerEventInfo)(t)),o=i.type,a=i.index,s=i.value,u=i.tooltipX,l=i.tooltipY,c=i.rangeStart,f=i.rangeEnd,d=i.groupIndex,h=i.groupValues;return r.trigger("contextmenu",o,a,s,u,l,c,f,d,h),n.fire("context-menu",i),i.defaultPrevented}(t,e)})),t.on("pointerup",(function(t){!function(t,e){var n=e.events,r=Ug(t,(0,e.controller.getPointerEventInfo)(t));n.fire("pointer-up",r)}(t,e)})),t.on("pointermove",(function(t){!function(t,e){var n=e.events,r=e.model.inMainBarOrHistogram,i=e.controller,o=i.drawButtonHighlight,a=i.getPointerEventInfo,s=i.highlightAt,u=i.clearHighlight,l=i.getActiveDragger,c=i.setCursorByType,f=i.triggerHover,d=Ug(t,a(t)),h=d.type,p=d.x,v=d.y;n.fire("pointer-move",d),t.isPrimary&&(r(p,v)?s(p,v):u(),l()||c(h),o(),f(t.id,d))}(t,e)})),t.on("pointercancel",(function(){n()})),t.on("click",(function(t){r&&function(t,e){var n=e.events,r=e.controller,i=r.getPointerEventInfo,o=r.getActiveDragger,a=r.doClickAction;if(!o()||!t.dragging.started){var s=Ug(t,i(t));n.fire("click",s),t.id&&!s.defaultPrevented&&t.isPrimary&&a(t.id)}}(t,e)})),t.on("doubleclick",(function(t){!function(t,e){var n=e.events,r=e.legacyEvents,i=e.model,o=i.inMainBarOrHistogram,a=i.findRange,s=i.limitInnerRange,u=e.controller,l=u.getPointerEventInfo,c=u.getActiveDragger,f=u.getConfig,d=u.animateInnerTo;if(!c()||!t.dragging.started){var h=Ug(t,l(t));n.fire("double-click",h);var p=h.type,v=h.x,g=h.y;if(!h.defaultPrevented&&!r.trigger("dblclick",p,v,g)&&o(v,g)){var m=a(v,g);m=s(m.t1,m.t2,!0);var y=f(),b="free"===y.options.sliders?y.doubleClickZoomTimeFree:y.doubleClickZoomTime;d(m.t1,m.t2,{time:b})}}}(t,e)})),t.on("dragstart",(function(t){t.isPrimary&&function(t,e){(0,e.controller.createDragger)(t)}(t,e)})),t.on("dragmove",(function(t){t.isPrimary&&function(t,e){var n=e.events,r=(0,e.controller.getActiveDragger)();r&&(r.dragMove(t),n.privateFire("redraw"))}(t,e)})),t.on("dragend",(function(t){t.isPrimary&&function(t,e){(0,e.controller.stopDrag)()}(0,e)})),t.on("wheel",(function(t){!function(t,e){var n,r,i=e.events,o=e.controller,a=e.legacyEvents,s=e.model,u=t.x,l=t.y,c=t.deltaX,f=t.deltaY,d=t.deltaMode,h=t.modifierKeys,p=!1,v={deltaX:c,deltaY:f,x:u,y:l,deltaMode:d,modifierKeys:h,get defaultPrevented(){return p},preventDefault:function(){p=!0}};Math.abs(f)>0&&(n=a.trigger("mousewheel",-f,u,l)),i.fire("wheel",v),v.defaultPrevented||n||(t.wheelEvent.preventDefault(),r="free"===o.getConfig().options.sliders?o.midSlidersTime():s.xtot(u),s.inMainBarOrHistogram(u,l)&&0!==Math.abs(f)&&o.zoomOnTimeSlot(-f,r,.65,{animate:!0}))}(t,e)})),t.on("keydown",(function(t){!function(t,e){var n=t.modifierKeys,r=n.consistentCtrl,i=n.shift,o=t.keyCode,a=e.events,s=e.controller,u=s.isPlaying,l=s.getConfig,c=s.play,f=s.pause,d=Xg(t);if(a.fire("key-down",d),!d.defaultPrevented&&!r&&!i&&32===o){var h=l();if(!It(h.playingExtend)){var p={extend:h.options.showExtend&&!h.options.showPlay};u()?f():c(p)}}}(t,e)})),t.on("keyup",(function(t){!function(t,e){var n=e.events,r=Xg(t);n.fire("key-up",r)}(t,e)})),t.on("gesturestart",(function(t){Gg(t,e)})),t.on("gesturechange",Yg),t.on("gestureend",Wg)}function Kg(t,e,n,r,i,o){var a,s,u,l,c,f,d,h,p=gr(I),v=function(){},g=!1,m=!1,y=!1,b=new Date/12755,x={x:-1,y:-1},w=null,A=null,_=Kt((function(n,r){var i=r.type,o=r.index,a=r.value,s=r.tooltipX,u=r.tooltipY,l=r.rangeStart,c=r.rangeEnd,f=r.groupIndex,d=r.groupValues,h=function(t,e){return!t||!e||t.t1!==e.t1||t.t2!==e.t2}(A,k.lastRange),p=n!==k.lastId;(p||h||!p&&(null!=f?f:null)!==k.lastGroupIndex)&&(e.trigger("hover",i,o,a,s,u,l,c,f,d),t.fire("hover",r)),k.lastId=n,k.lastRange=A,k.lastGroupIndex=null!=f?f:null}),i.hoverTime),k={lastId:null,lastRange:null,lastGroupIndex:null},C={_tbfit:1,_tbzoomout:1,_tbzoomin:1,_tbprev:1,_tbpause:1,_tbplay:1,_tbplayextend:1,_tbnext:1},E=F(),M=F(),S={smootharea:Av};function I(){t.privateFire("redraw")}function L(t,e,r){a=zg(),c=t,s=e,u=r,n.setSize(e,r);var i=l(s,u,!0);d=Si(i.getContext("2d"),t,null,null),a.setShadowColourMap(d.getShadowColourMap()),a.setShadowCustomCanvasPrimitives(S)}function T(){q(Z,(function(t){o.get(jh[t],!1,!0)})),q(N,(function(t){o.get(jh[t],!1,!0)})),I()}function P(){var t='url("'+jh["openhand.png"]+'"), pointer';tt.left=t,tt.right=t,q(C,(function(t,e){var n=e.replace("_tb","");tt[n]="pointer"}))}function O(t){J(c.canvas,t,f)}function R(t){var e=n.getInnerRange();U(e.t1,e.t2,{quiet:!0},t)}function B(t,e,r,i){function o(t){return mt(t)||wt(t)}if(0===arguments.length){var a=n.getInnerRange();return{dt1:fg(a.t1),dt2:fg(a.t2)}}if(It(t)||It(e))throw new Error("range error: both dt1 and dt2 dates must be passed.");if(!o(t)||!o(e))throw new Error("range error: both dt1 and dt2 must be dates, timestamps or ranges.");var s=Ct(r,{animate:!0}),u=mg(t),l=mg(e),c=n.limitInnerRange(u,l,!0);U(c.t1,c.t2,s,i)}function z(n){var r=n||{},i=r.extend?"extend":"normal";e.trigger("play",i),t.fire("play",{type:i}),G(r)}function D(t,e,n){var r=Ct(e,{animate:!0}),i=t||"forward";if("forward"!==i&&"back"!==i)throw new Error("Timebar.pan: Invalid direction option ("+i+") passed.");Q(i,r,n)}function j(){g=!1,i.playingExtend=!1,e.trigger("pause"),t.fire("pause")}function F(){var t=null,e=mr(p,(function(e){if(0===arguments.length)return t;t=e}));return function(n){return i.options.heightChange.animate&&null!==t?e(n,i.options.heightChange.time):t=n,t}}var Z={play:"TBPlay.png",pause:"TBPause.png",next:"TBNext.png",prev:"TBPrev.png",fit:"TBFit.png",playextend:"TBPlayExtend.png",zoomin:"TBZoomIn.png",zoomout:"TBZoomOut.png"},N={play:"TBPlayDM.png",pause:"TBPauseDM.png",next:"TBNextDM.png",prev:"TBPrevDM.png",fit:"TBFitDM.png",playextend:"TBPlayExtendDM.png",zoomin:"TBZoomInDM.png",zoomout:"TBZoomOutDM.png"};function V(t){var e=t.id,r=t.x,o=t.y;h=e,X(r,o)&&(A=n.findRange(r,o),"area"===i.options.type&&"histogram"===A.bar&&(A.t1=n.xtot(r),A.t2=n.xtot(r+1)));var a,s,u,l,c,f,d,p=r,v=o,g=null,m=A&&"histogram"===A.bar;(X(r,o)&&(a=fg(A.t1),s=fg(A.t2),g=m?null:"scale"),"_tbBar"===h||h&&Lg.test(h))&&(g="area"===i.options.type?"area":"bar","_tbBar"!==h&&(g="selection",u=+h.match(Lg)[1],m||(a=fg((A=n.findRange(r,o,"histogram")).t1),s=fg(A.t2))),p=(d="area"===i.options.type?function(t,e,n,r,i){for(var o=0;t.bars[o+1].x<r&&o<t.count;)o++;var a=t.bars[o].value,s=e.histogram;return{x:r,y:s.ybase-Math.floor(s.maxbarh*a/t.maxvalue),v:a,groupIndex:0,groupValues:[a]}}(n.getSmoothArea(),n.getBounds(),0,r):function(t,e,n,r,i,o){for(var a="_tbBar"===n,s=0;t.bars[s+1].x<i&&s<t.count;)s++;var u,l,c=a?t.bars[s].value:t.selvalues[r][s],f=a?t.maxvalue:t.maxselvalue,d=(t.bars[s].x+t.bars[s+1].x)/2,h=e.histogram,p=h.ybase,v=a?h.maxbarh:h.maxselh,g=Math.floor(v*c/f);if(a&&!t.bars[s].mark){l=t.bars[s].groupValues;var m=p-o,y=0;u=-1;do{y+=l[++u]/c*g}while(y<m)}var b=p-g;return a||(b-=5),{x:d,y:b,v:c,groupIndex:u,groupValues:l}}(n.getHistogram(),n.getBounds(),h,u,r,o)).x,v=d.y,l=d.v,"area"===i.options.type?(c=void 0,f=void 0):(c=d.groupIndex,f=d.groupValues));return!g&&h&&(g=Tg(h)),{type:g,index:u,value:l,tooltipX:p,tooltipY:v,rangeStart:a,rangeEnd:s,groupIndex:c,groupValues:f}}function G(r){i.playingExtend=!!r.extend,g||(g=!0,p.push(vr((function(r){var o=n.offsetRanges(Math.floor(n.getTimeRate()*(i.options.playSpeed||i.defaultPlaySpeed)*(r/1e3)),!!i.playingExtend);return g&&o?(n.triggerTimeBarChanged("range"),!0):(g=!1,i.playingExtend=!1,o||(e.trigger("pause"),t.fire("pause")),!1)}))))}function Y(t,e,r,o,a,s){var u=t.t1,l=t.t2,c=r-u,f=o-l,d=a||{},h=d.time||i.defaultAnimationTime,v=h;p.push(vr((function(t){var r=1-(v=Math.max(0,v-t))/h;return e(u+c*r,l+f*r),v<=0&&(d.quiet||n.triggerTimeBarChanged("range"),xt(s)),v>0})))}function W(t,e,r,i){var o=n.limitInnerRange(t,e);Y(n.getInnerRange(),n.setInner,o.t1,o.t2,r,i)}function U(t,e,r,i){r.animate?W(t,e,r,i):(n.setInner(t,e),r.quiet||n.triggerTimeBarChanged("range"),xt(i))}function X(t,e){return n.inMainBarOrHistogram(t,e)||!!h&&Lg.test(h)}function H(t){return function(e){var r=e.x,o=n.getInnerRange()[t],a=r-n.ttox(o),s=e;return{type:"slider",getCursor:function(){return"ew-resize"},setLastProps:function(t){s=t},getLastProps:function(){return s},dragMove:function(e){s=e;var r=n.getSideLimits(t);n.setInnerRangeSide(t,function(t,e){return Math.min(e.max,Math.max(e.min,t))}(n.xtot(e.x-a),r)),n.triggerTimeBarChanged("range"),v("ew-resize")},endDrag:function(e){if(e&&n.setInnerRangeSide(t,o),"fixed"===i.options.sliders){var r=n.getInnerRange(),a=(r.t2-r.t1)*i.fixedSideFactor;!function(t,e,r,i){Y(n.getOuterRange(),n.setOuter,t,e,r,void 0)}(r.t1-a,r.t2+a,{time:i.sliderReleaseTime})}}}}}function K(t,e){x.x===t&&x.y===e||(x.x=t,x.y=e,I())}function Q(t,e,r){var i=n.nextPage(t);U(i.t1,i.t2,e,r)}function $(t){var e=t.x,r=n.getInnerRange().t1,o=t;return{type:"scroll",getCursor:function(){return"move"},setLastProps:function(t){o=t},getLastProps:function(){return o},dragMove:function(t){o=t;var a=Math.floor((e-t.x)*n.getTimeRate());"free"===i.options.sliders&&(a*=-1),n.offsetRanges(a+(r-n.getInnerRange().t1)),n.triggerTimeBarChanged("range")},endDrag:function(t){t&&n.offsetRanges(r-n.getInnerRange().t1)}}}var tt={},et={_tbBar:$,_tbSlider:$,_tbHisto:$,_tbLine:$,_tbMain:$,_tbMajor:$,_tbMinor:$,_tbLeft:H("t1"),_tbRight:H("t2")};function nt(t,e,r,i,o){var a=Ct(i,{animate:!0,time:200}),s=r||.5,u=t>0?s:1/s,l=n.getInnerRange(),c=l.t1,f=l.t2,d=f-c,h=d*u,p=(e-l.t1)/(l.t2-l.t1);U(c=Math.floor(c-(h-d)*p),f=Math.floor(f+(h-d)*(1-p)),a,o)}function rt(t,e){var r;(r=t&&t.id?n.getRangeForIds(t.id):n.dataRange())?B((r=n.fitHistogramBarsExactly(r)).t1,r.t2,t,e):xt(e)}function it(){var t=n.getInnerRange();return(t.t1+t.t2)/2}function ot(t,e,n){nt(t,it(),.5,e,n)}function at(t,e){ot(1,t,e)}function st(t,e){ot(-1,t,e)}function ut(t){y=t}function lt(t){m=t}var ct={animate:p.animate,animateInnerTo:W,animateBarHeight:E,animateSelHeight:M,createDragger:function(n){var r=n.id,i=n.x,o=n.y,a=function(t){return t&&Lg.test(t)?"_tbLine":t}(r);if(a&&et[a]){var s="hand";/left|right/i.test(a)&&(s=Tg(a));var u=e.trigger("dragstart",s,i,o),l=Ug(n,V(n));t.fire("drag-start",l),u||l.defaultPrevented?w=function(t){var e=t;return{type:null,getCursor:function(){return"auto"},setLastProps:function(t){e=t},getLastProps:function(){return e},dragMove:function(t){e=t},endDrag:function(){}}}(n):((w=et[a](n)).type=s,v(w.getCursor(i,o)))}},destroy:function(){O(null),a.destroy(),o.destroy(),a=null,c=null},doClickAction:function(t){"_tbplay"===t?(i.playingExtend=!1,z()):"_tbplayextend"===t?(i.playingExtend=!0,z({extend:!0})):"_tbpause"===t?j():"_tbnext"!==t||m?"_tbprev"!==t||m?"_tbfit"===t?rt():"_tbzoomin"!==t||y?"_tbzoomout"!==t||y||(ut(!0),"free"===i.options.sliders?at(void 0,(function(){ut(!1)})):st(void 0,(function(){ut(!1)}))):(ut(!0),"free"===i.options.sliders?st(void 0,(function(){ut(!1)})):at(void 0,(function(){ut(!1)}))):(lt(!0),D("back",null,(function(){lt(!1)}))):(lt(!0),D("forward",null,(function(){lt(!1)})))},draw:function(t){if(t)if(o.hasPendingImages())I();else{a.resetExtras(),r.generate(ct,n,c,a,i,x,h),Ci(c);var e=128905684-b;if(e!==Math.abs(e))return;e=1,Mi(a,c,void 0,null,{},!1,!1,null,!1,0,0,void 0,o,S),d.dirty()}},getActiveDragger:function(){return w},getCanvas:function(){return c},getConfig:function(){return i},getPointerEventInfo:V,hittest:function(t,e){return d.test(t,e,a)},imageNames:function(){return Z},imageNamesDM:function(){return N},isPlaying:function(){return g},isPlayingExtend:function(){return g&&!!i.playingExtend},isPlayingFixed:function(){return g&&!i.playingExtend},load:function(t,e){return n.load(t),R(e)},merge:function(t,e){return n.merge(t),R(e)},midSlidersTime:it,options:function(t,e){return t&&(i.setOptions(t),n.updateOptions(),"object"==typeof t&&t&&"_showShadowCanvas"in t&&d.debugCanvas(t._showShadowCanvas?c:null),I()),xt(e),i.getOptions()},pan:D,pause:j,play:z,privateInit:function(t,e,r,i,o,a,s){l=i,v=o,f=s,P(),L(t,e,r),n.setInner(cg(new Date(2011,4,6)),cg(new Date)),T()},privateSetSize:function(t,e,n){Bn();var r=B();L(t,e,n),B(r.dt1,r.dt2,{animate:!1,quiet:!0})},range:B,removeItem:function(t){n.removeItem(t),R()},selectionRegExp:function(){return Lg},setContainer:O,setCursorByType:function(t){v(t&&tt[t]||"auto")},stopDrag:function(){if(w){var n=w.getLastProps(),r=e.trigger("dragend",w.type,n.x,n.y),i=Ug(n,V(n));t.fire("drag-end",i),w.endDrag(r||i.defaultPrevented),e.trigger("dragcomplete",w.type,n.x,n.y),w=null,v("auto")}},triggerHover:_,zoom:function(t,e,n){switch(t){case"in":at(e,n);break;case"out":st(e,n);break;case"fit":rt(e,n)}},zoomOnTimeSlot:nt,drawButtonHighlight:function(){(h&&h in C||k.lastId&&k.lastId in C)&&I()},highlightAt:K,clearHighlight:function(){K(-1,-1)},getWidgets:function(){return a}};return ct}function Qg(){throw new Error("Time bar has been destroyed")}function Jg(t,e,n){var r=xr(),i=xg(),o=tf(),a=Pg(o,r,i),s=Ng(e),u=Kg(o,r,a,s,i,e),l=n.privateGetElement(),c=new Xp(l,(function(t){return"pointer-move"===t.pointerEvent.type?null:u.hittest(t.x,t.y)}));function f(t){var e=hr(t);n.privateSetContainer(e),u.setContainer(e)}Hg(c,{model:a,controller:u,legacyEvents:r,events:o});var d=pr(u.draw,u.animate,u.getCanvas);o.privateOn("redraw",d.redraw);var h={bind:r.bind,clear:function(){return u.load({items:[]})},destroy:function(){f(null),c.destroy(),u.destroy(),delete K.components[t],u=null,r=null,zt(v).forEach((function(t){v[t]=Qg}))},getIds:function(t,e){return a.getIds(t,e)},inRange:function(t){if(It(t))return!1;var e=""+(gt(t)?t.id:t);return!!a.getIdcounts()[e]},load:function(t,e){if("object"==typeof t&&t&&"items"in t){var n=t;if(n.items)return u.load(n,e)}throw Error("Unknown data format passed")},mark:function(t){return a.mark(t)},merge:function(t,e){var n=_t(At(t));return u.merge(n,e)},on:o.on,off:o.off,options:function(t,e){return u.options(t,e)},pan:function(t,e,n){return u.pan(t,e,n)},pause:function(){return u.pause()},play:function(t){return u.play(t)},range:function(t,e,n,r){return 0!==arguments.length?u.range(t,e,n,r):u.range()},removeItem:function(t){u.removeItem(t)},selection:function(t){return a.selection(t)},setContainer:f,unbind:r.unbind,zoom:function(t,e,n){var r=Ct(e,{animate:!0,time:200});return u.zoom(t||"in",r,n)}},p=ar(ar(ar({_getItems:a.privateGetItems,privateCanvasApi:n,privateInit:u.privateInit,privateSetRemoveComponentReference:function(t){},privateSetSize:u.privateSetSize,privateOn:o.privateOn.bind(o),privateOff:o.privateOff.bind(o),privateFire:o.privateFire.bind(o),privateUseAutoSizing:function(){return!0},__getW:u.getWidgets.bind(u)},d),r),h),v=ar({},h);return{public:v,internal:{api:p}}}var qg,$g,tm=16,em=128,nm=.25,rm=["rgba(255,0,0,1)","rgba(0,255,0,1)","rgba(0,0,255,1)","rgba(0,0,0,0)"];function im(){return tm+nm*em}function om(t,e,n){var r=t;return qg=e,em=128,$g=im(),function(t,e){var n=Object.keys(t),r=function(t){for(var e=0,n=document.createElement("canvas").getContext("2d"),r=0,i=t.length;r<i;r++){var o=qg.getNonEmojiGlyphs(),a=t[r];e+=sm(n,o,a,!1),e+=sm(n,o,a,!0)}for(var s=(em+$g)*e/3,u=256;s/(u*u)>3;)u*=2;return u}(n),i={};return Gt(um(i,n,r,e),{getGlyphInfoForFont:function(t){return i[t]}})}(r,n)}function am(t,e,n){var r=yp(t,e,n,"text");return r.fillStyle="black",r.fillRect(0,0,t,t),r}function sm(t,e,n,r){for(var i,o=0,a=r?"bold ":"",s=0,u=e.length;s<u;s++){var l=e[s];i=ie(l)?oe(em):em,t.font=a+i+"px "+n,o+=t.measureText(l).width+tm}return o}function um(t,e,n,r){var i,o=n,a=[],s=function(){a=[],i={x:tm,y:$g,colourComponent:0,textureBank:0};for(var n=0,s=e.length;n<s;n++)t[e[n]]=t[e[n]]||{},fm(a,o,t,i,e[n],!1,r),fm(a,o,t,i,e[n],!0,r)};for(!function(t,e){try{e(null,t())}catch(t){e(t)}}(s,(function(t){if(t){if((o*=2)>4096&&(em/=2,$g=im()),em<32)return void console.log("Number of unique text characters exceeded, try reducing the number of fonts or use canvas mode");s()}})),q(t,(function(e,n){cm(a,t,n,!1),cm(a,t,n,!0)}));i.textureBank<2;){i.textureBank++;var u=yp(1,i.textureBank,!1,"text");a[i.textureBank]={alphaChannel:!1,img:u.canvas,texture:void 0,rebuild:!1,size:0}}return{fontSize:em,atlases:a,glyphInfo:t}}function lm(t,e,n){var r=t[e].ctx;return r.font=n,r.globalCompositeOperation="lighter",r}function cm(t,e,n,r){for(var i=e[n],o=r?"B":"",a=r?"bold ":"",s=qg.getNonEmojiGlyphs(),u=0;u<s.length;++u){var l=s[u],c=0,f=i[l+o];if(f){var d=void 0;ie(l)?(c=8,d=oe(em)):d=em;var h=lm(t,f.textureBank,a+d+"px "+n);h.fillStyle=rm[f.colourComponent],h.fillText(l,f.x,f.y+.75*em-c)}}}function fm(t,e,n,r,i,o,a){var s,u=t[r.textureBank];u?s=u.ctx:(u={alphaChannel:!1,img:(s=am(e,r.textureBank,a)).canvas,ctx:s,texture:void 0,rebuild:!1,size:0},t[r.textureBank]=u);var l=o?"B":"",c=o?"bold ":"";s.fillStyle="black";for(var f=qg.getNonEmojiGlyphs(),d=0;d<f.length;++d){var h,p=f[d];h=ie(p)?oe(em):em,s.font=c+h+"px "+i;var v=s.measureText(p);if(r.x+v.width+tm>e){var g=r.y+em+$g;if(g+em>e){if(g=$g,r.colourComponent<2)r.colourComponent++;else{if(!(r.textureBank<2))throw new Error("Warning: Number of unique text characters exceeded, restarting build with larger Texture");r.colourComponent=0,r.textureBank++,(s=am(e,r.textureBank,a)).font=c+em+"px "+i,t.push({alphaChannel:!1,img:s.canvas,ctx:s,texture:void 0,rebuild:!1,size:0})}s.fillStyle=rm[r.colourComponent]}r.x=tm,r.y=g}n[i][p+l]={text:p,x:r.x,y:r.y,u1:r.x/e,v1:(r.y+em)/e,u2:(r.x+v.width)/e,v2:(r.y-em*nm)/e,colourComponent:r.colourComponent,textureBank:r.textureBank,width:v.width},r.x+=v.width+tm}}var dm=2048,hm=256;function pm(t,e,n){var r,i=Object.keys(t);if(i.length){var o=function(t){for(var e=512,n=12;e<dm;){if(t<=n)return e;e*=2,n*=4}return dm}(i.length),a=yp(o,0,n,"FontIcon");r=a.canvas;var s=248,u=128,l=0,c=1/o;a.fillStyle="rgb(0,0,0)",a.textAlign="center";var f=0,d=["rgba(255,0,0,1)","rgba(0,255,0,1)","rgba(0,0,255,1)","rgba(0,0,0,0)"];a.fillStyle="black",a.fillRect(0,0,o,o),a.fillStyle=d[0],a.globalCompositeOperation="lighter";for(var h=0,p=i.length;h<p;h++){var v=t[i[h]],g=ir(a,v.t,s,!1,v.ff||e,!0),m=Math.max(g.width,g.height),y=0;if(m>s&&(y=(s-(m=s*(s/m)))/2),u+hm>o+128&&(u=128,l+=hm),l>=o){if(u=128,l=0,++f>2)throw Error("Maximum number of icons exceeded!");a.fillStyle=d[f]}v.textureBank=3,v.colourComponentTexture=f,v.u1=(u-124)*c,v.v1=l*c,v.u2=(u+124)*c,v.v2=(l+s)*c,a.textBaseline="top",a.font=m+"px "+$t(v.ff||e),a.fillText(v.t,u,l+y),u+=hm}}else(r=document.createElement("canvas")).id="webglFontIconDebugCanvas",r.width=1,r.height=1;return{alphaChannel:!1,img:r,texture:void 0,rebuild:!1,size:0}}var vm=[0,0,0,0],gm=[255,255,255,255],mm=[145,146,149,255];function ym(t,e,n){var r=t.itemPrimitives,i=n.all||e||r.dirty>0;return r.dirty--,i}var bm={dashed:2,dotted:3,flow:4};function xm(t){var e;return(null===(e=t.itemPrimitives)||void 0===e?void 0:e.isHitTested)&&t.webglShadowColour||vm}function wm(t,e,n){for(var r=e||gm,i=t.colourData,o=t.colourIndex,a=0;a<6;a++)i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3]*n;t.colourIndex=o}function Am(t,e){var n=e||[0,0,0,0],r=t.shadowData,i=t.shadowIndex;r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=0,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=1,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=2,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=2,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=1,r[i++]=n[0],r[i++]=n[1],r[i++]=n[2],r[i++]=3,t.shadowIndex=i}var _m=new Float32Array(8);function km(t,e,n,r,i,o,a,s,u){var l=t.positionIndex,c=t.positionData,f=-1;u&&a>-1?function(t,e,n,r,i,o,a){t[0]=e,t[1]=n,t[2]=r,t[3]=n,t[4]=e,t[5]=i,t[6]=r,t[7]=i;var s=o.anchorBuffer.getData();if(a>-1){var u=o.positionIndex[a];if(u>-1){var l=s[u],c=s[u+1],f=s[u+2];if(f){var d=Math.sin(-f),h=Math.cos(-f),p=e*h+n*d,v=n*h-e*d;t[0]=p,t[1]=v,p=r*h+n*d,v=n*h-r*d,t[2]=p,t[3]=v,p=e*h+i*d,v=i*h-e*d,t[4]=p,t[5]=v,p=r*h+i*d,v=i*h-r*d,t[6]=p,t[7]=v}t[0]+=l,t[1]+=c,t[2]+=l,t[3]+=c,t[4]+=l,t[5]+=c,t[6]+=l,t[7]+=c}}}(_m,e,n,r,i,s,a):(_m[0]=e,_m[1]=n,_m[2]=r,_m[3]=n,_m[4]=e,_m[5]=i,_m[6]=r,_m[7]=i,a>-1&&(f=s.positionIndex[a])),c[l++]=_m[0],c[l++]=_m[1],c[l++]=o,c[l++]=f,c[l++]=_m[2],c[l++]=_m[3],c[l++]=o,c[l++]=f,c[l++]=_m[4],c[l++]=_m[5],c[l++]=o,c[l++]=f,c[l++]=_m[4],c[l++]=_m[5],c[l++]=o,c[l++]=f,c[l++]=_m[2],c[l++]=_m[3],c[l++]=o,c[l++]=f,c[l++]=_m[6],c[l++]=_m[7],c[l++]=o,c[l++]=f,t.positionIndex=l}function Cm(t,e,n,r,i,o,a,s,u,l,c,f,d,h){var p=t.textureData,v=t.textureIndex;p[v++]=e,p[v++]=n,p[v++]=o,p[v++]=a,p[v++]=l,p[v++]=c,p[v++]=f,p[v++]=d,p[v++]=h,p[v++]=r,p[v++]=n,p[v++]=s,p[v++]=a,p[v++]=l,p[v++]=c,p[v++]=f,p[v++]=d,p[v++]=h,p[v++]=e,p[v++]=i,p[v++]=o,p[v++]=u,p[v++]=l,p[v++]=c,p[v++]=f,p[v++]=d,p[v++]=h,p[v++]=e,p[v++]=i,p[v++]=o,p[v++]=u,p[v++]=l,p[v++]=c,p[v++]=f,p[v++]=d,p[v++]=h,p[v++]=r,p[v++]=n,p[v++]=s,p[v++]=a,p[v++]=l,p[v++]=c,p[v++]=f,p[v++]=d,p[v++]=h,p[v++]=r,p[v++]=i,p[v++]=s,p[v++]=u,p[v++]=l,p[v++]=c,p[v++]=f,p[v++]=d,p[v++]=h,t.textureIndex=v}function Em(t,e,n,r,i,o,a,s){var u=a||s.all;if(u){var l=xm(t);Am(r.triangleBuffers,l),wm(r.triangleBuffers,n,o)}if(u||r.useAbsolutePosition){var c=t.x1,f=t.y1,d=t.x2,h=t.y2,p=Math.min(t.imageInflate||0,2)/2;km(r.triangleBuffers,c,f,d,h,p,t.anchorIndex,i,r.useAbsolutePosition)}if(u){var v=void 0,g=void 0,m=void 0,y=void 0,b=0,x=e;"ci"!==t.specifier||x.isMissing?(g=e.u1,v=e.v1,y=e.u2,m=e.v2):(b="width"===x.maxDimension?(t.y2-t.y1)/2:(t.x2-t.x1)/2,g=x.cu1,v=x.cv1,y=x.cu2,m=x.cv2),Cm(r.triangleBuffers,g,v,y,m,0,0,1,1,e.textureBank,e.colourComponentTexture,b,0,0)}}var Mm=[0,1,0,1],Sm=[0,0,2,2];function Im(t,e,n,r,i,o){if(t){var a=xm(n),s=bm[n.lineStyle]||0;!function(t,e,n,r,i,o,a,s,u,l,c,f,d,h){var p=c.elementData,v=c.elementIntegerData,g=c.elementDataIndex;if(d||h.all){var m=c.elementIndex,y=c.elementIndexIndex,b=c.elementMappingIndex;m[y]=b,m[y+1]=b+1,m[y+2]=b+2,m[y+3]=b+2,m[y+4]=b+1,m[y+5]=b+3}c.elementIndexIndex+=6,c.elementMappingIndex+=4;for(var x=0,w=0;w<4;w++){if((d||h.all||h.positions)&&(p[g]=t,p[g+1]=e,p[g+2]=n,p[g+3]=r,p[g+4]=u),d||h.all){var A=null!=i?i:mm,_=null!=o?o:A;p[g+5]=l,v[x=(g+6)*Float32Array.BYTES_PER_ELEMENT]=Mm[w],v[x+1]=Sm[w],v[x+2]=0,v[x+4]=A[0],v[x+5]=A[1],v[x+6]=A[2],v[x+7]=A[3]*f,v[x+8]=_[0],v[x+9]=_[1],v[x+10]=_[2],v[x+11]=_[3]*f;var k=a||[0,0,0];v[x+12]=k[0],v[x+13]=k[1],v[x+14]=k[2],v[x+15]=s}c.elementDataIndex+=10,g=c.elementDataIndex}}(n.x1,n.y1,n.x2,n.y2,n.webglColour,n.webglColour2||n.webglColour,a,s,n.width,n.flowVelocity,e.lineBuffers,r,i,o)}else e.lineBuffers.skip()}function Lm(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,v,g){var m=h||0,y=p||0,b=n,x=o;if(r||(b=0,x=0),(d.all||f)&&(Am(u.triangleBuffers,i||gm),wm(u.triangleBuffers,r,c),Cm(u.triangleBuffers,a,s,a,s,0,0,1,1,-1,-1,b,m,y)),d.all||f||u.useAbsolutePosition){var w;w=v?-x:x;var A=2*b,_=t-b,k=e-b,C=_+A,E=k+A;km(u.triangleBuffers,_,k,C,E,w,g,l,u.useAbsolutePosition)}}function Tm(t,e,n,r,i,o){if(n.isFilled)if(t){var a=xm(n);Lm(n.x,n.y,n.r,n.webglFillColour,a,0,.5,.5,e,n.itemPrimitives,r,i,o,null,null,!1,n.anchorIndex)}else e.triangleBuffers.skip();if(n.borderWidth>0)if(t){a=xm(n);var s=bm[n.borderStyle]||0;Lm(n.x,n.y,n.r,n.webglBorderColour,a,n.borderWidth,.5,.5,e,n.itemPrimitives,r,i,o,null,null,s>1,n.anchorIndex)}else e.triangleBuffers.skip()}function Pm(t,e,n,r,i,o,a,s){for(var u=n,l=r,c=e.positionIndex,f=0;f<4;f++)for(var d=0;d<6;d++)t[c++]=u,t[c++]=l,t[c++]=i,t[c++]=o,t[c++]=a,t[c++]=s;e.positionIndex=c}function Om(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,v){var g=l||[0,0,0,0];if(p||v.all){!function(t,e,n,r,i,o){for(var a=e.shadowIndex,s=0;s<4;s++)for(var u=0;u<6;u++)t[a++]=n,t[a++]=r,t[a++]=i,t[a++]=o;e.shadowIndex=a}(t.shadowData,t,g[0],g[1],g[2],d);var m=s,y=u,b=f;i<0&&(m=u,y=s,b=-f),function(t,e,n,r,i){for(var o=e.colourIndex,a=null!=n?n:mm,s=null!=r?r:a,u=0;u<4;u++)for(var l=0;l<6;l++)t[o++]=a[0],t[o++]=a[1],t[o++]=a[2],t[o++]=a[3]*i,t[o++]=s[0],t[o++]=s[1],t[o++]=s[2],t[o++]=s[3]*i;e.colourIndex=o}(t.colourData,t,m,y,h),function(t,e,n){for(var r=e.coreIndex,i=1;i<=4;i++)t[r]=i,t[r+1]=n,t[r+3]=i+1,t[r+4]=n,t[r+6]=-i,t[r+7]=n,t[r+9]=-i,t[r+10]=n,t[r+12]=i+1,t[r+13]=n,t[r+15]=-(i+1),t[r+16]=n,r+=18;e.coreIndex=r}(t.coreData,t,b),Pm(t.positionData,t,e,n,r,o,a,c)}else v.positions&&Pm(t.positionData,t,e,n,r,o,a,c)}function Rm(t,e,n,r,i,o){var a=xm(n);if(n.isDonut)t?Lm(n.x,n.y,n.r,n.webglColour,a,n.width,.5,.5,e,n.itemPrimitives,r,i,o,n.startAngle,n.endAngle,!1,0):e.triangleBuffers.skip();else if(t){var s=bm[n.lineStyle]||1;Om(e.arcBuffers,n.x,n.y,n.r,n.offset,n.startAngle,n.endAngle,n.webglColour,n.webglColour2||n.webglColour,a,n.width,n.flowVelocity,s,r,i,o)}else e.arcBuffers.skip()}var Bm=65535,zm=oi;function Dm(t,e,n,r,i,o){if(t&&n.bezier){var a=bm[n.lineStyle]||1,s=xm(n);i||o.all?function(t,e,n,r,i,o,a,s,u){for(var l,c,f=t.elementIndex,d=t.elementIndexIndex,h=t.elementMappingIndex,p=0;p<zm;p++)f[d++]=h,f[d++]=h+2,f[d++]=h+1,f[d++]=h+1,f[d++]=h+2,f[d++]=h+3,h+=2;var v=n[0],g=n[1],m=n[2],y=n[3]*u,b=r[0],x=r[1],w=r[2],A=r[3]*u,_=i||[0,0,0],k=_[0],C=_[1],E=_[2],M=4===e.xs.length,S=e.xs,I=S[0],L=S[1],T=S[2],P=S[3],O=e.ys,R=O[0],B=O[1],z=O[2],D=O[3],j=0,F=M?zm:25,Z=M?Bm:Math.round(e.joinFraction*Bm),N=(Z/256|0)-128,V=Z%256-128,G=2*(F+1),Y=t.elementData,W=t.elementIntegerData,U=t.elementDataIndex,X=0;for(p=0;p<102;p++)p===G&&(I=(l=e.xs)[3],L=l[4],T=l[5],P=l[6],R=(c=e.ys)[3],B=c[4],z=c[5],D=c[6],j=2*F,F-=zm,N=((Z=Bm-Z)/256|0)-128,V=Z%256-128),Y[U++]=I,Y[U++]=R,Y[U++]=L,Y[U++]=B,Y[U++]=T,Y[U++]=z,Y[U++]=P,Y[U++]=D,Y[U++]=o,Y[U++]=a,X=U*Float32Array.BYTES_PER_ELEMENT,W[X++]=p-j,W[X++]=F,W[X++]=N,W[X++]=V,W[X++]=v,W[X++]=g,W[X++]=m,W[X++]=y,W[X++]=b,W[X++]=x,W[X++]=w,W[X++]=A,W[X++]=k,W[X++]=C,W[X++]=E,W[X++]=s,U+=4;t.elementDataIndex+=1428}(e.bezierBuffers,n.bezier,n.webglColour,n.webglColour2||n.webglColour,s,n.width,n.flowVelocity,a,r):o.positions&&function(t,e,n){for(var r,i,o=4===e.xs.length,a=e.xs,s=a[0],u=a[1],l=a[2],c=a[3],f=e.ys,d=f[0],h=f[1],p=f[2],v=f[3],g=0,m=o?zm:25,y=o?Bm:Math.round(e.joinFraction*Bm),b=(y/256|0)-128,x=y%256-128,w=2*(m+1),A=t.elementData,_=t.elementIntegerData,k=t.elementDataIndex,C=0;C<102;C++){C===w&&(s=(r=e.xs)[3],u=r[4],l=r[5],c=r[6],d=(i=e.ys)[3],h=i[4],p=i[5],v=i[6],g=2*m,m-=zm,b=((y=Bm-y)/256|0)-128,x=y%256-128),A[k++]=s,A[k++]=d,A[k++]=u,A[k++]=h,A[k++]=l,A[k++]=p,A[k++]=c,A[k++]=v,A[k++]=n;var E=++k*Float32Array.BYTES_PER_ELEMENT;_[E++]=C-g,_[E++]=m,_[E++]=b,_[E++]=x,k+=4}t.elementDataIndex+=1428}(e.bezierBuffers,n.bezier,n.width),e.bezierBuffers.elementIndexIndex+=300,e.bezierBuffers.elementMappingIndex+=102}else e.bezierBuffers.skip()}function jm(t,e,n,r,i,o,a,s,u,l,c,f,d,h,p){var v=l||0,g=0,m=0;p&&(g=p[0]||0,m=p[1]||0);var y=e,b=n,x=r,w=i;if(o||(y=0,x=0,b=0,w=0),d||h.all){var A=xm(t);Am(a.triangleBuffers,A),wm(a.triangleBuffers,o,u),km(a.triangleBuffers,y,b,x,w,v,t.anchorIndex,s,a.useAbsolutePosition);var _=x-y,k=w-b,C=!!t.isSelectionBorder;Cm(a.triangleBuffers,_,k,0,0,_,k,_,k,f,0,p?-1:-2,c>0?-c:g,C?-1:m)}else a.useAbsolutePosition&&km(a.triangleBuffers,y,b,x,w,v,t.anchorIndex,s,a.useAbsolutePosition)}function Fm(t,e,n,r,i,o){var a,s=n.isFilled,u=n.borderWidth>0;if(t){var l=null!==(a=n.cornerRadius)&&void 0!==a?a:0;if(s&&jm(n,n.x1,n.y1,n.x2,n.y2,n.webglFillColour,e,n.itemPrimitives,r,0,l,-1,i,o,n.rectMargins),u){var c=(bm[n.borderStyle]||0)>1?-3:-1;jm(n,n.x1,n.y1,n.x2,n.y2,n.webglBorderColour,e,n.itemPrimitives,r,n.borderWidth,l,c,i,o,n.rectMargins)}}else s&&e.triangleBuffers.skip(),u&&e.triangleBuffers.skip()}function Zm(t,e,n,r,i,o,a,s){Cm(t,e,n,r,i,o,o,o,o,s,a,0,0,0)}function Nm(t,e,n,r,i,o,a,s){if(n.back)if(t){var u=n.fontSize*n.paddingFactor;jm(n,n.x1,n.y1,n.x2,n.y2+u,n.webglBackColour,e,n.itemPrimitives,r,0,0,-4,i,o)}else e.triangleBuffers.skip();t?function(t,e,n,r,i,o,a,s,u){if(s.all||a||u){var l=.109375,c=0,f=e.webglFontColour;f?e.fontSize!==Sn&&(l=In/r*(e.fontSize/In)):l=0;for(var d=e.wmargin,h=e.fontSize*(e.paddingFactor/2),p=e.x1,v=e.y1+e.yOffset+h,g=0,m=n.length;g<m;g++){var y=n[g],b=r*l;Am(t,vm),wm(t,f,o);var x=y.width*l,w=0;y.textureBank<3&&(w=b*nm),km(t,p+c+d,v+b,p+(c+x)+d,v-w,0,e.anchorIndex,i,u),Zm(t,y.u1,y.v1,y.u2,y.v2,b,y.colourComponent,y.textureBank),c+=x}}}(e.triangleBuffers,n,a,s,n.itemPrimitives,r,i,o,e.useAbsolutePosition):e.triangleBuffers.skipMany(a.length)}function Vm(t,e,n,r,i,o,a,s,u,l,c,f,d){var h,p,v,g=t.elementData,m=t.elementIntegerData;if(f||d.all){var y=t.elementIndex,b=t.elementIndexIndex,x=t.elementMappingIndex;y[b]=x,y[b+1]=x+1,y[b+2]=x+2,h=l||[0,0,0,0]}t.elementIndexIndex+=3,t.elementMappingIndex+=3,g[p=t.elementDataIndex]=n,g[p+1]=r,g[p+2]=i,g[p+3]=o,g[p+4]=a,g[p+5]=s,(f||d.all)&&(m[v=(p+e)*Float32Array.BYTES_PER_ELEMENT]=0,m[v+1]=1,m[v+2]=0,m[v+3]=0,m[v+4]=u[0],m[v+5]=u[1],m[v+6]=u[2],m[v+7]=u[3]*c,m[v+8]=u[0],m[v+9]=u[1],m[v+10]=u[2],m[v+11]=u[3]*c,m[v+12]=h[0],m[v+13]=h[1],m[v+14]=h[2],m[v+15]=5),t.elementDataIndex+=e+4,g[p=t.elementDataIndex]=n,g[p+1]=r,g[p+2]=i,g[p+3]=o,g[p+4]=a,g[p+5]=s,(f||d.all)&&(m[v=(p+e)*Float32Array.BYTES_PER_ELEMENT]=1,m[v+1]=0,m[v+2]=0,m[v+3]=1,m[v+4]=u[0],m[v+5]=u[1],m[v+6]=u[2],m[v+7]=u[3]*c,m[v+8]=u[0],m[v+9]=u[1],m[v+10]=u[2],m[v+11]=u[3]*c,m[v+12]=h[0],m[v+13]=h[1],m[v+14]=h[2],m[v+15]=5),t.elementDataIndex+=e+4,g[p=t.elementDataIndex]=n,g[p+1]=r,g[p+2]=i,g[p+3]=o,g[p+4]=a,g[p+5]=s,(f||d.all)&&(m[v=(p+e)*Float32Array.BYTES_PER_ELEMENT]=0,m[v+1]=0,m[v+2]=1,m[v+3]=2,m[v+4]=u[0],m[v+5]=u[1],m[v+6]=u[2],m[v+7]=u[3]*c,m[v+8]=u[0],m[v+9]=u[1],m[v+10]=u[2],m[v+11]=u[3]*c,m[v+12]=h[0],m[v+13]=h[1],m[v+14]=h[2],m[v+15]=5),t.elementDataIndex+=e+4}function Gm(t,e,n,r,i,o,a,s,u,l,c,f,d,h){var p=e,v=n,g=r,m=i,y=o,b=a;s||(p=0,g=0,y=0,v=0,m=0,b=0);var x,w,A=c.positionIndex[t.anchorIndex],_=t.webglShadowColour||gm;if(h.all||d){var k=s||gm;for(w=0;w<3;w++){var C=l.triangleBuffers.shadowData,E=l.triangleBuffers.shadowIndex;C[E++]=_[0],C[E++]=_[1],C[E++]=_[2],C[E++]=0,l.triangleBuffers.shadowIndex=E;var M=l.triangleBuffers.colourData,S=l.triangleBuffers.colourIndex;M[S++]=k[0],M[S++]=k[1],M[S++]=k[2],M[S++]=k[3]*f,l.triangleBuffers.colourIndex=S}}if(l.useAbsolutePosition&&t.anchorIndex>-1){var I=c.anchorBuffer.getData(),L=I[A],T=I[A+1],P=I[A+2];if(P){var O=Math.sin(-P),R=Math.cos(-P),B=p*R+v*O,z=v*R-p*O;p=B,v=z,z=m*R-g*O,g=B=g*R+m*O,m=z,z=b*R-y*O,y=B=y*R+b*O,b=z}p+=L,v+=T,g+=L,m+=T,y+=L,b+=T,A=-1}if(h.all||d||l.useAbsolutePosition){x=l.triangleBuffers.positionIndex;var D=l.triangleBuffers.positionData;D[x++]=p,D[x++]=v,D[x++]=0,D[x++]=A,D[x++]=g,D[x++]=m,D[x++]=0,D[x++]=A,D[x++]=y,D[x++]=b,D[x++]=0,D[x++]=A,l.triangleBuffers.positionIndex=x}if(h.all||d){x=l.triangleBuffers.textureIndex;var j=l.triangleBuffers.textureData;j[x++]=0,j[x++]=1,j[x++]=0,j[x++]=0,j[x++]=u,j[x++]=0,j[x++]=0,j[x++]=0,j[x++]=0,j[x++]=1,j[x++]=0,j[x++]=0,j[x++]=0,j[x++]=u,j[x++]=0,j[x++]=0,j[x++]=0,j[x++]=0,j[x++]=0,j[x++]=0,j[x++]=1,j[x++]=0,j[x++]=u,j[x++]=0,j[x++]=0,j[x++]=0,j[x++]=0,l.triangleBuffers.textureIndex=x}}function Ym(t,e,n,r,i,o){n.arrowhead?function(t,e,n,r,i,o){var a=n.x1,s=n.y1,u=n.x2,l=n.y2,c=n.x3,f=n.y3,d=xm(n);n.arrowhead===nn.Line?Vm(e.lineBuffers,6,a,s,u,l,c,f,n.webglFillColour,d,r,i,o):n.arrowhead===nn.Arc?function(t,e,n,r,i,o,a,s,u,l,c,f){var d=u||[0,0,0];(c||f.all)&&(function(t,e,n,r,i){for(var o=e.shadowIndex,a=0;a<3;a++)t[o++]=n,t[o++]=r,t[o++]=i,t[o++]=5+a;e.shadowIndex=o}(t.shadowData,t,d[0],d[1],d[2]),function(t,e,n,r,i,o,a){for(var s=e.colourIndex,u=0;u<3;u++)t[s++]=n,t[s++]=r,t[s++]=i,t[s++]=o*a,t[s++]=n,t[s++]=r,t[s++]=i,t[s++]=o*a;e.colourIndex=s}(t.colourData,t,s[0],s[1],s[2],s[3],l),function(t,e){var n=e.coreIndex;t[n++]=0,t[n++]=1,t[n++]=0,t[n++]=1,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=0,t[n++]=1,e.coreIndex=n}(t.coreData,t)),(f.positions||c||f.all)&&function(t,e,n,r,i,o,a,s){var u=e.positionIndex;t[u++]=n,t[u++]=r,t[u++]=i,t[u++]=o,t[u++]=a,t[u++]=s,t[u++]=n,t[u++]=r,t[u++]=i,t[u++]=o,t[u++]=a,t[u++]=s,t[u++]=n,t[u++]=r,t[u++]=i,t[u++]=o,t[u++]=a,t[u++]=s,e.positionIndex=u}(t.positionData,t,e,n,r,i,o,a)}(e.arcBuffers,a,s,u,l,c,f,n.webglFillColour,d,r,i,o):n.arrowhead===nn.Bezier&&Vm(e.bezierBuffers,10,a,s,u,l,c,f,n.webglFillColour,d,r,i,o)}(0,e,n,r,i,o):(n.isFilled&&Gm(n,n.x1,n.y1,n.x2,n.y2,n.x3,n.y3,n.webglFillColour,-2,e,n.itemPrimitives,r,i,o),n.borderWidth>0&&Gm(n,n.x1,n.y1,n.x2,n.y2,n.x3,n.y3,n.webglBorderColour,-2,e,n.itemPrimitives,r,i,o))}var Wm=6*Float32Array.BYTES_PER_ELEMENT,Um=3*Float32Array.BYTES_PER_ELEMENT,Xm=4*Uint8Array.BYTES_PER_ELEMENT,Hm=8*Uint8Array.BYTES_PER_ELEMENT;function Km(t,e,n){var r,i,o,a={},s={},u="",l="",c={},f={textAtlas:!1,fontIcons:!1,imageAtlas:!1};function d(e,r){e.clearTextureAtlas(t.imageAtlases),t.imageAtlases=_p(n,r)}function h(t){It(t.fontFamily)&&(t.fontFamily="sans-serif"),u===t.fontFamily&&null!==u||(u=t.fontFamily,f.textAtlas=!0),c[u]=!0,s[u]=!0}function p(t){t.iconFontFamily&&l!==t.iconFontFamily&&(l=t.iconFontFamily,f.fontIcons=!0)}var v=((r={})[rn.arc]=Rm,r[rn.bezier]=Dm,r[rn.line]=Im,r[rn.image]=function(t,e,r,i,o,a){!function(t,e,n,r,i,o,a){t?("_background"===n.id&&(n.webglShadowColour=vm),Em(n,a.get(n.url),gm,e,n.itemPrimitives,r,i,o)):e.triangleBuffers.skip()}(t,e,r,i,o,a,n)},r[rn.triangle]=Ym,r[rn.rect]=Fm,r[rn.circle]=Tm,r[rn.text]=function(n,r,o,s,l,c){(c.all||l||r.useAbsolutePosition)&&(o.isFontIcon?function(t,e,n,r,i,o,a){t?Em(n,a[n.text+(n.fontFamily||"")],n.webglFontColour,e,n.itemPrimitives,r,i,o):e.triangleBuffers.skip()}(n,r,o,s,l,c,a):Nm(n,r,o,s,l,c,e.getGlyphsFromText(o.text,o.fontFamily,u,o.isBold,f,i,t.textAtlas),t.textAtlas.fontSize))},r);function g(e,n,r){for(var i,o=r.rebuildOptions,a=r.alwaysUpdate,s=0;s<n;s++){var u=1;(i=e[s]).itemPrimitives.bg&&(u*=t.alpha.background),i.itemPrimitives.gh&&(u*=t.alpha.ghost);var l=ym(i,a,o);v[i.type](l,r,i,u,a,o)}}function m(n,r){(f.textAtlas||r)&&(t.textAtlas&&n.clearTextureAtlas(t.textAtlas.atlases),t.textAtlas=om(c,e,r),s=c)}function y(e,n){(f.fontIcons||!t.fontIconAtlas||n)&&(e.clearTextureAtlas(t.fontIconAtlas),t.fontIconAtlas=pm(a,l,n))}function b(t,e,n){t.needsResize=t.needsResize||!e||n!==e.length}function x(e,n,r,o,u){switch(e.type){case rn.arc:e.isDonut?u.numOfTriangles+=2:r.numOfTriangles+=8;break;case rn.bezier:e.bezier&&(o.numOfBeziers+=1);break;case rn.line:n.numOfLines+=1;break;case rn.circle:e.borderWidth>0&&(u.numOfTriangles+=2),e.isFilled&&(u.numOfTriangles+=2);break;case rn.rect:e.isFilled&&(u.numOfTriangles+=2),e.borderWidth>0&&(u.numOfTriangles+=2);break;case rn.text:var l=e.text,d=t.stringSplitter.unicodeAwareCharacters(l),h=d.length;if(e.isFontIcon){var p=l+(e.fontFamily||"");u.numOfTriangles+=2,a[p]||(f.fontIcons=!0,a[p]={t:l,ff:e.fontFamily})}else e.fontFamily&&(c[e.fontFamily]=!0,s[e.fontFamily]||(f.textAtlas=!0,s[e.fontFamily]=!0)),e.back&&(u.numOfTriangles+=2),h=Ne(d,l,i).result.length,u.numOfTriangles+=2*h;break;case rn.triangle:e.arrowhead>0?e.arrowhead===nn.Line?n.numOfArrowheads++:e.arrowhead===nn.Bezier?o.numOfArrowheads++:r.numOfTriangles++:(e.isFilled&&u.numOfTriangles++,e.borderWidth>0&&u.numOfTriangles++);break;case rn.image:u.numOfTriangles+=2}}return{generate:function e(n,r,a,s){o=s.isFloatingPointSupported(a._rendering.disableFloatTexture),r.all&&(t.layersToDraw.length=0,i=or(t.canvas),f.textAtlas=!1,f.fontIcons=!1,f.imageAtlas=!1);var u=a.linkStyle,l=!(!u||"along"!==u.glyphs);n.forEach((function(e){var n=function(t,e,n){var r=t.get(e.id);return r&&n?function(t,e){t.useFramebuffer=e.useFramebuffer,t.drawFramebuffer=e.drawFramebuffer,t.framebuffer=null,t.renderbuffer=null,t.framebufferTexture=null,t.fbAlpha=e.fbAlpha,t.useView=e.useView,t.shadowType=e.shadowType,t.rebuildOptions={},t.alwaysUpdate=e.alwaysUpdate,t.blatOverview=e.blatOverview,t.numOfPrimitives=e.numOfPrimitives,t.primitives=e.primitives,t.overview=e.overview,t.useAbsolutePosition=!1}(r,e):r||(r=function(t){var e={triangleBuffers:{colourIndex:0,needsResize:!1,numOfTriangles:0,positionIndex:0,shadowIndex:0,textureIndex:0,totalnumOfVertices:0,skip:function(){e.triangleBuffers.positionIndex+=24},skipMany:function(t){e.triangleBuffers.positionIndex+=24*t}},lineBuffers:{numOfLines:0,numOfArrowheads:0,needsResize:!1,elementDataIndex:0,elementDataIndexIndex:0,elementIndexIndex:0,elementIntegerDataIndex:0,elementMappingIndex:0,skip:function(){e.lineBuffers.elementDataIndex+=40}},arcBuffers:{colourIndex:0,coreIndex:0,numOfTriangles:0,needsResize:!1,positionIndex:0,shadowIndex:0,totalnumOfVertices:0,skip:function(){e.arcBuffers.positionIndex+=144}},bezierBuffers:{elementDataIndex:0,elementIndexIndex:0,elementIntegerDataIndex:0,elementMappingIndex:0,numOfBeziers:0,totalnumOfVertices:0,numOfArrowheads:0,needsResize:!1,skip:function(){e.bezierBuffers.elementDataIndex+=1428}},id:t.id,useFramebuffer:t.useFramebuffer,drawFramebuffer:t.drawFramebuffer,framebuffer:null,renderbuffer:null,framebufferTexture:null,fbAlpha:t.fbAlpha,useView:t.useView,shadowType:t.shadowType,rebuildOptions:{},alwaysUpdate:t.alwaysUpdate,blatOverview:t.blatOverview,numOfPrimitives:t.numOfPrimitives,primitives:t.primitives,overview:t.overview,useAbsolutePosition:!1};return e}(e),t.set(e.id,r)),r}(t.allLayers,e,!!r.all);if(r.all&&t.layersToDraw.push(n),n.useAbsolutePosition=!o&&(r.all||r.positions||e.alwaysUpdate)||l&&n.id.indexOf("LINK")>-1,function(t,e,n){t.fbAlpha=n,t.rebuildOptions={all:e.all,positions:e.positions}}(n,r,e.fbAlpha),function(t,e){return t.all||t.positions||e}(r,e.alwaysUpdate)||n.useAbsolutePosition){var i=e.primitives,s=e.numOfPrimitives;if(h(a),p(a),r.all||e.alwaysUpdate){var u=n.lineBuffers,c=n.arcBuffers,d=n.triangleBuffers,v=n.bezierBuffers;!function(t,e,n,r){e.numOfTriangles=0,t.numOfLines=0,t.numOfArrowheads=0,r.numOfTriangles=0,n.numOfBeziers=0,n.numOfArrowheads=0}(u,c,v,d);for(var m=0;m<s;m++)x(e.primitives[m],u,c,v,d)}f.textAtlas||f.fontIcons||f.imageAtlas||(!function(t){!function(t){t.elementIndexIndex=0,t.elementMappingIndex=0,t.elementDataIndex=0,t.elementIntegerDataIndex=0;var e=10*t.numOfLines*4;e+=10*t.numOfArrowheads*3;var n=6*t.numOfLines+3*t.numOfArrowheads;b(t,t.elementData,e),b(t,t.elementIndex,n),t.needsResize&&(t.elementData=new Float32Array(e),t.elementIntegerData=new Uint8Array(t.elementData.buffer,0,t.elementData.length*Float32Array.BYTES_PER_ELEMENT),t.elementIndex=new Uint32Array(n))}(t.lineBuffers),function(t){t.positionIndex=0,t.colourIndex=0,t.shadowIndex=0,t.coreIndex=0,t.totalnumOfVertices=3*t.numOfTriangles,b(t,t.positionData,6*t.totalnumOfVertices),function(){var e=6*t.totalnumOfVertices;t.needsResize&&(t.positionData=new Float32Array(e))}(),function(){var e=8*t.totalnumOfVertices;t.needsResize&&(t.colourData=new Uint8Array(e))}(),function(){var e=4*t.totalnumOfVertices;t.needsResize&&(t.shadowData=new Uint8Array(e))}(),function(){var e=3*t.totalnumOfVertices;t.needsResize&&(t.coreData=new Float32Array(e))}()}(t.arcBuffers),function(t){t.elementIndexIndex=0,t.elementMappingIndex=0,t.elementDataIndex=0,t.elementIntegerDataIndex=0,t.totalnumOfVertices=t.numOfBeziers*zm*6;var e=51*t.numOfBeziers*2*14;e+=14*t.numOfArrowheads*3;var n=t.totalnumOfVertices+3*t.numOfArrowheads;b(t,t.elementData,e),b(t,t.elementIndex,n),t.needsResize&&(t.elementData=new Float32Array(e),t.elementIntegerData=new Uint8Array(t.elementData.buffer,0,t.elementData.length*Float32Array.BYTES_PER_ELEMENT),t.elementIndex=new Uint32Array(n))}(t.bezierBuffers),function(t){t.positionIndex=0,t.colourIndex=0,t.textureIndex=0,t.shadowIndex=0,t.totalnumOfVertices=3*t.numOfTriangles;var e=4*t.totalnumOfVertices;b(t,t.positionData,e),t.needsResize&&(t.positionData=new Float32Array(4*t.totalnumOfVertices)),t.needsResize&&(t.colourData=new Uint8Array(4*t.totalnumOfVertices)),t.needsResize&&(t.textureData=new Float32Array(9*t.totalnumOfVertices)),t.needsResize&&(t.shadowData=new Uint8Array(4*t.totalnumOfVertices))}(t.triangleBuffers)}(n),g(i,s,n))}})),m(s,a._rendering.showTextAtlas),y(s,a._rendering.showFontIconAtlas),function(t,e){(f.imageAtlas||e)&&d(t,e)}(s,a._rendering.showImageAtlas),(f.textAtlas||f.fontIcons||f.imageAtlas)&&(f.fontIcons=!1,f.textAtlas=!1,f.imageAtlas=!1,r.all=!0,e(n,r,a,s)),c={}},updateImageTextures:d}}function Qm(t){var e,n,r,i,o,a,s=t.canvas,u=t.framebuffers,l=(l=Xv(s,{antialias:!1,preferLowPowerToHighPerformance:!1,depth:!1,stencil:!1}),t.gl=l,n=s.width,r=s.height,i=l.drawingBufferWidth,o=l.drawingBufferHeight,l.getExtension("OES_standard_derivatives"),l.getExtension("OES_element_index_uint"),l.viewport(0,0,i,o),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),l.enable(l.BLEND),l.clearColor(0,0,0,0),t.framebuffers={},u=t.framebuffers,e=new Uint8Array(4),l),c=function(t){var e,n=t,r=10*Float32Array.BYTES_PER_ELEMENT;if(!n.lineShader){var i=Jv(n,"line-vertex",n.VERTEX_SHADER),o=Jv(n,"line-fragment",n.FRAGMENT_SHADER);e=Kv(n,i,o),n.lineShader={vertexShader:i,fragmentShader:o,program:e}}e=n.lineShader.program,n.getExtension("OES_standard_derivatives"),n.getExtension("OES_element_index_uint");var a={position1:n.getAttribLocation(e,"a_position1"),position2:n.getAttribLocation(e,"a_position2"),position3:n.getAttribLocation(e,"a_position3"),colour:n.getAttribLocation(e,"a_colour"),colour2:n.getAttribLocation(e,"a_colour2"),vertexInfo:n.getAttribLocation(e,"a_vertexInfo"),shadowColour:n.getAttribLocation(e,"a_hitTestColour"),type:n.getAttribLocation(e,"a_lineType")},s={hitTest:n.getUniformLocation(e,"u_hitTest"),zoom:n.getUniformLocation(e,"u_zoom"),transform:n.getUniformLocation(e,"u_transform"),resolution:n.getUniformLocation(e,"u_resolution"),shadowType:n.getUniformLocation(e,"u_shadowType"),viewIndependent:n.getUniformLocation(e,"u_viewIndependent"),gradientStartFraction:n.getUniformLocation(e,"u_gradientStartFraction"),time:n.getUniformLocation(e,"u_time"),adaptiveStyling:n.getUniformLocation(e,"u_adaptiveStyling")};function u(t,e,r,i,o,a,u,l,c){n.uniform3f(s.resolution,e,r,i),n.uniformMatrix4fv(s.transform,!1,t.get()),n.uniform1f(s.hitTest,o?1:0),n.uniform1f(s.zoom,t.getZoomLevel()),n.uniform1f(s.shadowType,a),n.uniform1f(s.viewIndependent,u?0:1),n.uniform1f(s.adaptiveStyling,l&&l.zoom&&l.zoom.adaptiveStyling?1:0);var f=0;o||(f=(1-l.linkStyle.transition)/2),n.uniform1f(s.gradientStartFraction,f),n.uniform1f(s.time,c)}function l(t){n.bindBuffer(n.ARRAY_BUFFER,t.elementBuffer),n.enableVertexAttribArray(a.position1),n.enableVertexAttribArray(a.position2),n.enableVertexAttribArray(a.position3),n.enableVertexAttribArray(a.vertexInfo),n.enableVertexAttribArray(a.colour),n.enableVertexAttribArray(a.colour2),n.enableVertexAttribArray(a.shadowColour),n.enableVertexAttribArray(a.type),n.vertexAttribPointer(a.position1,2,n.FLOAT,!1,r,0),n.vertexAttribPointer(a.position2,2,n.FLOAT,!1,r,8),n.vertexAttribPointer(a.position3,2,n.FLOAT,!1,r,16),n.vertexAttribPointer(a.vertexInfo,4,n.UNSIGNED_BYTE,!1,r,24),n.vertexAttribPointer(a.colour,4,n.UNSIGNED_BYTE,!1,r,28),n.vertexAttribPointer(a.colour2,4,n.UNSIGNED_BYTE,!1,r,32),n.vertexAttribPointer(a.shadowColour,3,n.UNSIGNED_BYTE,!1,r,36),n.vertexAttribPointer(a.type,1,n.UNSIGNED_BYTE,!1,r,39)}function c(){n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),n.bindBuffer(n.ARRAY_BUFFER,null)}return{drawItems:function(t,r,i,o,a,s,f,d,h){n.useProgram(e),c(),u(i,o,a,s,f,0|t.shadowType,t.useView,d,h),function(t){t.elementBuffer||(t.elementBuffer=n.createBuffer()),t.indexBuffer||(t.indexBuffer=n.createBuffer())}(r),function(t,e){(t.alwaysUpdate||t.rebuildOptions.all||t.rebuildOptions.positions)&&(n.bindBuffer(n.ARRAY_BUFFER,e.elementBuffer),e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.elementData,n.DYNAMIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.elementData),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer),e.needsResize?(n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.elementIndex,n.DYNAMIC_DRAW),e.needsResize=!1):n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,e.elementIndex),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null))}(t,r),r.needsResize=!1,l(r),function(t){n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer);var e=6*t.numOfLines+3*t.numOfArrowheads;e>0&&n.drawElements(n.TRIANGLES,e,n.UNSIGNED_INT,0)}(r),c()},finish:function(){Qv(n,e)}}}(l),f=function(t){var e,n=t;if(!n.arcShader){var r=Jv(n,"line-arc-vertex",n.VERTEX_SHADER),i=Jv(n,"line-fragment",n.FRAGMENT_SHADER);e=Kv(n,r,i),n.arcShader={vertexShader:r,fragmentShader:i,program:e}}e=n.arcShader.program;var o={position:n.getAttribLocation(e,"a_position"),radius:n.getAttribLocation(e,"a_radius"),startAngle:n.getAttribLocation(e,"a_startAngle"),endAngle:n.getAttribLocation(e,"a_endAngle"),width:n.getAttribLocation(e,"a_width"),colour:n.getAttribLocation(e,"a_colour"),colour2:n.getAttribLocation(e,"a_colour2"),core:n.getAttribLocation(e,"a_core"),type:n.getAttribLocation(e,"a_lineType"),shadowColour:n.getAttribLocation(e,"a_hitTestColour")},a={hitTest:n.getUniformLocation(e,"u_hitTest"),zoom:n.getUniformLocation(e,"u_zoom"),transform:n.getUniformLocation(e,"u_transform"),resolution:n.getUniformLocation(e,"u_resolution"),shadowType:n.getUniformLocation(e,"u_shadowType"),gradientStartFraction:n.getUniformLocation(e,"u_gradientStartFraction"),time:n.getUniformLocation(e,"u_time"),adaptiveStyling:n.getUniformLocation(e,"u_adaptiveStyling")};function s(t,e,r,i,o,s,u,l){n.uniform3f(a.resolution,e,r,i),n.uniformMatrix4fv(a.transform,!1,t.get()),n.uniform1f(a.hitTest,o?1:0),n.uniform1f(a.zoom,t.getZoomLevel()),n.uniform1f(a.shadowType,s),n.uniform1f(a.adaptiveStyling,u&&u.zoom&&u.zoom.adaptiveStyling?1:0);var c=0;o||(c=(1-u.linkStyle.transition)/2),n.uniform1f(a.gradientStartFraction,c),n.uniform1f(a.time,l)}function u(t){var e=t.arcBuffers;n.bindBuffer(n.ARRAY_BUFFER,e.colourBuffer),(t.alwaysUpdate||t.rebuildOptions.all)&&(e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.colourData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.colourData)),n.enableVertexAttribArray(o.colour),n.enableVertexAttribArray(o.colour2),n.vertexAttribPointer(o.colour,4,n.UNSIGNED_BYTE,!1,Hm,0),n.vertexAttribPointer(o.colour2,4,n.UNSIGNED_BYTE,!1,Hm,4)}function l(t){var e=t.arcBuffers;n.bindBuffer(n.ARRAY_BUFFER,e.shadowBuffer),(t.alwaysUpdate||t.rebuildOptions.all)&&(e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.shadowData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.shadowData)),n.enableVertexAttribArray(o.shadowColour),n.enableVertexAttribArray(o.type),n.vertexAttribPointer(o.shadowColour,3,n.UNSIGNED_BYTE,!1,Xm,0),n.vertexAttribPointer(o.type,1,n.UNSIGNED_BYTE,!1,Xm,3)}function c(t){var e=t.arcBuffers;n.bindBuffer(n.ARRAY_BUFFER,e.coreBuffer),(t.alwaysUpdate||t.rebuildOptions.all)&&(e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.coreData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.coreData)),n.enableVertexAttribArray(o.core),n.vertexAttribPointer(o.core,3,n.FLOAT,!1,Um,0)}function f(t){var e=t.arcBuffers;n.bindBuffer(n.ARRAY_BUFFER,e.positionBuffer),(t.rebuildOptions.positions||t.alwaysUpdate||t.rebuildOptions.all)&&(e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.positionData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.positionData)),n.enableVertexAttribArray(o.position),n.enableVertexAttribArray(o.radius),n.enableVertexAttribArray(o.startAngle),n.enableVertexAttribArray(o.endAngle),n.enableVertexAttribArray(o.width),n.vertexAttribPointer(o.position,2,n.FLOAT,!1,Wm,0),n.vertexAttribPointer(o.radius,1,n.FLOAT,!1,Wm,8),n.vertexAttribPointer(o.startAngle,1,n.FLOAT,!1,Wm,12),n.vertexAttribPointer(o.endAngle,1,n.FLOAT,!1,Wm,16),n.vertexAttribPointer(o.width,1,n.FLOAT,!1,Wm,20)}return{drawItems:function(t,r,i,o,a,d,h,p){n.useProgram(e),s(r,i,o,a,d,0|t.shadowType,h,p),function(t){t.arcBuffers.positionBuffer||(t.arcBuffers.positionBuffer=n.createBuffer()),t.arcBuffers.colourBuffer||(t.arcBuffers.colourBuffer=n.createBuffer()),t.arcBuffers.shadowBuffer||(t.arcBuffers.shadowBuffer=n.createBuffer()),t.arcBuffers.coreBuffer||(t.arcBuffers.coreBuffer=n.createBuffer())}(t),u(t),l(t),f(t),c(t),t.arcBuffers.needsResize=!1,t.arcBuffers.totalnumOfVertices>0&&n.drawArrays(n.TRIANGLES,0,t.arcBuffers.totalnumOfVertices),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),n.bindBuffer(n.ARRAY_BUFFER,null)},finish:function(){Qv(n,e)}}}(l),d=function(t){var e,n=t,r=14*Float32Array.BYTES_PER_ELEMENT;if(!n.bezierShader){var i=Jv(n,"line-bezier-vertex",n.VERTEX_SHADER),o=Jv(n,"line-fragment",n.FRAGMENT_SHADER);e=Kv(n,i,o),n.bezierShader={vertexShader:i,fragmentShader:o,program:e}}e=n.bezierShader.program,n.getExtension("OES_element_index_uint");var a={p0:n.getAttribLocation(e,"a_p0"),p1:n.getAttribLocation(e,"a_p1"),p2:n.getAttribLocation(e,"a_p2"),p3:n.getAttribLocation(e,"a_p3"),width:n.getAttribLocation(e,"a_width"),flowVelocity:n.getAttribLocation(e,"a_flowVelocity"),colour:n.getAttribLocation(e,"a_colour"),colour2:n.getAttribLocation(e,"a_colour2"),core:n.getAttribLocation(e,"a_core"),type:n.getAttribLocation(e,"a_lineType"),shadowColour:n.getAttribLocation(e,"a_hitTestColour")},s={hitTest:n.getUniformLocation(e,"u_hitTest"),zoom:n.getUniformLocation(e,"u_zoom"),transform:n.getUniformLocation(e,"u_transform"),resolution:n.getUniformLocation(e,"u_resolution"),shadowType:n.getUniformLocation(e,"u_shadowType"),gradientStartFraction:n.getUniformLocation(e,"u_gradientStartFraction"),time:n.getUniformLocation(e,"u_time"),adaptiveStyling:n.getUniformLocation(e,"u_adaptiveStyling")};function u(t,e,r,i,o,a,u,l){n.uniform3f(s.resolution,e,r,i),n.uniformMatrix4fv(s.transform,!1,t.get()),n.uniform1f(s.hitTest,o?1:0),n.uniform1f(s.zoom,t.getZoomLevel()),n.uniform1f(s.shadowType,a),n.uniform1f(s.adaptiveStyling,u&&u.zoom&&u.zoom.adaptiveStyling?1:0);var c=0;o||(c=(1-u.linkStyle.transition)/2),n.uniform1f(s.gradientStartFraction,c),n.uniform1f(s.time,l)}function l(t){n.bindBuffer(n.ARRAY_BUFFER,t.elementBuffer),n.enableVertexAttribArray(a.p0),n.enableVertexAttribArray(a.p1),n.enableVertexAttribArray(a.p2),n.enableVertexAttribArray(a.p3),n.enableVertexAttribArray(a.width),n.enableVertexAttribArray(a.flowVelocity),n.enableVertexAttribArray(a.colour),n.enableVertexAttribArray(a.colour2),n.enableVertexAttribArray(a.core),n.enableVertexAttribArray(a.shadowColour),n.enableVertexAttribArray(a.type),n.vertexAttribPointer(a.p0,2,n.FLOAT,!1,r,0),n.vertexAttribPointer(a.p1,2,n.FLOAT,!1,r,8),n.vertexAttribPointer(a.p2,2,n.FLOAT,!1,r,16),n.vertexAttribPointer(a.p3,2,n.FLOAT,!1,r,24),n.vertexAttribPointer(a.width,1,n.FLOAT,!1,r,32),n.vertexAttribPointer(a.flowVelocity,1,n.FLOAT,!1,r,36),n.vertexAttribPointer(a.core,4,n.BYTE,!1,r,40),n.vertexAttribPointer(a.colour,4,n.UNSIGNED_BYTE,!1,r,44),n.vertexAttribPointer(a.colour2,4,n.UNSIGNED_BYTE,!1,r,48),n.vertexAttribPointer(a.shadowColour,3,n.UNSIGNED_BYTE,!1,r,52),n.vertexAttribPointer(a.type,1,n.UNSIGNED_BYTE,!1,r,55)}function c(){n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),n.bindBuffer(n.ARRAY_BUFFER,null)}return{drawItems:function(t,r,i,o,a,s,f,d,h){n.useProgram(e),c(),u(i,o,a,s,f,0|t.shadowType,d,h),function(t){t.elementBuffer||(t.elementBuffer=n.createBuffer()),t.indexBuffer||(t.indexBuffer=n.createBuffer())}(r),function(t,e){(t.alwaysUpdate||t.rebuildOptions.all||t.rebuildOptions.positions)&&(n.bindBuffer(n.ARRAY_BUFFER,e.elementBuffer),e.needsResize?n.bufferData(n.ARRAY_BUFFER,e.elementData,n.DYNAMIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,e.elementData),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer),e.needsResize?(n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.elementIndex,n.DYNAMIC_DRAW),e.needsResize=!1):n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,e.elementIndex),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null))}(t,r),r.needsResize=!1,l(r),function(t){n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer);var e=t.totalnumOfVertices+3*t.numOfArrowheads;e>0&&n.drawElements(n.TRIANGLES,e,n.UNSIGNED_INT,0)}(r),c()},finish:function(){Qv(n,e)}}}(l),h=function(t){var e,n=t.gl,r=4*Float32Array.BYTES_PER_ELEMENT,i=9*Float32Array.BYTES_PER_ELEMENT,o=4*Uint8Array.BYTES_PER_ELEMENT,a=4*Uint8Array.BYTES_PER_ELEMENT;if(!n.triangleShader){var s=Jv(n,"triangle-vertex",n.VERTEX_SHADER),u=Jv(n,"triangle-fragment",n.FRAGMENT_SHADER);e=Kv(n,s,u),n.triangleShader={vertexShader:s,fragmentShader:u,program:e}}e=n.triangleShader.program;var l={transform:n.getUniformLocation(e,"u_transform"),textures:n.getUniformLocation(e,"u_image[0]"),resolution:n.getUniformLocation(e,"u_resolution"),hitTest:n.getUniformLocation(e,"u_hitTest"),shadowType:n.getUniformLocation(e,"u_shadowType"),zoom:n.getUniformLocation(e,"u_zoom"),anchorTexture:n.getUniformLocation(e,"u_anchorTexture"),anchorTextureSize:n.getUniformLocation(e,"u_anchorTextureSize"),useAnchor:n.getUniformLocation(e,"u_useAnchor"),viewIndependent:n.getUniformLocation(e,"u_viewIndependent"),adaptiveStyling:n.getUniformLocation(e,"u_adaptiveStyling")},c={position:n.getAttribLocation(e,"a_position"),anchor:n.getAttribLocation(e,"a_anchor"),startAngle:n.getAttribLocation(e,"a_startAngle"),endAngle:n.getAttribLocation(e,"a_endAngle"),circleRadius:n.getAttribLocation(e,"a_circleRadius"),width:n.getAttribLocation(e,"a_width"),colour:n.getAttribLocation(e,"a_colour"),textCoord:n.getAttribLocation(e,"a_texCoord"),vertexIndex:n.getAttribLocation(e,"a_vertexIndex"),shadowColour:n.getAttribLocation(e,"a_hitTestColour"),textureBank:n.getAttribLocation(e,"a_textureBank")};function f(t,e,n,r){var i,o;for(i=0,o=t.atlases.length;i<o;i++)g(t.atlases[i],i);for(e&&g(e,3),i=0,o=n.length;i<o;i++)g(n[i],i+4);g(r,7)}function d(t){n.bindBuffer(n.ARRAY_BUFFER,t.triangleBuffers.shadowBuffer),(t.alwaysUpdate||t.rebuildOptions.all)&&(t.triangleBuffers.needsResize?n.bufferData(n.ARRAY_BUFFER,t.triangleBuffers.shadowData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,t.triangleBuffers.shadowData)),n.enableVertexAttribArray(c.shadowColour),n.enableVertexAttribArray(c.vertexIndex),n.vertexAttribPointer(c.shadowColour,3,n.UNSIGNED_BYTE,!1,a,0),n.vertexAttribPointer(c.vertexIndex,1,n.UNSIGNED_BYTE,!1,a,3)}function h(t){n.bindBuffer(n.ARRAY_BUFFER,t.triangleBuffers.textureBuffer),(t.alwaysUpdate||t.rebuildOptions.all)&&(t.triangleBuffers.needsResize?n.bufferData(n.ARRAY_BUFFER,t.triangleBuffers.textureData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,t.triangleBuffers.textureData)),n.enableVertexAttribArray(c.textCoord),n.enableVertexAttribArray(c.textureBank),n.enableVertexAttribArray(c.circleRadius),n.enableVertexAttribArray(c.startAngle),n.enableVertexAttribArray(c.endAngle),n.vertexAttribPointer(c.textCoord,4,n.FLOAT,!1,i,0),n.vertexAttribPointer(c.textureBank,2,n.FLOAT,!1,i,16),n.vertexAttribPointer(c.circleRadius,1,n.FLOAT,!1,i,24),n.vertexAttribPointer(c.startAngle,1,n.FLOAT,!1,i,28),n.vertexAttribPointer(c.endAngle,1,n.FLOAT,!1,i,32)}function p(t){n.bindBuffer(n.ARRAY_BUFFER,t.triangleBuffers.colourBuffer),(t.alwaysUpdate||t.rebuildOptions.all)&&(t.triangleBuffers.needsResize?n.bufferData(n.ARRAY_BUFFER,t.triangleBuffers.colourData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,t.triangleBuffers.colourData)),n.enableVertexAttribArray(c.colour),n.vertexAttribPointer(c.colour,4,n.UNSIGNED_BYTE,!1,o,0)}function v(t,e){n.bindBuffer(n.ARRAY_BUFFER,t.triangleBuffers.positionBuffer),(t.rebuildOptions.all||t.alwaysUpdate||t.rebuildOptions.positions&&e)&&(t.triangleBuffers.needsResize?n.bufferData(n.ARRAY_BUFFER,t.triangleBuffers.positionData,n.STATIC_DRAW):n.bufferSubData(n.ARRAY_BUFFER,0,t.triangleBuffers.positionData)),n.enableVertexAttribArray(c.position),n.enableVertexAttribArray(c.width),n.enableVertexAttribArray(c.anchor),n.vertexAttribPointer(c.position,2,n.FLOAT,!1,r,0),n.vertexAttribPointer(c.width,1,n.FLOAT,!1,r,8),n.vertexAttribPointer(c.anchor,1,n.FLOAT,!1,r,12)}function g(t,e){if(n.activeTexture(n["TEXTURE"+e]),!t.texture||t.rebuild){if(t.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,t.texture),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),t.data)n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texImage2D(n.TEXTURE_2D,0,n.LUMINANCE,t.size,t.size,0,n.LUMINANCE,n.FLOAT,t.data),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),t.data=void 0;else{var r=t.alphaChannel?n.RGBA:n.RGB;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,r,r,n.UNSIGNED_BYTE,t.img),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),t.img=void 0}t.rebuild=!1}else n.bindTexture(n.TEXTURE_2D,t.texture)}function m(t,e,r,i,o,a,s,u,c,f){n.uniform3f(l.resolution,e,r,i),n.uniform1f(l.hitTest,o?1:0),n.uniform1iv(l.textures,[0,1,2,3,4,5,6]),n.uniformMatrix4fv(l.transform,!1,t.get()),n.uniform1f(l.shadowType,a),n.uniform1f(l.zoom,t.getZoomLevel()),n.uniform1f(l.viewIndependent,c?0:1),n.uniform1i(l.anchorTexture,7),n.uniform1f(l.anchorTextureSize,s.size),n.uniform1i(l.useAnchor,u?1:0),n.uniform1f(l.adaptiveStyling,f&&f.zoom&&f.zoom.adaptiveStyling?1:0)}return{drawItems:function(t,r,i,o,a,s,u,l,c,g,y,b,x){n.useProgram(e),m(r,s,u,l,c,0|t.shadowType,g,y,t.useView,x),function(t){t.triangleBuffers.positionBuffer||(t.triangleBuffers.positionBuffer=n.createBuffer()),t.triangleBuffers.textureBuffer||(t.triangleBuffers.textureBuffer=n.createBuffer()),t.triangleBuffers.colourBuffer||(t.triangleBuffers.colourBuffer=n.createBuffer()),t.triangleBuffers.shadowBuffer||(t.triangleBuffers.shadowBuffer=n.createBuffer())}(t),d(t),h(t),p(t),v(t,b),t.triangleBuffers.needsResize=!1,f(i,o,a,g);var w=3*t.triangleBuffers.numOfTriangles;w>0&&n.drawArrays(n.TRIANGLES,0,w)},finish:function(){Qv(n,e)}}}(t),p=function(t){var e,n=t;if(!n.rttShader){var r=Jv(n,"renderToTexture-vertex",n.VERTEX_SHADER),i=Jv(n,"renderToTexture-fragment",n.FRAGMENT_SHADER);e=Kv(n,r,i),n.rttShader={vertexShader:r,fragmentShader:i,program:e}}e=n.rttShader.program;var o=new Float32Array([-1,-1,0,0,1,-1,1,0,-1,1,0,1,-1,1,0,1,1,-1,1,0,1,1,1,1]),a=n.createBuffer(),s={position:n.getAttribLocation(e,"a_position"),textCoord:n.getAttribLocation(e,"a_texCoord")},u={globalAlpha:n.getUniformLocation(e,"u_globalAlpha"),backgroundColour:n.getUniformLocation(e,"u_backgroundColour"),textures:n.getUniformLocation(e,"u_image")};function l(t){var e=4*Float32Array.BYTES_PER_ELEMENT;n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW),n.enableVertexAttribArray(s.position),n.enableVertexAttribArray(s.textCoord),n.vertexAttribPointer(s.position,2,n.FLOAT,!1,e,0),n.vertexAttribPointer(s.textCoord,2,n.FLOAT,!1,e,8)}return{drawItems:function(t,r,i,a){n.useProgram(e),function(t,e){void 0===e&&(e=new Uint8Array([0,0,0,0])),n.uniform1f(u.globalAlpha,t),n.uniform4f(u.backgroundColour,e[0],e[1],e[2],e[3])}(t,a),l(i||o),function(t,e){n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t)}(r),n.drawArrays(n.TRIANGLES,0,6)},finish:function(){Qv(n,e)}}}(l),v=null,g=new Uint8Array(4),m=l.getParameter(l.MAX_RENDERBUFFER_SIZE);function y(t){l.deleteFramebuffer(t.framebuffer),l.deleteRenderbuffer(t.renderbuffer),l.deleteTexture(t.texture)}function b(){Bt(t.framebuffers).forEach(y),t.framebuffers={},u=t.framebuffers}function x(t){t&&(Array.isArray(t)?t.forEach(R):R(t))}var w={data:new Float32Array(4),size:2,rebuild:!1};function A(e,u,c,f,d,h,p,v,g,m){n=s.clientWidth,r=s.clientHeight,a=g;var y=s.width/n;i=l.drawingBufferWidth,o=l.drawingBufferHeight;var b=t.layersToDraw,x=S(e),A=performance.now();t.view=e,a&&(m.positions||m.all)&&(w.rebuild=!0,w.size=v.getTextureSize(),w.data=v.getData()),0===d.length&&(d.push(k()),d.push(k()),d.push(k()));var C=!1,L=h._showShadowCanvas;P(),l.viewport(0,0,l.drawingBufferWidth,l.drawingBufferHeight),l.clear(l.COLOR_BUFFER_BIT);for(var T=0,R=b.length;T<R;T++){var B=b[T];h.overview&&h.overview.shown&&B.blatOverview&&u?_(u,c,f,d,h,A):(p&&!B.useView||(B.drawFramebuffer&&(C=!0),E(B.drawFramebuffer),I(B,x,n,r,y,c,f,d,h._showShadowCanvas,h,A),O(B)),B.useFramebuffer&&C&&(C=!1,P(),M(B.useFramebuffer,L?1:B.fbAlpha),E(B.useFramebuffer),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT)))}!function(){for(var t=0;t<8;t++)l.activeTexture(l["TEXTURE"+t]),l.bindTexture(l.TEXTURE_2D,null)}()}function _(e,i,o,a,u,c){n=s.clientWidth;var f=s.width/n,d=e.width(),h=e.height(),p=S(e);E("overview",d*f,h*f);var v="dark"===u.controlTheme&&u.backColour?Cn(u.backColour):[255,255,255,255],g=Cn(u.overview.backColour)||v;g[3]=255;var m=new Uint8Array(g);l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT);for(var y=t.layersToDraw,b=0,x=y.length;b<x;b++){var w=y[b];w.overview&&I(w,p,d,h,f,i,o,a,u._showShadowCanvas,u,c)}E(null);var A=function(t,e,n,r,i){var o,a=1-t/n*2,s=1-e/r*2;switch(i.overview.p){case"ne":o=new Float32Array([a,s,0,0,1,s,1,0,a,1,0,1,a,1,0,1,1,s,1,0,1,1,1,1]);break;case"nw":o=new Float32Array([-1,s,0,0,-a,s,1,0,-1,1,0,1,-1,1,0,1,-a,s,1,0,-a,1,1,1]);break;case"sw":o=new Float32Array([-1,-1,0,0,-a,-1,1,0,-1,-s,0,1,-1,-s,0,1,-a,-1,1,0,-a,-s,1,1]);break;default:o=new Float32Array([a,-1,0,0,1,-1,1,0,a,-s,0,1,a,-s,0,1,1,-1,1,0,1,-s,1,1])}return o}(d,h,n,r,u);M("overview",1,A,m),M("overview",1,A)}function k(){var t={alphaChannel:!1,img:g,rebuild:!1,size:0,texture:C()};return l.texImage2D(l.TEXTURE_2D,0,l.RGBA,1,1,0,l.RGBA,l.UNSIGNED_BYTE,g),t}function C(){var t=l.createTexture();return l.bindTexture(l.TEXTURE_2D,t),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!1),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),t}function E(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=u[t]||null,i=l.RGBA,o=Math.max(1,e||l.drawingBufferWidth),a=Math.max(1,n||l.drawingBufferHeight),s=Math.min(m,o),c=Math.min(m,a),f=!1;if(!r||r.bufferHeight===n&&r.bufferWidth===e||(y(r),f=!0),t&&(!r||f)){r={framebuffer:l.createFramebuffer(),renderbuffer:l.createRenderbuffer(),texture:C(),bufferHeight:n,bufferWidth:e},u[t]=r,"shadow"===t&&(i=l.RGB),l.texImage2D(l.TEXTURE_2D,0,i,s,c,0,i,l.UNSIGNED_BYTE,null),l.bindFramebuffer(l.FRAMEBUFFER,r.framebuffer),l.bindRenderbuffer(l.RENDERBUFFER,r.renderbuffer),l.clearColor(0,0,0,0),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_COMPONENT16,s,c),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,r.texture,0),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.RENDERBUFFER,r.renderbuffer);var d=l.checkFramebufferStatus(l.FRAMEBUFFER);if(l.FRAMEBUFFER_COMPLETE!==d)throw new Error(d.toString())}!function(t){t?l.bindFramebuffer(l.FRAMEBUFFER,t.framebuffer):P()}(r),l.viewport(0,0,s,c)}function M(t,e,n,r){var i;u[t]&&(i=u[t].texture),p.drawItems(e,i,n,r)}function S(t){return t?{panX:t.offsetXtoWebglPanX(),panY:t.offsetYtoWebglPanY(),zoom:t.getZoomScale()}:{panX:0,panY:0,zoom:1}}function I(t,e,n,r,i,o,a,s,u,l,c){!function(t,e,n,r){v=function(){var t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),e=1;return{get:function(){return t},getZoomLevel:function(){return e},pan:function(e,n){t[12]+=t[0]*e+t[4]*n,t[13]+=t[1]*e+t[5]*n,t[14]+=t[2]*e+t[6]*n,t[15]+=t[3]*e+t[7]*n},zoom:function(n){e=n,t[0]*=n,t[4]*=n,t[8]*=1,t[1]*=n,t[5]*=n,t[9]*=1,t[2]*=n,t[6]*=n,t[10]*=1,t[3]*=n,t[7]*=n,t[11]*=1}}}(),t?(v.pan(e,n),v.zoom(r)):(v.pan(0,0),v.zoom(1))}(t.useView,e.panX,e.panY,e.zoom),L(t,t.lineBuffers,n,r,i,u,l,c),function(t,e,n,r,i,o,a){f.drawItems(t,v,e,n,r,i,o,a)}(t,n,r,i,u,l,c),function(t,e,n,r,i,o,a,s){d.drawItems(t,e,v,n,r,i,o,a,s)}(t,t.bezierBuffers,n,r,i,u,l,c),T(t,o,a,s,n,r,i,u,l)}function L(t,e,n,r,i,o,a,s){c.drawItems(t,e,v,n,r,i,o,a,s)}function T(t,e,n,r,i,o,s,u,l){h.drawItems(t,v,e,n,r,i,o,s,u,w,a,t.useAbsolutePosition,l)}function P(){l.bindFramebuffer(l.FRAMEBUFFER,null)}function O(t){t.rebuildOptions.positions=!1,t.rebuildOptions.all=!1}function R(t){t&&t.texture&&(l.deleteTexture(t.texture),t.texture=void 0,t.ctx=void 0,t.img=void 0)}return{finish:function(e){b(),f.finish(),d.finish(),c.finish(),h.finish(),t.imageAtlases.forEach((function(t){R(t)})),t.textAtlas&&x(t.textAtlas.atlases),R(t.fontIconAtlas),t.layersToDraw=[],t.allLayers=new Map,l.flush(),l.finish(),e&&(l.deleteProgram(l.arcShader.program),l.deleteProgram(l.lineShader.program),l.deleteProgram(l.rttShader.program),l.deleteProgram(l.triangleShader.program),Object.keys(t).forEach((function(e){delete t[e]}))),l=void 0,t.gl=void 0,c=void 0,f=void 0,d=void 0,h=void 0,p=void 0},isFloatingPointSupported:function(t){return!0!==t&&!!l.getExtension("OES_texture_float")},clearFramebuffers:b,clearTextureAtlas:x,render:A,drawShadowCanvas:function(a,u){n=s.clientWidth,r=s.clientHeight;var c=s.width/n;if(i=l.drawingBufferWidth,o=l.drawingBufferHeight,t.layersToDraw.length>0){var f=S(t.view),d=i/s.clientWidth,h=a*d,p=o-u*d;E("shadow"),l.viewport(0,0,l.drawingBufferWidth,l.drawingBufferHeight),l.clear(l.COLOR_BUFFER_BIT);for(var v=0,g=t.layersToDraw.length;v<g;v++)I(t.layersToDraw[v],f,n,r,c,t.textAtlas,t.fontIconAtlas,t.imageAtlases,!0,null,0);h>=0&&p>=0&&h<i&&p<o?l.readPixels(h,p,1,1,l.RGBA,l.UNSIGNED_BYTE,e):e=new Uint8Array([0,0,0,0]),l.clear(l.COLOR_BUFFER_BIT),P()}return e},getPixels:function(t,e,n,r,i,o,a,s,u){P(),l.clearColor(1,1,1,1),A(t,e,n,r,i,o,a,s,u,{all:!0});var c=new Uint8Array(l.drawingBufferWidth*l.drawingBufferHeight*4);return l.readPixels(0,0,l.drawingBufferWidth,l.drawingBufferHeight,l.RGBA,l.UNSIGNED_BYTE,c),c}}}function Jm(t,e,n){var r=null,i=null,o=null,a=null;function s(){r=function(t,e){return{canvas:t,layersToDraw:[],textAtlas:null,fontIconAtlas:null,imageAtlases:[],allLayers:new Map,framebuffers:{},alpha:{background:1,ghost:1},stringSplitter:e,imageList:null}}(t,n),i=function(t,e){for(var n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$\xa31234567890() ",r=new Map,i={},o=0,a=n.length;o<a;o++)i[n[o]]=!0;function s(t,e){for(var n=!1,o=!1,a=0,s=t.length;a<s;a++){var u=t[a];r.get(u)?n=!0:o=!0,i[u]||(i[u]=!0)}n&&(e.imageAtlas=!0),o&&(e.textAtlas=!0)}return{getNonEmojiGlyphs:function(){return Object.keys(i).filter((function(t){return!r.get(t)}))},getGlyphsFromText:function(n,i,o,a,u,l,c){var f,d,h,p,v,g,m=Ne(t.unicodeAwareCharacters(n),n,l).result,y=!1,b={},x=[],w=c.getGlyphInfoForFont(i||o),A=0;for(h=0,p=m.length;h<p;h++)d=f=m[h].text,r.has(f)||r.set(f,ue(f)),r.get(f)?(g=e.has(f),v=e.getEmojiImage(f)):(a&&(d+="B"),g=!!(v=w[d])),g?x[A++]=v:(b[f]=!0,y=!0);return y&&s(Object.keys(b),u),x}}}(n,e),o=Km(r,i,e),a=Qm(r),e.resetUpdatedImages()}function u(t){return a.isFloatingPointSupported(t)}return s(),{build:function(t,e,n){var i=function(t,e,n,r){var i,o=n.all;n.all?(i=[],e.layersToDraw.length=0):i=e.layersToDraw.slice();var a={alwaysUpdate:!1,bg:!1,blatOverview:!1,drawFramebuffer:"",fbAlpha:0,id:"",numOfPrimitives:0,overview:!1,primitives:[],shadowType:0,useFramebuffer:"",useView:!1},s=null;return t.forEach((function(t){a.primitives[a.numOfPrimitives++]=t}),(function(t,o){n.all?(o.bg&&a&&!t.bg&&(a.useFramebuffer=s,s=null),a={id:t.path,blatOverview:t.blatOverview,shadowType:t.shadowType,overview:t.overview,useView:t.useView,alwaysUpdate:t.alwaysUpdate,bg:t.bg,fbAlpha:r.backgroundAlpha,primitives:[],numOfPrimitives:0,drawFramebuffer:"",useFramebuffer:""},t.bg&&(o.bg&&(s="bg"),a.drawFramebuffer=s),i.push(a)):(a=e.allLayers.get(t.path)).numOfPrimitives=0}),!o,!1),s&&(a.useFramebuffer=s,s=null),i}(t,r,e,n);o.generate(i,e,n,a)},clearFramebuffers:function(){a.clearFramebuffers()},destroy:function(){a.finish(!0),a=null,o=null,i=null,r=null},draw:function(t,e,n,i,o,s){a.render(t,e,r.textAtlas,r.fontIconAtlas,r.imageAtlases,n,i,o,u(n._rendering.disableFloatTexture),s)},drawShadowCanvas:function(t,e){return a.drawShadowCanvas(t,e)},getPixels:function(t,e,n,i,o){return a.getPixels(t,e,r.textAtlas,r.fontIconAtlas,r.imageAtlases,n,i,o,u(n._rendering.disableFloatTexture))},isFloatingPointSupported:u,setAlpha:function(t,e){r&&(r.alpha.ghost=t,r.alpha.background=e)},shutdownAndReset:function(){a.finish(),s()},updateTextures:function(t){o.updateImageTextures(a,t),e.imagesUpdated()}}}var qm=8888;function $m(t,e,n,r,i,o){var a,s,u=Cp(Op,!1,r),l=ua(),c=t.id,f=t.containerElement,d=void 0!==f,h=t.type;d||(a=t.elementToReplace);var p=!1;function v(t,e,n){var r,o=document.createElement("canvas");return n&&p&&(o.dir="rtl",document.body.appendChild(o),o.style.display="none"),r=i?document.createElement("canvas").getContext("2d"):o.getContext("2d"),o.context2d=r,o.height=e,o.width=t,o}(f||a)&&(p=$(f||a));var g=v(e,n,!0);g.style.display="block";var m=g.context2d;g.setAttribute("id",c);var y=null;if(i&&"chart"===h&&(rg()||o)&&(y=Jm(g,u,l),g.webgl=!0),o&&!y)throw new Error("WebGL Failed to start");f?f.appendChild(g):d||(a.style.display="block",a.parentNode.replaceChild(g,a)),g.canvas=!0;var b=g;g.webgl?(m.webgl=!0,m.webglCanvas=g):m.webgl=!1,lr(g,m,i,!!f),function(){if(!Dn.minimumFontChecked){for(var t=v(100,100).context2d,e=!1,n=function(e){return Fn(t,e),t.measureText("Hello").width},r=n(1),i=2;!e&&i<30;)(e=r!==n(i))&&jn(i-1),i++;!function(t){Dn.minimumFontChecked=t}(!0)}}();var x=b.getAttribute("style")||"";x+="touch-action: none; outline: none;",b.setAttribute("style",x),b.setAttribute("tabindex",""+qm++);var w={id:function(){return c},privateGetContainer:function(){return f},privateGetElement:function(){return g},privateGetWebGLRenderer:function(){return y},privateInternalSetSize:function(t,e){"privateMapSetSize"in _.api&&_.api.privateMapSetSize(t,e),b.width=t,b.height=e;var n=f&&_.api.privateUseAutoSizing();lr(b,m,i,!!n),_.api.privateSetSize(m,t,e,!!n)},privateSetContainer:function(t){(f=t)&&(p=$(f))}},A="chart"===h?Wv(0,u,w,y,l):Jg(c,u,w),_=A.internal,k=function(t,e){function n(){return arguments[0]===iy?e:Object.prototype.toString()}return n.toString=function(){return{}.toString.toString()},Object.defineProperty(t,"toString",{value:n,enumerable:!1})}(A.public,_.api);function C(t,e,n){return t-parseFloat(e)-parseFloat(n)}function E(){if(b.parentElement){if(f){var t=f.clientWidth,e=f.clientHeight,n=window.getComputedStyle(f),r=n.paddingLeft,i=n.paddingRight,o=n.paddingTop,a=n.paddingBottom;if(t=C(t,r,i),e=C(e,o,a),t=Math.max(0,t),e=Math.max(0,e),dt(t)&&dt(e)){var u=t*devicePixelRatio,l=e*devicePixelRatio;b._currentWidth===u&&b._currentHeight===l||(b._currentWidth=u,b._currentHeight=l,Ay(b,t,e))}}try{_.api.update()}finally{s=at(E)}}}return _.api.privateInit(m,e,n,v,(function(t){var e=g;"map"in _.api&&_.api.map().isShown()&&(e=_.api.privateGetMapContainer()),e.style.cursor=t}),Op,(function(){st(s),s=at(E)})),_.api.privateOn("forceRedraw",(function(t){_.api.privateFire("redraw",t),_.api.update()})),s=at(E),{element:g,publicApi:k,privateApi:_.api}}var ty=!1;try{var ey=Object.defineProperty({},"passive",{get:function(){return ty=!0,!1}});window.addEventListener("test",ey,ey),window.removeEventListener("test",ey,ey)}catch(Q){ty=!1}function ny(t,e,n,r){var i=r||!1;ty?t.addEventListener(e,n,{capture:i,passive:!1}):t.addEventListener(e,n,i)}function ry(t,e){return function(t,e){var n=function(t){var e={top:0,left:0};return t&&(e=t.getBoundingClientRect()),{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}(e);return{x:Math.floor(t.pageX-n.left),y:Math.floor(t.pageY-n.top)}}(t,e)}var iy="ggwp",oy={},ay={},sy="";var uy="auto";function ly(t){return t&&(uy=t),uy}function cy(t){throw fy(t)}function fy(t){return new Error('Cannot create KeyLines component. No element with id "'+t+'" exists in the DOM')}function dy(t,e){xt(e,fy(t))}function hy(t){return+t.replace(/px$/,"")}var py,vy={chart:0,timebar:0};function gy(t){return"object"==typeof t&&null!==t&&("object"==typeof HTMLElement&&t instanceof HTMLElement||1===t.nodeType)}function my(t){vy[t]++;var e="KeyLines-"+t+"-"+vy[t];return oy[e]||document.getElementById(e)?my(t):e}function yy(t,e,n,r){!function(t){t in oy&&delete oy[t]}(t.id);var i=e||100,o=n||100,a="force-webgl"===uy;if("canvas"!==uy&&"chart"===t.type&&(rg()||a))try{wy(t,i,o,!0,a,r)}catch(e){if(a)throw e;tg=!0,wy(t,i,o,!1,!1,r)}else xy()?wy(t,i,o,!1,!1,r):r("Could not create HTML5 canvas.")}function by(t){return t&&(sy=t),sy}function xy(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}function wy(t,e,n,r,i,o){var a=t.id;try{var s=$m(t,e,n,sy,r,i);oy[a]=s.publicApi,ay[a]=s.privateApi,s.privateApi.privateSetRemoveComponentReference((function(){delete oy[a],delete ay[a]}))}catch(t){if(o)return void o(t)}oy[a].webgl=r,oy[a].canvas=!0,o&&o(null,oy[a])}function Ay(t,e,n){if(!dt(e)||!dt(n))throw new Error("KeyLines.setSize: Invalid width or height value passed. Both parameters should be numbers.");var r=t.id,i=ay[r];if(i){i.privateCanvasApi.privateInternalSetSize(e,n);var o=i.privateCanvasApi.privateGetWebGLRenderer();o&&o.clearFramebuffers()}}function _y(t){return t&&t.images&&by(t.images),{images:sy}}function ky(){return function(t){for(var e=Et,n=0;n<t.length;n++)if(e(document[t[n]]))return!!document[t[n]];return!1}(["webkitIsFullScreen","mozFullScreen","msFullscreenElement","fullScreenElement"])}function Cy(t,e){for(var n,r=0;!n&&r<e.length;r++)t[e[r]]&&(n=!0,t[e[r]]())}"undefined"!=typeof document&&function(t,e){for(var n=0;n<t.length;n++)ny(document,t[n],e)}(["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"],(function(){py&&requestAnimationFrame((function(){py(ky())}))}));var Ey,My,Sy="undefined"!=typeof window?window:t,Iy="",Ly=!1,Ty=["create"],Py=["arrange","createLink","filter","foreground","range","animateProperties","expand","export","hide","layout","load","merge","options","pan","ping","setItem","setProperties","show","toDataURL","viewOptions","zoom"],Oy=["combo","getGraphEngine","graph","map"],Ry=["arrange","betweenness","close","closeness","combine","hide","transfer","open","options","show","uncombine"];function By(t,e,n){if(Ly||(Ey=Sy.Promise,My=Ey),n&&(Iy=n),null==My&&!Ey&&!t)throw Error("[promisify] There's no valid Promise constructor available. It is not possible to promisify.");if(!function(t){var e=t||Ey,n=void 0!==e&&"resolve"in e&&"reject"in e;try{new e((function(t){n=n&&"function"==typeof t}))}catch(t){throw new Error("You must pass a valid promise constructor")}return n}(t))throw Error("[promisify] Promise constructor not valid. Please use a valid Promise implementation.");Ey=t||My,Ly||(zy(e,Ty,Oy),Bt(e.components||{}).forEach((function(t){zy(t,Py,Oy)}))),Ly=!0}function zy(t,e,n){return e.forEach((function(e){t[e]&&(t[e+Iy]=Dy(t[e],e,"create"===e))})),n&&n.forEach((function(e){t[e]&&(t[e+Iy]=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(void 0,n),o={},a=jt(e);return Object.keys(i).forEach((function(t){t in a?o[t+Iy]=Dy(i[t],t):o[t]=i[t]})),o}}(t[e],Ry))})),t}function Dy(t,e,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=Math.max(0,t.length-1);return jy(e,r)?t.apply(void 0,r):new Ey((function(e,i){r.length===t.length&&vt(r[o])&&(r.pop(),ct("A callback has been passed, but the function will return a Promise instead")),r[o]=n?function(t,n){if(t)return i(t);var r=Array.isArray(n),o=(r?n:[n]).map((function(t){return zy(t,Py,Oy)}));return e(r?o:o[0])}:e,t.apply(void 0,r)}))}}function jy(t,e){return!(!/options$/i.test(t)||!It(e[0]))||"range"===t&&!e.length}var Fy={charts:oy,createChart:function(){for(var t,e,n,r,i,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];switch(o.length){case 0:throw new Error("createChart called with zero arguments");case 1:case 2:if(t=o[0],r=o[1],!(i=document.getElementById(t)))return void dy(t,r);e=i.clientWidth,n=i.clientHeight;break;default:if(t=o[0],e=+o[1],n=+o[2],r=o[3],!(i=document.getElementById(t)))return void dy(t,r)}yy({id:t,type:"chart",options:void 0,elementToReplace:i,containerElement:void 0},e,n,r)},imageBasePath:by,setCanvasPaths:function(){},promisify:function(t,e){return By(t,this,e)},components:oy,coords:function(t){return ry(t,document.getElementById(t.target.id))},create:function(t,e){var n=Array.isArray(t),r=_t(t),i=r.every((function(t){return function(t){return It(t)||"chart"===t||"timebar"===t}(t.type)}));r.length<1?xt(e,Error("No definition passed to KeyLines.create")):i?function t(r,i,o){var a;try{a=function(t){var e,n=t.type?t.type:"chart",r=void 0!==t.container,i="string"==typeof t&&t||t.id||!r&&t.element&&t.element.id||my(n);if(r){if(oy[i])throw new Error("Component with id: "+i+" already exists");var o=t.container;if("string"==typeof o){if(!(e=document.getElementById(o)))throw new Error("Container not found, "+t.container)}else{if(null!==o&&!o.parentNode)throw new Error("Container not found, "+t.container);e=o}}if(!r){if(gy(t.element)&&t.id)throw new Error("Cannot pass a DOM element and an id to create, please pass only one.");if(t.element&&!gy(t.element))throw new Error("You must pass a DOM element to the components element property.")}var a={id:i,type:n,options:t.options,containerElement:e,elementToReplace:null};return gy(t)?(n="chart",a.type=n,a.elementToReplace=t,a.elementToReplace.id=i):gy(t.element)&&(a.elementToReplace=t.element,a.elementToReplace.id=i),a.elementToReplace&&!a.elementToReplace.parentNode&&cy(),a.elementToReplace||r||(a.elementToReplace=document.getElementById(i),a.elementToReplace||cy(i)),a}(r[i])}catch(r){return void xt(e,r)}!function(t,e){var n,r,i=t.containerElement||t.elementToReplace,o=t.options;function a(t){e&&at((function(){e(null,t)}))}i&&(n=i.clientWidth||hy(i.style.width),r=i.clientHeight||hy(i.style.height)),yy(t,n,r,(function(n,r){n?xt(e,n):o?r.options(t.options,(function(){a(r)})):a(r)}))}(a,(function(a,s){a?xt(e,a):(o.push(s),r[i+1]?t(r,i+1,o):e&&e(null,n?o:o[0]))}))}(r,0,[]):xt(e,Error("The type of component passed to KeyLines.create is not valid"))},dashedLineSupport:function(){if(xy()){var t=document.createElement("canvas").getContext("2d");return!!t.setLineDash||!!t.mozDash||!!t.webkitLineDash}return!1},fullScreenCapable:function(){var t=Et;return!!t(document.webkitCurrentFullScreenElement)||!!t(document.mozFullScreenElement)||!!t(document.msFullscreenEnabled)&&document.msFullscreenEnabled},getFontIcon:function(t,e){if("number"==typeof t&&wt(t))return t;var n=$n();e?document.getElementById(e).appendChild(n):document.body.appendChild(n);var r=t.replace(/\./g,"");n.className!==r&&(n.className=r);var i=window.getComputedStyle(n,":before").getPropertyValue("content");return n.parentNode&&n.parentNode.removeChild(n),n.className="",i.charCodeAt(1)||i.charCodeAt(0)},getGraphEngine:function(t){var e=xr(),n=Cf(tf(),e),r=Ct(t,{selfLinks:!1}),i=va({numbers:{x:!0,y:!0},strings:{id:!0,id1:!0,id2:!0},booleans:{hi:!0,a1:!0,a2:!0}}),o={load:function(t){return function(e){var n=et(e);i.typeCheck(n);var o=i.filterNodesAndLinks(n.items,{},{},{selfLinks:r.selfLinks,filterComboNodes:!0});i.ensureHiddenItemConsistency(o.nodes,o.links),q(o.nodes,(function(t){delete t.parentId})),q(o.links,(function(t){delete t.parentId})),t.privateSetProperties(o.nodes,o.links)}}(n),clear:function(t){return function(){var e={};t.privateSetProperties(e,e)}}(n)};return ar(ar({},n),o)},mode:ly,info:function(){var t={account:"Licensed to Ceibo Digital  expires on Sun Jan 30 2022",eventErrors:{},isUsingWebGL:{},mode:ly(),options:{},paths:et(_y()),version:""};return Object.keys(oy).forEach((function(e){var n,r=oy[e],i=r.toString(iy);t.eventErrors[e]=null!==(n=null==i?void 0:i.getErrors())&&void 0!==n?n:[],t.isUsingWebGL[e]=!!r.webgl,t.options[e]=r.options()})),"undefined"!=typeof navigator&&(t.platform=navigator.platform,t.userAgent=navigator.userAgent),"undefined"!=typeof window&&(t.url=document.location.href,t.webgl=function(){var t=Hv({failIfMajorPerformanceCaveat:!1});return t?qv(t):{}}()),t},paths:_y,setSize:function(t,e,n){var r=gy(t)?t:document.getElementById(t);if(!r)throw new Error("You must pass a valid id or DOM element.");var i=Math.round(e),o=Math.round(n);if(!(i<=0||o<=0)){var a=r.id,s=ay[a];if(s){if(void 0!==s.privateCanvasApi.privateGetContainer())throw new Error("KeyLines.setSize cannot be used on components created with the container property, the component will automatically resize to fill its container.");Ay(r,e,n)}else r.style.width=e+"px",r.style.height=n+"px"}},toggleFullScreen:function(t,e){py=e,ky()&&function(t){var e=Et;return e(document.webkitCurrentFullScreenElement)?document.webkitCurrentFullScreenElement===t:e(document.mozFullScreenElement)?document.mozFullScreenElement===t:!!e(document.msFullscreenElement)&&document.msFullscreenElement===t}(t)?Cy(document,["cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen"]):function(t){Cy(t,["requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen"])}(t)},webGLSupport:rg,Rendering:{mainChannel:function(){return On}}};function Zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zy(Object(n),!0).forEach((function(e){Uy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vy(t){return(Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wy(t,e,n){return e&&Yy(t.prototype,e),n&&Yy(t,n),t}function Uy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xy(){return(Xy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Hy(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qy(t,e)}function Ky(t){return(Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qy(t,e){return(Qy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(q){return!1}}function qy(t,e,n){return(qy=Jy()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Qy(i,n.prototype),i}).apply(null,arguments)}function $y(t){var e="function"==typeof Map?new Map:void 0;return($y=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return qy(t,arguments,Ky(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Qy(r,t)})(t)}function tb(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nb(t){var e=Jy();return function(){var n,r,i=Ky(t);if(e){var o=Ky(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return!(r=n)||"object"!=typeof r&&"function"!=typeof r?eb(this):r}}function rb(t,e,n){return(rb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ky(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ib(t,e){return sb(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||lb(t,e)||fb()}function ob(t){return sb(t)||ub(t)||lb(t)||fb()}function ab(t){return function(t){if(Array.isArray(t))return cb(t)}(t)||ub(t)||lb(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sb(t){if(Array.isArray(t))return t}function ub(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function lb(t,e){if(t){if("string"==typeof t)return cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cb(t,e):void 0}}function cb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fb(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var db=c(["_logo","_zoomIn","_zoomOut","_panLeft","_panRight","_panUp","_panDown","_fitToWindow","_toggleMode","_scale","_slider","_overviewIcon","_overviewBox","_overviewBorder1","_overviewBorder2","_overviewBoxDragging","_overviewIcon","_overviewIconRect"]),hb=c(["standard","organic","tweak"]),pb=c(["lens","tweak"]),vb=c(["organic","standard"]),gb=c(["sequential"]),mb={openStyle:{}};function yb(t,e){if(void 0!==window.__REGRAPH_DEV_TOOLS_GLOBAL_HOOK__){var n=window.__REGRAPH_DEV_TOOLS_GLOBAL_HOOK__[t];"function"==typeof n&&n(e)}}function bb(t,e,n){return{x1:t.x1+e,x2:t.x2-e,y1:t.y1+n,y2:t.y2-n}}function xb(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t||!e)return!1;var i=bb(t,n,r);return e.x1>i.x1&&e.x1<i.x2&&e.x2>i.x1&&e.x2<i.x2&&e.y1>i.y1&&e.y1<i.y2&&e.y2>i.y1&&e.y2<i.y2}function wb(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(null==t||null==e)return!1;var i=bb(t,n,r);return(e.x1>i.x1&&e.x1<i.x2||e.x2>i.x1&&e.x2<i.x2)&&(e.y1>i.y1&&e.y1<i.y2||e.y2>i.y1&&e.y2<i.y2)}var Ab={aqua:"rgb(0, 255, 255)",black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",fuchsia:"rgb(255, 0, 255)",green:"rgb(0, 128, 0)",grey:"rgb(128, 128, 128)",gray:"rgb(128, 128, 128)",lime:"rgb(0, 255, 0)",maroon:"rgb(128, 0, 0)",navy:"rgb(0, 0, 128)",olive:"rgb(128, 128, 0)",orange:"rgb(255,165,0)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",silver:"rgb(192, 192, 192)",teal:"rgb(0, 128, 128)",yellow:"rgb(255, 255, 0)",white:"rgb(255, 255, 255)"},_b=/^#(?:[A-Fa-f0-9]{3}){1,2}$/i,kb=/^(?:rgb)?\(\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?\)$/i,Cb=/^(?:rgba)?\(\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\s?,\s?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),\s?(0|1|0\.\d{0,20}|1\.0)\)$/i;function Eb(){return new Promise((function(t){setTimeout(t,0)}))}function Mb(t){return t.reduce((function(t,e){return t.then(e)}),Eb())}var Sb=Object.prototype.hasOwnProperty;function Ib(t,e){return null!=t&&Sb.call(t,e)}function Lb(t){return Ib(t,"id1")&&Ib(t,"id2")}function Tb(t){return _(t)||b(t)}function Pb(t){return null!=t&&!!(y(Ab,t)||kb.test(t)||Cb.test(t)||_b.test(t))}function Ob(t,e){return{x1:Math.min(t.x1,e.x1),y1:Math.min(t.y1,e.y1),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}}function Rb(t){var e={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return m(t,(function(t){if(t){var n=t.x,r=t.y,i=t.size,o=27*(void 0===i?1:i);e.x1=Math.min(n-o,e.x1),e.x2=Math.max(n+o,e.x2),e.y1=Math.min(r-o,e.y1),e.y2=Math.max(r+o,e.y2)}})),e}function Bb(t){var e=t.animation;if(null==e)return!0;var n=e.animate,r=e.time;return!1!==n&&(null==r||!(!A(r)&&r<=0))}var zb=new Set(["n","ne","e","se","s","sw","w","nw"]);function Db(t){return"string"==typeof t&&zb.has(t)}function jb(t){var e;return _(t)?e=t:"string"==typeof t&&(e=Number.parseInt(t)),null!=e&&e>=0&&e<360&&w(e)}function Fb(t){return!!_(t)&&!(t<0||!x(t))}function Zb(t){return!("position"in t)&&"angle"in t}function Nb(t){return!Zb(t)}function Vb(t){return"object"===Vy(t)&&null!=t&&(Zb(t)?jb(t.angle)||Db(t.angle):!!Nb(t)&&(!("position"in t)||Db(t.position)||jb(t.position)))}function Gb(t){var e=t.position,n=t.angle;if(Nb(t)){if(Db(e))return"position";if(jb(e))return"angle"}if(Zb(t)){if(jb(n))return"angle";if(Db(n))return"position"}return"position"}function Yb(t){if("object"!==Vy(t)||null==t)return!1;var e=t.size;return _(e)&&!A(e)}function Wb(t){return"rectangle"===t.shape?"rectangle":"circle"}function Ub(t,e){return!(!t||!e)&&Wb(t)!==Wb(e)}var Xb=function(t,e){for(var n=t.childToParent,r=t.closedCombos,i=e;i;)if((i=n[i])&&r[i])return!0;return!1};var Hb=function(t,e){for(var n=t.closedCombos,r=t.childToParent,i=t.externalComboNodeIdLookup,o=t.internalComboIdLookup,a=i[e]||e,s=r[a],u=a;s;)n[s]&&(u=s),a=s,s=r[s];return o[u]||u};function Kb(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pre",r=t,i="".concat(n,".items"),o=k(r,i,{});return I(r,i,M(o,e)),r}function Qb(t,e,n,r){var i=n.externalComboNodeIdLookup,o=n.parentToChildren,a=n.childToTop;if("selection"===t){var s={};return s=y(e,"selection")?h(e.selection,(function(t,n){var r=i[n]||n;return t&&(e.items[r]||o[r])})):c(r.getSelection()),f(s)?{all:!0}:(P(s).forEach((function(t){var e=a[t];e&&(s[e]=!0,delete s[t])})),{selection:!0,items:s})}if("all"===t)return{all:!0};if(t&&"string"!=typeof t){var u=h(t,(function(t){return t}));if(!f(u))return{items:u}}return null}function Jb(t,e,n,r){var i=n.addOnlyIntoCombos,o=n.forAutoPositioning,a=n.forExpand,s=n.isFullLayout,u=n.parentToChildren,l=n.newComboExternalIds,c=n.forFullUncombine,d={},p=k(t,"options.fit");if(!t.view&&"none"!==p)if("auto"===p||null==p){var v=e.items&&0===Object.keys(e.items).length;v&&(d={pre:{all:!0},post:{all:!0}}),d=v?d:function(t,e,n,r,i){var o=t.positions||{},a=n.forExpand,s=n.forDumbAdd,u=n.forPlacement,l=n.addOnlyIntoCombos,c=n.isFullLayout;if(f(a)&&f(u)&&f(s))return r;var d=C(r),p={},v={},g=Ny(Ny({},a),s);if(!f(u)){var m={};Object.keys(o).forEach((function(t){u[t]&&(m[t]=Ny(Ny({},o[t]),{},{size:u[t].size||1}))}));var b=t.combine?h(m,(function(t,e){return!Xb(n,e)})):m;f(b)||e.map&&!t.map||(v.bounds=Rb(b)),E(g,(function(t,r){if(Lb(t)){var i=t.id1,o=t.id2;(m[t.id1]||m[t.id2])&&(e.items&&(e.items[i]&&!Xb(n,i)&&(p[i]=e.items[i]),e.items[o]&&!Xb(n,o)&&(p[o]=e.items[o])),delete g[r])}else m[r]&&delete g[r]}))}if(!f(g)){if(e.map&&t.map){if(f(e.items))return d.final={all:!0},d;var x={};E(g,(function(t,e){!Lb(t)&&t.coordinates&&(x[e]=i.coordinatesToWorld(t))})),v.bounds=Rb(x)}t.map||l||(d.expand=!c||{all:!0})}if(!f(g)||!f(u)){var w=function(t){var e=t.prev,n=t.next,r=t.newNodesAndLinks,i=t.vDiff,o=t.rules,a=t.newAutofit,s=t.targetItems,u=t.helper,l=i.addOnlyIntoCombos,c=i.childToParent,d=i.closedCombos,h=i.internalComboIdLookup,p=Ny({},s),v=Ny({},o);if(!f(e.items)){var g={},m=!1;E(r,(function(t,n){Lb(t)?(g[t.id1]=!0,g[t.id2]=!0,m||e.items&&(e.items[t.id1]||e.items[t.id2])&&(m=!0)):c[n]&&(g[n]=!0)})),n.map||m||l||y(a,"pre.bounds")?E(g,(function(t,n){if(c[n]){var r=u.getTopOpenId({id:n,childToParent:c,closedCombos:d,internalComboIdLookup:h});r&&(p[r]=!0)}else e.items&&e.items[n]&&(p[n]=!0)})):v.all=!0}return{targetItems:p,rules:v}}({prev:e,next:t,newNodesAndLinks:g,vDiff:n,rules:v,newAutofit:d,helper:i,targetItems:p});v=w.rules,p=w.targetItems}return f(p)||(v.items=p),f(v)||(Bb(t)?d.pre=v:d.expand||(d.post=v)),d}(t,e,n,d,r),d=function(t,e,n,r){var i=n.resized,o=n.forOpening,a=n.forClosing,s=n.childToParent,u=n.prevChildToParent,l=n.shouldCancelPushPull,c=C(r),d=Ub(t.combine,e.combine),h=(!f(o)||!f(a)||d)&&l;return((t.combine?S(i,(function(t,e){return!(s[e]||u[e])})):!f(i))||h)&&(c.adaptiveLayout=!0),c}(t,e,n,d=function(t,e,n){var r=e.prevInternalComboIdLookup,i=e.forDeletion,o=e.prevChildToParent,a=e.prevParentToChildren,s=e.closedCombos;if(!f(i)){var u=C(n),l=i;if(t.combine){var c={childToParent:o,closedCombos:s};l=h(i,(function(t,e){return!Xb(c,e)}));var d={};E(i,(function(t,e){if(!d[e]){var n=o[e];if(n&&a[n]){var s=a[n].children;T(s,(function(t,e){return d[e]=!0,!!i[e]}))&&(l[r[n]||n]=!0)}}}))}return f(l)||(Bb(t)&&(u=Kb(u,l,"pre")),u.remove=!0,u.post={}),u}return n}(t,n,d=function(t,e,n,r){var i=e.closedCombos,o=e.forArranging,a=e.forAutoPositioning,s=e.forClosing,u=e.forFullUncombine,l=e.forOpening,c=e.forTransfer,d=e.isFullLayout,h=e.externalComboNodeIdLookup,p=e.newComboChildren,v=e.newComboExternalIds,g=e.prevParentToChildren,m=e.transferFrom,y=M({},l,s,p),b=C(n),x=Bb(t),w=function(t,n){if(null!==n)if(x)y[Hb(e,n)]=!0;else{var r=h[n]||n;i[r]||Xb(e,r)||(y[n]=!0)}else null!==n||x||"object"===Vy(t)&&"ids"in t&&t.ids.forEach((function(t){y[Hb(e,t)]=!0}))};if(c.forEach(w),E(m,w),f(y)||(b=Kb(b,y,x?"pre":"post")),f(u.ids)){var A=M({},k(b,"post.items"),l,s,v);f(A)||(b.post={items:A})}else{x&&(b.uncombine={items:u.ids});var _={};E(u.internalIds,(function(t,e){M(_,g[e].children)})),f(_)||(b.post={items:_})}return d||!f(a)||f(o)||"post"in n||"pre"in n||"uncombine"in n||S(o,(function(t,e){return!s[e]&&r.isOpenAndVisible(e)}))&&(b.comboArrange=!0),b}(t,n,d=v?d:function(t,e,n){var r=e.forAnimatedPlacement,i=e.combosToPosition,o=Ny(Ny({},r),i),a=C(n);return f(o)||(Bb(t)&&(Kb(a,o,"pre"),Kb(a,o,"post")),f(r)||(a.reposition=Rb(h(t.positions,(function(t,e){return o[e]}))))),a}(t,n,d),r))),t.layout&&"tweak"===t.layout.name||!s&&f(o)||(delete d.post,d.layout=!0),d.uncombine&&d.remove&&!d.expand&&!d.layout&&(d.pre={all:!0},delete d.post)}else if(function(t){return"string"==typeof t?/^(all|selection)$/.test(t):!!t&&!f(t)}(p))if(!f(a)&&f(u))d.expand=Qb(p,t,n,r),!i&&f(l)&&f(c.ids)||(d.final=Qb(p,t,n,r));else if(s||!f(o)){if(d.layout=Qb(p,t,n,r),"object"===Vy(p)){var g={};Object.keys(p).forEach((function(t){p[t]&&(g[t]=!0)})),d.final={items:g}}}else d.final=Qb(p,t,n,r);return d}var qb={center:"centre"},$b=[{i:"height",o:"height"},{i:"options.fit",o:"fit"},{i:"options.gradient",o:"gradient"},{i:"options.logo",o:"logo"},{i:"options.noScale",o:"scale",transform:function(t){return!t}},{i:"options.selection",o:"selection"},{i:"options.watermark",o:"watermark"},{i:"width",o:"width"}],tx=[{i:"c",o:"color"},{i:"lw",o:"linkWidth"},{i:"r",o:"haloRadius"},{i:"w",o:"haloWidth"},{i:"repeat",o:"repeat"},{i:"time",o:"time"}],ex=[{i:"arrows",o:"links.arrowSize"},{i:"backColour",o:"backgroundColor"},{i:"backgroundAlpha",o:"fadeOpacity"},{i:"backgroundAlpha",o:"fadeOpacity"},{i:"combos.shape",o:"comboShape"},{i:"controlColour",o:"controlColor"},{i:"controlTheme",o:"controlTheme"},{i:"dragPan",o:"dragPan"},{i:"fontColour",o:"labels.color"},{i:"fontFamily",o:"labels.fontFamily"},{i:"fontSize",o:"labels.fontSize"},{i:"gradient.stops",o:"backgroundGradient",subArray:[{i:"c",o:"color"},{i:"r",o:"stop"}]},{i:"groups",o:"stack",transform:function(t){var e=t.by,n=t.styles;if(!e||!n)return{groupBy:null};var r=[],i=[],o=[];return m(n,(function(t,e){var n=t.color,a=t.hoverColor;r.push(e),i.push(n),o.push(a)})),{groupBy:e,categories:r,colours:i,hiColours:o}}},{i:"handMode",o:"handMode"},{i:"heightChange.animate",o:"heightChange.animate"},{i:"heightChange.time",o:"heightChange.time"},{i:"type",o:"type"},{i:"area.colour",o:"style.color",condition:function(t){return"area"===t.type}},{i:"histogram.colour",o:"style.color",condition:function(t){return"area"!==t.type}},{i:"histogram.highlightColour",o:"style.hoverColor"},{i:"histogram.markColour",o:"style.highlightColor"},{i:"histogram.markHiColour",o:"style.highlightHoverColor"},{i:"hover",o:"hoverDelay"},{i:"iconFontFamily",o:"iconFontFamily"},{i:"imageAlignment",o:"imageAlignment",keyedObject:[{i:"dx",o:"dx"},{i:"dy",o:"dy"},{i:"e",o:"size"}]},{i:"labelOffset",o:"labels.offset"},{i:"linkEnds.avoidLabels",o:"links.avoidLabels"},{i:"linkEnds.spacing",o:"links.endSpacing"},{i:"linkStyle.path",o:"links.curved"},{i:"linkStyle.inline",o:"links.inlineLabels"},{i:"linkStyle.glyphs",o:"links.glyphOrientation"},{i:"linkStyle.transition",o:"links.gradientTransition"},{i:"locale",o:"locale"},{i:"logo.p",o:"logo.position"},{i:"logo.u",o:"logo.image"},{i:"logo.x",o:"logo.x"},{i:"logo.y",o:"logo.y"},{i:"marqueeLinkSelection",o:"links.marqueeSelection",valueMap:qb},{i:"maxItemZoom",o:"maxItemZoom"},{i:"maxRange.units",o:"zoom.min.unit"},{i:"maxRange.value",o:"zoom.min.value"},{i:"minScale.units",o:"zoom.max.unit"},{i:"minScale.value",o:"zoom.max.value"},{i:"minZoom",o:"minZoom"},{i:"navigation.p",o:"navigation.position"},{i:"navigation.shown",o:"navigation.visible"},{i:"navigation.x",o:"navigation.x"},{i:"navigation.y",o:"navigation.y"},{i:"overview.icon",o:"overview.showIcon"},{i:"overview.p",o:"overview.position"},{i:"overview.shown",o:"overview.visible"},{i:"overview.size",o:"overview.size"},{i:"overview.backColour",o:"overview.backgroundColor"},{i:"overview.borderColour",o:"overview.borderColor"},{i:"playSpeed",o:"playSpeed"},{i:"range.dt1",o:"range.start"},{i:"range.dt2",o:"range.end"},{i:"scale.highlightColour",o:"scale.hoverColor"},{i:"scale.showMajor",o:"scale.showMajor"},{i:"scale.showMinor",o:"scale.showMinor"},{i:"selectionColour",o:"selection.color"},{i:"selectionFontColour",o:"selection.labelColor"},{i:"selfLinks",o:"links.showSelfLinks"},{i:"sliderColour",o:"sliders.color"},{i:"sliderLineColour",o:"sliders.lineColor"},{i:"sliders",o:"sliders.type"},{i:"truncateLabels.maxLength",o:"labels.maxLength"},{i:"truncateLabels.showOnHover",o:"labels.showOnHover"},{i:"watermark.a",o:"watermark.align",valueMap:qb},{i:"watermark.fb",o:"watermark.label.bold"},{i:"watermark.fbc",o:"watermark.label.backgroundColor"},{i:"watermark.fc",o:"watermark.label.color"},{i:"watermark.ff",o:"watermark.label.fontFamily"},{i:"watermark.fs",o:"watermark.label.fontSize"},{i:"watermark.t",o:"watermark.label.text"},{i:"watermark.u",o:"watermark.image"},{i:"zoom.adaptiveStyling",o:"zoom.adaptiveStyling"}],nx=[{i:"combos",o:"includeCombos"},{i:"add",o:"add"}],rx=[{i:"type",o:"type"},{i:"dragCombos",o:"includeCombos"}],ix=[{name:"navigation",value:!1,longForm:{navigation:{visible:!1}}},{name:"navigation",value:!0,longForm:{navigation:{visible:!0}}},{name:"overview",value:!1,longForm:{overview:{visible:!1,showIcon:!1}}},{name:"overview",value:!0,longForm:{overview:{visible:!0}}}];function ox(t){var e=t.regraphOptions,n=t.l;return function(t){var r=t.o,i=t.i,o=t.subArray,a=t.keyedObject,s=t.valueMap,u=t.transform,l=t.condition,c=function(t){var e=t.regraphOptions,n=t.o,r=t.valueMap,i=t.transform,o=t.condition;if(!o||o(e)){var a=k(e,n);if(r){var s=k(r,a);s&&(a=s)}return!Z(a)&&i&&(a=i(a)),a}}({regraphOptions:e,o:r,valueMap:s,transform:u,condition:l});if(!Z(c))if(o||a)if(a){var f={},d=a;m(c,(function(t,e){f[e]={};var n=ox({regraphOptions:t,l:f[e]});d.forEach(n)})),I(n,i,f)}else if(Array.isArray(c)){var h=[];c.forEach((function(t){var e={},n=ox({regraphOptions:t,l:e});o.forEach(n),h.push(e)})),I(n,i,h)}else console.error("options.".concat(r," should be an array. You supplied"),c);else I(n,i,c)}}function ax(t){var e=t.options,n=t.regraphDefaults,r=void 0===n?{}:n,i=t.s,o=void 0===i?{}:i,a=t.propMap,s=function(t){var e={};return m(t,(function(t,n){var r=F(ix,{name:n,value:t});r&&M(e,r.longForm)})),e}(e),u={},l=ox({regraphOptions:M({},r,e,s),l:u});return a.forEach(l),Ny(Ny({},o),u)}function sx(t){var e=t.options,n=t.regraphDefaults,r=void 0===n?{}:n,i=t.s;return ax({options:e,regraphDefaults:r,s:void 0===i?{}:i,propMap:ex})}var ux=/\.(gif|svg|jpg|png|jpeg)$/;function lx(t){if("string"==typeof t&&!ux.test(t)){var e=Fy.getFontIcon(t);if(!Number.isNaN(e)&&111!==e)return e}return t}function cx(t,e){Ib(t,"bold")&&(e.fb=t.bold),Ib(t,"color")&&(e.fc=t.color),Ib(t,"fontFamily")&&(e.ff=t.fontFamily),Ib(t,"text")&&(e.t=t.text)}function fx(t,e){Ib(t,"backgroundColor")&&(e.fbc=t.backgroundColor),Ib(t,"fontSize")&&(e.fs=t.fontSize),cx(t,e)}function dx(t,e){var n=t.fontIcon;if(null!=n){var r=n.color,i=n.fontFamily,o=n.text;e.fi={c:r,ff:i,t:lx(o)}}}function hx(t,e,n){var r=t.glyphs;if(Array.isArray(r)){var i=[];r.forEach((function(t){if(t&&"object"===Vy(t)){var e=t.label,r={a:!1,b:void 0,e:1,fb:!1,fc:"white",t:void 0,u:void 0,w:!0,c:"rgb(60,60,60)"},o=!1;n&&(Ib(t,"position")?r.p=t.position:Ib(t,"angle")?r.p=t.angle:r.p="ne"),Ib(t,"blink")&&(r.a=t.blink),Ib(t,"image")&&(o=!0,r.u=t.image,r.c=void 0),Ib(t,"radius")&&(r.r=t.radius),Ib(t,"size")&&(r.e=t.size);var a=t.border;if(null!=a&&Ib(a,"color")&&(r.b=a.color),null!=e&&cx(e,r),dx(t,r),null!=r.fi&&(o=!0),Ib(t,"color")){var s=t.color;void 0===s||!o&&null===s||(r.c=s)}i.push(r)}})),0!==i.length&&(e.g=i)}}function px(t,e){Ib(t,"color")&&(e.c=t.color),Ib(t,"data")&&(e.d=t.data),Ib(t,"fade")&&(e.bg=t.fade),hx(t,e,!Lb(t))}var vx={end1:["a1","b1","c","t1"],end2:["a2","b2","c2","t2"]};function gx(t,e,n){var r=t[n];if(r){var i=r.arrow,o=r.backOff,a=r.color,s=r.glyphs,u=r.label,l=ib(vx[n],4),c=l[0],f=l[1],d=l[2],h=l[3];if(Ib(r,"arrow")&&(e[c]=i),Ib(r,"backOff")&&(e[f]=o),Ib(r,"color")&&(e[d]=a),Array.isArray(s)||null!=u){var p={};hx(r,p,!1),null!=u&&fx(u,p),e[h]=p}}}var mx=["ha0","ha1","ha2","ha3","ha4","ha5","ha6","ha7","ha8","ha9"];function yx(t,e){Ib(t,"color")&&(e.b=t.color),Ib(t,"lineStyle")&&(e.bs=t.lineStyle),Ib(t,"width")&&(e.bw=t.width)}function bx(t){return null==t?t:Lb(t)?(n=(e=t).id1,r=e.id2,i=e.label,px(e,o={id1:n,id2:r}),gx(e,o,"end1"),gx(e,o,"end2"),Ib(e,"color")&&null==o.c2&&(o.c2=e.color),Ib(e,"flow")&&(o.flow=e.flow),Ib(e,"lineStyle")&&(o.ls=e.lineStyle),Ib(e,"width")&&(o.w=e.width),null!=i&&fx(i,o),o):function(t){var e,n=t.border,r=t.coordinates,i=t.label,o=t.openStyle,a={};if(px(t,a),function(t,e){var n=t.donut;if(null!=n){var r=n.border,i=n.segments,o=[],a=[],s={c:o,v:a};"number"==typeof n.width&&(s.w=n.width),null!=r&&(Pb(r.color)&&(s.b=r.color),"number"==typeof r.width&&(s.bw=r.width)),Array.isArray(i)&&i.forEach((function(t){if(Yb(t)){var e=t.size,n=t.color;a.push(e),o.push(Pb(n)?n:void 0)}})),e.donut=s}}(t,a),dx(t,a),function(t,e){var n=t.halos;if(Array.isArray(n))for(var r=Math.min(n.length,mx.length),i=0;i<r;i+=1){var o=n[i];if(null!=o&&"object"===Vy(o)){var a=o.color,s=o.radius,u=o.width,l={},c=!0;Ib(o,"color")&&(null!=a?l.c=a:c=!1),Ib(o,"radius")&&(null!=s?l.r=s:c=!1),Ib(o,"width")&&(null!=u?l.w=u:c=!1),c&&(e[mx[i]]=l)}}}(t,a),Ib(t,"cutout")&&(a.ci=t.cutout),Ib(t,"size")&&(a.e=t.size),Ib(t,"shape")&&(a.sh=t.shape),Ib(t,"image")&&(a.u=t.image),Ib(t,"x")&&(a.x=t.x),Ib(t,"y")&&(a.y=t.y),null!=n&&yx(n,a),null!=r&&(a.pos=r),null!=i&&(fx(i,a),Ib(i,"center")&&(a.tc=null===(e=i.center)||void 0===e||e)),null!=o){var s=o.border,u={};Ib(o,"color")&&(u.c=o.color),null!=s&&yx(s,u),a.oc=u}return a}(t);var e,n,r,i,o}var xx=function(){function t(e,n,r){Gy(this,t),Uy(this,"currentAnimation",null),Uy(this,"animateProperties",void 0),Uy(this,"cancelAnimation",void 0),Uy(this,"setProperties",void 0),this.animateProperties=e,this.cancelAnimation=n,this.setProperties=r}return Wy(t,[{key:"recordAnimation",value:function(t,e,n,r){this.currentAnimation={items:t,options:e,startedAt:Date.now(),resolve:n,reject:r}}},{key:"setPropertiesWithoutWait",value:function(t){return this.setProperties(t),Promise.resolve()}},{key:"updateAnimation",value:function(t){if(0===t.length)return Promise.resolve();if(null==this.currentAnimation)return this.setPropertiesWithoutWait(t);var e=this.currentAnimation,n=e.items,r=e.startedAt,i=e.options,o=e.resolve,a=e.reject,s=i.time-(Date.now()-r);if(s<=0)return this.setPropertiesWithoutWait(t);var u=function(t,e){var n={};t.forEach((function(t){n[t.id]=Ny({},t)}));var r=[],i=!1;return e.forEach((function(t){var e=t.id,o=n[e],a=Ny({},t);r.push(a),null!=o&&(Object.keys(t).forEach((function(e){var r=e;"id"!==r&&r in o&&!N.isEqual(a[r],o[r])&&(i=!0,N.isObject(t[r])&&N.isObject(o[r])&&(a[r]=N.merge({},n[r],a[r])),delete o[r])})),Object.keys(o).length>1?n[e]=o:delete n[e])})),{hasChange:i,itemsToAnimate:Object.values(n),itemsToSet:r}}(n,t),l=u.hasChange,c=u.itemsToAnimate,f=u.itemsToSet,d=Ny(Ny({},i),{},{time:s});return l?(c.length>0?(this.cancelAnimation(),this.animateProperties(c,Ny(Ny({},d),{},{queue:!1})).then(o).catch(a),this.recordAnimation(c,d,o,a)):(o(),this.currentAnimation=null),this.setPropertiesWithoutWait(f)):this.setPropertiesWithoutWait(t)}},{key:"animate",value:function(t,e){var n=this;return new Promise((function(r,i){return n.recordAnimation(t,e,r,i),n.animateProperties(t,e).then(r).catch(i)})).then((function(){n.currentAnimation=null})).catch((function(){n.currentAnimation=null}))}}]),t}(),wx=["_combo","_parentId"],Ax=["top","fit"],_x=["id","data","summary","contents"],kx=["glyphs"],Cx=["handMode"],Ex=["t","oc","id"],Mx=Ny(Ny({},{fb:!1,fc:"black",t:void 0}),{},{fbc:"rgba(255,255,255,0.6)",ff:void 0,fs:14,tc:!0}),Sx=Ny(Ny({},Mx),{},{a1:!1,a2:!1,b1:0,b2:0,w:1,c:"grey",c2:"grey",bg:!1}),Ix=Ny(Ny(Ny({},Mx),{bw:4,bs:"solid",b:void 0}),{},{e:1,c:"grey",donut:void 0,bg:!1}),Lx={c:"rgba(240,240,240,0.8)",bw:4,b:"grey",bs:"solid"},Tx={b:"rgb(255, 255, 255)",bw:2,c:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],w:10},Px="__format",Ox="__temp_combo_link__";function Rx(t){return!t.id.startsWith(Ox)}var Bx={handMode:!0,drag:{links:!1},links:{showSelfLinks:!0},selection:{color:"rgb(255,109,102)"},zoom:{adaptiveStyling:!0}};function zx(t){var e,n,r=t.toString("ggwp"),o=(e=new Map,n=new Map,{h:function(t){return e.has(t)?e.get(t):t},getExternalId:function(t){return n.has(t)?n.get(t):t},isExternalComboId:function(t){return e.has(t)},setComboKeys:function(t,r){e.set(t,r),n.set(r,t)},deleteComboKeys:function(t,r){null===t?e.delete(n.get(r)):e.delete(t),n.delete(r)}}),a=o.h,s=o.getExternalId,u=o.setComboKeys,l=o.deleteComboKeys,c=o.isExternalComboId;function p(e){return t.combo().isCombo(a(e))}function v(t){return r.privateGetItem(a(t))}var g={animate:!0,time:600},m={hi:!1};function y(t){var e=[];"v"in t&&Array.isArray(t.v)?e=t.v:"segments"in t&&(e=t.segments.filter(Yb));var n=Tx.c.length,r=Tx.c;return e.length&&(r=e.map((function(t,e){return Tx.c[e%n]}))),Ny(Ny({},Tx),{},{c:r})}function b(t,e){var n=Ny({},e?Sx:Ix);if(!e){var r=t;z(r.donut)&&(n.donut=y(r.donut)),(r.oc||t.openStyle)&&(n.oc=Lx)}return n}function x(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=bx(t),o=Lb(t),s=o?"link":"node",u=M({},b(t,o),i,{id:a(e),type:s},n);if("link"===s){var l=u;l.id1=a(l.id1),l.id2=a(l.id2)}else if(r[e]){var c=r[e].to;u.parentId=a(c),u.hi=!1}return u}function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return D(t,(function(t,r){return x(t,r,e,n)}))}function A(t,e){var n=Ny(Ny({},t),e);return D(n,(function(n,r){return function(t,e,n){var r=bx(t),i=Lb(t),o={};if(!i){var s=r;z(s.donut)&&(o.donut=y(s.donut)),s.oc&&(o.oc=Lx)}return M({},o,r,function(t,e){var n={};if(t){var r=b(t,e);!function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];E(e,(function(e,i){var o=r.concat(i);z(e)?t(e,n,o):n(o)}))}(t,(function(t){return I(n,t,k(r,t,null))}))}return n}(e,i),{id:a(n)})}(t[r]||{},e[r],r)}))}function C(){var e=[];return t.each({type:"link",items:"all"},(function(n){var r=n.id;t.combo().isCombo(r)&&e.push(n)})),e}function S(t){var e=t;return Array.isArray(t)?e=t.map(a):"string"==typeof t&&(e=a(t)),e}function L(e,n,o){if(!i(n))return[];var a=[];return e.forEach((function(e){var i=e.id1,d=e.id2,h=e.id,p=t.combo().info(h).links.filter(Rx);if(0!==p.length){var v=n(p,s(i),s(d),h);if(!f(v)){var g=v.id,m=v.data,y=v.summary,b=(v.contents,tb(v,_x)),w=M({},b,o[g||h]),A=w.glyphs,k=tb(w,kx);if((_(g)||g)&&g!==h){if(r.privateGetItem(g)&&!t.combo().isCombo(g))throw new Error('The summary link "'.concat(g,'" already exists in the Chart items property.'));if(c(g)&&s(h)!==g)throw new Error('The id "'.concat(g,'" was used for multiple summary links. Each link id must be unique.'));u(g,h)}else l(null,h);var C=Ny(Ny({},m),{},Uy({},Px,v)),E={};!1===y&&(E.b1=1),Array.isArray(A)&&0===A.length&&(E.g=[]),a.push(x(Ny({id1:i,id2:d,data:C,glyphs:A},k),h,E))}}})),a}function T(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var r=L(C(),e,n);t.setProperties(r)}return Promise.resolve()}var P=new xx(t.animateProperties,r.cancelAnimation,et);function O(){return t.map().leafletMap()}function R(){var t=O();t.keyboard.disable(),t.doubleClickZoom.disable()}function F(e){if(t.map().isShown()){var n=e,r=n.mapZoom,i=n.mapCenter;if(_(r)&&Array.isArray(i)){var o=O(),s=o.getZoom(),u=o.getCenter();if(s!==r||!u.equals(i))return new Promise((function(t){o.once(s!==r?"zoomend":"moveend",(function(){return t()})),o.setView(i,r)}))}return Eb()}var l=e,c=l.zoom,f=l.offsetX,d=l.offsetY;if(_(c)&&_(f)&&_(d))return t.viewOptions(e,g);var p=Object.keys(h(e)).map((function(t){return a(t)}));return p?t.zoom("fit",Ny({ids:p},g)):Eb()}function Z(e){var n=t.selection().length>0,r=e;return"selection"!==e||n?void 0===e&&(r=n?"selection":"fit"):r="fit",t.zoom(r,g)}function N(){var e=t.viewOptions(),n=t.worldCoordinates(0,0),r=t.worldCoordinates(e.width,e.height);return{x1:n.x,x2:r.x,y1:n.y,y2:r.y}}function V(e){var n=a(e),i=r.privateGetItem(t.combo().find(n,{parent:"first"}));return i&&i.type||null}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fade,n=t.fade;return null!=e?e:n}function Y(e,n,i,o){var a=i.parentToChildren,u=i.comboIdLookup,l=r.privateGetItem(Array.from(e)),c=[];l.forEach((function(t){if(null!=t){var e,r=t.id,l=t.bg,f=t.d,d=void 0===f?{}:f,h=s(r),p=o[h]||{};if(Lb(t)){var v=d[Px];e=G(void 0===v?{}:v,p)}else{var g=h;g in u&&(g=u[g]),g in a&&null==(e=G(a[g].style,p))&&(e=function t(e,n,r){var i,o=r.comboIdLookup,a=r.parentToChildren,u=s(e);if(u in o&&(u=o[u]),e in n)return null!==(i=n[e].fade)&&void 0!==i&&i;if(!(u in a))return!0;var l=a[u],c=l.style,f=l.children;return null!=(null==c?void 0:c.fade)?c.fade:Object.keys(f).every((function(e){return t(e,n,r)}))}(r,n,i))}null!=e&&e!==l&&c.push({id:r,bg:e})}})),t.setProperties(c)}function W(t,e,n,r){var i,o=e[t];if(null!=o){var s=null!==(i=r[o])&&void 0!==i?i:o;n.add(a(s)),W(o,e,n,r)}}function U(e,n,r){var i=n.childToParent,o=new Set,a=B(n.comboIdLookup);return t.foreground((function(t){var n=t.id,s=t.parentId;return"string"==typeof s&&(o.add(s),W(s,i,o,a),W(n,i,o,a)),!e[n]||!G(e[n],r[n])}),{type:"all"}).then((function(){Y(o,e,n,r)}))}function X(e){var n=r.privateGetItem(e).parentId;return!n||("link"===r.privateGetItem(n).type||t.combo().isOpen(n))&&X(n)}function H(e){var n=t.combo().reveal();0===e.length&&0!==n.length||0!==e.length&&0===n.length?t.combo().reveal(e):d(n.sort(),e.sort())||t.combo().reveal(e)}function K(t,e,n){return H([]),U(t,e,n)}function Q(e,n,i,o,a){var u;if(n.size>0){var l=new Set,c=B(o.comboIdLookup);u=t.foreground((function(t){var e=t.id,r=t.parentId;"string"==typeof r&&(l.add(r),W(r,o.childToParent,l,c),W(e,o.childToParent,l,c));var s=G(i[e],a[e]);return null!=s?!s:n.has(e)}),{type:"all"}).then((function(){return function(e,n,i){var o=n.parentToChildren,a=n.comboIdLookup;if(0!==e.size){var u=r.privateGetItem(Array.from(e)),l=[];u.forEach((function(t){if(null!=t){var e=t.id,n=t.bg,r=t.d,u=void 0===r?{}:r,c=s(e),f=c;f in a&&(f=a[f]);var d=i[c];if(Lb(t)){var h=u[Px],p=G(void 0===h?{}:h,d);null!=p&&p!==n?l.push({id:e,bg:p}):null==p&&l.push({id:e,bg:!0})}else if(f in o){var v=G(o[f].style,d);null!=v&&v!==n&&l.push({id:e,bg:v})}}})),t.setProperties(l)}}(l,o,a)}))}else u=U(i,o,a);return u.then((function(){return H(e)}))}function J(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof Set&&0===e.size||f(e))return new Set;var i=(e instanceof Set?Array.from(e.values()):Object.keys(e)).map((function(t){return a(t)})).filter((function(e){return r.privateGetItem(e)&&!t.combo().isCombo(e)&&X(e)})),o=new Set,s=Fy.getGraphEngine({selfLinks:!0});s.load(t.serialize());var u=[];if(i.forEach((function(e){var i=r.privateGetItem(e);if(i)if("node"===i.type)u.push(e),t.combo().find(e)&&o.add(e);else{var a=i,l=a.id1,c=a.id2,f=V(e);"link"===f?(o.add(e),s.shortestPaths(l,c).items.forEach((function(t){t!==l&&t!==c&&(n[t]=!0,o.add(t))})),o.add(l),o.add(c)):"node"===f&&(o.add(e),o.add(l),o.add(c))}})),u.length>0){var l=s.neighbours(u),c=l.links,d=void 0===c?[]:c,h=l.nodes;d.forEach((function(t){if("link"===V(t)){var e=r.privateGetItem(t),i=e.id1,a=e.id2,s=V(i)&&X(i),u=V(a)&&X(a);(s||u)&&(o.add(t),n[t]=!0)}})),h.forEach((function(t){V(t)&&X(t)&&o.add(t)}))}if(!f(o)){var p=s.neighbours(i),v=p.nodes,g=p.links,m=void 0===g?[]:g;[].concat(ab(v),ab(m),ab(i)).forEach((function(t){o.add(t)}))}return o}function q(t){return"".concat("__temp_combo_node__").concat(a(t))}var $={current:{pendingProperties:{},pendingSetPropertiesCall:void 0}},tt=Object.assign;function et(e){var n=$.current,r=n.pendingProperties,i=n.pendingSetPropertiesCall;return e.forEach((function(t){var e=t.id;null==r[e]?r[e]=t:tt(r[e],t)})),null==i&&($.current.pendingSetPropertiesCall=new Promise((function(t){requestAnimationFrame((function(){t()}))})).then((function(){return $.current={pendingProperties:{},pendingSetPropertiesCall:void 0},t.setProperties(Object.values(r))}))),$.current.pendingSetPropertiesCall}function nt(e,n){return t.viewCoordinates(e,n)}return{add:function(e,n){return t.merge(w(e,Ny(Ny({},m),{},{hi:!0}),n)),t.show(Object.keys(e).filter((function(t){return!n[t]})).map((function(t){return a(t)})),!0,g)},allowDraw:r.allowDraw,areExtentsVisible:function(t,e){return xb(N(),t,e)},arrange:function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.map((function(t){return a(t)}));return t.combo().arrange(i,{name:n||"lens",resize:"none"!==n,time:g.time,animate:g.animate&&r})},m:function(t){var e=$.current.pendingProperties,n=a(t),r=v(t),i=e[n];return null==i||null==r?r:Ny(Ny({},r),i)},batchedSetProperties:et,canZoomIn:function(){return t.viewOptions().zoom<1},change:function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=A(e,n);return g.animate&&r?P.animate(i,g):(t.setProperties(i),Promise.resolve())},changeComboLinks:T,close:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",r=Object.keys(e).map((function(t){return a(t)}));return t.combo().close(r,Ny(Ny({},g),{},{adapt:n}))},combine:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Mb(e.map((function(e){return function(){var o=function(t){var e,n=[];return t.forEach((function(t){var r=t.children,i=t.style,o=void 0===i?{}:i,s=t.arrange,u=t.shouldBeOpen,l=t.externalId,c=w(Uy({},l,o),m,{})[0],f=c.t,d=c.oc,h=(c.id,tb(c,Ex));n.push({def:{ids:Object.keys(r).map((function(t){return a(t)})),label:f,glyph:null,openStyle:d,style:h,open:u},externalId:l}),e=s})),{defs:n,arrangement:e}}(e),s=o.defs,l=o.arrangement;return t.combo().combine(s.map((function(t){return t.def})),Ny({select:!1,arrange:l},g)).then((function(e){if(e.forEach((function(t,e){var n=s[e].externalId;u(n,t)})),n){var o=t.graph().neighbours(e).links||[],a=L(r.privateGetItem(o),n,i);t.setProperties(a)}}))}})))},coordinatesToWorld:function(e){var n=O();if(n&&e.coordinates){var r=e.coordinates,i=r.lat,o=r.lng,a=n.latLngToContainerPoint([i,o]);return t.worldCoordinates(a.x,a.y)}return null},createTempNodesForCombos:function(e){var n=C(),r=[];return e.forEach((function(t){var e=a(t),i=q(t);r.push({id:i,parentId:e,type:"node",hi:!0}),n.forEach((function(t){var n,o=t.id,s=t.id1,u=t.id2;s!==e&&u!==e||r.push({id:(n=o,"".concat(Ox).concat(a(n))),id1:s===e?i:s,id2:u===e?i:u,type:"link"})}))})),t.merge(r)},expand:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=n.top,s=n.fit,u=tb(n,Ax),l=s;Array.isArray(l)&&(l=l.map(a));var c=Ny({layout:Ny(Ny({},u),{},{top:S(o),fit:l}),arrange:{name:"none",resize:"none"!==i}},g),f=t.expand(w(e,m,r),c);return l&&t.map().isShown()?f.then((function(){return t.zoom("fit",Ny(Ny({},g),{},{ids:Array.isArray(l)?l:void 0}))})):f},fit:function(e){if("selection"===e||"height"===e)return Z(e);if("all"===e)return Z("fit");var n=(Array.isArray(e)?e:Object.keys(e)).map(a);return t.zoom("fit",Ny(Ny({},g),{},{ids:n}))},getAllItemIds:function(){var t={};return r.privateEach({type:"node",items:"toplevel"},(function(e){var n=e.id;t[n]=1})),t},getComboLink:function(e){var n=a(e),i=r.privateGetItem(n);if(i){var o=i,u=o.type,l=o.id1,c=o.id2;if(t.combo().isCombo(n)&&"link"===u)return{id1:s(l),id2:s(c)}}return!1},getComponents:function(){return t.graph().components()},getExtents:function(t){var e=r.getExtents(t.map(a));if(null!=e)return e},getExternalId:s,getItemInfoAt:function(e,n){var r=t.getItemInfoAt(e,n);if(r)return{id:s(r.id),subItem:r.subItem}},getItemsInView:function(){var t={},e=N(),n=Math.ceil(.02*(e.x2-e.x1)),i=Math.ceil(.02*(e.y2-e.y1));return r.privateEach({type:"node",items:"toplevel"},(function(o){var a=o.id,u=r.getExtents([a]);xb(e,u,n,i)&&(t[s(a)]=!0)})),t},getItemsPartiallyInView:function(t){for(var e=N(),n=Object.keys(t),i={},o=0;o<n.length;o+=1){var s=n[o];wb(e,r.getExtents([a(s)]))&&(i[s]=!0)}return i},getItemsToForeground:J,k:v,h:a,getLeaflet:O,getLinksOfComboLink:function(e){return t.combo().info(a(e)).links.filter(Rx)},getPositions:function(){var t={};return r.privateEach({type:"node",items:"all"},(function(e){var n=e,r=n.id,i=n.x,o=n.y;t[s(r)]={x:i,y:o}})),t},getPrimitivesOnChart:function(){var t=new Map;return r.__w.forEach((function(e){if(null!=e&&null!=e.id){var n=ob(e.id.split("\u2704")),r=n[0],i=n[1];if(!(n.slice(2).length>0)){var o=s(r);t.has(o)||t.set(o,{subItems:new Map});var a=t.get(o);null==i?null==a.primitive&&(a.primitive=e):a.subItems.set(i,e)}}}),(function(){}),!0,!0),t},getSelection:function(){return t.selection().map((function(t){return s(t)}))},getSummaryFormatByExternalId:function(t){if(p(t)){var e=v(a(t));if(null!=e){var n=e,r=n.d,i=n.id1,o=n.id2;return Ny(Ny({},null!=r&&null!=r[Px]?r[Px]:{}),{},{id1:s(i),id2:s(o)})}}},getTopOpenId:function(t){for(var e=t.id,n=t.childToParent,r=t.closedCombos,i=t.internalComboIdLookup,o=e;o;)if((o=n[o])&&!r[o])return a(i[o]||o);return null},getView:function(){if(t.map().isShown()){var e=O(),n=e.getCenter();return{mapZoom:e.getZoom(),mapCenter:[n.lat,n.lng]}}var r=t.viewOptions();return{zoom:r.zoom,offsetX:r.offsetX,offsetY:r.offsetY}},getViewExtents:N,hideMap:function(e,n){return t.map().hide().then((function(){if(n&&F(n),void 0!==e)return t.options({handMode:e})}))},inComboLink:function(t){return"link"===V(t)},C:p,isOpenAndVisible:function e(n){var i=a(n);if(!t.combo().isCombo(i))return!1;if(!t.combo().isOpen(i))return!1;var o=r.privateGetItem(i).parentId;return!o||e(o)},layout:function(e){var n=e.fixed,r=e.fit,i=S(e.top);return Array.isArray(n)&&(n=n.map((function(t){return a(t)}))),Array.isArray(r)&&(r=r.map(a)),t.layout(e?e.name:"organic",Ny(Ny({},e),{},{fixed:n,top:i,fit:r},g))},lock:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{wait:!1},r=t.lock();if(void 0===e)return r;r!==e&&(t.lock(e,n),!1===e&&t.map().isShown()&&R())},open:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",r=Object.keys(e).map((function(t){return a(t)}));return t.combo().open(r,Ny(Ny({},g),{},{adapt:n}))},pan:function(e){return t.pan(e,g)},ping:function(e,n){var r=e;return Array.isArray(e)?r=e.map(a):"string"==typeof e&&(r=a(e)),t.ping(r,n)},remove:function(e){var n=[],r=Object.keys(e).map((function(e){var r=a(e);return t.combo().find(r,{parent:"first"})||n.push(r),r})),i=C();return(n.length?t.hide(n,g):Eb()).then((function(){return t.removeItem(r)})).then((function(){return t.setProperties(i.map((function(t){t._combo,t._parentId;var e=tb(t,wx),n=e.d;return n&&n[Px]?Ny(Ny({},e),bx(n[Px])):e})))}))},removeTempNodesForCombos:function(e,n){var r=[].concat(ab(e.map((function(t){return q(t)}))),ab(n));return t.removeItem(r)},revealLinks:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.revealedLinkIds;if(!f(o)||!f(n)){var a={};Object.keys(o).forEach((function(e){t.getItem(e)&&(a[e]=o[e])}));var s=J(n,a);if(!f(a)||!f(s))return[Q(Object.keys(a),s,r,e,i),s]}return[K(r,e,i),new Set]},selection:function(e){var n=h(e,(function(t){return t}));t.selection(Object.keys(n).map((function(t){return a(t)})))},setAnimation:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;g={animate:e,time:n},void 0!==window.L&&t.map().options(g)},setMapOptions:function(e){return t.map().options(e)},setOptions:function(e){var n=sx({options:e,regraphDefaults:tb(Bx,Cx)}),r=e.selection;return void 0===r||!f(r)&&(r.color||r.labelColor)?(n.selectedNode=void 0,n.selectedLink=void 0):(n.selectedNode={},n.selectedLink={}),e.backgroundGradient&&!e.backgroundColor&&(n.backColour=void 0),r&&!Pb(r.color)&&(n.selectionColour=Bx.selection.color),t.options(Ny(Ny({},n),{},{defaultStyles:{comboGlyph:null}})),Promise.resolve()},setPositions:function(e){var n=D(e,(function(t,e){return{id:a(e),x:t.x,y:t.y}}));return!1===g.animate?t.setProperties(n):t.animateProperties(n,g)},setView:F,showMap:function(e){return t.map().show().then((function(){if(R(),void 0!==e)return t.options({handMode:e})}))},toNetworkModeViewCoordinates:nt,toViewCoordinates:function(e,n){return t.map().isShown()?t.map().viewCoordinates(n,e):nt(e,n)},toWorldCoordinates:function(e,n){return t.map().isShown()?t.map().mapCoordinates(e,n):t.worldCoordinates(e,n)},transfer:function(e,n){var r=ab(e.keys()),i=g,o=i.time,s=i.animate;return o/=Math.max(1,r.length),s=s&&o>34,Mb(r.map((function(n){var r=e.get(n),i=r.ids,u=r.arrange,l=i.map((function(t){return a(t)})),c=null===n?null:a(n);return function(){return t.combo().transfer(l,c,{arrange:u,resize:"none"!==u,animate:s,time:o})}}))).then((function(){return T(n)}))},uncombine:function(e,n,r,i){var o=e.map((function(t){return a(t)}));return t.combo().uncombine(o,Ny(Ny({},g),{},{full:r,select:!1})).then((function(){n.forEach((function(t,e){l(t,o[e])})),i&&T(i)}))},updateAlignments:function(t){return j(t,(function(t,e){return lx(e)}))},updateAnimation:function(t,e){if(0===Object.keys(t).length&&0===Object.keys(e).length)return Promise.resolve();var n=A(t,e);return P.updateAnimation(n)},zoom:Z,zoomExtents:function(e){return t.zoom("fit",Ny({extents:e},g))},zoomTo:function(e){var n=e.map(a);return t.zoom("fit",Ny({ids:n},g))}}}var Dx=["id1","id2"];function jx(t,e){return h(e,(function(n,r){return"id1"===r||"id2"===r||t[r]!==e[r]&&!d(t[r],e[r])}))}var Fx=["coordinates","donut","fontIcon","data","openStyle"];function Zx(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=M({},t,n),i=M({},e,n),a=jx(r,i),s={};if(Lb(r)){(y(r,"end1.color")&&!y(i,"end1.color")||y(r,"end2.color")&&!y(i,"end2.color"))&&(a.color=i.color?i.color:Sx.c,y(i,"end1.color")&&I(s,"end1.color",i.end1.color),y(i,"end2.color")&&I(s,"end2.color",i.end2.color)),y(a,"color")&&(y(i,"end1.color")&&y(i,"end2.color")?delete a.color:y(i,"end1.color")?I(s,"end1.color",i.end1.color):y(i,"end2.color")&&I(s,"end2.color",i.end2.color));var u=!d(k(a,"end1.label"),k(r,"end1.label")),l=!d(k(a,"end1.glyphs"),k(r,"end1.glyphs")),c=!d(k(a,"end2.label"),k(r,"end2.label")),h=!d(k(a,"end2.glyphs"),k(r,"end2.glyphs"));(u||l)&&(I(s,"end1.glyphs",i.end1&&i.end1.glyphs||null),I(s,"end1.label",i.end1&&i.end1.label||null)),(c||h)&&(I(s,"end2.glyphs",i.end2&&i.end2.glyphs||null),I(s,"end2.label",i.end2&&i.end2.label||null))}var p=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return O(n,(function(n,i){return 2!==r&&y(e,i)&&void 0!==e[i]&&null!==e[i]&&o(n)?t(e[i],jx(e[i],n),r+1):void 0===n?null:n}))}(r,a),v=p.id1,g=p.id2,m=tb(p,Dx);return f(m)&&v===r.id1&&g===r.id2?{itemDiff:{},requires:{}}:(Fx.forEach((function(t){p[t]&&(s[t]=i[t])})),{itemDiff:p,requires:s})}function Nx(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={};return E(t,(function(t,i){if(y(e,i)){if(o(e[i])){var a=Nx(t,e[i],n);f(a)||(r[i]=a)}}else r[i]=!!n||t})),r}function Vx(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={},a=h(t,(function(t,n){return e&&e[n]&&e[n]!==t})),s="function"!=typeof n,u=O(a,(function(t,a){var u;null==(null===(u=r[a])||void 0===u?void 0:u.size)&&(o(t)&&t.size)!==e[a].size&&(i[a]=!0);var l=Zx(e[a],t,r[a]),c=l.itemDiff,f=l.requires;return!s&&n(c)&&(s=!0),M({},f,c)})),l=O(a,(function(t,i){var o=M({},t,r[i]),a=M({},e[i],r[i]),u=Nx(a,o,!1),l=Nx(bx(a),bx(o));return!s&&n(u)&&(s=!0),l})),c=R(u,f),d=R(l,f);return{changes:c,removals:d,animate:s&&(!f(c)||!f(d)),resized:i}}var Gx=["id","arrange","open","border","color","fade","size","label","closedStyle"],Yx=["border","color","fade","size","label"],Wx=["label","coordinates","size"],Ux=[].concat(Wx,["openStyle"]),Xx=[].concat(Wx,["color","glyphs","border","donut","fontIcon","halos"]);function Hx(t){return Ux.some((function(e){return null!=t[e]}))}function Kx(t){return Xx.some((function(e){return null!=t[e]}))}function Qx(t){return Pb(t)||null===t}function Jx(t){throw new Error('The combo node "'.concat(t,'" already exists in the Chart items property'))}function qx(t,e){if(y(e,"label")){if(!e.label||y(e,"label.text")&&V(e.label.text))return"";if(y(e,"label.text"))return e.label.text}return"".concat(p(t).pop())}var $x=Object.prototype.hasOwnProperty;function tw(t){return $x.call(t,"color")}function ew(t){return $x.call(t,"width")}function nw(t){return tw(t)||(e=t,$x.call(e,"radius"))||ew(t);var e}function rw(t){if(!function(t){return o(t.label)}(t))return!1;var e=t.label;return function(t){return $x.call(t,"backgroundColor")}(e)||tw(e)||function(t){return $x.call(t,"fontSize")}(e)}function iw(t){return tw(t)||(e=t,$x.call(e,"backOff"))||rw(t);var e}function ow(t){return function(t){if(!function(t){return o(t.border)}(t))return!1;var e=t.border;return tw(e)||ew(e)}(t)||tw(t)||(e=t,$x.call(e,"donut"))||function(t){return!!function(t){return o(t.fontIcon)}(t)&&tw(t.fontIcon)}(t)||function(t){return!!function(t){return Array.isArray(t.halos)}(t)&&t.halos.some(nw)}(t)||rw(t)||function(t){return $x.call(t,"size")}(t);var e}function aw(t){return Lb(t)?(e=t).end1&&iw(e.end1)||e.end2&&iw(e.end2)||tw(e)||rw(e)||ew(e):ow(t);var e}function sw(t,e){return h(e,(function(e,n){return!t||!t[n]}))}function uw(t,e,n){var r=Vx(t,e,aw,n),i=r.changes,o=r.removals,a=r.resized,s=r.animate;return{added:e===t?{}:sw(e,t),deleted:e===t?{}:sw(t,e),changed:e===t?{}:i,propsForRemoval:e===t?{}:o,resized:a,animate:s}}function lw(t){return!(!t||"object"!==Vy(t)||!("items"in t||"all"in t||"bounds"in t||"selection"in t))}function cw(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.helper;e.autofit.adaptiveLayout&&(lw(e.autofit.adaptiveLayout)?e.autofit.adaptiveLayout={items:Ny(Ny(Ny({},e.autofit.adaptiveLayout.items),r.getItemsInView()),r.getItemsPartiallyInView(n))}:e.autofit.adaptiveLayout={items:Ny(Ny({},r.getItemsInView()),r.getItemsPartiallyInView(n))})}var fw=["contents"];function dw(t,e){var n=t.vChart,r=n.items,o=void 0===r?{}:r,a=n.onCombineLinks;if(i(a))return function(t,n,r,i){var s,u,l=O(c(t,"id"),(function(t){return o[t.id]}));try{s=a({links:l,id1:n,id2:r,id:i,setStyle:function(t){u=t}})}catch(t){console.error(t)}var f=u||s||{},d=f.contents,p=tb(f,fw);if(!0===d)e.combos.revealedLinkIds=Ny(Ny({},e.combos.revealedLinkIds),l);else if("object"===Vy(d)){var v=O(h(d,(function(t,e){return t&&e in l})),(function(t,e){return o[e]&&o[e]}));e.combos.revealedLinkIds=Ny(Ny({},e.combos.revealedLinkIds),v)}return p}}function hw(t,e,n,r,i){var o=t.helper,a=t.getItemsInView,s=t.vDiff,u=function(t,e){var n=s.forDeletion;return"object"===Vy(t)&&Lb(t)?!n[e]&&!n[t.id1]&&!n[t.id2]:!n[e]};if(i)return function(){var i=hw(t,e,n,r);if(i)return i()};var l,c=o.getViewExtents(),d=(c.x2-c.x1)/8,p=(c.y2-c.y1)/8,v=s.forDeletion,g=Ny({},n),m=a();e.originalVisibleIds?"post"===r&&(m=Ny(Ny({},m),e.originalVisibleIds)):e.originalVisibleIds=m,"post"===r&&m&&!f(v)&&(m=h(m,u)),f(m)||(l=o.getExtents(Object.keys(m)));var y=o.getAllItemIds();f(v)||("pre"===r?y=Ny(Ny({},y),v):"post"===r&&(y=h(y,u)));var b=o.getExtents(P(y)),x=l;if(g.all)b&&(x=x?Ob(x,b):b);else if(g.items){var w=o.getExtents(P(g.items));w&&(x=x?Ob(x,w):w)}if(g.bounds&&(x=(g.items||g.all)&&x?Ob(x,g.bounds):g.bounds),x){var A=!xb(c,x),_=!b&&!A;if(b&&!A&&o.canZoomIn()){var k=b.x2-b.x1,C=b.y2-b.y1,E=c.x2-c.x1-4*d,M=c.y2-c.y1-4*p;_=k<E&&C<M}if(A||_)return _&&e.autofit.expand&&(x.x1-=d/5,x.y1-=p/5,x.x2+=d/5,x.y2+=p/5),e.autofitHistory.push("".concat(r,".fit-").concat(g.all?"all":"relevant")),function(){return o.zoomExtents(function(t){return t?bb(t,-Math.abs(t.x2-t.x1)/8,-Math.abs(t.y2-t.y1)/8):null}(x)).then((function(){return new Promise((function(t){return setTimeout(t)}))}))}}}function pw(t,e,n){var r=t.helper;return function(){if(e.autofit.reposition){var i,o=e.autofit.reposition;e.autofit.pre&&e.autofit.pre.bounds&&(o=Ob(o,e.autofit.pre.bounds)),null===(i=hw(t,e,{bounds:o},"reposition"))||void 0===i||i()}return r.setPositions(n)}}function vw(t,e){var n=t.helper;return e.nonAnimatedSteps+=1,function(){return new Promise((function(t){n.allowDraw(!0),window.requestAnimationFrame((function(){return t()}))}))}}function gw(t,e){var n=t.helper,r=t.getItemsInView,i=t.vDiff,o=!1,a=i.forPlacement,s=i.forExpand;if(e.autofit.expand){var u,l=e.autofit.pre||{},c=e.autofit.expand||{};if(lw(c)&&c.all||lw(l)&&l.all)u="expand.fit-all",o=!0;else if(lw(c)&&c.items)u="expand.fit-".concat(c.selection?"selection":"items"),o=P(c.items).map(n.h);else{u="expand.fit-relevant";var f=M(r(),l.items,a,s);o=P(f)}e.autofitHistory.push(u)}return o}var mw=["imageAlignment"];function yw(t,e){var n=t.helper;return e.nonAnimatedSteps+=1,function(){n.lock(!1)}}function bw(t,e){var n=new Set,r=new Set(t.values());return e.forEach((function(t){r.delete(t)||n.add(t)})),{added:n,removed:r}}var xw=[function(t,e){var n=t.vChart,r=t.vDiff,i=t.linkRevealer,o=t.helper,a=r.optionsChange,s=r.alignmentChange,u=r.updateCurvedLinks,l=r.layoutOpts;if(a||u){var c,f;e.nonAnimatedSteps+=1;var d=n.options||{},h=d.imageAlignment,p=tb(d,mw),v=y(n,"combine.shape")&&Wb(n.combine)||"circle";p.comboShape=v,p.links=p.links?Ny({},p.links):{};var g=l.curvedLinks,m=l.orientation;if(p.links.curved=g?["left","right"].includes(m)?"horizontal":"vertical":"direct",i.setAutoSelectionStyle(null===(c=null==p||null===(f=p.combo)||void 0===f?void 0:f.autoSelectionStyle)||void 0===c||c),s){var b=o.updateAlignments(h);return function(){return o.setOptions(Ny(Ny({},p),{},{imageAlignment:b}))}}return function(){return o.setOptions(p)}}},function(t,e){var n=t.vDiff,r=t.helper,i=t.vChart;if(n.mapOptionsChange)return e.nonAnimatedSteps+=1,function(){return r.setMapOptions(i.options.map)}},function(t,e){var n=t.vChart,r=t.vDiff,i=t.helper,o=n.view,a=(n.options||{}).handMode,s=r.hideMap,u=r.mapViewChange;if(s)return u&&(e.reportView=!0),function(){return i.hideMap(a,o)}},function(t,e){if(e.autofit.uncombine)return hw(t,e,e.autofit.uncombine,"uncombine-pre")},function(t,e){var n=t.vDiff,r=t.helper,i=n.shouldCancelPushPull,o=n.forClosing;if(!f(o))return e.movement=!0,function(){return i&&cw(t,e,o),r.close(o,i?"inCombo":"all").then((function(){e.itemsInView=null}))}},function(t,e){var n=t.vDiff,r=t.helper,i=n.combosNeedingTemporaryNodes;if(!f(i))return e.nonAnimatedSteps+=1,function(){return r.createTempNodesForCombos(Object.keys(i))}},function(t,e){var n=t.vDiff,r=t.helper,i=n.forFullUncombine,o=i.ids,a=i.resetIds;if(!f(o))return e.movement=!0,e.extraSteps+=1,e.combos.revealedLinkIds={},function(){return Eb().then((function(){return r.uncombine(Object.keys(o),Object.keys(a),!0,dw(t,e))})).then((function(){e.itemsInView=null}))}},function(t,e){if(e.autofit.pre){var n=!!e.autofit.uncombine;return e.autofitHistory.push("pre.fit-".concat(e.autofit.pre.all?"all":"relevant")),hw(t,e,e.autofit.pre,"pre",n)}},function(t){var e=t.vDiff,n=t.helper,r=e.forDeletion;if(!f(r))return function(){return n.remove(r)}},function(t,e){var n=t.vDiff,r=t.dynamicStyleManager,i=t.vChart,a=t.vChartPrevious,s=t.helper,u=n.forDeletion,l=n.forFullUncombine;if(n.restyleDynamicItemStyles){e.nonAnimatedSteps+=1;var c=new Set,f=l.resetIds||{},d=a.selection,h=i.selection;if(d!==h&&o(h)){var p=Object.keys(h).filter((function(t){return!(!h[t]||t in u||t in f)})),v=bw(new Set(s.getSelection()),new Set(p));c=v.removed}return function(){r.handleChartItemsChange(u,f,c)}}},function(t,e){var n=t.vDiff,r=t.helper,i=n.forChange,o=n.forPropRemoval,a=n.animateStyling;if(!f(i)||!f(o))return a||(e.nonAnimatedSteps+=1),function(){return cw(t,e),r.change(i,o,a)}},function(t,e){var n=t.vDiff,r=n.isFullLayout,i=n.forAnimatedPlacement,o=n.keptCombinedPositions;if(!(f(i)&&f(o)||r))return e.unreportedMovement=!0,pw(t,e,Ny(Ny({},i),o))},function(t){var e=t.vDiff,n=t.helper,r=e.forPlacement,i=e.forDumbAdd,o=e.assignParentIds,a=Ny(Ny({},r),i);if(!f(a))return function(){return n.add(a,o)}},function(t,e){var n=t.vDiff,r=t.isDragging,i=t.helper,o=n.layoutOpts,a=n.isFixingLayout,s=n.isFullLayout,u=n.isAdaptiveLayout,l=n.assignParentIds,c=n.forExpand,d=n.isInitialLayout;if(!f(c)){e.movement=!0;var h=o.name,p=o.packing,v=a||!s?"adaptive":p,g=Ny(Ny({},o),{},{consistent:u,packing:u?"adaptive":v,fit:!r()&&gw(t,e),fix:u?"adaptive":"nonadjacent"});s&&!d||"tweak"===h?(g.consistent=!1,g.packing=p,g.fix="none"):a&&!s&&(g.fix="all");var m=f(l)?"lens":l[Object.keys(l)[0]].arrange;return function(){return a&&1===i.getComponents().length&&(g.packing="none"),i.expand(c,g,l,m)}}},function(t,e){var n=t.vDiff,r=t.helper,i=t.itemService;if(n.restyleComboLinks){e.nonAnimatedSteps+=1,e.combos.revealedLinkIds={};var o=dw(t,e);return function(){return r.changeComboLinks(o,i.currentOverwrites)}}},function(t,e){var n=t.vDiff,r=t.helper,i=n.forTransfer;if(!f(i))return e.movement=!0,e.combos.revealedLinkIds={},function(){return r.transfer(i,dw(t,e))}},function(t,e){var n=t.vDiff,r=t.helper,i=t.itemService,o=n.forCombining;if(o.length>0)return e.movement=!0,e.extraSteps+=o.length-1,function(){return r.combine(o,dw(t,e),i.currentOverwrites).then((function(){e.itemsInView=null}))}},function(t,e){var n=t.vDiff,r=t.dynamicStyleManager;if(n.restyleDynamicComboStyles)return e.nonAnimatedSteps+=1,function(){r.handleChartCombosChange()}},function(t,e){var n=t.helper,r=t.vDiff,i=r.combosNeedingTemporaryNodes,o=r.itemsToTidyUp;if(!f(i)||!f(o))return e.nonAnimatedSteps+=1,function(){return n.removeTempNodesForCombos(Object.keys(i),Object.keys(o))}},function(t,e){var n=t.vDiff,r=t.helper,i=n.forArranging;if(!f(i)){e.movement=!0;var o=Object.keys(i),a={},s={};o.forEach((function(t){var e=i[t]||"lens",n=a;r.isOpenAndVisible(t)||(n=s),n[e]||(n[e]=[]),n[e].push(t)}));var u=Object.keys(a),l=Object.keys(s);u.length>1&&(e.extraSteps+=u.length-1),l.length>0&&(e.nonAnimatedSteps+=1),e.autofit.comboArrange&&(e.extraSteps+=1);var c=function(t,e,n){return t.map((function(t){return function(){return r.arrange(e[t],t,n)}}))};return function(){var t=e.autofit.comboArrange?P(r.getItemsInView()):[];return Mb([].concat(ab(c(u,a,!0)),ab(c(l,s,!1)))).then((function(){if(t.length)return e.autofitHistory.push("combo-arrange.fit-relevant"),r.zoomTo(t)}))}}},function(t,e){var n=t.vChart,r=t.vDiff,i=t.helper,o=r.forOpening,a=r.shouldCancelPushPull,s=n.map;if(!f(o)&&!s)return e.movement=!0,function(){return a&&cw(t,e,o),i.open(o,a?"inCombo":"all").then((function(){e.itemsInView=null}))}},function(t,e){var n=t.vDiff,r=t.vChart,i=t.helper,o=t.isDragging,a=n.resized,s=n.forDeletion,u=n.forExpand,l=n.childToParent,c=n.shouldCancelPushPull,d=n.layoutOpts,h=n.isAdaptiveLayout,p=n.isFullLayout,v=!f(a)&&vb[d.name],g=!f(s)&&!pb[d.name];if(!r.map&&h&&!p&&(v||g||c)&&f(u)&&!f(r.items)){e.movement=!0;var m,y=!1;if(e.autofit.final){var b=e.autofit.final,x=b.all,w=b.selection,A=b.items;x?y=!0:w?(y=P(A),m="selection"):A&&(y=P(A),m="items")}return Array.isArray(y)&&y.some((function(t){return t in l||!!Lb(i.k(t))}))?(e.cancelFinalFit=!1,y=!1):e.cancelFinalFit=!0,function(){return Eb().then((function(){var t,n;return e.cancelFinalFit&&(e.autofit.remove||lw(e.autofit.adaptiveLayout))&&(y=[],e.autofit.remove&&(t=y).push.apply(t,ab(P(i.getItemsInView()))),lw(e.autofit.adaptiveLayout)&&(n=y).push.apply(n,ab(P(e.autofit.adaptiveLayout.items))),m="relevant"),e.cancelFinalFit&&y&&(e.reportView=!0,e.autofitHistory.push("adaptive-layout.fit-".concat(m||y))),i.layout(Ny(Ny({},d),{},{consistent:!0,fit:!o()&&y,packing:"adaptive",mode:"adaptive"}))}))}}},function(t,e){var n=t.vDiff.combosToPosition;if(!f(n))return e.movement=!0,pw(t,e,n)},function(t,e){var n=t.vDiff,r=t.isDragging,i=t.helper,o=n.forAutoPositioning,a=n.forExpand,s=n.forFixing,u=n.isInitialLayout,l=n.newComboExternalIds,c=n.addOnlyIntoCombos,d=n.isFullLayout,h=n.layoutOpts,p=!f(o);if((f(a)||0!==Object.keys(l).length||c&&(!p||d))&&(d||p)){var v=Ny({},h);return e.movement=!0,e.autofit&&e.autofit.layout&&(lw(e.autofit.layout)&&e.autofit.layout.items?(v.fit=!r()&&P(e.autofit.layout.items),e.autofitHistory.push("unpositioned.fit-".concat(e.autofit.layout.selection?"selection":"items"))):(v.fit=!0,e.autofitHistory.push("unpositioned.fit-all"))),p?v.fixed=s:v.consistent=u,function(){return i.layout(v)}}},function(t,e){var n=t.vDiff,r=t.vChart,i=t.helper,o=(r.options||{}).handMode,a=n.showMap,s=n.mapViewChange;if(a)return s&&(e.reportView=!0),function(){return i.showMap(o)}},function(t,e){var n=t.itemService,r=t.helper,i=t.vDiff,o=t.vChart,a=t.vChartPrevious,s=t.linkRevealer,u=i.updateRevealLinks,l=i.restyleComboLinks,c=i.parentToChildren,d=o.selection,p=o.options,v=o.items,g=a.options,m=!p||!p.combo||!1!==p.combo.autoSelectionStyle,y=!g||!g.combo||!1!==g.combo.autoSelectionStyle;if((!f(c)||u)&&(u||l||d||m!==y)){e.nonAnimatedSteps+=1;var b={};if(m){var x=h(d,(function(t){return t}));b=d?x:j(r.getSelection())}return function(){return s.revealLinks(e.combos,b,v,n.currentOverwrites)}}},function(t,e){var n=t.vChart,r=t.dynamicStyleManager,i=t.helper,o=n.selection;if(o)return e.unreportedSelectionChange=!0,e.nonAnimatedSteps+=1,function(){i.selection(o),r.handleSelectionChange()}},function(t,e){var n=t.vChart,r=t.vDiff,i=t.helper,o=r.viewChange,a=n.view,s=n.items,u=n.internal;if(u&&u.view){var l=u.view,c=l.command,d=l.parameter;if("fit"===c&&(Array.isArray(d)||"object"===Vy(d)||"all"===d||"selection"===d||"height"===d))return e.reportView=!0,function(){return i.fit(d)};if("zoom"===c&&("in"===d||"out"===d))return e.reportView=!0,function(){return i.zoom(d)};if("pan"===c&&("left"===d||"right"===d||"up"===d||"down"===d))return e.reportView=!0,function(){return i.pan(d)}}if(o){if(!f(a))return["zoom","offsetX","offsetY","mapZoom","mapCenter"].some((function(t){return y(a,t)}))?e.unreportedViewChange=!0:e.reportView=!0,function(){return i.setView(a)};if(f(a)&&!f(s))return e.reportView=!0,function(){return i.zoom()}}},function(t,e){var n=t.getItemsInView,r=t.helper,i=t.vChart,o=e.autofit.post;if(o&&!e.cancelFinalFit){if(!Bb(i)){if(o.all)return e.autofitHistory.push("post.fit-all"),function(){return r.zoom("fit")};if(o.items){e.autofitHistory.push("post.fit-relevant");var a=n();return function(){var t=Ny(Ny({},o.items),a),e=P(t).map((function(t){return r.h(t)}));return r.zoomTo(e)}}}return hw(t,e,o,"post",!0)}},function(t,e){var n=t.helper;if(e.autofit.final&&!e.cancelFinalFit){var r,i,o=e.autofit.final,a=o.all,s=o.selection,u=o.items;return a?(i="all",e.reportView=!0,r=function(){return n.zoom("fit")}):s?(i="selection",r=function(){return n.zoom("selection")}):u&&(i="items",r=function(){return n.zoomTo(P(u))}),r&&(e.autofitHistory.push("final.fit-".concat(i)),e.reportView=!0),r}},vw,yw];function ww(t){var e=t.adaptivePositions,n=t.comboChildPositionCache,r=t.dynamicStyleManager,o=t.helper,a=t.isDragging,s=t.itemService,u=t.lastCombos,l=t.linkRevealer,c=t.positionsPropPassed,p=t.vChart,b=t.vChartPrevious;return new Promise((function(t,x){var A=function(t){var e,n,r=t.next,o=t.prev,a=t.lastCombos,s=t.comboChildPositionCache,u=t.adaptivePositions,l=t.positionsPropPassed,c=t.itemOverwrites,p=uw(r.items,o.items,c),v=p.added,g=p.changed,b=p.deleted,x=p.propsForRemoval,A=p.animate,_=p.resized,C=function(t,e,n,r,o){var a,s,u,l,c,p=r.added,v=r.deleted,g=r.changed,b=r.resized,x={},A={},_={},k=!1,C={},E={},M={},S={},I={},L=new Map,T=new Map,P={},R={},z={},D={},F=!1,V={ids:{},resetIds:{}},G=[],Y={},W={},U={},X={},H={},K=y(t,"combine.shape")&&"rectangle"===(null===(a=t.combine)||void 0===a?void 0:a.shape)?"grid":"lens",Q=function(t){return"auto"!==t&&t?t:K},J=n.childToParent,q=n.childToTop,$=n.parentToChildren,tt=n.closedCombos,et=n.comboIdLookup,nt={},rt={},it={};if((e.combine===t.combine||d(e.combine,t.combine))&&f(p)&&f(v)&&f(g))nt=J,it=q,rt=Ny({},$),m(rt,(function(e,n){rt[n]=Ny({},$[n]);var r=e.externalId;r in t.items&&Jx(r),D[r]=n}));else{var ot=h(t.items,(function(t){return!Lb(t)}));if(t.combine&&t.combine.properties&&(w(t.combine.level)&&t.combine.level>0||void 0===t.combine.level)&&ot){F=!0;var at=t.combine,st=at.level,ut=at.properties,lt=st||ut.length;m(ot,(function(t,e){var n,r=ab(ut).reverse(),i=ut.slice(0,lt),o="_combonode",a={};r.forEach((function(r){var s=t.data&&t.data[r];o="".concat(o).concat(o?"_":"").concat(Z(s)?"-":s),it[e]||(it[e]=o),a[r]=s,i.includes(r)&&null!=s&&(rt[o]||(rt[o]={raw:{},children:{},definition:Ny({},a),externalId:o}),rt[o].raw[e]=!0,n&&(rt[n].children[o]=!0,nt[o]=n),n=o)})),n&&(nt[e]=n,rt[n].children[e]=!0)}))}else!e.combine||t.combine&&(t.combine.level||t.combine.level===e.combine.level)||(F=!0)}var ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt;return null!==t&&e[t]?e[t]:{}},ft=function(t,e,n,r){t.id,t.arrange,t.open;var i=t.border,o=t.color,a=t.fade,s=t.size,u=t.label,l=t.closedStyle,c=void 0===l?{}:l,d=tb(t,Gx),h=c.border,p=c.color,v=c.fade,g=c.size,m=c.label,y=tb(c,Yx),b=e.definition,x=e.willBeOpen,w=(r||{}).style,A=void 0===w?{}:w,_=A.border,k=A.color,C=A.openStyle,E=Ny(Ny(Ny({},d),y),{},{openStyle:{}});return E.label=Ny({},u),E.label.text=qx(b,t),x?(i&&(E.openStyle.border=i),Qx(o)&&(E.openStyle.color=o)):(i&&(E.border=i),Qx(o)&&(E.color=o)),"boolean"==typeof a&&(E.fade=a),"number"==typeof s&&(E.size=s),h&&(E.border=h,i&&(E.openStyle.border=i)),Qx(p)&&(E.color=p,Qx(o)&&(E.openStyle.color=o)),x||("boolean"==typeof v&&(E.fade=v),"number"==typeof g&&(E.size=g),N.isObject(m)&&(E.label=Ny({},m),E.label.text=qx(b,c))),x?(i&&!E.openStyle.border&&(E.openStyle.border=i),Qx(o)&&!Qx(E.openStyle.color)&&(E.openStyle.color=o),_&&!E.border&&(E.border=_),Qx(k)&&!Qx(E.color)&&(E.color=k)):(C&&f(E.openStyle)&&(E.openStyle=Ny({},C)),i&&!E.border&&(E.border=i),Qx(o)&&!Qx(E.color)&&(E.color=o)),E},dt={},ht=function(e){if(!dt[e]&&e){var n=$[e];n===rt[e]&&(rt[e]=Ny({},n));var r,o,a=ct(e),s=t.items,u=t.onCombineNodes,l=a.raw,c=a.definition,f=a.externalId;if(i(u))try{r=u({nodes:O(l,(function(t,e){return s[e]})),combo:c,id:e,setStyle:function(t){o=t}})||{}}catch(t){console.error(t)}var d=o||r||{},h=e;"string"==typeof d.id&&d.id.length>0&&(h=d.id),h in t.items&&Jx(h),f&&f!==e&&f!==h&&delete D[f],a.externalId=h,D[h]=e;var p=d.arrange,v=d.open;a.shouldBeOpen=void 0===v||!!v;var g=a.shouldBeOpen&&!t.map;a.willBeOpen=g,tt[e]=!a.shouldBeOpen,a.arrange=Q(p),a.originalProps=d,a.usedSetStyle=!!o,a.style=ft(d,a,0,n),dt[e]=!0}},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ht(t);var n=ct(t),r=n.arrange,i=n.externalId;r===ct(t,$).arrange&&!e||"none"===r||(X[i]=Q(r))},vt={},gt=function(t){if(!vt[t]){if($[t]){var e=ct(t),n=e.externalId,r=e.style,i=e.willBeOpen,a=ct(t,$).style,s=i&&!x[n],u=Vx(Uy({},n,r),Uy({},n,a),s?Hx:Kx,o),l=u.changes,c=u.removals,d=u.animate;nt[t]&&(null==r?void 0:r.size)!==(null==a?void 0:a.size)&&pt(nt[t],!0),f(l)&&f(c)||(f(l)||(_[n]=l[n]),f(c)||(C[n]=c[n]),k=k||d)}vt[t]=!0}},mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.parentToChildren[t],i=r?r.shouldBeOpen:null;ht(t);var o=ct(t),a=o.shouldBeOpen,s=o.externalId;null!==i?a&&!i?x[s]=!0:!a&&i&&(A[s]=!0):e&&a&&(x[s]=!0)},yt=function(t,e){mt(t),pt(t,e),gt(t)},bt=function(t,e){return j(t,(function(t,n){var r=e[n];return r?r.externalId:n}))},xt=function(t,e,n){var r="".concat(e,"-").concat(n);if(T.has(r)){var i=T.get(r),o=i.ids;T.set(r,Ny(Ny({},i),{},{ids:[].concat(ab(o),[t])}))}else T.set(r,{ids:[t],from:e,to:n});e&&(P[e]=!0)},wt={},At=!!e.map!=!!t.map,_t=(null!==(s=null===(u=e.combine)||void 0===u?void 0:u.shape)&&void 0!==s?s:"circle")!==(null!==(l=null===(c=t.combine)||void 0===c?void 0:c.shape)&&void 0!==l?l:"circle");if(F){m($,(function(t,e){var n=t.children;rt[e]||(M[e]=n),J[e]||(z[e]=!0)})),m(rt,(function(n,r){var i=n.children,o=n.raw,a=$[r];if(nt[r]||(R[r]=!0),a){var s=a.externalId,u=a.style,l=a.arrange,c=a.shouldBeOpen,f=a.raw,d=a.children,h=a.originalProps,p=a.usedSetStyle;n.externalId=s,n.style=u,n.arrange=l,n.shouldBeOpen=c,n.willBeOpen=c&&!t.map,n.originalProps=h,n.usedSetStyle=p,s in t.items&&Jx(s),D[s]=r;var v=Object.keys(Ny(Ny({},o),i)),g=!1,y=Object.keys(o).length!==Object.keys(f).length,x=Object.keys(i).length!==Object.keys(d).length;v.some((function(t){return!g&&b[t]&&(g=!0),y||!o[t]||f[t]||(y=!0),x||!i[t]||d[t]||(x=!0),g&&y&&x})),x?(S[r]=!0,yt(r,!0)):t.combine!==e.combine||g||y?yt(r,g||y||_t):At&&(n.style=ft(null!=h?h:{},n,0,a),gt(r))}else E[r]=!0,ht(r),_t&&pt(r,!0);m(i,(function(t,e){var n=J[e]||null;r!==n&&xt(e,n,r)}))})),m(J,(function(t,e){nt[e]||v[e]?v[e]&&!M[t]&&(W[rt[t].externalId]=!0):xt(e,t,null)}));var kt=!f(S),Ct=!f(E),Et=!f(M),Mt={},St={},It={},Lt={},Tt=ab(T.values());if(kt||Ct||Et){F=!0,d(Object.keys(M),Object.keys($))?(Et&&(Mt=bt(z,$),It=h(z,(function(t,e){return!E[e]})),St=bt(It,$)),Ct&&(Lt=Ny({},R))):Et||kt||!Ct?Tt.forEach((function(e){var n=e.ids,r=e.from,i=e.to;if(E[i])!function(e){if(!wt[e]){wt[e]=!0,mt(e,!0),pt(e,!0);var n=ct(e),r=n.externalId,i=n.style,o=void 0===i?{}:i,a=n.children,s=n.arrange,u=Q(s);p[r]=o,Y[r]=!0;var l=[],c=!1,f=!(!t.positions||!t.positions[r]);if(m(a,(function(e,n){var i=!(!t.positions||!t.positions[n]),o=f===i,a=rt[n],s=a?a.externalId:n;if((a&&E[n]||p[n])&&o)c=!0,I[s]={to:r,arrange:u};else if(p[n]&&!i)I[s]={to:r,arrange:u};else{l.push(s);var d=J[n];if(void 0!==d&&!M[d]){var h=ct(d).externalId;W[h]=!0}}})),l.length&&L.set(r,{ids:l,arrange:u}),!c){var d="temp_for_".concat(r);U[d]=!0,p[d]={},I[d]={to:r,arrange:u}}}}(i);else{var o=ct(i),a=o.externalId,s=o.arrange,u=ct(r).externalId,l=s||K;n.forEach((function(t){var e=p[t]&&!E[i],n=E[t]&&!E[i],o=!(n||e||v[t]||E[t]||M[t]);if(e&&(I[t]={to:a,arrange:l}),n){var s=ct(t).externalId;I[s]={to:a,arrange:l}}if(!M[t]&&!v[t]||M[r]||(W[u]=!0),o){var c=rt[t],f=c?c.externalId:t;null===r||M[r]||M[r]||(W[u]=!0);var d=a||null;L.has(d)||L.set(d,{ids:[],arrange:l}),L.get(d).ids.push(f)}}))}})):Lt=h(R,(function(t,e){return!$[e]})),V={ids:St,internalIds:It,resetIds:Mt};var Pt=[];m(Lt,(function(t,e){!function t(e,n,r){ht(r);var i=n.children,o=n.style,a=n.shouldBeOpen,s=n.arrange,u=n.externalId,l=Pt[e]||(Pt[e]=[]);Y[u]=!0;var c=bt(i,rt);Object.assign(H,c),l.push({externalId:u,style:o,shouldBeOpen:a,arrange:s,children:c}),m(i,(function(n,r){var i=J[r],o=rt[r];f(Mt)&&i&&!M[r]&&(L.has(null)||L.set(null,{ids:[],arrange:Q(s)}),L.get(null).ids.push(o?o.externalId:r)),o&&!$[r]&&t(e+1,o,r)}))}(0,ct(e),e)})),Pt.forEach((function(t){var e={};t.forEach((function(t){var n=t.arrange,r=Q(n);(e[r]||(e[r]=[])).push(t)})),m(e,(function(t){G.push(t)}))})),G.reverse()}}else m(rt,(function(n,r){(t.combine!==e.combine||At)&&yt(r),nt[r]||(R[r]=!0)}));var Ot=Object.keys(D);if(Ot.length&&Object.keys(rt).length!==Ot.length){var Rt=O(D,(function(t){return[t]}));throw m(rt,(function(t,e){var n=t.externalId;D[n]!==e&&Rt[n].push(e)})),new Error("Non unique ids have been provided by the onCombineNodes method handler. ".concat(JSON.stringify(Rt)))}var Bt=!f(I)&&Object.entries(p).every((function(t){var e=ib(t,2),n=e[0],r=e[1];if(Lb(r)){var i=r.id1,o=r.id2;return nt[i]||nt[o]}return I[n]||Y[n]})),zt=!(f(x)&&f(A)&&f(L)&&f(Y)&&f(X)&&f(V.ids)),Dt=B(D),jt=B(et),Ft=j(P,(function(t,e){return Dt[e]||jt[e]||e})),Zt=h(Ft,(function(t,e){return!V.ids[e]}));return{addOnlyIntoCombos:Bt,updateRevealLinks:F,comboChanges:zt,forFullUncombine:V,forCombining:G,newComboExternalIds:Y,newComboChildren:H,externalTopLevelComboIds:bt(R,rt),internalComboIdLookup:Dt,prevInternalComboIdLookup:jt,assignParentIds:I,forTransfer:L,transferFrom:Zt,combosNeedingTemporaryNodes:W,itemsToTidyUp:U,childToTop:it,childToParent:nt,prevChildToParent:J,closedCombos:tt,parentToChildren:rt,prevParentToChildren:$,externalComboNodeIdLookup:D,forOpening:x,forClosing:A,forStyling:_,forStylingRemoval:C,animateStyling:k,forArranging:X,restyleComboLinks:f(V.ids)&&f(M)&&f(L)&&!!t.combine&&e.combine!==t.combine}}(r,o,a,p,c),E=C.addOnlyIntoCombos,M=C.animateStyling,I=C.assignParentIds,L=C.childToParent,T=C.childToTop,P=C.closedCombos,R=C.comboChanges,z=C.combosNeedingTemporaryNodes,D=C.externalComboNodeIdLookup,F=C.externalTopLevelComboIds,V=C.forArranging,G=C.forClosing,Y=C.forCombining,W=C.forFullUncombine,U=C.forOpening,X=C.forStyling,H=C.forStylingRemoval,K=C.forTransfer,Q=C.internalComboIdLookup,J=C.itemsToTidyUp,q=C.newComboChildren,$=C.newComboExternalIds,tt=C.parentToChildren,et=C.prevChildToParent,nt=C.prevInternalComboIdLookup,rt=C.prevParentToChildren,it=C.restyleComboLinks,ot=C.transferFrom,at=C.updateRevealLinks,st=R||!f(v)||!f(g)||!f(b)||!f(x),ut=[],lt=!1;m(r.items,(function(t,e){if(lt||Lb(t)||(lt=!0),Lb(t)){var n=t.id1,i=t.id2,a=o.items||{},s=a[n],u=a[i],l=r.items[n],c=r.items[i];if((null!=s&&(null==l||!Lb(s)&&Lb(l))||null!=u&&(null==c||!Lb(u)&&Lb(c)))&&ut.push(e),!v[e]){var f=o.items[e],d=f.id1,h=f.id2;n!==d||i!==h?(delete g[e],delete x[e],b[e]=o.items[e],v[e]=t):(v[n]||v[i])&&(delete g[e],delete x[e],v[e]=t)}}}));var ct={},ft={},dt={},ht={},pt=r.positions||{};lt&&m(v,(function(t,e){if(Lb(t)){var n=t.id1,r=t.id2,i=L[n],o=L[r];(i||o)&&i!==o&&(ht[e]=!0),!u&&pt[n]&&pt[r]?dt[e]=t:ct[e]=t}else{var a=I[e];if(s[e]&&a&&"none"===a.arrange&&pt[a.to]){var l=a.to,c=s[e],f=c.deltaX,d=c.deltaY,h=pt[l],p=h.x,v=h.y;ft[e]=Ny(Ny({},t),{},{x:p-f,y:v-d})}else pt[e]?ft[e]=Ny(Ny({},t),pt[e]):ct[e]=t}}));var vt={},gt={},mt={},yt={},bt=Object.keys(ft),xt=uw(r.positions,o.positions);st||f(xt.added)&&f(xt.changed)||(st=!0),lt&&(m(r.items,(function(t,e){if(r.positions&&!v[e]){var n=L[e],i=tt[n];(!n||i&&!a.childToParent[e]&&$[i.externalId])&&(r.positions[e]?(bt.push(e),(xt.added[e]||xt.changed[e])&&(gt[e]=r.positions[e]),l&&l[e]&&!gt[e]&&!n&&et[e]&&(mt[e]=l[e])):Lb(t)||(vt[e]=t))}})),r.positions&&m(F,(function(t,e){r.positions[e]&&(bt.push(e),(xt.added[e]||xt.changed[e]||$[e])&&(yt[e]=r.positions[e]))})));var wt=r.map!==o.map&&r.map,At=o.map&&!r.map,_t=r.options&&r.options.map&&(!o.options||!d(r.options.map,o.options.map)),kt=f(o.items),Ct=!o||!o.items||Object.keys(o.items).length<2;lt&&f(r.positions)&&!r.map&&!f(ct)&&Ct&&f(dt)&&(kt=!0,dt=ct,ct={},st=!0);var Et=Ny(Ny({},g),X),Mt=Ny(Ny({},x),H),St=b,It=!(!r.view||r.view===o.view),Lt=!1;(!wt||y(r.view,"mapZoom")&&y(r.view,"mapCenter"))&&(!At||y(r.view,"offsetX")&&y(r.view,"offsetY"))||(Lt=!0);var Tt=!d(r.options,o.options)||!d(null===(e=r.combine)||void 0===e?void 0:e.shape,null===(n=o.combine)||void 0===n?void 0:n.shape),Pt=k(r,"layout.curvedLinks",!1)!==k(o,"layout.curvedLinks",!1)||k(r,"layout.curvedLinks")&&k(r,"layout.orientation")!==k(o,"layout.orientation"),Ot=Tt&&k(r,"options.imageAlignment")!==k(o,"options.imageAlignment"),Rt=S(b,(function(t){if(!Lb(t))return!1;var e=t.id1,n=t.id2;return!(!L[e]&&!L[n])})),Bt=null!=r.items&&S(ut,(function(t){var e=r.items[t],n=e.id1,i=e.id2;return null!=et[n]&&null==L[n]||null!=et[i]&&null==L[i]})),zt=it||!f(ht)||Rt||Bt,Dt=!f(a.parentToChildren)&&lt&&zt,jt=f(r.positions)&&(null==r.positions||r.positions!==o.positions||f(o.items))&&lt;st||(st=wt||At||jt||!f(vt)||It||Lt);var Ft=!(f(St)&&f(W.ids)&&f(v)&&f(g)&&f($)&&f(x)),Zt=At||Dt||Ft||wt||at||!f(G)||!f(Y)||!f(St)||!f(U)||!f(Mt)||!f(K),Nt=Ny({name:"organic",consistent:!1,fit:!1,packing:"circle"},r.layout),Vt=!u&&!f(bt)&&hb[Nt.name],Gt=u&&"circle"===Nt.packing,Yt=!r.map&&jt||!Gt&&!hb[Nt.name]&&(!f(ct)||!f(vt)),Wt=Gt&&Nt.name in gb&&(!f(U)||!f(G)||Ub(r.combine,o.combine));return{addOnlyIntoCombos:E,alignmentChange:Ot,animateStyling:M||A,assignParentIds:I,childToParent:L,childToTop:T,closedCombos:P,combosNeedingTemporaryNodes:z,combosToPosition:yt,externalComboNodeIdLookup:D,forAnimatedPlacement:gt,forArranging:V,forAutoPositioning:vt,forChange:Et,forClosing:G,forCombining:Y,forDeletion:St,forDumbAdd:dt,forExpand:ct,forFixing:bt,forFullUncombine:W,forOpening:U,forPlacement:ft,forPropRemoval:Mt,forTransfer:K,isFullLayout:Yt,hasChange:st,hideMap:At,internalComboIdLookup:Q,isAdaptiveLayout:Gt,isFixingLayout:Vt,isInitialLayout:kt,itemsToTidyUp:J,keptCombinedPositions:mt,layoutOpts:Nt,mapOptionsChange:_t,mapViewChange:Lt,newComboChildren:q,newComboExternalIds:$,optionsChange:Tt,parentToChildren:tt,prevChildToParent:et,prevInternalComboIdLookup:nt,prevParentToChildren:rt,resized:_,restyleComboLinks:Dt,restyleDynamicComboStyles:Zt,restyleDynamicItemStyles:Ft,shouldCancelPushPull:Wt,showMap:wt,transferFrom:ot,updateCurvedLinks:Pt,updateRevealLinks:at,viewChange:It}}({next:p,prev:b,lastCombos:u,comboChildPositionCache:n,adaptivePositions:e,positionsPropPassed:c,itemOverwrites:s.currentOverwrites}),_={parentToChildren:A.parentToChildren,childToParent:A.childToParent,childToTop:A.childToTop,revealedLinkIds:u&&u.revealedLinkIds||{},closedCombos:A.closedCombos,comboIdLookup:A.externalComboNodeIdLookup};s.setCombos(_);var C=A.hasChange&&!1===a()?Jb(p,b,A,o):{},E=A.showMap,M=A.hideMap,I={autofit:C,dynamicStyleManager:r,getItemsInView:function(){return L.itemsInView||(L.itemsInView=o.getItemsInView()),L.itemsInView},helper:o,isDragging:a,itemService:s,linkRevealer:l,vChart:p,vChartPrevious:b,vDiff:A},L={autofit:C,autofitHistory:[],cancelFinalFit:!1,combos:_,extraSteps:0,itemsInView:null,movement:!1,nonAnimatedSteps:1,originalVisibleIds:void 0,reportView:A.isInitialLayout&&!p.view,unreportedMovement:!1,unreportedSelectionChange:!1,unreportedViewChange:!1},T=[].concat(ab(xw),[function(){return function(){var e={combos:L.combos},n=A.forDeletion;f(n)||(e.removal=!0),L.movement&&(e.movement=!0),(L.autofitHistory.length||L.reportView)&&(e.viewchange=!0),(E||M)&&(e.leaflet=o.getLeaflet()),L.autofitHistory.length&&(e.autofit=L.autofitHistory),t(e)}}]),P=g(T)(I,L),R=v(P),z=R.length-L.nonAnimatedSteps+L.extraSteps,D=250,F=z>0;F&&p.animation&&(p.animation.time>=0&&(D=p.animation.time),F=(void 0===p.animation.animate||p.animation.animate)&&0!==D);var V,G=F?D/Math.max(1,z):0;o.setAnimation(F,G),F&&0!==G||o.allowDraw(!1),F&&G>=0&&(p.animation&&"boolean"==typeof p.animation.spinner&&(V={wait:p.animation.spinner}),!p.map&&(L.movement||L.unreportedMovement||L.reportView||L.unreportedViewChange||L.unreportedSelectionChange)&&o.lock(!0,V)),R.reduce((function(t,e){return t.then(e)}),Eb()).catch((function(t){vw(I,L)(),yw(I,L)(),x(t)}))}))}var Aw=function(t){Hy(n,$y(Error));var e=nb(n);function n(){var t;Gy(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Uy(eb(t=e.call.apply(e,[this].concat(i))),"name","AbortError"),t}return n}(),_w=function(){function t(){Gy(this,t),Uy(this,"listeners",{})}return Wy(t,[{key:"addEventListener",value:function(t,e){null==this.listeners[t]&&(this.listeners[t]=new Set),this.listeners[t].add(e)}},{key:"dispatchEvent",value:function(t){var e=t.type,n=this.listeners[e];return null==n||(n.forEach((function(e){"function"==typeof e?e(t):e.handleEvent(t)})),!0)}},{key:"removeEventListener",value:function(t,e){var n=this.listeners[t];null!=n&&(null!=e&&n.delete(e),null!=e&&0!==n.size||delete this.listeners[t])}}]),t}(),kw=function(t){Hy(n,_w);var e=nb(n);function n(){var t;Gy(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Uy(eb(t=e.call.apply(e,[this].concat(i))),"aborted",!1),Uy(eb(t),"onabort",null),t}return Wy(n,[{key:"dispatchEvent",value:function(t){return"abort"===t.type&&(this.aborted=!0,null!=this.onabort&&this.onabort.call(this,t)),rb(Ky(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),Cw=function(){function t(){Gy(this,t),Uy(this,"signal",new kw)}return Wy(t,[{key:"abort",value:function(){var t=document.createEvent("Event");t.initEvent("abort",!1,!1),this.signal.dispatchEvent(t)}}]),t}(),Ew="object"===("undefined"==typeof window?"undefined":Vy(window))&&"AbortController"in window?window.AbortController:Cw,Mw=function t(e,n,r){var i=this;Gy(this,t),Uy(this,"abortController",new Ew),Uy(this,"id",void 0),Uy(this,"priority",void 0),Uy(this,"promise",void 0),Uy(this,"styles",{}),this.id=e,this.priority=n;var a=this.abortController.signal;this.promise=new Promise((function(t,e){a.addEventListener("abort",(function(){e(new Aw)})),r((function(n){o(n)||e(new Error("Invalid style object supplied.")),i.styles=h(n,(function(t){return o(e=t)&&Object.keys(e).length>0;var e})),t(i.styles)}),a)}))},Sw=["combo","nodes"],Iw=["links"],Lw=["coordinates","data"];function Tw(t){return G(t,(function(e,n,r){if(r===t&&"data"===n)return null}))}function Pw(t){var e=t;delete e.data,delete e.coordinates}var Ow=function(){function t(e,n,r,i){Gy(this,t),Uy(this,"activeContexts",{}),Uy(this,"priority",0),Uy(this,"hoveredId",null),Uy(this,"hoveredSubItem",null),Uy(this,"itemToContexts",{}),Uy(this,"items",void 0),Uy(this,"keylinesChart",void 0),Uy(this,"onItemInteraction",void 0),Uy(this,"pendingContexts",{}),Uy(this,"selectedIds",new Set),Uy(this,"linkRevealer",void 0),Uy(this,"itemService",void 0),this.I=n,this.onItemInteraction=e,this.itemService=r,this.linkRevealer=i}return Wy(t,[{key:"fireItemInteractionEvent",value:function(t,e){var n=this,r=this.getItemDetailsById(t);if(null!=r){var i=this.isItemHovered(t),o=this.isItemSelected(t),a=i?this.hoveredSubItem:null,s=r.combo,u=r.item,l=r.links,c=r.nodes;return new Mw(t,e,(function(e,r){var f={hovered:i,id:t,item:u,selected:o,setStyle:e,signal:r,subItem:a};null!=s&&(f.combo=s),null!=l&&(f.links=l),null!=c&&(f.nodes=c),n.onItemInteraction(f)}))}}},{key:"isItemHovered",value:function(t){return this.hoveredId===t}},{key:"isItemSelected",value:function(t){return this.selectedIds.has(t)}},{key:"getComboNodeById",value:function(t){var e=this.itemService.getRegraphComboNodeById(t),n=this.itemService.getRegraphInternalComboDefinitionById(t);if(null!=e&&null!=n){var r=n.style,i=void 0===r?mb:r,o=e.combo,a=e.nodes;return{combo:o,item:tb(e,Sw),nodes:a,originalStyle:i}}}},{key:"getSummaryLinkById",value:function(t){var e=this.itemService.getRegraphSummaryLinkById(t);if(null!=e){var n=e.links,r=tb(e,Iw);return{item:r,links:n,originalStyle:r}}}},{key:"getItemDetailsById",value:function(t){var e=this.getComboNodeById(t);if(null!=e)return e;var n=this.getSummaryLinkById(t);if(null!=n)return n;var r=this.itemService.getRegraphItemById(t);return null!=r?{item:r,originalStyle:r}:void 0}},{key:"diffStyle",value:function(t){var e=this.getItemDetailsById(t);if(null!=e){var n=e.combo,r=e.item,i=e.originalStyle,o=this.itemService.getRegraphItemFromChartById(t),a=null!=o?o:Tw(r);Pw(a);var s=this.itemToContexts[t],u=null!=s&&null!=s[0]?Tw(s[0].styles[t]):void 0;if(null==u)delete this.itemService.currentOverwrites[t];else{Pw(u);var l=u;if(delete l.id1,delete l.id2,null!=n){var c=u,f=c.border,d=c.color;l.openStyle={border:f,color:d}}this.itemService.currentOverwrites[t]=l}var h=i,p=(h.coordinates,h.data,tb(h,Lw)),v=this.linkRevealer.isItemInBackground(t);null==p.fade&&(p.fade=v),null==o&&null==a.fade&&(a.fade=v);var g=M({},p,u),m=Zx(a,g),y=m.requires,b=m.itemDiff,x=M({},y,b),w=Nx(bx(a),bx(g));return null!=x.id1&&(x.id1=this.I.h(x.id1)),null!=x.id2&&(x.id2=this.I.h(x.id2)),{changes:x,removals:w}}delete this.itemService.currentOverwrites[t]}},{key:"applyStyles",value:function(t){var e=this,n={},r={};t.forEach((function(t){var i=e.diffStyle(t);i&&(n[t]=i.changes,r[t]=i.removals)})),(Object.keys(n).length>0||Object.keys(r).length>0)&&this.I.updateAnimation(n,r)}},{key:"deactivateContext",value:function(t){var e=this,n=this.pendingContexts[t];null!=n&&n.abortController.abort();var r=[],i=this.activeContexts[t];return null!=i&&(delete this.activeContexts[t],Object.keys(i.styles).forEach((function(t){var n=e.itemToContexts[t];if(null!=n)if(n[0]===i)n.shift(),0===n.length&&delete e.itemToContexts[t],r.push(t);else{var o=n.findIndex((function(t){return t===i}));-1!==o&&n.splice(o,1)}}))),r}},{key:"activateOrUpdateContext",value:function(t,e){var n=this,r=this.deactivateContext(t);this.applyStyles(r);var i=this.fireItemInteractionEvent(t,e);null!=i&&(this.pendingContexts[t]=i,i.promise.then((function(e){n.activeContexts[t]=i,delete n.pendingContexts[t];var r=[];Object.keys(e).forEach((function(e){var o=n.itemToContexts[e],a=!1;if(null==o)o=[i],a=!0,n.itemToContexts[e]=o;else{for(var s=e===t?Number.MAX_SAFE_INTEGER:i.priority,u=o.length>0&&o[0].id===e?1:0;u<o.length&&o[u].priority>s;)u+=1;o.splice(u,0,i),a=0===u}a&&r.push(e)})),n.applyStyles(r)})).catch((function(e){if(n.pendingContexts[t]===i&&delete n.pendingContexts[t],!(e instanceof Aw))throw e})))}},{key:"handleItemInteractionStateChange",value:function(t){var e=this,n=new Set;t.forEach((function(t){var r,i=t.id,o=t.hovered,a=t.selected,s=t.priority,u=null==o?e.isItemHovered(i):o,l=null==a?e.isItemSelected(i):a;u||l?(null==s?(e.priority+=1,r=e.priority):r=s,e.activateOrUpdateContext(i,r)):e.deactivateContext(i).forEach((function(t){n.add(t)}))})),this.applyStyles(Array.from(n))}},{key:"handleHover",value:function(t){var e=t.id,n=t.subItem,r=e,i=[];null!=this.hoveredId&&this.isItemHovered(r)?i.push({id:this.hoveredId,hovered:!0}):(null!==this.hoveredId&&i.push({id:this.hoveredId,hovered:!1}),null!==r&&i.push({id:r,hovered:!0})),this.hoveredId=r,this.hoveredSubItem=n,this.handleItemInteractionStateChange(i)}},{key:"handleSelectionChange",value:function(){var t=new Set(this.I.getSelection()),e=bw(this.selectedIds,t),n=e.added,r=e.removed,i=[];r.forEach((function(t){i.push({id:t,selected:!1})})),n.forEach((function(t){i.push({id:t,selected:!0})})),this.selectedIds=t,this.handleItemInteractionStateChange(i)}},{key:"handleChartItemsChange",value:function(t,e,n){var r=this;null!=this.hoveredId&&(this.hoveredId in t||this.hoveredId in e)&&(this.hoveredId=null,this.hoveredSubItem=null),n.forEach((function(t){r.selectedIds.delete(t)}));var i=[].concat(ab(Object.keys(this.pendingContexts)),ab(Object.keys(this.activeContexts))).filter((function(t){return!r.I.C(t)})).map((function(n){var i;return n in t||n in e?{id:n,hovered:!1,selected:!1}:{id:n,priority:(null!==(i=r.pendingContexts[n])&&void 0!==i?i:r.activeContexts[n]).priority}}));this.handleItemInteractionStateChange(i)}},{key:"handleChartCombosChange",value:function(){var t=this,e=[].concat(ab(Object.keys(this.pendingContexts)),ab(Object.keys(this.activeContexts))).filter((function(e){return t.I.C(e)})).map((function(e){var n;return{id:e,priority:(null!==(n=t.pendingContexts[e])&&void 0!==n?n:t.activeContexts[e]).priority}}));this.handleItemInteractionStateChange(e)}}]),t}();function Rw(t,e){var n={},r=!1;"fb"in t&&(n.bold=t.fb,r=!0),"fc"in t&&(n.color=t.fc,r=!0),"ff"in t&&(n.fontFamily=t.ff,r=!0),"t"in t&&(n.text=t.t,r=!0),r&&(e.label=n)}function Bw(t,e){Rw(t,e);var n=e.label,r=void 0===n?{}:n;"fbc"in t&&(r.backgroundColor=t.fbc),"fs"in t&&(r.fontSize=t.fs)}function zw(t,e){var n=t.fi;if(null!=n){var r=n.c,i=n.ff,o=n.t;e.fontIcon={color:r,fontFamily:i,text:o}}}function Dw(t,e){var n=t.g;if(Array.isArray(n)){var r=[];n.forEach((function(t){var e={};"p"in t&&("number"==typeof t.p?e.angle=t.p:"string"==typeof t.p&&(e.position=t.p)),"a"in t&&(e.blink=t.a),"b"in t&&(e.border={color:t.b}),"c"in t&&(e.color=t.c),"u"in t&&(e.image=t.u),"r"in t&&(e.radius=t.r),"e"in t&&(e.size=t.e),Rw(t,e),zw(t,e),r.push(e)})),e.glyphs=r}}function jw(t,e){"c"in t&&(e.color=t.c),"d"in t&&(e.data=t.d),"bg"in t&&(e.fade=t.bg),Dw(t,e)}var Fw={end1:["a1","b1","c","t1"],end2:["a2","b2","c2","t2"]};function Zw(t,e,n){var r={},i=ib(Fw[n],4),o=i[0],a=i[1],s=i[2],u=i[3];if(u in t&&null!=t[u]){var l=t[u];Dw(l,r),Bw(l,r)}o in t&&(r.arrow=t[o]),a in t&&(r.backOff=t[a]),s in t&&(r.color=t[s]),e[n]=r}var Nw=["ha0","ha1","ha2","ha3","ha4","ha5","ha6","ha7","ha8","ha9"];function Vw(t,e){var n={},r=!1;"b"in t&&(r=!0,n.color=t.b),"bs"in t&&(r=!0,n.lineStyle=t.bs),"bw"in t&&(r=!0,n.width=t.bw),r&&(e.border=n)}function Gw(t){return Lb(t)?(n={id1:(e=t).id1,id2:e.id2},jw(e,n),Zw(e,n,"end1"),Zw(e,n,"end2"),Bw(e,n),"c"in e&&(n.color=e.c),"flow"in e&&(n.flow=!!e.flow),"ls"in e&&(n.lineStyle=e.ls),"w"in e&&(n.width=e.w),n):function(t){var e=t.oc,n=t.pos,r={};if(jw(t,r),function(t,e){var n=t.donut;if(null!=n){var r=n.c,i=void 0===r?[]:r,o=n.v,a=[];o.forEach((function(t,e){var n={size:t};null!=i[e]&&(n.color=i[e]),a.push(n)}));var s={segments:a};"w"in n&&(s.width=n.w);var u={},l=!1;"b"in n&&(u.color=n.b,l=!0),"bw"in n&&(u.width=n.bw,l=!0),l&&(s.border=u),e.donut=s}}(t,r),zw(t,r),function(t,e){var n=[];Nw.forEach((function(e,r){var i=t[e];null!=i&&(n[r]={color:i.c,radius:i.r,width:i.w})})),n.length>0&&(e.halos=n)}(t,r),Vw(t,r),function(t,e){Bw(t,e);var n=e.label;"tc"in t&&((void 0===n?{}:n).center=t.tc)}(t,r),"ci"in t&&(r.cutout=t.ci),"e"in t&&(r.size=t.e),"sh"in t&&(r.shape=t.sh),"u"in t&&(r.image=t.u),null!=e){var i={};"c"in e&&(i.color=e.c),Vw(e,i),r.openStyle=i}return null!=n&&(r.coordinates=Ny({},n)),r}(t);var e,n}var Yw=["index"];function Ww(t,e,n){for(var r=e,i=0;i<t.length&&r>=0;){var o=t[i];"object"===Vy(o)&&null!=o&&n(o)&&(r-=1),i+=1}return i-1}function Uw(t){return{x:t.x,y:t.y}}function Xw(t){var e=t.x1,n=t.y1;return{x:(e+t.x2)/2,y:(n+t.y2)/2}}function Hw(t,e){var n=t.x,r=t.y,i=t.r,o=t.startAngle,a=o+(t.endAngle-o)*Y(e,0,1);return{x:n+Math.cos(a)*i,y:r+Math.sin(a)*i}}function Kw(t,e){return Hw(Ny(Ny({},t),{},{startAngle:0,endAngle:2*Math.PI}),e)}function Qw(t,e,n){var r=1-n,i=r*r,o=n*n,a=3*i*n,s=3*r*o,u=o*n;return i*r*t[e]+a*t[e+1]+s*t[e+2]+u*t[e+3]}function Jw(t,e){return e>1?Qw(t,3,e-1):Qw(t,0,e)}function qw(t,e){if("arc"===t.type)return Hw(t,e);if("bezier"===t.type)return function(t,e){var n=t.bezier,r=n.xs.length>4?2:1,i=Y(e,0,1)*r;return{x:Jw(n.xs,i),y:Jw(n.ys,i)}}(t,e);if("circle"===t.type)return Uw(t);if("line"===t.type)return function(t,e){var n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=Y(e,0,1);return{x:a*i+(1-a)*n,y:a*o+(1-a)*r}}(t,e);if("rectangle"===t.type)return Xw(t);if("text"===t.type)return Xw(t);if("triangle"===t.type)return r=(n=t).x1,i=n.y1,o=n.x2,a=n.y2,{x:(r+o+n.x3)/3,y:(i+a+n.y3)/3};var n,r,i,o,a;throw new Error('Primitives of type "'.concat(t.type,'" are not supported.'))}var $w=["openStyle"],tA=["data","id1","id2"];function eA(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return Array.isArray(e.glyphs)&&(n.glyphs=e.glyphs),null!=e.label&&(n.label=e.label),N.isPlainObject(t)?Array.isArray(t.glyphs)||null!=t.label?t:Ny(Ny({},t),n):Object.keys(n).length>0?n:void 0}var nA=function(){function t(e,n){Gy(this,t),this.I=e,this.cache=n,Uy(this,"combos",void 0),Uy(this,"items",void 0),Uy(this,"currentOverwrites",{}),this.combos=n.getLastCombos()}return Wy(t,[{key:"getBespokeIdById",value:function(t){var e;return null!==(e=B(this.combos.comboIdLookup)[t])&&void 0!==e?e:t}},{key:"getRegraphItemById",value:function(t){return null==this.items?this.cache.getProperty("items")[t]:this.items[t]}},{key:"getRegraphItemFromChartById",value:function(t){var e=this.I.m(t);if(null!=e)return Gw(e)}},{key:"getRegraphInternalComboDefinitionById",value:function(t){var e=this.combos,n=e.comboIdLookup;return e.parentToChildren[n[t]]}},{key:"getRegraphComboNodeById",value:function(t){var e=this,n=this.getRegraphInternalComboDefinitionById(t);if(null!=n){var r=n.arrange,i=n.definition,o=n.raw,a=n.willBeOpen,s=n.style,u=void 0===s?mb:s,l={};Object.keys(o).forEach((function(t){var n=e.getRegraphItemById(t);n&&(l[t]=n)}));var c=u.openStyle,f=Ny({},tb(u,$w));return a&&(f=Ny({label:u.label},c)),Ny(Ny({},f),{},{arrange:r,combo:i,nodes:l})}}},{key:"getRegraphSummaryLinkById",value:function(t){var e=this,n=this.I.getSummaryFormatByExternalId(t);if(null!=n){var r=this.I.getLinksOfComboLink(t),i={};r.forEach((function(t){var n=t.id,r=e.I.getExternalId(n);i[r]=e.getRegraphItemById(r)}));var o=ib(Object.values(i),1)[0],a=(o.data,o.id1,o.id2,tb(o,tA)),s=2===Object.keys(n).length?a:function(t,e){var n={};Array.isArray(t.glyphs)?n.glyphs=t.glyphs:Array.isArray(e.glyphs)&&(n.glyphs=e.glyphs);var r=eA(t.end1,e.end1);null!=r&&(n.end1=r);var i=eA(t.end2,e.end2);return null!=i&&(n.end2=i),n}(n,o);return Ny(Ny(Ny({},n),s),{},{links:i})}}},{key:"setCombos",value:function(t){this.combos=t}},{key:"setItems",value:function(t){this.items=t}},{key:"getSubItemByExternalId",value:function(t,e){var n=this.I.h(t),r=this.getRegraphItemById(t),i=null;if(null==r){var o=this.getRegraphInternalComboDefinitionById(t);null!=o?r=o.style:this.getRegraphSummaryLinkById(n)&&(r=this.I.getSummaryFormatByExternalId(t))}if(null!=r&&e){r=M({},r,this.currentOverwrites[t]);try{i=function(t,e){var n=null,r=t.index,i=t.linkEnd,o=t.type,a=t.subId;if(a&&"resize"!==o&&"bubble"!==o&&o)if("t1"===i||"t2"===i)n={index:r,linkEnd:"t1"===i?"end1":"end2",type:o};else if("halo"===o){var s=ib(/^ha([0-9])$/.exec(a),2)[1];n={index:parseInt(s,10),type:o}}else n="arrowhead"===o?{linkEnd:"a1"===a?"end1":"end2",type:o}:{index:r,type:o};else n=null;if(null!=n){var u=n,l=u.index,c=tb(u,Yw);if(null==l)n=c;else if("number"==typeof l){var f=n.linkEnd;if("glyph"===o){var d=null==f?e:e[f],h=(null!=d?d:{}).glyphs;h&&(Lb(e)?n.index=function(t,e){if(t.filter((function(t){return null!=t&&"object"===Vy(t)}))[e])return Ww(t,e,(function(){return!0}));throw new Error("Could not find a valid glyph")}(h,l):n.index=function(t,e){var n=t.find(Vb);if(null==n)throw new Error("Could not find a valid glyph");var r=Gb(n),i=new Set;return Ww(t,e,(function(t){var e,n;if(!Vb(t)||!function(t){return Gb(t)===r}(t))return!1;var o=String(null!==(e=null!==(n=t.position)&&void 0!==n?n:t.angle)&&void 0!==e?e:"ne");if("angle"===r&&"radius"in t&&Fb(t.radius)){var a=t.radius;o="".concat(o,"-").concat(a)}return!i.has(o)&&(i.add(o),!0)}))}(h,l))}else if("donut"===o){var p=e.donut;n.index=Ww(p.segments,l,Yb)}}}return n}(e,r)}catch(t){i=null}}return i}},{key:"bindGetPointOnSubItem",value:function(t,e,n){var r=this.getRegraphItemFromChartById(t);if(null!=r){var i=function(t,e){var n,r,i=e.index,o=e.linkEnd,a=e.type,s=function(t){switch(t){case"arrowhead":return"a";case"donut":return"do";case"glyph":return"";case"halo":return"ha";case"label":return"t";default:throw new Error('Unsupported sub-item type "'.concat(t,'".'))}}(a),u=null!==(n=null==o?void 0:o.substr(3))&&void 0!==n?n:"";if("arrowhead"===a||"label"===a)return s+u;if("donut"===a||"halo"===a)return s+i;if(!_(i))throw new Error("Index of glyph is not valid.");if(Lb(t)){if(null!=o&&null==t[o])throw new Error('Link has no end at "'.concat(o,'".'));var l=(null!=o?t[o]:t).glyphs;if(!Array.isArray(l))throw new Error("".concat(null!=o?"Link end":"Link"," has no glyphs."));var c=l.length-1-i;if(c<0)throw new Error("No glyph at index ".concat(i,"."));return null!=o?"".concat(c,"-t").concat(u):String(c)}if(null!=o)throw new Error("Item is not a link.");var f=t.glyphs;if(!Array.isArray(f))throw new Error("Item has no glyphs.");var d,h,p=f[i];if(null==p)throw new Error("No glyph at index ".concat(i,"."));if("position"===Gb(p))return String(null!==(d=null!==(h=p.position)&&void 0!==h?h:p.angle)&&void 0!==d?d:"ne");var v=null!==(r=p.position)&&void 0!==r?r:p.angle;if(Fb(p.radius)){var g=p.radius;return"".concat(v,"-").concat(g)}return v.toString()}(r,e);if(n.has(i)){var o,a=n.get(i),s=e.type,u=a.type;return o="circle"===u?"glyph"===s?Uw:Kw:qw,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=o(a,t),n=-1===a.anchorIndex?{x:0,y:0}:a.itemPrimitives.getAnchorPosition(a.anchorIndex);return{x:n.x+e.x,y:n.y+e.y}}}}}},{key:"bindGetPointOnItem",value:function(t,e){if("circle"===e.type||"text"===e.type){var n=this.I.m(t);if(null==t||"node"!==(null==n?void 0:n.type))return;var r=n;return function(){return{x:r.x,y:r.y}}}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return qw(e,t)}}},{key:"getItemViewCoordinates",value:function(t,e){var n=this,r=this.I.getPrimitivesOnChart();if(r.has(t)){var i,o=r.get(t),a=o.primitive,s=o.subItems;if(null!=e?i=this.bindGetPointOnSubItem(t,e,s):null!=a&&(i=this.bindGetPointOnItem(t,a)),null!=i)return function(t){var e=i(t),r=e.x,o=e.y,a=n.I.getViewExtents(),s=a.x1,u=a.x2,l=a.y1,c=a.y2;if(!(r<s||o<l||r>u||o>c))return n.I.toNetworkModeViewCoordinates(r,o)}}}}]),t}(),rA=function(){function t(e,n){Gy(this,t),this.I=e,this.itemService=n,Uy(this,"foregroundedIds",new Set),Uy(this,"autoSelectionStyle",!0)}return Wy(t,[{key:"isItemInBackgroundThroughAutoSelectionStyling",value:function(t){if(!1===this.autoSelectionStyle||0===this.foregroundedIds.size)return!1;var e=this.I.h(t);return!this.foregroundedIds.has(e)}},{key:"setAutoSelectionStyle",value:function(t){this.autoSelectionStyle=t}},{key:"isItemInBackground",value:function(t){var e=this,n=this.itemService.getRegraphInternalComboDefinitionById(t);if(null!=n){var r;if(null!=(null===(r=n.style)||void 0===r?void 0:r.fade))return n.style.fade;if(this.isItemInBackgroundThroughAutoSelectionStyling(t))return!0;var i=n.children;return Object.keys(i).every((function(t){var n=e.itemService.getBespokeIdById(t);return e.isItemInBackground(n)}))}var o=this.itemService.getRegraphSummaryLinkById(t);if(null!=o)return null!=o.fade?o.fade:!!this.isItemInBackgroundThroughAutoSelectionStyling(t)||Object.values(o.links).every((function(t){return!0===t.fade}));var a,s=this.itemService.getRegraphItemById(t);if(null!=s)return null!==(a=s.fade)&&void 0!==a?a:this.isItemInBackgroundThroughAutoSelectionStyling(t);throw new Error("Could not find item with id ".concat(t))}},{key:"revealLinks",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=ib(this.I.revealLinks(t,e,n,r),2),o=i[0],a=i[1];return this.foregroundedIds=a,o}}]),t}();function iA(t,e){var n=t.getPositions(),r=e.getLastCombos(),i=r.childToParent,o=r.parentToChildren;return f(i)||Object.keys(i).forEach((function(t){var r=o[t],a=r&&r.externalId||t,s=n[a],u=s.x,l=s.y,c=o[i[t]].externalId,f=n[c],d=f.x,h=f.y;e.setComboChildPosition(a,d-u,h-l)})),n}var oA=["id","subItem","preventDefault","defaultPrevented"],aA=["dummyLink"],sA=["id1","id2"],uA=/^dummyEnd\d{1,8}$/,lA=["click","context-menu","double-click","drag-end","drag-move","drag-over","drag-start","hover","pointer-down","pointer-move","pointer-up","view-change","wheel"],cA=["click","context-menu","drag-end","drag-start","wheel"];function fA(t,e,n,r,i,o,a,s){var u=!1,l=!1,c=!1,h=!1,p=!1;function v(){if(o.handleSelectionChange(),u)l=!0;else{var t=e.getSelection(),r=n.getItemsByExternalId(t);n.setProperty("selection",r);var a=h||l?"user":"auto";h=!1;var d=n.getProperties(),p=d.options,v=d.items,g=n.getLastCombos();if(!(f(g)||f(g.parentToChildren)||p&&p.combo&&!1===p.combo.autoSelectionStyle)){var m=j(t,(function(t){return t}));s.revealLinks(g,m,v,o.itemService.currentOverwrites)}("user"!==a||!c||t.length>0)&&i({selection:r,why:a}),c=!1}}function g(){if(!r.destroyed){var t=e.getView();d(t,n.getProperty("view"))||(n.setProperty("view",t),i({view:t,why:"user"}))}}t.on("drag-start",(function(t){u=u||"marquee"===t.type,l=!1,c=!1,p=!0,a(!0),!u||t.modifierKeys.consistentCtrl||t.modifierKeys.shift||0!==e.getSelection().length&&(c=!0,i({selection:{},why:"user"}))})),t.on("drag-end",(function(t){if(a()&&(t&&"type"in t&&"create-link"===t.type&&t.preventDefault(),a(!1),u=!1,!t.defaultPrevented)){if(l&&v(),"node"===t.type){var r=iA(e,n);n.setProperty("positions",r),i({positions:r,why:"user"})}else"map"===t.type&&n.getProperty("map")&&g();l=!1}})),t.on("selection-change",v),t.on("click",(function(){h=!0,setTimeout((function(){h=!1}),0)})),t.on("double-click",(function(t){t.preventDefault()}));var m,y=W(g,100);function b(t){Promise.resolve().then((function(){var n=e.getView();d(n,m)||(m=n,t("view-change",n))}))}function x(r,i){var a=r.name,s=r.event;if("map"!==a){if(lA.includes(a))if("view-change"!==a){var l=s;if("double-click"===a){var c=l;if(c.id&&db[c.id])return}if("drag-end"===a){if(!p)return;p=!1}var f=function(r,i){if(null!=i){if(!("id"in i))return i;var a,s=null,l=null,c=i.id,f=i.subItem,d=i.preventDefault,h=(i.defaultPrevented,tb(i,oA));if("string"==typeof c){var p=e.getExternalId(c);db[p]||(s=p),l=o.itemService.getSubItemByExternalId(p,f)}if(a=cA.includes(r)?Ny(Ny({},h),{},{subItem:l,id:s,preventDefault:d,get defaultPrevented(){return null==i?void 0:i.defaultPrevented}}):Ny(Ny({},h),{},{subItem:l,id:s}),"dragIds"in h){var v=n.getItemsByExternalId(h.dragIds.map((function(t){return e.getExternalId(t)}))),g=a;g.draggedItems=v,delete g.dragIds}return"drag-start"===r&&"setDragOptions"in i&&(a.setDragOptions=function(e){var r=e.dummyLink,o=tb(e,aA),a=i.id;if(i.setDragOptions(function(t){var e=t.options,n=t.regraphDefaults,r=void 0===n?{}:n,i=t.s;return ax({options:e,regraphDefaults:r,s:void 0===i?{}:i,propMap:rx})}({options:o})),null!=a){var s=n.getProperty("items")[a];if(r&&s&&!Lb(s)){var l={id1:"a",id2:"b"};"object"===Vy(r)&&(l=Ny(Ny({},l),r));var c=bx(l),f=(c.id1,c.id2,tb(c,sA)),d="tmp-".concat(Date.now());if(t.createLink(a,d,{style:f}),t.map().isShown()){var h=t.graph().neighbours(a,{all:!0}).nodes.filter((function(t){return uA.test(t)}));t.show([d].concat(ab(h)))}}}"marquee"===e.type&&(u=!0)}),a}}(a,l);"hover"===a&&o.handleHover(f),i(a,f)}else b(i)}else"showend"===s.type&&b(i)}return t.on("view-change",(function(){r.inProgress||y()})),function(e){t.on("all",(function(t){return x(t,e)}))}}function dA(t){return null!=t&&null!=t.coordinates&&_(t.coordinates.lat)&&_(t.coordinates.lng)}function hA(t,e,n){var r=Ny({},t);return r.items=function(t,e,n){var r=t.items,i={};return m(r,(function(r,o){var a=!0;if(e.C(o)){var s=e.k(o);console.error("the ".concat(Lb(r)?"link":"node",' in items with key "').concat(o,'", has the same key as a combo ').concat(Lb(s)?"link":"node")),a=!1}else if(""===o)console.error("".concat(Lb(r)?"Link":"Node",' with id "" was not rendered')),a=!1;else if(n)if(Lb(r)){var u=r.id1,l=r.id2,c=t.items[u],f=t.items[l];a=dA(c)&&dA(f)}else a=dA(r);a&&(i[o]=r)})),i}(r,e,n),r.positions=function(t){if(void 0===(e=t)||!o(e))return t;var e,n={};return m(t,(function(t,e){if(t&&x(t.x)&&x(t.y))n[e]=t;else{var r=t&&"object"===Vy(t)?"{x:".concat(Vy(t.x),",y:").concat(Vy(t.y),"}"):Vy(t);t instanceof Error&&(r="error"),null===t&&(r="null"),console.error("Invalid position for item '".concat(e,"'. Expected {x:number,y:number} but received '").concat(r,"'"))}})),n}(r.positions),r}var pA=/^a(1|2)$/,vA=/^do(\d+)$/,gA=/^(?:n|s|w|e|ne|nw|se|sw|(\d+)|(\d+)-(\d+))$/,mA=/^ha([0-9])$/,yA=/^(\d+)-t(1|2)$/,bA=/^t(1|2)$/,xA=/^(n|s|w|e|ne|nw|se|sw)-resize$/;function wA(t){var e=t.position,n=t.angle;return null!=e?e:null!=n?n:"ne"}function AA(t,e){if("t"===e)return{type:"label"};if("bu"===e)return{type:"bubble"};var n=pA.exec(e);if(null!=n){var r=ib(n,2)[1];return{linkEnd:"end".concat(r),type:"arrowhead"}}var i=vA.exec(e);if(null!=i){var o=ib(i,2)[1];return{index:parseInt(o,10),type:"donut"}}var a=gA.exec(e);if(null!=a&&t.glyphs){var s=t.glyphs,u=ib(a,4),l=u[1],c=u[2],f=u[3],d=-1;if(null!=l){var h=parseInt(l,10);d=Lb(t)||function(t){if(null!=t.image)return!1;var e=t.color;if(void 0===e||"string"==typeof e&&Pb(e))return!1;var n=t.border;if(z(n)){var r=n.color,i=n.width;if("string"==typeof r&&Pb(r)&&void 0!==i&&"number"==typeof i&&!Number.isNaN(i)&&i>0)return!1}var o=t.fontIcon;return null==o||null==o.text}(t)?s.length-1-h:s.findIndex((function(t){var e=wA(t);return e===h||e===l}))}else if(null!=c&&null!=f){var p=parseInt(c,10),v=parseInt(f,10);d=s.findIndex((function(t){var e=wA(t);return(e===p||e===c)&&(t.radius===v||"string"==typeof t.radius&&t.radius===f)}))}else d=function(t,e){for(var n=0;n<t.length;n+=1)if(wA(t[n])===e)return n;return-1}(s,e);return{index:d,type:"glyph"}}var g=mA.exec(e);if(null!=g){var m=ib(g,2)[1];return{index:parseInt(m,10),type:"halo"}}var y=yA.exec(e);if(null!=y&&Lb(t)){var b=ib(y,3),x=b[1],w=b[2],A=parseInt(x,10),_="1"===w?"end1":"end2";return{index:t[_].glyphs.length-1-A,linkEnd:_,type:"glyph"}}var k=bA.exec(e);if(null!=k){var C=ib(k,2)[1];return{linkEnd:"end".concat(C),type:"label"}}var E=xA.exec(e);return null!=E?{type:"resize",index:ib(E,2)[1]}:null}var _A=["id1","id2"],kA="undefined"!=typeof navigator&&"MacIntel"===navigator.platform,CA=new Map([["click",0],["contextmenu",0],["dblclick",0],["dragcomplete",1],["dragend",1],["dragover",0],["dragstart",1],["hover",0],["mousedown",0],["touchdown",0]]),EA={click:4,contextmenu:3,dblclick:3,dragover:3,dragstart:4,hover:3,mousedown:4,touchdown:3};function MA(t,e,n,r,i,s){var u,l,p=!1,v=!1,g=!1,m=!1,y=16,b=17,x=91,w=224,A={};function _(){if(v)g=!0;else{var r=n.getComboByExternalId,o=n.getProperties(),a=o.items,u=o.options,l=c(e.getSelection()),d=h(O(l,(function(t,n){if(a&&a[n])return a[n];var i=r(n);if(i)return i.definition;var o=e.getComboLink(n);if(o){var s=o.id1,u=o.id2;if(s&&u)return{combo1:a[s]||r(s)&&r(s).definition,combo2:a[u]||r(u)&&r(u).definition}}return!1})),(function(t){return t}));n.setProperty("selection",d);var m=p||g?"user":"auto",y=n.getLastCombos();if(!(f(y)||f(y.parentToChildren)||u&&u.combo&&!1===u.combo.autoSelectionStyle)){var b=j(t.selection(),(function(t){return t}));s.revealLinks(y,b,a)}i({selection:d,why:m})}}document.addEventListener("keydown",(function(t){var e=t.keyCode;e===w?A[x]=!0:A[e]=!0})),document.addEventListener("keyup",(function(t){var e=t.keyCode;e===w?A[x]=!1:A[e]=!1})),document.addEventListener("focusout",(function(){A={}})),t.on("click",(function(t){null==t.id||db[t.id]||t.preventDefault()})),t.on("selection-change",_),t.bind("mousedown",(function(){p=!0})),t.bind("touchdown",(function(){p=!0})),t.bind("dragstart",(function(e,n,r,i){"hand"!==e&&m&&(m=!1,t.selection([]),_()),v="area"===e,g=!1,u=r,l=i})),t.bind("dragend",(function(){return v&&(v=!1,g&&_(),g=!1),r.inProgress&&t.lock()})),t.bind("dragcomplete",(function(o,a,s,c){if(!r.inProgress||!t.lock()){if("move"===o&&(u!==s||l!==c)){var f=iA(e,n);n.setProperty("positions",f),i({positions:f,why:"user"})}p=!1,v=!1,g=!1,m=!1,u=void 0,l=void 0}})),t.bind("dblclick",(function(){return!0}));var k=W((function(){if(!r.destroyed){var t=e.getView();d(t,n.getProperty("view"))||(n.setProperty("view",t),r.suppressNextViewChange?r.suppressNextViewChange=!1:i({view:t,why:"user"}))}}),100),C=a((function(){r.inProgress||k()}),50,{trailing:!0,leading:!1});return t.bind("viewchange",C),function(){function i(i,a,s){var u,l;if("all"===i){var c=ob(a);u=c[0],l=c.slice(1)}else u=i,l=a;if(t.lock()&&r.inProgress){if("dragcomplete"===u)return;"dragend"===u&&(u="dragcancel")}if(!(kA&&A[b]&&"click"===u||"dragstart"===u&&"dummy"===l[0])){var d=function(t,r){var i=r;if(CA.has(t)){i=ab(r);var o=CA.get(t),a=r[o],s=e.getExternalId(a);if("dblclick"!==t&&db[s])return i[o]=null,i;var u=n.getProperty("items"),l=n.getLastCombos();i[o]=s;var c=EA[t];if(null==u||null==c)return i;var d=u[s];if(null==d&&!f(l)){var h=l.comboIdLookup,p=l.parentToChildren;if(h[s]&&p)d=p[h[s]].style;else if(e.C(a)){var v=e.k(a);v&&v.d&&v.d[Px]&&(d=Ny(Ny({},v.d[Px]),{},{id1:v.id1,id2:v.id2}))}}var g=r[c];return[].concat(ab(i),null==d||null==g||""===g?[null]:[AA(d,g)])}return i}(u,l);"all"===i&&d.unshift(u);var h,p=s.apply(void 0,ab(d));if("mousedown"!==u&&"touchdown"!==u||p||db[l[0]]||function(e){var n,r=t.selection(),i=r.includes(e);if(kA&&A[x]||!kA&&A[b])n=e?i?r.filter((function(t){return t!==e})):[].concat(ab(r),[e]):[];else{if(i)return;e&&A[y]?r.includes(e)||(n=[].concat(ab(r),[e])):e?n=[e]:!e&&r.length&&(m=!0)}n&&(t.selection(n),_(),m=!1)}(l[0]),"dragstart"===u&&"move"===l[0]&&p&&p.dummyLink){var v=bx(Ny({id1:"a",id2:"b"},p.dummyLink)),g=(v.id1,v.id2,tb(v,_A));t.createLink(a[2],"tmp-".concat(Date.now()),{style:g})}return"dummy"===l[0]&&"dragend"===u||(o(h=p)&&(h=function(t){var e=t.options,n=t.regraphDefaults,r=void 0===n?{}:n,i=t.s;return ax({options:e,regraphDefaults:r,s:void 0===i?{}:i,propMap:nx})}({options:h})),h&&h.add?Ny(Ny({},h),{},{add:h.add.map((function(t){return e.h(t)}))}):h)}}return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0],a=n[1];t.bind(o,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(o,e,a)}))}}()}var SA=34,IA=40,LA=41,TA=39;function PA(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function OA(t){return 10===t||12===t||13===t}function RA(t){return 9===t||32===t||OA(t)}function BA(t){return t>=0&&t<=8||11===t||t>=14&&t<=31}var zA=function(){function t(e){Gy(this,t),Uy(this,"currentPosition",0),Uy(this,"input",void 0),this.input=e}return Wy(t,[{key:"nextToken",value:function(){for(;this.currentPosition<this.input.length;){var t=this.input.charCodeAt(this.currentPosition);if(47===t)this.skipComment();else{if(!RA(t))return t===TA||t===SA?this.readString(t):t===IA?(this.currentPosition+=1,{type:"parenthesesLeft"}):t===LA?(this.currentPosition+=1,{type:"parenthesesRight"}):44===t?(this.currentPosition+=1,{type:"comma"}):59===t?(this.currentPosition+=1,{type:"semicolon"}):this.readIdentifier();this.skipWhitespace()}}}},{key:"readIdentifier",value:function(){for(var t="",e=this.currentPosition;this.currentPosition<this.input.length;){var n=this.input.charCodeAt(this.currentPosition);if(92===n)t+=this.input.slice(e,this.currentPosition),t+=this.readEscapedChar(),e=this.currentPosition;else{if(BA(n)||RA(n)||[TA,SA,IA,LA].includes(n))break;this.currentPosition+=1}}return{type:"identifier",value:t+=this.input.slice(e,this.currentPosition)}}},{key:"readString",value:function(t){var e="";this.currentPosition+=1;for(var n=this.currentPosition;this.currentPosition<this.input.length;){var r=this.input.charCodeAt(this.currentPosition);if(r===t)break;if(92===r)e+=this.input.slice(n,this.currentPosition),e+=this.readEscapedChar(),n=this.currentPosition;else{if(OA(r))break;this.currentPosition+=1}}return e+=this.input.slice(n,this.currentPosition),this.currentPosition+=1,{type:"string",value:e}}},{key:"readEscapedChar",value:function(){this.currentPosition+=1;var t=this.input.charCodeAt(this.currentPosition);switch(t){case 110:return this.currentPosition+=1,"\n";case 114:return this.currentPosition+=1,"\r";case 116:return this.currentPosition+=1,"\t";case 118:return this.currentPosition+=1,"\v";case 10:case 12:case 13:return this.currentPosition+=1,13===t&&10===this.input.charCodeAt(this.currentPosition)&&(this.currentPosition+=1),"";default:return PA(t)?String.fromCharCode(this.readHexChar()):(this.currentPosition+=1,String.fromCharCode(t))}}},{key:"readHexChar",value:function(){for(var t=this.currentPosition,e=0;e<6&&PA(this.input.charCodeAt(this.currentPosition));e+=1)this.currentPosition+=1;var n=this.input.slice(t,this.currentPosition),r=this.input.charCodeAt(this.currentPosition);return RA(r)&&(this.currentPosition+=1,13===r&&10===this.input.charCodeAt(this.currentPosition)&&(this.currentPosition+=1)),parseInt(n,16)}},{key:"skipWhitespace",value:function(){for(this.currentPosition+=1;this.currentPosition<this.input.length&&RA(this.input.charCodeAt(this.currentPosition));)this.currentPosition+=1}},{key:"skipComment",value:function(){if(this.currentPosition+=1,42===this.input.charCodeAt(this.currentPosition)){var t=this.input.indexOf("*/",this.currentPosition);this.currentPosition=-1!==t?t+2:this.input.length}}}]),t}();function DA(t){var e=t.nextToken();if(null!=e&&"parenthesesLeft"===e.type){var n,r=[];for(n=t.nextToken();null!=n&&("identifier"===n.type||"string"===n.type);n=t.nextToken())r.push(n.value);if(null!=n&&"parenthesesRight"===n.type)return r}}function jA(t){return t instanceof CSSFontFaceRule}function FA(){var t=U(window.document.styleSheets,(function(t){try{return Array.prototype.map.call(t.cssRules,(function(t){return t}))}catch(t){return[]}})).filter(jA),e={};return t.forEach((function(t){var n=t.style,r=X(n.getPropertyValue("font-family"),"\"'"),i=function(t){for(var e,n=new zA(t),r=[],i=n.nextToken();null!=i;i=n.nextToken())if("comma"===i.type)null!=e&&(r.push(e),e=void 0);else if("identifier"===i.type){var o=i.value;if("url"===o||"format"===o){var a=DA(n);null!=a&&("url"===o?(null!=e&&r.push(e),e={url:a[0]}):"format"===o&&null!=e&&(e.format=a[0]))}}return null!=e&&r.push(e),r}(n.getPropertyValue("src"));if(0!==i.length){var o=i.find((function(t){return n=(e=t).url,r=e.format,!(n.endsWith("?#iefix")||null!=r&&"woff"!==r&&"truetype"!==r||!n.startsWith("data:application/font-woff")&&!n.startsWith("data:application/font-sfnt")&&!/\.woff$/.test(n)&&!/\.ttf$/.test(n));var e,n,r}));null!=o&&(e[r]={src:o.url})}})),e}var ZA=function(t){var e=t.otherProps,n=t.omitLike,r=e.style,i=e.className,o={userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"};return f(r)&&!i&&Object.assign(o,{position:"relative",height:"100%",minHeight:"100px",width:"100%"}),M({style:o},R(e,(function(t,e){return n.some((function(t){return e.startsWith(t)}))})))},NA=["mousewheel","dblclick"],VA=["type"],GA=["animation","children","combine","items","layout","map","options","positions","selection","view"],YA=0;Fy.promisify();var WA={click:"onChartClick",contextmenu:"onChartContextMenu",dblclick:"onChartDoubleClick",dragcomplete:"onChartDragComplete",dragend:"onChartDragEnd",dragover:"onChartDragOver",dragstart:"onChartDragStart",dragcancel:"onChartDragCancel",error:"onChartError",hover:"onChartHover",mousedown:"onChartMouseDown",mousewheel:"onChartMouseWheel",touchdown:"onChartTouchDown"},UA={click:"onClick","context-menu":"onContextMenu","double-click":"onDoubleClick","drag-end":"onDragEnd","drag-move":"onDrag","drag-over":"onDragOver","drag-start":"onDragStart",hover:"onHover","pointer-down":"onPointerDown","pointer-move":"onPointerMove","pointer-up":"onPointerUp","view-change":"onViewChange",wheel:"onWheel"},XA={fit:"exact",gradient:!0,height:400,logo:!0,scale:!0,selection:!1,watermark:!0,width:300},HA={color:"rgb(255,109,102)",haloRadius:80,haloWidth:40,linkWidth:40,repeat:1,time:800},KA=new WeakMap,QA=new WeakMap,JA=new WeakMap,qA=new WeakMap,$A=new WeakMap,t_=new WeakMap,e_=new WeakMap,n_=new WeakMap,r_=new WeakMap;function i_(t){if(t)return function(e){var n;return l.unstable_batchedUpdates((function(){n=t(e)})),n}}var o_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.props;if(e_.has(t)&&JA.has(t)){var n=Ny({},e);e.onCombineLinks&&(n.onCombineLinks=i_(e.onCombineLinks)),e.onCombineNodes&&(n.onCombineNodes=i_(e.onCombineNodes)),JA.get(t)(n)}};function a_(t,e,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).time,i=void 0===r?200:r;o_(t,Ny(Ny({},t.props),{},{internal:{view:{command:e,parameter:n}},animation:{animate:!0,time:i}}))}var s_=function(t){qA.has(t)&&(qA.get(t)(),qA.delete(t)),KA.delete(t),QA.delete(t),JA.delete(t),$A.delete(t),t_.delete(t),e_.delete(t),r_.delete(t),n_.delete(t)},u_=function(t){Hy(n,s.Component);var e=nb(n);function n(t){var r;Gy(this,n),Uy(eb(r=e.call(this,t)),"image",(function(t){if(KA.has(eb(r))){var e=Ny({},XA),n=KA.get(eb(r)).viewOptions();if(n){var i=n.width,o=n.height;i&&(e.width=i),o&&(e.height=o)}var a=function(t){var e=t.options,n=t.regraphDefaults,r=void 0===n?{}:n,i=t.s;return ax({options:e,regraphDefaults:r,s:void 0===i?{}:i,propMap:$b})}({options:t,regraphDefaults:e}),s=a.height,u=a.width,l=a.options;return KA.get(eb(r)).toDataURL(u,s,l)}return Eb()})),Uy(eb(r),"export",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"png",fitTo:{}},e=t.type,n=void 0===e?"png":e,i=tb(t,VA),a=KA.get(eb(r));if(!a)return Promise.resolve();var s=Ny({type:n},i);if("svg"===n||"pdf"===n){var u=s,l=u.fonts;o(l)||(l={}),u.fonts=Ny(Ny({},FA()),l)}return a.export(s).then((function(t){var e=!1;return Ny(Ny({},t),{},{download:function(r){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).revokeObjectURL,s=void 0===a||a;if(null==t.url){var u=i;if("pdf"===n&&null!==u.doc&&!o(u.doc))throw new Error("Download function does not support predefined pdf documents.");throw new Error("Could not create export: result has no URL.")}e?console.warn("Download could not be started because the URL was already revoked."):(s&&(e=!0),function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=document.createElement("a");i.download="".concat(e,".").concat(n),i.href=t,i.click(),r&&URL.revokeObjectURL(t)}(t.url,r,n,s))}})})).catch((function(t){throw"NS_ERROR_FAILURE"===t.name?new Error("Insufficient memory to export chart. Try smaller 'fitTo' dimensions."):t}))})),Uy(eb(r),"ping",(function(t,e){if($A.has(eb(r))){var n=function(t){var e=t.options,n=t.regraphDefaults,r=void 0===n?{}:n,i=t.s;return ax({options:e,regraphDefaults:r,s:void 0===i?{}:i,propMap:tx})}({options:e,regraphDefaults:HA}),i=function(t){var e,n=[];return"string"==typeof t?n=[t]:Array.isArray(t)?e='Error calling ping: "keys" must be a string or an object.':"object"===Vy(t)?n=D(t,(function(t,e){if(t&&e)return e})).filter((function(t){return t})):e='Error calling ping: "keys" must be a string or an object.',e?{errorMessage:e,keys:[]}:{keys:n}}(t),o=i.keys,a=i.errorMessage;a?console.error(a):$A.get(eb(r)).ping(o,n)}})),Uy(eb(r),"viewCoordinates",(function(t,e){return $A.has(eb(r))?$A.get(eb(r)).toViewCoordinates(t,e):{}})),Uy(eb(r),"worldCoordinates",(function(t,e){return $A.has(eb(r))?$A.get(eb(r)).toWorldCoordinates(t,e):{}})),Uy(eb(r),"pan",(function(t,e){a_(eb(r),"pan",t,e)})),Uy(eb(r),"zoom",(function(t,e){a_(eb(r),"zoom",t,e)})),Uy(eb(r),"fit",(function(t,e){a_(eb(r),"fit",t,e)})),Uy(eb(r),"unstable_getItemAtViewCoordinates",(function(t,e){if($A.has(eb(r))&&t_.has(eb(r))){var n=$A.get(eb(r)).getItemInfoAt(t,e);if(n){var i=n.id,o=n.subItem,a=t_.get(eb(r)).getItemByExternalId(i);return{id:i,subItem:r_.get(eb(r)).getSubItemByExternalId(i,o),item:a}}}return null})),Uy(eb(r),"unstable_getItemInfo",(function(t){var e,n;if(r_.has(eb(r))){var i=r_.get(eb(r)),o=null!==(e=null!==(n=i.getRegraphItemById(t))&&void 0!==n?n:i.getRegraphComboNodeById(t))&&void 0!==e?e:i.getRegraphSummaryLinkById(t);if(null!=o)return{item:o,overwrite:i.currentOverwrites[t]}}})),QA.set(eb(r),u.createRef());var i=!1,a=!1,s=Object.values(UA);return Object.keys(t).forEach((function(t){"onChange"===t||"onItemInteraction"===t||s.includes(t)?i=!0:t.startsWith("onChart")&&(a=!0)})),n_.set(eb(r),!i&&a),i&&a&&console.error("A mixture of deprecated event handlers, and event handlers added in 3.0, are in use. The deprecated event handlers and behaviors will be ignored."),r}return Wy(n,[{key:"componentDidMount",value:function(){var t=this;e_.set(this,!0);var e=console.error,n=sx({options:this.props.options,regraphDefaults:Bx});Fy.create({id:"rg-chart-".concat(YA+=1),container:QA.get(this).current,type:"chart",options:n}).then((function(e){e_.has(t)?KA.set(t,e):s_(t)})).then((function(){if(e_.has(t)){var e=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},s={inProgress:!1,destroyed:!1,suppressNextViewChange:!1},u={},l=!1;function v(t){return void 0!==t&&(l=t),l}function g(){if(s.destroyed&&t)try{return t.destroy(),!0}catch(t){return!0}return!1}var m=t.viewOptions(),y=m.width,b=m.height;t.viewOptions({offsetX:421+y/2,offsetY:298+b/2});var x,w,A=zx(t),_=function(t){var e={items:{}},n={childToParent:{},childToTop:{},closedCombos:{},comboIdLookup:{},parentToChildren:{},revealedLinkIds:{}},r={},i=function(t){var e=n,r=e.comboIdLookup;return e.parentToChildren[r[t]]},o=function(t){return e.items[t]||i(t)&&i(t).definition},a=function(n){if(e.items&&e.items[n])return e.items[n];var r=i(n);if(r)return r.definition;var a=t.getComboLink(n);if(a){var s=a.id1,u=a.id2;if(s&&u)return{id1:s,id2:u,combo1:o(s),combo2:o(u)}}};return{getProperties:function(){return e},setProperties:function(t){e=t},getProperty:function(t){return e[t]},setProperty:function(t,n){e[t]=n},getLastCombos:function(){return n},setLastCombos:function(t){n=t},getComboByExternalId:i,getComboChildPositionCache:function(){return r},setComboChildPosition:function(t,e,n){r[t]={deltaX:e,deltaY:n}},getItemByExternalId:a,getItemsByExternalId:function(t){var e=c(t);return h(O(e,(function(t,e){return a(e)||!1})),(function(t){return t}))}}}(A),k=new nA(A,_),C=new rA(A,k),E=new Ow(o,A,k,C);function M(t){i(e)&&e(t)}r?x=MA(t,A,_,s,M,C):w=fA(t,A,_,s,M,E,v,C);var S=p({LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,F2:113});t.on("key-down",(function(t){var e=t.keyCode,n=t.modifierKeys,r=t.preventDefault;(S.includes(e)||65===e&&n.consistentCtrl)&&r()}));var I,L=new Map,T=new Map,P=null;return{o:function(t){P=null,I=void 0,function t(e){if(!g())if(k.setItems(e.items),s.inProgress)n=e;else{var i=!(!_.getProperty("map")||!e.map),o=hA(e,A,!!e.map);s.inProgress=!0,n=void 0;var l=Ny({},o),c=!1,p=l.positions;if(_.getProperty("map")&&!e.map&&(s.suppressNextViewChange=!0),i)l.positions=void 0;else{if(e.positions===u)if(o.layout&&o.layout!==_.getProperty("layout")){var m=e.positions;m&&!f(m)?l.positions=h(_.getProperty("positions"),(function(t,e){return m[e]})):(l.positions={},c=!0)}else f(l.positions)&&(c=!0),_.getProperty("map")&&!l.map&&void 0===_.getProperty("positions")?(_.setProperty("positions",l.positions),c=!0):l.positions=_.getProperty("positions");else{var y=L.get(e.positions);(void 0===l.positions||f(l.positions)&&y)&&(c=!0),void 0===e.positions?l.positions=_.getProperty("positions"):y&&(l.positions=y)}u=e.positions}f(l.options)&&(l.options=void 0),ww({adaptivePositions:c,comboChildPositionCache:_.getComboChildPositionCache(),dynamicStyleManager:E,helper:A,isDragging:v,itemService:k,lastCombos:_.getLastCombos(),linkRevealer:C,positionsPropPassed:p,vChart:l,vChartPrevious:_.getProperties()}).then((function(i){if(g())s.inProgress=!1;else{var u=_.getProperty("view"),c=l;if(c.view||(c.view=u),_.setProperties(l),!f(i)){if(i.combos&&(_.setLastCombos(i.combos),k.setCombos(i.combos)),!o.map&&(i.movement||i.removal)){var h=Ny(Ny({},o.positions),iA(A,_));_.setProperty("positions",h),i.movement&&!f(h)&&(L.set(e.positions,h),T.set(e.positions,!0))}i.viewchange&&(P=A.getView()),void 0!==i.leaflet&&(I=i.leaflet)}if(s.inProgress=!1,n)t(n);else{var p={};!o.map&&T.get(e.positions)&&(p.positions=L.get(e.positions),T.delete(e.positions)),T.has(void 0)&&T.delete(void 0),L.has(void 0)&&L.delete(void 0),!P||!r&&d(P,u)||(p.view=P,_.setProperty("view",P)),o.debug&&i.autofit&&(p.autofit=i.autofit),void 0!==I&&(p.leaflet=I),f(p)||(p.why="auto",M(p)),a()}}})).catch((function(e){s.inProgress=!1,n&&t(n),console.error("Error = ",e)}))}}(t)},bind:x,on:w,destroy:function(){s.destroyed=!0,s.inProgress||g()},helper:A,cache:_,itemService:k}}(KA.get(t),(function(e){var n=t.props,r=n.onChartChange,i=n.onChange;n_.get(t)&&r?r(e):i&&l.unstable_batchedUpdates((function(){i(e)}))}),n_.get(t),(function(e){var n=t.props.onItemInteraction;i(n)&&n(e)}),(function(){var e=t.props.unstable_onUpdateComplete;i(e)&&e(),yb("onUpdateComplete",{component:t,type:"chart"})})),n=e.o,r=e.bind,o=e.on,s=e.destroy,u=e.helper,v=e.cache,g=e.itemService;r_.set(t,g),qA.set(t,s),JA.set(t,n),$A.set(t,u),t_.set(t,v),function(t,e){if(void 0!==e){var n,r=tb(WA,NA);e("mousewheel",a((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n=o("mousewheel",e)}),100,{leading:!0})),e("mousewheel",(function(){return n})),e("dblclick",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];return!db[r]&&o("dblclick",e)})),e("all",(function(t){if(r[t]){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return o(t,n)}}))}function o(e,n){var r=WA[e],o=t.props[r];return!!i(o)&&o.apply(void 0,ab(n))}}(t,r),function(t,e){void 0!==e&&e((function(e,n){var r=UA[e];r&&function(e,n){var r=t.props[e];i(r)&&l.unstable_batchedUpdates((function(){r(n)}))}(r,n)}))}(t,o),o_(t),yb("onDidMount",{component:t,element:QA.get(t).current,type:"chart"})}else s_(t)})).catch(e)}},{key:"componentDidUpdate",value:function(){o_(this)}},{key:"componentWillUnmount",value:function(){s_(this)}},{key:"unstable_getItemViewCoordinates",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;if(r_.has(this)){var r=r_.get(this).getItemViewCoordinates(t,e);if(null!=r)return r(n)}}},{key:"render",value:function(){var t=this.props,e=(t.animation,t.children,t.combine,t.items,t.layout,t.map,t.options,t.positions,t.selection,t.view,tb(t,GA)),n=ZA({otherProps:e,omitLike:["onChart","onCombine","onItemInteraction","unstable_onUpdateComplete"].concat(ab(Object.values(UA)))});return u.createElement("div",Xy({},n,{ref:QA.get(this)}))}}]),n}(),l_=["preventDefault","defaultPrevented","rangeEnd","rangeStart","type","groupIndex","groupValues"],c_=["click","context-menu","double-click","drag-end","drag-start","hover","pointer-down","pointer-move","pointer-up","wheel"],f_=["context-menu","double-click","drag-end","drag-start","wheel"];function d_(t){return function(e){t.on("all",(function(t){return function(t,e){var n=t.name,r=t.event;c_.includes(n)&&e(n,function(t,e){if(null!=e){if("deltaX"in e)return e;var n=e.preventDefault,r=(e.defaultPrevented,e.rangeEnd),i=e.rangeStart,o=e.type,a=e.groupIndex,s=e.groupValues,u=tb(e,l_),l="area"===o||"bar"===o||"selection"===o||"scale"===o||"left"===o||"right"===o||"slider"===o?o:null;return f_.includes(t)?Ny(Ny({},u),{},{type:l,end:r,start:i,stackIndex:a,stackValues:s,preventDefault:n,get defaultPrevented(){return e.defaultPrevented}}):Ny(Ny({},u),{},{type:l,end:r,start:i,stackIndex:a,stackValues:s})}}(n,r))}(t,e)}))}}var h_={dt1:"start",dt2:"end",dt:"time",v:"value"},p_=new RegExp("\\b".concat(Object.keys(h_).join("|"),"\\b"),"g");function v_(t){return t.message=t.message.replace(p_,(function(t){return h_[t]})),t}var g_={maxRange:"auto",showControlBar:!1,groups:{groupBy:null},area:{colour:"#D3D3D3"}};function m_(t){var e=[];return m(t,(function(t,n){var r=function(t,e){var n=e.times,r=e.data;if(!Array.isArray(n))return null;var i=[],o=[];return n.forEach((function(t){if("number"==typeof t)i.push(t),o.push(1);else if(null!=t){var e,n=t.time,r=t.value,a=!1;if(Tb(n))e=n,a=!0;else if(null!=n){var s=n,u=s.start,l=s.end;e={},Tb(u)&&(e.dt1=u,a=!0),Tb(l)&&(e.dt2=l,a=!0)}a&&(i.push(e),"number"==typeof r?o.push(r):o.push(1))}})),0===i.length&&0===o.length?null:{id:t,dt:i,v:o,d:r}}(n,t);null!=r&&e.push(r)})),e}function y_(t,e,n,r,i,o){if(4===(null==o?void 0:o.size)&&"times"!==n)return!0}function b_(t,e,n){return new Promise((function(r){var i,o=t.animation,a=t.highlight,s=t.internal,u=t.items,l=t.mode,c=t.play,h=t.range,p=t.selection,v=t.selectionColor,g=t.options,m=o||{animate:!0,time:250},y=!1,b=!1,x=(i=e.items,!H(i,u,y_)),w=["#FF6D66","#669F00","#FF9900"];[function(){return x?(y=!f(u)&&f(e.items),n.load({items:m_(u)})):Eb()},function(){if(s&&s.view){var t,r=s.view,i=r.command,o=r.parameter;if("fit"===i&&(Array.isArray(o)||"object"===Vy(o)||"all"===o||null==o))return b=!0,Array.isArray(o)?t=o:z(o)&&(t=Object.keys(o)),n.zoom("fit",Ny(Ny({},m),{},{id:t}));if("zoom"===i&&("in"===o||"out"===o))return b=!0,n.zoom(o,m);if("pan"===i&&("backward"===o||"forward"===o))return b=!0,n.pan("backward"===o?"back":o,m)}return y?null==h||null==h.start||null==h.end?(b=!0,n.zoom("fit",m)):n.range(h.start,h.end,m):d(h,e.range)||null==h||"object"!==Vy(h)||null==h.start||null==h.end?Eb():(b=!0,n.range(h.start,h.end,m))},function(){if(x||p!==e.selection||!d(v,e.selectionColor)){var t=[],i=[].concat(w);Array.isArray(p)?t=ab(p.slice(0,3)):z(p)&&(t=[p]),v&&(Array.isArray(v)?v.forEach((function(t,e){i[e]=t})):"string"==typeof v&&(i[0]=v)),n.selection([]),n.selection(t.map((function(t,e){return{index:e,id:Object.keys(t),c:i[e]}})))}if(x||a!==e.highlight)try{n.mark(function(t){var e=[];return Array.isArray(t)&&t.forEach((function(t){if(Tb(t))e.push(t);else{var n=t.start,r=t.end;Tb(n)&&Tb(r)&&e.push({dt1:n,dt2:r})}})),e}(a))}catch(t){console.error("error = ",v_(t))}if((x||c!==e.play)&&(c?n.play():n.pause()),(u=g)!==(f=e.options)&&!d(u,f)||l!==e.mode){var o="smooth"===l?"area":"histogram",s=sx({options:Ny(Ny({},g),{},{type:o}),s:g_});n.options(s)}var u,f;r({viewChange:b,itemsChanged:x})}].reduce((function(t,e){return t.then(e)}),Eb()).catch((function(t){console.error("Error = ",v_(t))}))}))}var x_=["view"];var w_=["children","items","mode","options","play","range","selection","selectionColor"],A_=0;Fy.promisify();var __={click:"onTimeBarClick",contextmenu:"onTimeBarContextMenu",dblclick:"onTimeBarDoubleClick",dragcomplete:"onTimeBarDragComplete",dragend:"onTimeBarDragEnd",dragstart:"onTimeBarDragStart",error:"onTimeBarError",hover:"onTimeBarHover",mousewheel:"onTimeBarMouseWheel",touchdown:"onTimeBarTouchDown"},k_={click:"onClick","context-menu":"onContextMenu","double-click":"onDoubleClick","drag-end":"onDragEnd","drag-start":"onDragStart",hover:"onHover","pointer-down":"onPointerDown","pointer-move":"onPointerMove","pointer-up":"onPointerUp",wheel:"onWheel"},C_=new WeakMap,E_=new WeakMap,M_=new WeakMap,S_=new WeakMap,I_=new WeakMap,L_=new WeakMap,T_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.props;C_.has(t)&&M_.has(t)&&M_.get(t)(e)};function P_(t,e,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).time,i=void 0===r?200:r;T_(t,Ny(Ny({},t.props),{},{internal:{view:{command:e,parameter:n}},animation:{animate:i>0,time:i}}))}var O_=function(t){I_.has(t)&&(I_.get(t)(),I_.delete(t)),C_.delete(t),E_.delete(t),M_.delete(t),S_.delete(t),L_.delete(t)},R_=function(t){Hy(n,s.Component);var e=nb(n);function n(t){var r;Gy(this,n),Uy(eb(r=e.call(this,t)),"pan",(function(t,e){P_(eb(r),"pan",t,e)})),Uy(eb(r),"zoom",(function(t,e){P_(eb(r),"zoom",t,e)})),Uy(eb(r),"fit",(function(t,e){P_(eb(r),"fit",t,e)})),S_.set(eb(r),u.createRef());var i=!1,o=!1,a=Object.values(k_);return Object.keys(t).forEach((function(t){"onChange"===t||a.includes(t)?i=!0:t.startsWith("onTimeBar")&&(o=!0)})),L_.set(eb(r),!i&&o),i&&o&&console.error("A mixture of deprecated event handlers, and event handlers added in 3.0, are in use. The deprecated event handlers and behaviors will be ignored."),r}return Wy(n,[{key:"componentDidMount",value:function(){var t=this;C_.set(this,!0);var e=console.error,n=this.props,r=n.options,o=n.mode,s=sx({options:Ny(Ny({},r),"smooth"===o?{type:"area"}:{}),s:g_});Fy.create({id:"rg-timebar-".concat(A_+=1),container:S_.get(this).current,type:"timebar",options:s}).then((function(e){var n=e;C_.has(t)?(E_.set(t,n),L_.get(t)&&function(t,e){function n(e,n){var r=__[e],o=t.props[r];return!!i(o)&&("histo"===n[0]&&(n[0]=null),o.apply(void 0,ab(n)))}e.bind("all",(function(t){if("hover"===t)return!1;for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return n(t,r)})),e.bind("hover",a((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n("hover",e)}),50,{leading:!0}))}(t,n)):O_(t)})).then((function(){if(C_.has(t)){var e=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=!1,s=!1,u={highlight:[],items:{},mode:"histogram",options:{},play:!1,selection:{}},l={},f=!1,p=!1;function v(){if(a&&t)try{return t.destroy(),!0}catch(t){return!0}return!1}function g(t){var n=t.view,o=tb(t,x_);i(e)&&e(r?Ny({view:n},o):o)}function m(e){f=!1;var n=t.range(),i=n.dt1,o=n.dt2,a=l,s=a.start,p=a.end,v=!d(i,s)||!d(o,p);if(e||v){var m=t.getIds(i,o),b=c(m),x={items:h(u.items,(function(t,e){return y(b,e)}))};(r||s&&p||!u.range)&&(x.range={start:i,end:o},x.view={dt1:i,dt2:o}),u.range={start:i,end:o},l=u.range,g(x)}}var b=W(m,100);return t.on("change",(function(){f=!0,s||b()})),t.on("play",(function(){u.play||g({play:!0})})),t.on("pause",(function(){u.play&&g({play:!1})})),{retime:function(e){p=!1,function e(r){if(!v())if(s)n=r;else{var i=Ny({},r);s=!0,n=void 0,b_(i,u,t).then((function(t){var r=t.viewChange,a=t.itemsChanged;v()?s=!1:(f=f||r,p=p||a,u=i,s=!1,n?e(n):((f||p)&&m(p),o()))}))}}(Ny({},e))},destroy:function(){a=!0,s||v()},on:r?void 0:d_(t)}}(E_.get(t),(function(e){var n=t.props,r=n.onChange,i=n.onTimeBarChange;L_.get(t)&&i?i(e):r&&l.unstable_batchedUpdates((function(){r(e)}))}),L_.get(t),(function(){var e=t.props.unstable_onUpdateComplete;i(e)&&e(),yb("onUpdateComplete",{type:"timebar",component:t})})),n=e.retime,r=e.destroy,o=e.on;M_.set(t,n),I_.set(t,r),L_.get(t)||function(t,e){void 0!==e&&e((function(e,n){var r=k_[e];r&&function(e,n){var r=t.props[e];i(r)&&l.unstable_batchedUpdates((function(){r(n)}))}(r,n)}))}(t,o),T_(t),yb("onDidMount",{component:t,element:S_.get(t).current,type:"timebar"})}else O_(t)})).catch(e)}},{key:"componentDidUpdate",value:function(){T_(this)}},{key:"componentWillUnmount",value:function(){O_(this)}},{key:"render",value:function(){var t=this.props,e=(t.children,t.items,t.mode,t.options,t.play,t.range,t.selection,t.selectionColor,tb(t,w_)),n=ZA({otherProps:e,omitLike:["onTimeBar","unstable_onUpdateComplete"].concat(ab(Object.values(k_)))});return u.createElement("div",Xy({},n,{ref:S_.get(this)}))}}]),n}();e.Chart=u_,e.TimeBar=R_,e._getGraphEngine=function(){return Fy.getGraphEngine({selfLinks:!0})}}).call(this,n(39))},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(39))},function(t,e,n){var r=n(12),i=n(64),o=n(9),a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(4),i=n(180),o=n(65),a=Math.max,s=Math.min;t.exports=function(t,e,n){var u,l,c,f,d,h,p=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=u,r=l;return u=l=void 0,p=e,f=t.apply(r,n)}function b(t){return p=t,d=setTimeout(w,e),v?y(t):f}function x(t){var n=t-h;return void 0===h||n>=e||n<0||g&&t-p>=c}function w(){var t=i();if(x(t))return A(t);d=setTimeout(w,function(t){var n=e-(t-h);return g?s(n,c-(t-p)):n}(t))}function A(t){return d=void 0,m&&u?y(t):(u=l=void 0,f)}function _(){var t=i(),n=x(t);if(u=arguments,l=this,h=t,n){if(void 0===d)return b(h);if(g)return clearTimeout(d),d=setTimeout(w,e),y(h)}return void 0===d&&(d=setTimeout(w,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,e):c,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=h=l=d=void 0},_.flush=function(){return void 0===d?f:A(i())},_}},function(t,e,n){var r=n(181),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},function(t,e,n){var r=n(16),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(190)();t.exports=r},function(t,e,n){var r=n(191),i=n(25),o=n(2),a=n(26),s=n(43),u=n(44),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),f=!n&&!c&&a(t),d=!n&&!c&&!f&&u(t),h=n||c||f||d,p=h?r(t.length,String):[],v=p.length;for(var g in t)!e&&!l.call(t,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},function(t,e,n){var r=n(46),i=n(195),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(222),i=n(108),o=n(225);t.exports=function(t,e,n,a,s,u){var l=1&n,c=t.length,f=e.length;if(c!=f&&!(l&&f>c))return!1;var d=u.get(t),h=u.get(e);if(d&&h)return d==e&&h==t;var p=-1,v=!0,g=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++p<c;){var m=t[p],y=e[p];if(a)var b=l?a(y,m,p,e,t,u):a(m,y,p,t,e,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(m===t||s(m,t,n,a,u)))return g.push(e)}))){v=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){v=!1;break}}return u.delete(t),u.delete(e),v}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(7).Uint8Array;t.exports=r},function(t,e,n){var r=n(111),i=n(70),o=n(13);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(69),i=n(2);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(4);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(71);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(68);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(119);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(18),i=n(22),o=n(2),a=n(41),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},function(t,e,n){var r=n(53),i=n(25),o=n(2),a=n(43),s=n(66),u=n(30);t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,f=!1;++l<c;){var d=u(e[l]);if(!(f=null!=t&&n(t,d)))break;t=t[d]}return f||++l!=c?f:!!(c=null==t?0:t.length)&&s(c)&&a(d,c)&&(o(t)||i(t))}},function(t,e,n){var r=n(106),i=n(29),o=n(25),a=n(2),s=n(14),u=n(26),l=n(46),c=n(44),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||c(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(l(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},function(t,e,n){var r=n(75),i=n(53),o=n(43),a=n(4),s=n(30);t.exports=function(t,e,n,u){if(!a(t))return t;for(var l=-1,c=(e=i(e,t)).length,f=c-1,d=t;null!=d&&++l<c;){var h=s(e[l]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(l!=f){var v=d[h];void 0===(p=u?u(v,h,d):void 0)&&(p=a(v)?v:o(e[l+1])?[]:{})}r(d,h,p),d=d[h]}return t}},function(t,e,n){var r=n(111),i=n(124),o=n(32);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(69),i=n(64),o=n(70),a=n(113),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(31),i=n(127),o=n(128);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(125),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=n(u),r(t,this,l)}}},function(t,e,n){var r=n(252),i=n(253)(r);t.exports=i},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(69),i=n(256);t.exports=function t(e,n,o,a,s){var u=-1,l=e.length;for(o||(o=i),s||(s=[]);++u<l;){var c=e[u];n>0&&o(c)?n>1?t(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(258),i=n(120);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(259),i=n(27),o=n(45),a=o&&o.isDate,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(7).isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},function(t,e,n){var r=n(136);t.exports=function(t){return"number"==typeof t&&t==r(t)}},function(t,e,n){var r=n(260);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},function(t,e,n){var r=n(77);t.exports=function(t){return r(t)&&t!=+t}},function(t,e,n){var r=n(47),i=n(131),o=n(75),a=n(262),s=n(263),u=n(139),l=n(140),c=n(264),f=n(265),d=n(110),h=n(123),p=n(29),v=n(266),g=n(267),m=n(142),y=n(2),b=n(26),x=n(272),w=n(4),A=n(274),_=n(13),k=n(32),C="[object Arguments]",E="[object Function]",M="[object Object]",S={};S[C]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S[M]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S[E]=S["[object WeakMap]"]=!1,t.exports=function t(e,n,I,L,T,P){var O,R=1&n,B=2&n,z=4&n;if(I&&(O=T?I(e,L,T,P):I(e)),void 0!==O)return O;if(!w(e))return e;var D=y(e);if(D){if(O=v(e),!R)return l(e,O)}else{var j=p(e),F=j==E||"[object GeneratorFunction]"==j;if(b(e))return u(e,R);if(j==M||j==C||F&&!T){if(O=B||F?{}:m(e),!R)return B?f(e,s(O,e)):c(e,a(O,e))}else{if(!S[j])return T?e:{};O=g(e,j,R)}}P||(P=new r);var Z=P.get(e);if(Z)return Z;P.set(e,O),A(e)?e.forEach((function(r){O.add(t(r,n,I,r,e,P))})):x(e)&&e.forEach((function(r,i){O.set(i,t(r,n,I,i,e,P))}));var N=D?void 0:(z?B?h:d:B?k:_)(e);return i(N||e,(function(r,i){N&&(r=e[i=r]),o(O,i,t(r,n,I,i,e,P))})),O}},function(t,e,n){(function(t){var r=n(7),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(21)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(78);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(271),i=n(64),o=n(46);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(19),i=n(28);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(145),i=n(311),o=n(312);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(321),i=n(376),o=n(166),a=n(10),s=n(385);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(54),i=n(328),o=n(329),a=n(330),s=n(331),u=n(332);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},function(t,e,n){var r=n(34),i=n(35);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(39))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(351),i=n(36);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(352),i=n(355),o=n(356);t.exports=function(t,e,n,a,s,u){var l=1&n,c=t.length,f=e.length;if(c!=f&&!(l&&f>c))return!1;var d=u.get(t),h=u.get(e);if(d&&h)return d==e&&h==t;var p=-1,v=!0,g=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++p<c;){var m=t[p],y=e[p];if(a)var b=l?a(y,m,p,e,t,u):a(m,y,p,t,e,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(m===t||s(m,t,n,a,u)))return g.push(e)}))){v=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){v=!1;break}}return u.delete(t),u.delete(e),v}},function(t,e,n){var r=n(156),i=n(10);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(363),i=n(158),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(364),i=n(85),o=n(10),a=n(86),s=n(87),u=n(88),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),f=!n&&!c&&a(t),d=!n&&!c&&!f&&u(t),h=n||c||f||d,p=h?r(t.length,String):[],v=p.length;for(var g in t)!e&&!l.call(t,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},function(t,e,n){var r=n(90),i=n(370),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(371),i=n(82),o=n(372),a=n(373),s=n(374),u=n(34),l=n(152),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=l(r),g=l(i),m=l(o),y=l(a),b=l(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=c||o&&x(o.resolve())!=f||a&&x(new a)!=d||s&&x(new s)!=h)&&(x=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case g:return c;case m:return f;case y:return d;case b:return h}return e}),t.exports=x},function(t,e,n){var r=n(35);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(60),i=n(85),o=n(10),a=n(87),s=n(89),u=n(37);t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,f=!1;++l<c;){var d=u(e[l]);if(!(f=null!=t&&n(t,d)))break;t=t[d]}return f||++l!=c?f:!!(c=null==t?0:t.length)&&s(c)&&a(d,c)&&(o(t)||i(t))}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(391);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(400),i=n(84);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(398),i=n(399),o=n(403),a=n(10);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(80)),o=r(n(117)),a=r(n(74)),s=n(96);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(76),n(132),n(133),n(73),n(134),n(135),n(137),n(77);var d=Object.prototype.hasOwnProperty;function h(t,e){return null!=t&&d.call(t,e)}function p(t){return h(t,"id1")&&h(t,"id2")}function v(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(t){return Promise.reject(t)}}}var g=v((function(t,e,n,r){return S(t).then((function(i){I(t,e),I(t,n);var o=i.shortestPaths(e,n,r),s={onePath:o.onePath,one:o.one,items:{},distance:1/0};return o.distance!==1/0&&(s.items=a(t,(function(t,e){return o.items.includes(e)})),s.distance=o.distance),s}))})),m=v((function(t,e){return S(t).then((function(t){return t.pageRank(e)}))})),y=v((function(t,e,n){return S(t).then((function(r){var i;if("string"==typeof e)i=[e];else if(Array.isArray(e))i=e;else{if("object"!==c(e))throw new Error("The ids argument passed into neighbors must be a string, an array of strings, or an object");i=Object.keys(e)}var o=r.neighbours(i,n),s=o.nodes,u=o.links,f=a(t,(function(t,e){return s.includes(e)})),d=a(t,(function(t,e){return u&&u.includes(e)}));return l(l({},f),d)}))})),b=v((function(t){return S(t).then((function(t){return t.kCores()}))})),x=v((function(t,e){return S(t).then((function(t){return t.eigenCentrality(e)}))})),w=v((function(t,e,n){return S(t).then((function(t){return t.distances(e,n)}))})),A=v((function(t,e){return S(t).then((function(t){return t.degrees(e)}))})),_=v((function(t){return S(t).then((function(e){return e.components().map((function(e){var n=e.nodes,r=e.links,i=a(t,(function(t,e){return n.includes(e)})),o=a(t,(function(t,e){return r&&r.includes(e)}));return l(l({},i),o)}))}))})),k=v((function(t,e){return S(t).then((function(n){return n.clusters(e).map((function(e){return a(t,(function(t,n){return e.includes(n)}))}))}))})),C=v((function(t,e){return S(t).then((function(t){return t.closeness(e)}))})),E=v((function(t,e){return S(t).then((function(t){return t.betweenness(e)}))})),M=o((function(t){var e=s._getGraphEngine();return e.load({type:"LinkChart",items:i(t,(function(t,e){return function(t,e){if(p(e)){var n=e.data,r=e.end1,i=e.end2,o=e.id1,a=e.id2;return{a1:null!=r&&!0===r.arrow,a2:null!=i&&!0===i.arrow,d:n,id:t,id1:o,id2:a,type:"link"}}return{d:e.data,id:t,type:"node"}}(e,t)}))}),e})),S=function(t){return new Promise((function(e){e(M(t))}))};function I(t,e){if(!t[e]||p(t[e]))throw"Node with id ".concat(e," not found in items list")}e.betweenness=E,e.closeness=C,e.clusters=k,e.components=_,e.degrees=A,e.distances=w,e.eigenCentrality=x,e.kCores=b,e.neighbors=y,e.pageRank=m,e.shortestPaths=g},,function(t,e,n){"use strict";var r=n(63),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),e.Fragment=f("react.fragment"),e.StrictMode=f("react.strict_mode"),e.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),e.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}function m(){}function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(h(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},m.prototype=g.prototype;var b=y.prototype=new m;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function _(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)w.call(e,r)&&!A.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:x.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var C=/\/+/g;function E(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+E(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(C,"$&/")+"/"),M(a,e,n,"",(function(t){return t}))):null!=a&&(k(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=r+E(s=t[l],l);u+=M(s,e,n,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=M(s=s.value,e,n,c=r+E(s,l++),a);else if("object"===s)throw e=""+t,Error(h(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function S(t,e,n){if(null==t)return t;var r=[],i=0;return M(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function I(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var L={current:null};function T(){var t=L.current;if(null===t)throw Error(h(321));return t}var P={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:S,forEach:function(t,e,n){S(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return S(t,(function(){e++})),e},toArray:function(t){return S(t,(function(t){return t}))||[]},only:function(t){if(!k(t))throw Error(h(143));return t}},e.Component=g,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(h(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=x.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!A.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=_,e.createFactory=function(t){var e=_.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:I}},e.memo=function(t,e){return{$$typeof:l,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return T().useCallback(t,e)},e.useContext=function(t,e){return T().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return T().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return T().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return T().useLayoutEffect(t,e)},e.useMemo=function(t,e){return T().useMemo(t,e)},e.useReducer=function(t,e,n){return T().useReducer(t,e,n)},e.useRef=function(t){return T().useRef(t)},e.useState=function(t){return T().useState(t)},e.version="17.0.2"},function(t,e,n){"use strict";var r=n(3),i=n(63),o=n(174);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function x(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(v,t)||!h.call(p,t)&&(d.test(t)?v[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,b);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,b);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,b);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=60103,_=60106,k=60107,C=60108,E=60114,M=60109,S=60110,I=60112,L=60113,T=60120,P=60115,O=60116,R=60121,B=60128,z=60129,D=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;A=F("react.element"),_=F("react.portal"),k=F("react.fragment"),C=F("react.strict_mode"),E=F("react.profiler"),M=F("react.provider"),S=F("react.context"),I=F("react.forward_ref"),L=F("react.suspense"),T=F("react.suspense_list"),P=F("react.memo"),O=F("react.lazy"),R=F("react.block"),F("react.scope"),B=F("react.opaque.id"),z=F("react.debug_trace_mode"),D=F("react.offscreen"),j=F("react.legacy_hidden")}var Z,N="function"===typeof Symbol&&Symbol.iterator;function V(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=N&&t[N]||t["@@iterator"])?t:null}function G(t){if(void 0===Z)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Z=e&&e[1]||""}return"\n"+Z+t}var Y=!1;function W(t,e){if(!t||Y)return"";Y=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Y=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?G(t):""}function U(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=W(t.type,!1);case 11:return t=W(t.type.render,!1);case 22:return t=W(t.type._render,!1);case 1:return t=W(t.type,!0);default:return""}}function X(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case T:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case S:return(t.displayName||"Context")+".Consumer";case M:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case P:return X(t.type);case R:return X(t._render);case O:e=t._payload,t=t._init;try{return X(t(e))}catch(n){}}return null}function H(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Q(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function J(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&x(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function lt(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ft="http://www.w3.org/1999/xhtml",dt="http://www.w3.org/2000/svg";function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ht(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vt,gt,mt=(gt=function(t,e){if(t.namespaceURI!==dt||"innerHTML"in t)t.innerHTML=e;else{for((vt=vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return gt(t,e)}))}:gt);function yt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var bt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xt=["Webkit","ms","Moz","O"];function wt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||bt.hasOwnProperty(t)&&bt[t]?(""+e).trim():e+"px"}function At(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=wt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(bt).forEach((function(t){xt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bt[e]=bt[t]}))}));var _t=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(t,e){if(e){if(_t[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function Ct(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Et(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Mt=null,St=null,It=null;function Lt(t){if(t=ri(t)){if("function"!==typeof Mt)throw Error(a(280));var e=t.stateNode;e&&(e=oi(e),Mt(t.stateNode,t.type,e))}}function Tt(t){St?It?It.push(t):It=[t]:St=t}function Pt(){if(St){var t=St,e=It;if(It=St=null,Lt(t),e)for(t=0;t<e.length;t++)Lt(e[t])}}function Ot(t,e){return t(e)}function Rt(t,e,n,r,i){return t(e,n,r,i)}function Bt(){}var zt=Ot,Dt=!1,jt=!1;function Ft(){null===St&&null===It||(Bt(),Pt())}function Zt(t,e){var n=t.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Nt=!1;if(f)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(gt){Nt=!1}function Gt(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Yt=!1,Wt=null,Ut=!1,Xt=null,Ht={onError:function(t){Yt=!0,Wt=t}};function Kt(t,e,n,r,i,o,a,s,u){Yt=!1,Wt=null,Gt.apply(Ht,arguments)}function Qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Jt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function qt(t){if(Qt(t)!==t)throw Error(a(188))}function $t(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qt(i),t;if(o===r)return qt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,ue=null,le=null,ce=new Map,fe=new Map,de=[],he="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ve(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(e.pointerId)}}function ge(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=pe(e,n,r,i,o),null!==e&&(null!==(e=ri(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function me(t){var e=ni(t.target);if(null!==e){var n=Qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Jt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ri(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function be(t,e,n){ye(t)&&n.delete(e)}function xe(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ri(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&ye(se)&&(se=null),null!==ue&&ye(ue)&&(ue=null),null!==le&&ye(le)&&(le=null),ce.forEach(be),fe.forEach(be)}function we(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xe)))}function Ae(t){function e(e){return we(e,t)}if(0<ae.length){we(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&we(se,t),null!==ue&&we(ue,t),null!==le&&we(le,t),ce.forEach(e),fe.forEach(e),n=0;n<de.length;n++)(r=de[n]).blockedOn===t&&(r.blockedOn=null);for(;0<de.length&&null===(n=de[0]).blockedOn;)me(n),null===n.blockedOn&&de.shift()}function _e(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ke={animationend:_e("Animation","AnimationEnd"),animationiteration:_e("Animation","AnimationIteration"),animationstart:_e("Animation","AnimationStart"),transitionend:_e("Transition","TransitionEnd")},Ce={},Ee={};function Me(t){if(Ce[t])return Ce[t];if(!ke[t])return t;var e,n=ke[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ee)return Ce[t]=n[e];return t}f&&(Ee=document.createElement("div").style,"AnimationEvent"in window||(delete ke.animationend.animation,delete ke.animationiteration.animation,delete ke.animationstart.animation),"TransitionEvent"in window||delete ke.transitionend.transition);var Se=Me("animationend"),Ie=Me("animationiteration"),Le=Me("animationstart"),Te=Me("transitionend"),Pe=new Map,Oe=new Map,Re=["abort","abort",Se,"animationEnd",Ie,"animationIteration",Le,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Te,"transitionEnd","waiting","waiting"];function Be(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Oe.set(r,e),Pe.set(r,i),l(i,[r])}}(0,o.unstable_now)();var ze=8;function De(t){if(0!==(1&t))return ze=15,1;if(0!==(2&t))return ze=14,2;if(0!==(4&t))return ze=13,4;var e=24&t;return 0!==e?(ze=12,e):0!==(32&t)?(ze=11,32):0!==(e=192&t)?(ze=10,e):0!==(256&t)?(ze=9,256):0!==(e=3584&t)?(ze=8,e):0!==(4096&t)?(ze=7,4096):0!==(e=4186112&t)?(ze=6,e):0!==(e=62914560&t)?(ze=5,e):67108864&t?(ze=4,67108864):0!==(134217728&t)?(ze=3,134217728):0!==(e=805306368&t)?(ze=2,e):0!==(1073741824&t)?(ze=1,1073741824):(ze=8,t)}function je(t,e){var n=t.pendingLanes;if(0===n)return ze=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=ze=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=De(u),i=ze):0!==(s&=o)&&(r=De(s),i=ze)}else 0!==(o=n&~a)?(r=De(o),i=ze):0!==s&&(r=De(s),i=ze);if(0===r)return 0;if(r=n&((0>(r=31-Ye(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(De(e),i<=ze)return e;ze=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Ye(e)),r|=t[n],e&=~i;return r}function Fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ze(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ne(24&~e))?Ze(10,e):t;case 10:return 0===(t=Ne(192&~e))?Ze(8,e):t;case 8:return 0===(t=Ne(3584&~e))&&(0===(t=Ne(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ne(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ne(t){return t&-t}function Ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ge(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Ye(e)]=n}var Ye=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(We(t)/Ue|0)|0},We=Math.log,Ue=Math.LN2;var Xe=o.unstable_UserBlockingPriority,He=o.unstable_runWithPriority,Ke=!0;function Qe(t,e,n,r){Dt||Bt();var i=qe,o=Dt;Dt=!0;try{Rt(i,t,e,n,r)}finally{(Dt=o)||Ft()}}function Je(t,e,n,r){He(Xe,qe.bind(null,t,e,n,r))}function qe(t,e,n,r){var i;if(Ke)if((i=0===(4&e))&&0<ae.length&&-1<he.indexOf(t))t=pe(null,t,e,n,r),ae.push(t);else{var o=$e(t,e,n,r);if(null===o)i&&ve(t,r);else{if(i){if(-1<he.indexOf(t))return t=pe(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ge(se,t,e,n,r,i),!0;case"dragenter":return ue=ge(ue,t,e,n,r,i),!0;case"mouseover":return le=ge(le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ce.set(o,ge(ce.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fe.set(o,ge(fe.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ve(t,r)}Br(t,e,r,null,n)}}}function $e(t,e,n,r){var i=Et(r);if(null!==(i=ni(i))){var o=Qt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Jt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Br(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var ln,cn,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(dn),pn=i({},dn,{view:0,detail:0}),vn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fn&&(fn&&"mousemove"===t.type?(ln=t.screenX-fn.screenX,cn=t.screenY-fn.screenY):cn=ln=0,fn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),mn=un(gn),yn=un(i({},gn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),xn=un(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),An=un(wn),_n=un(i({},dn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=En[t])&&!!e[t]}function Sn(){return Mn}var In=i({},pn,{key:function(t){if(t.key){var e=kn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Cn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ln=un(In),Tn=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),On=un(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},gn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=un(Rn),zn=[9,13,27,32],Dn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Fn=f&&"TextEvent"in window&&!jn,Zn=f&&(!Dn||jn&&8<jn&&11>=jn),Nn=String.fromCharCode(32),Vn=!1;function Gn(t,e){switch(t){case"keyup":return-1!==zn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Wn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Un[t.type]:"textarea"===e}function Hn(t,e,n,r){Tt(r),0<(e=Dr(e,"onChange")).length&&(n=new hn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Qn=null;function Jn(t){Ir(t,0)}function qn(t){if(J(ii(t)))return t}function $n(t,e){if("change"===t)return e}var tr=!1;if(f){var er;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}er=nr}else er=!1;tr=er&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",or),Qn=Kn=null)}function or(t){if("value"===t.propertyName&&qn(Qn)){var e=[];if(Hn(e,Qn,t,Et(t)),t=Jn,Dt)t(e);else{Dt=!0;try{Ot(t,e)}finally{Dt=!1,Ft()}}}}function ar(t,e,n){"focusin"===t?(ir(),Qn=n,(Kn=e).attachEvent("onpropertychange",or)):"focusout"===t&&ir()}function sr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return qn(Qn)}function ur(t,e){if("click"===t)return qn(e)}function lr(t,e){if("input"===t||"change"===t)return qn(e)}var cr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},fr=Object.prototype.hasOwnProperty;function dr(t,e){if(cr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(e,n[r])||!cr(t[n[r]],e[n[r]]))return!1;return!0}function hr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pr(t,e){var n,r=hr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hr(r)}}function vr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?vr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function gr(){for(var t=window,e=q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=q((t=e.contentWindow).document)}return e}function mr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,Ar=!1;function _r(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ar||null==br||br!==q(r)||("selectionStart"in(r=br)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Dr(xr,"onSelect")).length&&(e=new hn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=br)))}Be("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Be("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Be(Re,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<kr.length;Cr++)Oe.set(kr[Cr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Sr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,l){if(Kt.apply(this,arguments),Yt){if(!Yt)throw Error(a(198));var c=Wt;Yt=!1,Wt=null,Ut||(Ut=!0,Xt=c)}}(r,e,void 0,t),t.currentTarget=null}function Ir(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Sr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Sr(i,s,l),o=u}}}if(Ut)throw t=Xt,Ut=!1,Xt=null,t}function Lr(t,e){var n=ai(e),r=t+"__bubble";n.has(r)||(Rr(e,t,2,!1),n.add(r))}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Pr(t){t[Tr]||(t[Tr]=!0,s.forEach((function(e){Mr.has(e)||Or(e,!1,t,null),Or(e,!0,t,null)})))}function Or(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Mr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ai(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Rr(o,t,i,e),a.add(s))}function Rr(t,e,n,r){var i=Oe.get(e);switch(void 0===i?2:i){case 0:i=Qe;break;case 1:i=Je;break;default:i=qe}n=i.bind(null,e,n,t),i=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Br(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(jt)return t(e,n);jt=!0;try{zt(t,e,n)}finally{jt=!1,Ft()}}((function(){var r=o,i=Et(n),a=[];t:{var s=Pe.get(t);if(void 0!==s){var u=hn,l=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=Ln;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Se:case Ie:case Le:u=xn;break;case Te:u=On;break;case"scroll":u=vn;break;case"wheel":u=Bn;break;case"copy":case"cut":case"paste":u=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&e),f=!c&&"scroll"===t,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Zt(p,d))&&c.push(zr(p,v,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ti])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(f=Qt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=mn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Tn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ii(u),h=null==l?s:ii(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,ni(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,u&&l)t:{for(d=l,p=0,h=c=u;h;h=jr(h))p++;for(h=0,v=d;v;v=jr(v))h++;for(;0<p-h;)c=jr(c),p--;for(;0<h-p;)d=jr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=jr(c),d=jr(d)}c=null}else c=null;null!==u&&Fr(a,s,u,c,!1),null!==l&&null!==f&&Fr(a,f,l,c,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=$n;else if(Xn(s))if(tr)g=lr;else{g=sr;var m=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ur);switch(g&&(g=g(t,r))?Hn(a,g,n,i):(m&&m(t,s,r),"focusout"===t&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&it(s,"number",s.value)),m=r?ii(r):window,t){case"focusin":(Xn(m)||"true"===m.contentEditable)&&(br=m,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,_r(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Wn?Gn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Zn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,Wn=!0)),0<(m=Dr(r,b)).length&&(b=new _n(b,t,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Yn(n))&&(b.data=y))),(y=Fn?function(t,e){switch(t){case"compositionend":return Yn(e);case"keypress":return 32!==e.which?null:(Vn=!0,Nn);case"textInput":return(t=e.data)===Nn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Wn)return"compositionend"===t||!Dn&&Gn(t,e)?(t=rn(),nn=en=tn=null,Wn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ir(a,e)}))}function zr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Zt(t,n))&&r.unshift(zr(t,o,i)),null!=(o=Zt(t,e))&&r.push(zr(t,o,i))),t=t.return}return r}function jr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Fr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Zt(n,o))&&a.unshift(zr(n,u,s)):i||null!=(u=Zt(n,o))&&a.push(zr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Zr(){}var Nr=null,Vr=null;function Gr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Yr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Ur="function"===typeof clearTimeout?clearTimeout:void 0;function Xr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Hr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Kr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Qr=0;var Jr=Math.random().toString(36).slice(2),qr="__reactFiber$"+Jr,$r="__reactProps$"+Jr,ti="__reactContainer$"+Jr,ei="__reactEvents$"+Jr;function ni(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[qr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Kr(t);null!==t;){if(n=t[qr])return n;t=Kr(t)}return e}n=(t=n).parentNode}return null}function ri(t){return!(t=t[qr]||t[ti])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ii(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function oi(t){return t[$r]||null}function ai(t){var e=t[ei];return void 0===e&&(e=t[ei]=new Set),e}var si=[],ui=-1;function li(t){return{current:t}}function ci(t){0>ui||(t.current=si[ui],si[ui]=null,ui--)}function fi(t,e){ui++,si[ui]=t.current,t.current=e}var di={},hi=li(di),pi=li(!1),vi=di;function gi(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){ci(pi),ci(hi)}function bi(t,e,n){if(hi.current!==di)throw Error(a(168));fi(hi,e),fi(pi,n)}function xi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,X(e)||"Unknown",o));return i({},n,r)}function wi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,vi=hi.current,fi(hi,t),fi(pi,pi.current),!0}function Ai(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=xi(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,ci(pi),ci(hi),fi(hi,t)):ci(pi),fi(pi,n)}var _i=null,ki=null,Ci=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Mi=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ii=o.unstable_requestPaint,Li=o.unstable_now,Ti=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Bi=o.unstable_LowPriority,zi=o.unstable_IdlePriority,Di={},ji=void 0!==Ii?Ii:function(){},Fi=null,Zi=null,Ni=!1,Vi=Li(),Gi=1e4>Vi?Li:function(){return Li()-Vi};function Yi(){switch(Ti()){case Pi:return 99;case Oi:return 98;case Ri:return 97;case Bi:return 96;case zi:return 95;default:throw Error(a(332))}}function Wi(t){switch(t){case 99:return Pi;case 98:return Oi;case 97:return Ri;case 96:return Bi;case 95:return zi;default:throw Error(a(332))}}function Ui(t,e){return t=Wi(t),Ci(t,e)}function Xi(t,e,n){return t=Wi(t),Ei(t,e,n)}function Hi(){if(null!==Zi){var t=Zi;Zi=null,Mi(t)}Ki()}function Ki(){if(!Ni&&null!==Fi){Ni=!0;var t=0;try{var e=Fi;Ui(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(t+1)),Ei(Pi,Hi),n}finally{Ni=!1}}}var Qi=w.ReactCurrentBatchConfig;function Ji(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var qi=li(null),$i=null,to=null,eo=null;function no(){eo=to=$i=null}function ro(t){var e=qi.current;ci(qi),t.type._context._currentValue=e}function io(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function oo(t,e){$i=t,eo=to=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Da=!0),t.firstContext=null)}function ao(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===$i)throw Error(a(308));to=e,$i.dependencies={lanes:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var so=!1;function uo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function co(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ho(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function po(t,e,n,r){var o=t.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var f=t.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=l)}}if(null!==a){for(d=o.baseState,s=0,f=c=l=null;;){u=a.lane;var h=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,v=a;switch(u=e,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,u);break t}d=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(h,d,u):p)||void 0===u)break t;d=i({},d,u);break t;case 2:so=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else h={eventTime:h,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=h,l=d):f=f.next=h,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Ns|=s,t.lanes=s,t.memoizedState=d}}function vo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function mo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternals)&&Qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=du(),i=hu(t),o=co(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),fo(t,o),pu(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=du(),i=hu(t),o=co(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),fo(t,o),pu(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=du(),r=hu(t),i=co(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),fo(t,i),pu(t,r,n)}};function bo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function xo(t,e,n){var r=!1,i=di,o=e.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=mi(e)?vi:hi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?gi(t,i):di),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function Ao(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=go,uo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=mi(e)?vi:hi.current,i.context=gi(t,o)),po(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(mo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var _o=Array.isArray;function ko(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===go&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Co(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Eo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Uu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Qu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=ko(t,e,n),r.return=t,r):((r=Xu(n.type,n.key,n.props,null,t.mode,r)).ref=ko(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ju(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Hu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Qu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case A:return(n=Xu(e.type,e.key,e.props,null,t.mode,n)).ref=ko(t,null,e),n.return=t,n;case _:return(e=Ju(e,t.mode,n)).return=t,e}if(_o(e)||V(e))return(e=Hu(e,t.mode,n,null)).return=t,e;Co(t,e)}return null}function h(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?n.type===k?f(t,e,n.props.children,r,i):l(t,e,n,r):null;case _:return n.key===i?c(t,e,n,r):null}if(_o(n)||V(n))return null!==i?null:f(t,e,n,r,null);Co(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return t=t.get(null===r.key?n:r.key)||null,r.type===k?f(e,t,r.props.children,i,r.key):l(e,t,r,i);case _:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||V(r))return f(e,t=t.get(n)||null,r,i,null);Co(e,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=h(i,f,s[v],u);if(null===m){null===f&&(f=g);break}t&&f&&null===m.alternate&&e(i,f),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,f=g}if(v===s.length)return n(i,f),l;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(t&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g);return t&&f.forEach((function(t){return e(i,t)})),l}function g(i,s,u,l){var c=V(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,l);if(null===b){null===v&&(v=m);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,g),null===f?c=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=d(i,y.value,l))&&(s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return c}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,l))&&(t&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return t&&v.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===k&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case A:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===k){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}}else if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=ko(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===k?((r=Hu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Xu(o.type,o.key,o.props,null,t.mode,u)).ref=ko(t,r,o),u.return=t,t=u)}return s(t);case _:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Ju(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Qu(o,t.mode,u)).return=t,t=r),s(t);if(_o(o))return v(t,r,o,u);if(V(o))return g(t,r,o,u);if(c&&Co(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(t.type)||"Component"))}return n(t,r)}}var Mo=Eo(!0),So=Eo(!1),Io={},Lo=li(Io),To=li(Io),Po=li(Io);function Oo(t){if(t===Io)throw Error(a(174));return t}function Ro(t,e){switch(fi(Po,e),fi(To,t),fi(Lo,Io),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ci(Lo),fi(Lo,e)}function Bo(){ci(Lo),ci(To),ci(Po)}function zo(t){Oo(Po.current);var e=Oo(Lo.current),n=pt(e,t.type);e!==n&&(fi(To,t),fi(Lo,n))}function Do(t){To.current===t&&(ci(Lo),ci(To))}var jo=li(0);function Fo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zo=null,No=null,Vo=!1;function Go(t,e){var n=Yu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Yo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Wo(t){if(Vo){var e=No;if(e){var n=e;if(!Yo(t,e)){if(!(e=Hr(n.nextSibling))||!Yo(t,e))return t.flags=-1025&t.flags|2,Vo=!1,void(Zo=t);Go(Zo,n)}Zo=t,No=Hr(e.firstChild)}else t.flags=-1025&t.flags|2,Vo=!1,Zo=t}}function Uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Zo=t}function Xo(t){if(t!==Zo)return!1;if(!Vo)return Uo(t),Vo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Yr(e,t.memoizedProps))for(e=No;e;)Go(t,e),e=Hr(e.nextSibling);if(Uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){No=Hr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}No=null}}else No=Zo?Hr(t.stateNode.nextSibling):null;return!0}function Ho(){No=Zo=null,Vo=!1}var Ko=[];function Qo(){for(var t=0;t<Ko.length;t++)Ko[t]._workInProgressVersionPrimary=null;Ko.length=0}var Jo=w.ReactCurrentDispatcher,qo=w.ReactCurrentBatchConfig,$o=0,ta=null,ea=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function sa(t,e,n,r,i,o){if($o=o,ta=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jo.current=null===t||null===t.memoizedState?Oa:Ra,t=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ea=null,e.updateQueue=null,Jo.current=Ba,t=n(r,i)}while(ia)}if(Jo.current=Pa,e=null!==ea&&null!==ea.next,$o=0,na=ea=ta=null,ra=!1,e)throw Error(a(300));return t}function ua(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ta.memoizedState=na=t:na=na.next=t,na}function la(){if(null===ea){var t=ta.alternate;t=null!==t?t.memoizedState:null}else t=ea.next;var e=null===na?ta.memoizedState:na.next;if(null!==e)na=e,ea=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ea=t).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===na?ta.memoizedState=na=t:na=na.next=t}return na}function ca(t,e){return"function"===typeof e?e(t):e}function fa(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if(($o&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ta.lanes|=c,Ns|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,cr(r,e.memoizedState)||(Da=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function da(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);cr(o,e.memoizedState)||(Da=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=($o&t)===t)&&(e._workInProgressVersionPrimary=r,Ko.push(e))),t)return n(e._source);throw Ko.push(e),Error(a(350))}function pa(t,e,n,r){var i=Os;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Jo.current,l=u.useState((function(){return ha(i,e,n)})),c=l[1],f=l[0];l=na;var d=t.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var g=ta;return t.memoizedState={refs:h,source:e,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var t=o(e._source);if(!cr(s,t)){t=n(e._source),cr(f,t)||(c(t),t=hu(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-Ye(a),l=1<<u;r[u]|=t,a&=~l}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=h.getSnapshot,n=h.setSnapshot;try{n(t(e._source));var r=hu(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),cr(p,n)&&cr(v,e)&&cr(d,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=c=Ta.bind(null,ta,t),l.queue=t,l.baseQueue=null,f=ha(i,e,n),l.memoizedState=l.baseState=f),f}function va(t,e,n){return pa(la(),t,e,n)}function ga(t){var e=ua();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t}).dispatch=Ta.bind(null,ta,t),[e.memoizedState,t]}function ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ta.updateQueue)?(e={lastEffect:null},ta.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ya(t){return t={current:t},ua().memoizedState=t}function ba(){return la().memoizedState}function xa(t,e,n,r){var i=ua();ta.flags|=t,i.memoizedState=ma(1|e,n,void 0,void 0===r?null:r)}function wa(t,e,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ma(e,n,o,r)}ta.flags|=t,i.memoizedState=ma(1|e,n,o,r)}function Aa(t,e){return xa(516,4,t,e)}function _a(t,e){return wa(516,4,t,e)}function ka(t,e){return wa(4,2,t,e)}function Ca(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ea(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,wa(4,2,Ca.bind(null,e,t),n)}function Ma(){}function Sa(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ia(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function La(t,e){var n=Yi();Ui(98>n?98:n,(function(){t(!0)})),Ui(97<n?97:n,(function(){var n=qo.transition;qo.transition=1;try{t(!1),e()}finally{qo.transition=n}}))}function Ta(t,e,n){var r=du(),i=hu(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===ta||null!==a&&a===ta)ia=ra=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(l){}pu(t,i,r)}}var Pa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Oa={readContext:ao,useCallback:function(t,e){return ua().memoizedState=[t,void 0===e?null:e],t},useContext:ao,useEffect:Aa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,xa(4,2,Ca.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xa(4,2,t,e)},useMemo:function(t,e){var n=ua();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ua();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ta.bind(null,ta,t),[r.memoizedState,t]},useRef:ya,useState:ga,useDebugValue:Ma,useDeferredValue:function(t){var e=ga(t),n=e[0],r=e[1];return Aa((function(){var e=qo.transition;qo.transition=1;try{r(t)}finally{qo.transition=e}}),[t]),n},useTransition:function(){var t=ga(!1),e=t[0];return ya(t=La.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=ua();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},pa(r,t,e,n)},useOpaqueIdentifier:function(){if(Vo){var t=!1,e=function(t){return{$$typeof:B,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Qr++).toString(36))),Error(a(355))})),n=ga(e)[1];return 0===(2&ta.mode)&&(ta.flags|=516,ma(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),e}return ga(e="r:"+(Qr++).toString(36)),e},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Sa,useContext:ao,useEffect:_a,useImperativeHandle:Ea,useLayoutEffect:ka,useMemo:Ia,useReducer:fa,useRef:ba,useState:function(){return fa(ca)},useDebugValue:Ma,useDeferredValue:function(t){var e=fa(ca),n=e[0],r=e[1];return _a((function(){var e=qo.transition;qo.transition=1;try{r(t)}finally{qo.transition=e}}),[t]),n},useTransition:function(){var t=fa(ca)[0];return[ba().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Ba={readContext:ao,useCallback:Sa,useContext:ao,useEffect:_a,useImperativeHandle:Ea,useLayoutEffect:ka,useMemo:Ia,useReducer:da,useRef:ba,useState:function(){return da(ca)},useDebugValue:Ma,useDeferredValue:function(t){var e=da(ca),n=e[0],r=e[1];return _a((function(){var e=qo.transition;qo.transition=1;try{r(t)}finally{qo.transition=e}}),[t]),n},useTransition:function(){var t=da(ca)[0];return[ba().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},za=w.ReactCurrentOwner,Da=!1;function ja(t,e,n,r){e.child=null===t?So(e,null,n,r):Mo(e,t.child,n,r)}function Fa(t,e,n,r,i){n=n.render;var o=e.ref;return oo(e,i),r=sa(t,e,n,r,o,i),null===t||Da?(e.flags|=1,ja(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function Za(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Xu(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Na(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&t.ref===e.ref)?os(t,e,o):(e.flags|=1,(t=Uu(a,r)).ref=e.ref,t.return=e,e.child=t)}function Na(t,e,n,r,i,o){if(null!==t&&dr(t.memoizedProps,r)&&t.ref===e.ref){if(Da=!1,0===(o&i))return e.lanes=t.lanes,os(t,e,o);0!==(16384&t.flags)&&(Da=!0)}return Ya(t,e,n,r,o)}function Va(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},Au(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Au(e,t),null;e.memoizedState={baseLanes:0},Au(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Au(e,r);return ja(t,e,i,n),e.child}function Ga(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ya(t,e,n,r,i){var o=mi(n)?vi:hi.current;return o=gi(e,o),oo(e,i),n=sa(t,e,n,r,o,i),null===t||Da?(e.flags|=1,ja(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function Wa(t,e,n,r,i){if(mi(n)){var o=!0;wi(e)}else o=!1;if(oo(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),xo(e,n,r),Ao(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=gi(e,l=mi(n)?vi:hi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&wo(e,a,r,l),so=!1;var d=e.memoizedState;a.state=d,po(e,r,a,i),u=e.memoizedState,s!==r||d!==u||pi.current||so?("function"===typeof c&&(mo(e,n,c,r),u=e.memoizedState),(s=so||bo(e,n,s,r,d,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,lo(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Ji(e.type,s),a.props=l,f=e.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=gi(e,u=mi(n)?vi:hi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&wo(e,a,r,u),so=!1,d=e.memoizedState,a.state=d,po(e,r,a,i);var p=e.memoizedState;s!==f||d!==p||pi.current||so?("function"===typeof h&&(mo(e,n,h,r),p=e.memoizedState),(l=so||bo(e,n,l,r,d,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),r=!1)}return Ua(t,e,n,r,o,i)}function Ua(t,e,n,r,i,o){Ga(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&Ai(e,n,!1),os(t,e,o);r=e.stateNode,za.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Mo(e,t.child,null,o),e.child=Mo(e,null,s,o)):ja(t,e,s,o),e.memoizedState=r.state,i&&Ai(e,n,!0),e.child}function Xa(t){var e=t.stateNode;e.pendingContext?bi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&bi(0,e.context,!1),Ro(t,e.containerInfo)}var Ha,Ka,Qa,Ja={dehydrated:null,retryLane:0};function qa(t,e,n){var r,i=e.pendingProps,o=jo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(jo,1&o),null===t?(void 0!==i.fallback&&Wo(e),t=i.children,o=i.fallback,a?(t=$a(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ja,t):"number"===typeof i.unstable_expectedLoadTime?(t=$a(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ja,e.lanes=33554432,t):((n=Ku({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=es(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Ja,i):(n=ts(t,e,i.children,n),e.memoizedState=null,n))}function $a(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Ku(e,i,0,null),n=Hu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function ts(t,e,n,r){var i=t.child;return t=i.sibling,n=Uu(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function es(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Uu(a,s),null!==t?r=Uu(t,r):(r=Hu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function ns(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),io(t.return,e)}function rs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ja(t,e,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ns(t,n);else if(19===t.tag)ns(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fi(jo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Fo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Fo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rs(e,!0,n,null,o,e.lastEffect);break;case"together":rs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function os(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ns|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Uu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Uu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function as(t,e){if(!Vo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ss(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(e.type)&&yi(),null;case 3:return Bo(),ci(pi),ci(hi),Qo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Xo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Do(e);var o=Oo(Po.current);if(n=e.type,null!==t&&null!=e.stateNode)Ka(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Oo(Lo.current),Xo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[$r]=s,n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(t=0;t<Er.length;t++)Lr(Er[t],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":tt(r,s),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",r);break;case"textarea":ut(r,s),Lr("invalid",r)}for(var l in kt(n,s),t=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Lr("scroll",r));switch(n){case"input":Q(r),rt(r,s,!0);break;case"textarea":Q(r),ct(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,t===ft&&(t=ht(n)),t===ft?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[qr]=e,t[$r]=r,Ha(t,e),e.stateNode=t,l=Ct(n,r),n){case"dialog":Lr("cancel",t),Lr("close",t),o=r;break;case"iframe":case"object":case"embed":Lr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Lr(Er[o],t);o=r;break;case"source":Lr("error",t),o=r;break;case"img":case"image":case"link":Lr("error",t),Lr("load",t),o=r;break;case"details":Lr("toggle",t),o=r;break;case"input":tt(t,r),o=$(t,r),Lr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Lr("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Lr("invalid",t);break;default:o=r}kt(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?At(t,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&mt(t,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&yt(t,f):"number"===typeof f&&yt(t,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Lr("scroll",t):null!=f&&x(t,s,f,l))}switch(n){case"input":Q(t),rt(t,r,!1);break;case"textarea":Q(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Zr)}Gr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Qa(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Oo(Po.current),Oo(Lo.current),Xo(e)?(r=e.stateNode,n=e.memoizedProps,r[qr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[qr]=e,e.stateNode=r)}return null;case 13:return ci(jo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Xo(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Os||0===(134217727&Ns)&&0===(134217727&Vs)||yu(Os,Bs))),(r||n)&&(e.flags|=4),null);case 4:return Bo(),null===t&&Pr(e.stateNode.containerInfo),null;case 10:return ro(e),null;case 19:if(ci(jo),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(l=r.rendering))if(s)as(r,!1);else{if(0!==js||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(l=Fo(t))){for(e.flags|=64,as(r,!1),null!==(s=l.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fi(jo,1&jo.current|2),e.child}t=t.sibling}null!==r.tail&&Gi()>Us&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Fo(l))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Vo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>Us&&1073741824!==n&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432);r.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=r.last)?n.sibling=l:e.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,e=jo.current,fi(jo,s?1&e|2:1&e),n):null;case 23:case 24:return _u(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function us(t){switch(t.tag){case 1:mi(t.type)&&yi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Bo(),ci(pi),ci(hi),Qo(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Do(t),null;case 13:return ci(jo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ci(jo),null;case 4:return Bo(),null;case 10:return ro(t),null;case 23:case 24:return _u(),null;default:return null}}function ls(t,e){try{var n="",r=e;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function cs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}Ha=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Oo(Lo.current);var a,s=null;switch(n){case"input":o=$(t,o),r=$(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=Zr)}for(f in kt(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Lr("scroll",t),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===B?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}},Qa=function(t,e,n,r){n!==r&&(e.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qs||(Qs=!0,Js=r),cs(0,e)},n}function hs(t,e,n){(n=co(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return cs(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this),cs(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Zu(t,n)}else e.current=null}function gs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Ji(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Xr(e.stateNode.containerInfo))}throw Error(a(163))}function ms(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Du(n,t),zu(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Ji(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&vo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}vo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Gr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ae(n)))))}throw Error(a(163))}function ys(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=wt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(t,e){if(ki&&"function"===typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(_i,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Du(e,n);else{r=e;try{i()}catch(o){Zu(r,o)}}n=n.next}while(n!==t)}break;case 1:if(vs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Zu(e,o)}break;case 5:vs(e);break;case 4:Cs(t,e)}}function xs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ws(t){return 5===t.tag||3===t.tag||4===t.tag}function As(t){t:{for(var e=t.return;null!==e;){if(ws(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(yt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?_s(t,n,e):ks(t,n,e)}function _s(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(_s(t,e,n),t=t.sibling;null!==t;)_s(t,e,n),t=t.sibling}function ks(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ks(t,e,n),t=t.sibling;null!==t;)ks(t,e,n),t=t.sibling}function Cs(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,l=u;;)if(bs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break t;for(;null===l.sibling;){if(null===l.return||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[$r]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Ct(t,i),e=Ct(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?At(n,u):"dangerouslySetInnerHTML"===s?mt(n,u):"children"===s?yt(n,u):x(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":lt(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,Ae(n.containerInfo)));case 13:return null!==e.memoizedState&&(Ws=Gi(),ys(e.child,!0)),void Ms(e);case 19:return void Ms(e);case 23:case 24:return void ys(e,null!==e.memoizedState)}throw Error(a(163))}function Ms(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ps),e.forEach((function(e){var r=Vu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Ss(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Is=Math.ceil,Ls=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,Ps=0,Os=null,Rs=null,Bs=0,zs=0,Ds=li(0),js=0,Fs=null,Zs=0,Ns=0,Vs=0,Gs=0,Ys=null,Ws=0,Us=1/0;function Xs(){Us=Gi()+500}var Hs,Ks=null,Qs=!1,Js=null,qs=null,$s=!1,tu=null,eu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,lu=0,cu=null,fu=!1;function du(){return 0!==(48&Ps)?Gi():-1!==su?su:su=Gi()}function hu(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Yi()?1:2;if(0===uu&&(uu=Zs),0!==Qi.transition){0!==lu&&(lu=null!==Ys?Ys.pendingLanes:0),t=uu;var e=4186112&~lu;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Yi(),0!==(4&Ps)&&98===t?t=Ze(12,uu):t=Ze(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),uu),t}function pu(t,e,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(t=vu(t,e)))return null;Ge(t,e,n),t===Os&&(Vs|=e,4===js&&yu(t,Bs));var r=Yi();1===e?0!==(8&Ps)&&0===(48&Ps)?bu(t):(gu(t,n),0===Ps&&(Xs(),Hi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([t]):iu.add(t)),gu(t,n)),Ys=t}function vu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function gu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-Ye(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=e,De(l);var f=ze;o[u]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);s&=~l}if(r=je(t,t===Os?Bs:0),e=ze,0===r)null!==n&&(n!==Di&&Mi(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Di&&Mi(n)}15===e?(n=bu.bind(null,t),null===Fi?(Fi=[n],Zi=Ei(Pi,Ki)):Fi.push(n),n=Di):14===e?n=Xi(99,bu.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Xi(n,mu.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function mu(t){if(su=-1,lu=uu=0,0!==(48&Ps))throw Error(a(327));var e=t.callbackNode;if(Bu()&&t.callbackNode!==e)return null;var n=je(t,t===Os?Bs:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var o=Eu();for(Os===t&&Bs===r||(Xs(),ku(t,r));;)try{Iu();break}catch(u){Cu(t,u)}if(no(),Ls.current=o,Ps=i,null!==Rs?r=0:(Os=null,Bs=0,r=js),0!==(Zs&Vs))ku(t,0);else if(0!==r){if(2===r&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Xr(t.containerInfo)),0!==(n=Fe(t))&&(r=Mu(t,n))),1===r)throw e=Fs,ku(t,0),yu(t,n),gu(t,Gi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Pu(t);break;case 3:if(yu(t,n),(62914560&n)===n&&10<(r=Ws+500-Gi())){if(0!==je(t,0))break;if(((i=t.suspendedLanes)&n)!==n){du(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wr(Pu.bind(null,t),r);break}Pu(t);break;case 4:if(yu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-Ye(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){t.timeoutHandle=Wr(Pu.bind(null,t),n);break}Pu(t);break;default:throw Error(a(329))}}return gu(t,Gi()),t.callbackNode===e?mu.bind(null,t):null}function yu(t,e){for(e&=~Gs,e&=~Vs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ye(e),r=1<<n;t[n]=-1,e&=~r}}function bu(t){if(0!==(48&Ps))throw Error(a(327));if(Bu(),t===Os&&0!==(t.expiredLanes&Bs)){var e=Bs,n=Mu(t,e);0!==(Zs&Vs)&&(n=Mu(t,e=je(t,e)))}else n=Mu(t,e=je(t,0));if(0!==t.tag&&2===n&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Xr(t.containerInfo)),0!==(e=Fe(t))&&(n=Mu(t,e))),1===n)throw n=Fs,ku(t,0),yu(t,e),gu(t,Gi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pu(t),gu(t,Gi()),null}function xu(t,e){var n=Ps;Ps|=1;try{return t(e)}finally{0===(Ps=n)&&(Xs(),Hi())}}function wu(t,e){var n=Ps;Ps&=-2,Ps|=8;try{return t(e)}finally{0===(Ps=n)&&(Xs(),Hi())}}function Au(t,e){fi(Ds,zs),zs|=e,Zs|=e}function _u(){zs=Ds.current,ci(Ds)}function ku(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Ur(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Bo(),ci(pi),ci(hi),Qo();break;case 5:Do(r);break;case 4:Bo();break;case 13:case 19:ci(jo);break;case 10:ro(r);break;case 23:case 24:_u()}n=n.return}Os=t,Rs=Uu(t.current,null),Bs=zs=Zs=e,js=0,Fs=null,Gs=Vs=Ns=0}function Cu(t,e){for(;;){var n=Rs;try{if(no(),Jo.current=Pa,ra){for(var r=ta.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if($o=0,na=ea=ta=null,ia=!1,Ts.current=null,null===n||null===n.return){js=1,Fs=e,Rs=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=Bs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&jo.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var g=d.updateQueue;if(null===g){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break t}u=void 0,s=e;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var x=Nu.bind(null,o,l,s);l.then(x,x)}d.flags|=4096,d.lanes=e;break t}d=d.return}while(null!==d);u=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=ls(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,e&=-e,d.lanes|=e,ho(d,ds(0,o,e));break t;case 1:o=u;var w=d.type,A=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==A&&"function"===typeof A.componentDidCatch&&(null===qs||!qs.has(A)))){d.flags|=4096,e&=-e,d.lanes|=e,ho(d,hs(d,o,e));break t}}d=d.return}while(null!==d)}Tu(n)}catch(_){e=_,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Eu(){var t=Ls.current;return Ls.current=Pa,null===t?Pa:t}function Mu(t,e){var n=Ps;Ps|=16;var r=Eu();for(Os===t&&Bs===e||ku(t,e);;)try{Su();break}catch(i){Cu(t,i)}if(no(),Ps=n,Ls.current=r,null!==Rs)throw Error(a(261));return Os=null,Bs=0,js}function Su(){for(;null!==Rs;)Lu(Rs)}function Iu(){for(;null!==Rs&&!Si();)Lu(Rs)}function Lu(t){var e=Hs(t.alternate,t,zs);t.memoizedProps=t.pendingProps,null===e?Tu(t):Rs=e,Ts.current=null}function Tu(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=ss(n,e,zs)))return void(Rs=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&zs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=us(e)))return n.flags&=2047,void(Rs=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Rs=e);Rs=e=t}while(null!==e);0===js&&(js=5)}function Pu(t){var e=Yi();return Ui(99,Ou.bind(null,t,e)),null}function Ou(t,e){do{Bu()}while(null!==tu);if(0!==(48&Ps))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var l=31-Ye(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==iu&&0===(24&r)&&iu.has(t)&&iu.delete(t),t===Os&&(Rs=Os=null,Bs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Ts.current=null,Nr=Ke,mr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(E){u=null;break t}var f=0,d=-1,h=-1,p=0,v=0,g=s,m=null;e:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(d=f+o),g!==l||0!==c&&3!==g.nodeType||(h=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)m=g,g=y;for(;;){if(g===s)break e;if(m===u&&++p===o&&(d=f),m===l&&++v===c&&(h=f),null!==(y=g.nextSibling))break;m=(g=m).parentNode}g=y}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},Ke=!1,cu=null,fu=!1,Ks=r;do{try{Ru()}catch(E){if(null===Ks)throw Error(a(330));Zu(Ks,E),Ks=Ks.nextEffect}}while(null!==Ks);cu=null,Ks=r;do{try{for(s=t;null!==Ks;){var b=Ks.flags;if(16&b&&yt(Ks.stateNode,""),128&b){var x=Ks.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:As(Ks),Ks.flags&=-3;break;case 6:As(Ks),Ks.flags&=-3,Es(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Es(Ks.alternate,Ks);break;case 4:Es(Ks.alternate,Ks);break;case 8:Cs(s,u=Ks);var A=u.alternate;xs(u),null!==A&&xs(A)}Ks=Ks.nextEffect}}catch(E){if(null===Ks)throw Error(a(330));Zu(Ks,E),Ks=Ks.nextEffect}}while(null!==Ks);if(w=Vr,x=gr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,A=Math.min(s.start,u),s=void 0===s.end?A:Math.min(s.end,u),!w.extend&&A>s&&(u=s,s=A,A=u),u=pr(b,A),o=pr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),A>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ke=!!Nr,Vr=Nr=null,t.current=n,Ks=r;do{try{for(b=t;null!==Ks;){var _=Ks.flags;if(36&_&&ms(b,Ks.alternate,Ks),128&_){x=void 0;var k=Ks.ref;if(null!==k){var C=Ks.stateNode;Ks.tag,x=C,"function"===typeof k?k(x):k.current=x}}Ks=Ks.nextEffect}}catch(E){if(null===Ks)throw Error(a(330));Zu(Ks,E),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,ji(),Ps=i}else t.current=n;if($s)$s=!1,tu=t,eu=e;else for(Ks=r;null!==Ks;)e=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((_=Ks).sibling=null,_.stateNode=null),Ks=e;if(0===(r=t.pendingLanes)&&(qs=null),1===r?t===au?ou++:(ou=0,au=t):ou=0,n=n.stateNode,ki&&"function"===typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(E){}if(gu(t,Gi()),Qs)throw Qs=!1,t=Js,Js=null,t;return 0!==(8&Ps)||Hi(),null}function Ru(){for(;null!==Ks;){var t=Ks.alternate;fu||null===cu||(0!==(8&Ks.flags)?te(Ks,cu)&&(fu=!0):13===Ks.tag&&Ss(t,Ks)&&te(Ks,cu)&&(fu=!0));var e=Ks.flags;0!==(256&e)&&gs(t,Ks),0===(512&e)||$s||($s=!0,Xi(97,(function(){return Bu(),null}))),Ks=Ks.nextEffect}}function Bu(){if(90!==eu){var t=97<eu?97:eu;return eu=90,Ui(t,ju)}return!1}function zu(t,e){nu.push(e,t),$s||($s=!0,Xi(97,(function(){return Bu(),null})))}function Du(t,e){ru.push(e,t),$s||($s=!0,Xi(97,(function(){return Bu(),null})))}function ju(){if(null===tu)return!1;var t=tu;if(tu=null,0!==(48&Ps))throw Error(a(331));var e=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));Zu(o,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));Zu(o,l)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ps=e,Hi(),!0}function Fu(t,e,n){fo(t,e=ds(0,e=ls(n,e),1)),e=du(),null!==(t=vu(t,1))&&(Ge(t,1,e),gu(t,e))}function Zu(t,e){if(3===t.tag)Fu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Fu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){var i=hs(n,t=ls(e,t),1);if(fo(n,i),i=du(),null!==(n=vu(n,1)))Ge(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Nu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=du(),t.pingedLanes|=t.suspendedLanes&n,Os===t&&(Bs&n)===n&&(4===js||3===js&&(62914560&Bs)===Bs&&500>Gi()-Ws?ku(t,0):Gs|=n),gu(t,e)}function Vu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Yi()?1:2:(0===uu&&(uu=Zs),0===(e=Ne(62914560&~uu))&&(e=4194304))),n=du(),null!==(t=vu(t,e))&&(Ge(t,e,n),gu(t,n))}function Gu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Yu(t,e,n,r){return new Gu(t,e,n,r)}function Wu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Uu(t,e){var n=t.alternate;return null===n?((n=Yu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Wu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case k:return Hu(n.children,i,o,e);case z:s=8,i|=16;break;case C:s=8,i|=1;break;case E:return(t=Yu(12,n,e,8|i)).elementType=E,t.type=E,t.lanes=o,t;case L:return(t=Yu(13,n,e,i)).type=L,t.elementType=L,t.lanes=o,t;case T:return(t=Yu(19,n,e,i)).elementType=T,t.lanes=o,t;case D:return Ku(n,i,o,e);case j:return(t=Yu(24,n,e,i)).elementType=j,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case M:s=10;break t;case S:s=9;break t;case I:s=11;break t;case P:s=14;break t;case O:s=16,r=null;break t;case R:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Yu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Hu(t,e,n,r){return(t=Yu(7,t,r,e)).lanes=n,t}function Ku(t,e,n,r){return(t=Yu(23,t,r,e)).elementType=D,t.lanes=n,t}function Qu(t,e,n){return(t=Yu(6,t,null,e)).lanes=n,t}function Ju(t,e,n){return(e=Yu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ve(0),this.expirationTimes=Ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.mutableSourceEagerHydrationData=null}function $u(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function tl(t,e,n,r){var i=e.current,o=du(),s=hu(i);t:if(n){e:{if(Qt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=xi(n,l,u);break t}}n=u}else n=di;return null===e.context?e.context=n:e.pendingContext=n,(e=co(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),fo(i,e),pu(i,s,o),s}function el(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function nl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function rl(t,e){nl(t,e),(t=t.alternate)&&nl(t,e)}function il(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new qu(t,e,null!=n&&!0===n.hydrate),e=Yu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,uo(e),t[ti]=n.current,Pr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function ol(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function al(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=el(a);s.call(t)}}tl(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new il(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=el(a);u.call(t)}}wu((function(){tl(e,a,t,i)}))}return el(a)}function sl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(e))throw Error(a(200));return $u(t,e,null,n)}Hs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||pi.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,e.tag){case 3:Xa(e),Ho();break;case 5:zo(e);break;case 1:mi(e.type)&&wi(e);break;case 4:Ro(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;fi(qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?qa(t,e,n):(fi(jo,1&jo.current),null!==(e=os(t,e,n))?e.sibling:null);fi(jo,1&jo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return is(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(jo,jo.current),r)break;return null;case 23:case 24:return e.lanes=0,Va(t,e,n)}return os(t,e,n)}Da=0!==(16384&t.flags)}else Da=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=gi(e,hi.current),oo(e,n),i=sa(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)){var o=!0;wi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(e,r,s,t),i.updater=yo,e.stateNode=i,i._reactInternals=e,Ao(e,r,t,n),e=Ua(null,e,r,!0,o,n)}else e.tag=0,ja(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Wu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===P)return 14}return 2}(i),t=Ji(i,t),o){case 0:e=Ya(null,e,i,t,n);break t;case 1:e=Wa(null,e,i,t,n);break t;case 11:e=Fa(null,e,i,t,n);break t;case 14:e=Za(null,e,i,Ji(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ya(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 1:return r=e.type,i=e.pendingProps,Wa(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 3:if(Xa(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lo(t,e),po(e,r,null,n),(r=e.memoizedState.element)===i)Ho(),e=os(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(No=Hr(e.stateNode.containerInfo.firstChild),Zo=e,o=Vo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Ko.push(o);for(n=So(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(t,e,r,n),Ho();e=e.child}return e;case 5:return zo(e),null===t&&Wo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Yr(r,i)?s=null:null!==o&&Yr(r,o)&&(e.flags|=16),Ga(t,e),ja(t,e,s,n),e.child;case 6:return null===t&&Wo(e),null;case 13:return qa(t,e,n);case 4:return Ro(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Mo(e,null,r,n):ja(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Fa(t,e,r,i=e.elementType===r?i:Ji(r,i),n);case 7:return ja(t,e,e.pendingProps,n),e.child;case 8:case 12:return ja(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(fi(qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){e=os(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=co(-1,n&-n)).tag=2,fo(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),io(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ja(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,oo(e,n),r=r(i=ao(i,o.unstable_observedBits)),e.flags|=1,ja(t,e,r,n),e.child;case 14:return o=Ji(i=e.type,e.pendingProps),Za(t,e,i,o=Ji(i.type,o),r,n);case 15:return Na(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,mi(r)?(t=!0,wi(e)):t=!1,oo(e,n),xo(e,r,i),Ao(e,r,i,n),Ua(null,e,r,!0,t,n);case 19:return is(t,e,n);case 23:case 24:return Va(t,e,n)}throw Error(a(156,e.tag))},il.prototype.render=function(t){tl(t,this._internalRoot,null,null)},il.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;tl(null,t,null,(function(){e[ti]=null}))},ee=function(t){13===t.tag&&(pu(t,4,du()),rl(t,4))},ne=function(t){13===t.tag&&(pu(t,67108864,du()),rl(t,67108864))},re=function(t){if(13===t.tag){var e=du(),n=hu(t);pu(t,n,e),rl(t,n)}},ie=function(t,e){return e()},Mt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oi(r);if(!i)throw Error(a(90));J(r),nt(r,i)}}}break;case"textarea":lt(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Ot=xu,Rt=function(t,e,n,r,i){var o=Ps;Ps|=4;try{return Ui(98,t.bind(null,e,n,r,i))}finally{0===(Ps=o)&&(Xs(),Hi())}},Bt=function(){0===(49&Ps)&&(function(){if(null!==iu){var t=iu;iu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,gu(t,Gi())}))}Hi()}(),Bu())},zt=function(t,e){var n=Ps;Ps|=2;try{return t(e)}finally{0===(Ps=n)&&(Xs(),Hi())}};var ul={Events:[ri,ii,oi,Tt,Pt,Bu,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{_i=fl.inject(cl),ki=fl}catch(gt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,e.createPortal=sl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ps;if(0!==(48&n))return t(e);Ps|=1;try{if(t)return Ui(99,t.bind(null,e))}finally{Ps=n,Hi()}},e.hydrate=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!0,n)},e.render=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ol(t))throw Error(a(40));return!!t._reactRootContainer&&(wu((function(){al(null,null,t,!1,(function(){t._reactRootContainer=null,t[ti]=null}))})),!0)},e.unstable_batchedUpdates=xu,e.unstable_createPortal=function(t,e){return sl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ol(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return al(t,e,n,!1,r)},e.version="17.0.2"},function(t,e,n){"use strict";t.exports=n(175)},function(t,e,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,f=null,d=function t(){if(null!==c)try{var n=e.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(t,0),r}};r=function(t){null!==c?setTimeout(r,0,t):(c=t,setTimeout(d,0))},i=function(t,e){f=setTimeout(t,e)},o=function(){clearTimeout(f)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,y=-1,b=5,x=0;e.unstable_shouldYield=function(){return e.unstable_now()>=x},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<t?Math.floor(1e3/t):5};var w=new MessageChannel,A=w.port2;w.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();x=t+b;try{m(!0,t)?A.postMessage(null):(g=!1,m=null)}catch(n){throw A.postMessage(null),n}}else g=!1},r=function(t){m=t,g||(g=!0,A.postMessage(null))},i=function(t,n){y=h((function(){t(e.unstable_now())}),n)},o=function(){p(y),y=-1}}function _(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<E(i,e)))break t;t[r]=e,t[n]=i,n=r}}function k(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>E(a,n))void 0!==u&&0>E(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>E(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function E(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var M=[],S=[],I=1,L=null,T=3,P=!1,O=!1,R=!1;function B(t){for(var e=k(S);null!==e;){if(null===e.callback)C(S);else{if(!(e.startTime<=t))break;C(S),e.sortIndex=e.expirationTime,_(M,e)}e=k(S)}}function z(t){if(R=!1,B(t),!O)if(null!==k(M))O=!0,r(D);else{var e=k(S);null!==e&&i(z,e.startTime-t)}}function D(t,n){O=!1,R&&(R=!1,o()),P=!0;var r=T;try{for(B(n),L=k(M);null!==L&&(!(L.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=L.callback;if("function"===typeof a){L.callback=null,T=L.priorityLevel;var s=a(L.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?L.callback=s:L===k(M)&&C(M),B(n)}else C(M);L=k(M)}if(null!==L)var u=!0;else{var l=k(S);null!==l&&i(z,l.startTime-n),u=!1}return u}finally{L=null,T=r,P=!1}}var j=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){O||P||(O=!0,r(D))},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return k(M)},e.unstable_next=function(t){switch(T){case 1:case 2:case 3:var e=3;break;default:e=T}var n=T;T=e;try{return t()}finally{T=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=T;T=t;try{return e()}finally{T=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:I++,callback:n,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,_(S,t),null===k(M)&&t===k(S)&&(R?o():R=!0,i(z,a-s))):(t.sortIndex=u,_(M,t),O||P||(O=!0,r(D))),t},e.unstable_wrapCallback=function(t){var e=T;return function(){var n=T;T=e;try{return t.apply(this,arguments)}finally{T=n}}}},,function(t,e,n){var r=n(18),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(100),i=n(4);t.exports=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:o,maxWait:e,trailing:a})}},function(t,e,n){var r=n(7);t.exports=function(){return r.Date.now()}},function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},function(t,e,n){var r=n(19),i=n(187)((function(t,e,n){r(t,n,e)}));t.exports=i},function(t,e,n){var r=n(40),i=n(184),o=n(4),a=n(103),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},function(t,e,n){var r=n(185),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(7)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(188),i=n(189),o=n(8),a=n(2);t.exports=function(t,e){return function(n,s){var u=a(n)?r:i,l=e?e():{};return u(n,t,o(s,2),l)}}},function(t,e){t.exports=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}},function(t,e,n){var r=n(20);t.exports=function(t,e,n,i){return r(t,(function(t,r,o){e(i,t,n(t),o)})),i}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(12),i=n(9);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(12),i=n(66),o=n(9),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(99)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(14);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(198),i=n(234),o=n(115);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(47),i=n(52);t.exports=function(t,e,n,o){var a=n.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var l=n[a];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){var c=(l=n[a])[0],f=t[c],d=l[1];if(u&&l[2]){if(void 0===f&&!(c in t))return!1}else{var h=new r;if(o)var p=o(f,d,c,t,e,h);if(!(void 0===p?i(d,f,3,o,h):p))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(49),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(49);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(49);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(49);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(48);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(48),i=n(67),o=n(68);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(210),i=n(48),o=n(67);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(211),i=n(212),o=n(213),a=n(214),s=n(215);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(50);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(50),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(50),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(50);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(51);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(51);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(51);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(51);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(47),i=n(107),o=n(226),a=n(229),s=n(29),u=n(2),l=n(26),c=n(44),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,g,m){var y=u(t),b=u(e),x=y?d:s(t),w=b?d:s(e),A=(x=x==f?h:x)==h,_=(w=w==f?h:w)==h,k=x==w;if(k&&l(t)){if(!l(e))return!1;y=!0,A=!1}if(k&&!A)return m||(m=new r),y||c(t)?i(t,e,n,v,g,m):o(t,e,x,n,v,g,m);if(!(1&n)){var C=A&&p.call(t,"__wrapped__"),E=_&&p.call(e,"__wrapped__");if(C||E){var M=C?t.value():t,S=E?e.value():e;return m||(m=new r),g(M,S,n,v,m)}}return!!k&&(m||(m=new r),a(t,e,n,v,g,m))}},function(t,e,n){var r=n(68),i=n(223),o=n(224);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(18),i=n(109),o=n(28),a=n(107),s=n(227),u=n(228),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,f,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),t.size!=e.size&&!p)return!1;var v=d.get(t);if(v)return v==e;r|=2,d.set(t,e);var g=a(h(t),h(e),r,l,f,d);return d.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(110),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,l=r(t),c=l.length;if(c!=r(e).length&&!u)return!1;for(var f=c;f--;){var d=l[f];if(!(u?d in e:i.call(e,d)))return!1}var h=s.get(t),p=s.get(e);if(h&&p)return h==e&&p==t;var v=!0;s.set(t,e),s.set(e,t);for(var g=u;++f<c;){var m=t[d=l[f]],y=e[d];if(o)var b=u?o(y,m,d,e,t,s):o(m,y,d,t,e,s);if(!(void 0===b?m===y||a(m,y,n,o,s):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(t),s.delete(e),v}},function(t,e,n){var r=n(16)(n(7),"DataView");t.exports=r},function(t,e,n){var r=n(16)(n(7),"Promise");t.exports=r},function(t,e,n){var r=n(16)(n(7),"Set");t.exports=r},function(t,e,n){var r=n(16)(n(7),"WeakMap");t.exports=r},function(t,e,n){var r=n(114),i=n(13);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(52),i=n(116),o=n(238),a=n(72),s=n(114),u=n(115),l=n(30);t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},function(t,e,n){var r=n(237),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(117);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(239),i=n(120);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(241),i=n(242),o=n(72),a=n(30);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(71);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(71),i=n(122),o=n(53);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var l=e[a],c=r(t,l);n(c,l)&&i(u,o(l,t),c)}return u}},function(t,e,n){var r=n(4),i=n(46),o=n(245),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(247),i=n(13);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(22);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e,n){var r=n(112),i=n(249),o=n(8),a=n(2);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(20);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},function(t,e,n){var r=n(22),i=n(251)(r);t.exports=i},function(t,e,n){var r=n(125),i=n(22),o=n(8),a=n(126),s=n(27),u=n(254);t.exports=function(t){return u((function(e){return e=i(e,s(o)),a((function(n){var i=this;return t(e,(function(t){return r(t,i,n)}))}))}))}},function(t,e,n){var r=n(129),i=n(102),o=n(31),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(255),i=n(127),o=n(128);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(130);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(18),i=n(25),o=n(2),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e,n){var r=n(31);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(12),i=n(9);t.exports=function(t){return i(t)&&"[object Date]"==r(t)}},function(t,e,n){var r=n(65),i=1/0;t.exports=function(t){return t?(t=r(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},function(t,e,n){var r=n(138);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(33),i=n(13);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(33),i=n(32);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(33),i=n(70);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(33),i=n(124);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(78),i=n(268),o=n(269),a=n(270),s=n(141);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(78);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(18),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(4),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(273),i=n(27),o=n(45),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(29),i=n(9);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(275),i=n(27),o=n(45),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(29),i=n(9);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){t.exports=n(76)},function(t,e,n){var r=n(278),i=n(282)((function(t,e,n){r(t,e,n)}));t.exports=i},function(t,e,n){var r=n(47),i=n(143),o=n(104),a=n(279),s=n(4),u=n(32),l=n(144);t.exports=function t(e,n,c,f,d){e!==n&&o(n,(function(o,u){if(d||(d=new r),s(o))a(e,n,u,c,t,f,d);else{var h=f?f(l(e,u),o,u+"",e,n,d):void 0;void 0===h&&(h=o),i(e,u,h)}}),u)}},function(t,e,n){var r=n(143),i=n(139),o=n(141),a=n(140),s=n(142),u=n(25),l=n(2),c=n(280),f=n(26),d=n(40),h=n(4),p=n(98),v=n(44),g=n(144),m=n(281);t.exports=function(t,e,n,y,b,x,w){var A=g(t,n),_=g(e,n),k=w.get(_);if(k)r(t,n,k);else{var C=x?x(A,_,n+"",t,e,w):void 0,E=void 0===C;if(E){var M=l(_),S=!M&&f(_),I=!M&&!S&&v(_);C=_,M||S||I?l(A)?C=A:c(A)?C=a(A):S?(E=!1,C=i(_,!0)):I?(E=!1,C=o(_,!0)):C=[]:p(_)||u(_)?(C=A,u(A)?C=m(A):h(A)&&!d(A)||(C=s(_))):E=!1}E&&(w.set(_,C),b(C,_,y,x,w),w.delete(_)),r(t,n,C)}}},function(t,e,n){var r=n(14),i=n(9);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(33),i=n(32);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(126),i=n(79);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e}))}},function(t,e,n){var r=n(108),i=n(8),o=n(284),a=n(2),s=n(79);t.exports=function(t,e,n){var u=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),u(t,i(e,3))}},function(t,e,n){var r=n(20);t.exports=function(t,e){var n;return r(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}},function(t,e,n){var r=n(122);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e,n){var r=n(287),i=n(288),o=n(8),a=n(2),s=n(79);t.exports=function(t,e,n){var u=a(t)?r:i;return n&&s(t,e,n)&&(e=void 0),u(t,o(e,3))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},function(t,e,n){var r=n(20);t.exports=function(t,e){var n=!0;return r(t,(function(t,r,i){return n=!!e(t,r,i)})),n}},function(t,e,n){var r=n(19),i=n(42),o=n(8);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},function(t,e,n){var r=n(8),i=n(291),o=n(74);t.exports=function(t,e){return o(t,i(r(e)))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e,n){var r=n(129),i=n(293),o=n(31),a=Object.prototype.toString,s=i((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=a.call(e)),t[e]=n}),r(o));t.exports=s},function(t,e,n){var r=n(294);t.exports=function(t,e){return function(n,i){return r(n,t,e(i),{})}}},function(t,e,n){var r=n(42);t.exports=function(t,e,n,i){return r(t,(function(t,r,o){e(i,n(t),r,o)})),i}},function(t,e,n){var r=n(20),i=n(14);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},function(t,e,n){var r=n(19),i=n(42),o=n(8);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,e(t,i,o),t)})),n}},function(t,e,n){var r=n(298)(n(299));t.exports=r},function(t,e,n){var r=n(8),i=n(14),o=n(13);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var u=r(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}var l=t(e,n,a);return l>-1?s[u?e[l]:l]:void 0}}},function(t,e,n){var r=n(145),i=n(8),o=n(136),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(t,i(e,3),u)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){(function(t,r){var i;(function(){var o,a="Expected a function",s="__lodash_hash_undefined__",u="__lodash_placeholder__",l=16,c=32,f=64,d=128,h=256,p=1/0,v=9007199254740991,g=NaN,m=4294967295,y=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",f],["rearg",h]],b="[object Arguments]",x="[object Array]",w="[object Boolean]",A="[object Date]",_="[object Error]",k="[object Function]",C="[object GeneratorFunction]",E="[object Map]",M="[object Number]",S="[object Object]",I="[object Promise]",L="[object RegExp]",T="[object Set]",P="[object String]",O="[object Symbol]",R="[object WeakMap]",B="[object ArrayBuffer]",z="[object DataView]",D="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",Z="[object Int16Array]",N="[object Int32Array]",V="[object Uint8Array]",G="[object Uint8ClampedArray]",Y="[object Uint16Array]",W="[object Uint32Array]",U=/\b__p \+= '';/g,X=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,J=RegExp(K.source),q=RegExp(Q.source),$=/<%-([\s\S]+?)%>/g,tt=/<%([\s\S]+?)%>/g,et=/<%=([\s\S]+?)%>/g,nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,at=RegExp(ot.source),st=/^\s+/,ut=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,xt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,At=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,kt=/['\n\r\u2028\u2029\\]/g,Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="\\u2700-\\u27bf",Mt="a-z\\xdf-\\xf6\\xf8-\\xff",St="A-Z\\xc0-\\xd6\\xd8-\\xde",It="\\ufe0e\\ufe0f",Lt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tt="['\u2019]",Pt="[\\ud800-\\udfff]",Ot="["+Lt+"]",Rt="["+Ct+"]",Bt="\\d+",zt="[\\u2700-\\u27bf]",Dt="["+Mt+"]",jt="[^\\ud800-\\udfff"+Lt+Bt+Et+Mt+St+"]",Ft="\\ud83c[\\udffb-\\udfff]",Zt="[^\\ud800-\\udfff]",Nt="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Gt="["+St+"]",Yt="(?:"+Dt+"|"+jt+")",Wt="(?:"+Gt+"|"+jt+")",Ut="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ht="(?:"+Rt+"|"+Ft+")"+"?",Kt="[\\ufe0e\\ufe0f]?",Qt=Kt+Ht+("(?:\\u200d(?:"+[Zt,Nt,Vt].join("|")+")"+Kt+Ht+")*"),Jt="(?:"+[zt,Nt,Vt].join("|")+")"+Qt,qt="(?:"+[Zt+Rt+"?",Rt,Nt,Vt,Pt].join("|")+")",$t=RegExp(Tt,"g"),te=RegExp(Rt,"g"),ee=RegExp(Ft+"(?="+Ft+")|"+qt+Qt,"g"),ne=RegExp([Gt+"?"+Dt+"+"+Ut+"(?="+[Ot,Gt,"$"].join("|")+")",Wt+"+"+Xt+"(?="+[Ot,Gt+Yt,"$"].join("|")+")",Gt+"?"+Yt+"+"+Ut,Gt+"+"+Xt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt,Jt].join("|"),"g"),re=RegExp("[\\u200d\\ud800-\\udfff"+Ct+It+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,se={};se[D]=se[j]=se[F]=se[Z]=se[N]=se[V]=se[G]=se[Y]=se[W]=!0,se[b]=se[x]=se[B]=se[w]=se[z]=se[A]=se[_]=se[k]=se[E]=se[M]=se[S]=se[L]=se[T]=se[P]=se[R]=!1;var ue={};ue[b]=ue[x]=ue[B]=ue[z]=ue[w]=ue[A]=ue[D]=ue[j]=ue[F]=ue[Z]=ue[N]=ue[E]=ue[M]=ue[S]=ue[L]=ue[T]=ue[P]=ue[O]=ue[V]=ue[G]=ue[Y]=ue[W]=!0,ue[_]=ue[k]=ue[R]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ce=parseFloat,fe=parseInt,de="object"==typeof t&&t&&t.Object===Object&&t,he="object"==typeof self&&self&&self.Object===Object&&self,pe=de||he||Function("return this")(),ve=e&&!e.nodeType&&e,ge=ve&&"object"==typeof r&&r&&!r.nodeType&&r,me=ge&&ge.exports===ve,ye=me&&de.process,be=function(){try{var t=ge&&ge.require&&ge.require("util").types;return t||ye&&ye.binding&&ye.binding("util")}catch(e){}}(),xe=be&&be.isArrayBuffer,we=be&&be.isDate,Ae=be&&be.isMap,_e=be&&be.isRegExp,ke=be&&be.isSet,Ce=be&&be.isTypedArray;function Ee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Me(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ie(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Te(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Pe(t,e){return!!(null==t?0:t.length)&&Ve(t,e,0)>-1}function Oe(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Re(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Be(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ze(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function De(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Fe=Ue("length");function Ze(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ne(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ve(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ne(t,Ye,n)}function Ge(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ye(t){return t!==t}function We(t,e){var n=null==t?0:t.length;return n?Ke(t,e)/n:g}function Ue(t){return function(e){return null==e?o:e[t]}}function Xe(t){return function(e){return null==t?o:t[e]}}function He(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ke(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function Qe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Je(t){return t?t.slice(0,gn(t)+1).replace(st,""):t}function qe(t){return function(e){return t(e)}}function $e(t,e){return Re(e,(function(e){return t[e]}))}function tn(t,e){return t.has(e)}function en(t,e){for(var n=-1,r=t.length;++n<r&&Ve(e,t[n],0)>-1;);return n}function nn(t,e){for(var n=t.length;n--&&Ve(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var on=Xe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Xe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+le[t]}function un(t){return re.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,o[i++]=n)}return o}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return un(t)?function(t){var e=ee.lastIndex=0;for(;ee.test(t);)++e;return e}(t):Fe(t)}function vn(t){return un(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&ut.test(t.charAt(e)););return e}var mn=Xe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n=(e=null==e?pe:yn.defaults(pe.Object(),e,yn.pick(pe,oe))).Array,r=e.Date,i=e.Error,ut=e.Function,Ct=e.Math,Et=e.Object,Mt=e.RegExp,St=e.String,It=e.TypeError,Lt=n.prototype,Tt=ut.prototype,Pt=Et.prototype,Ot=e["__core-js_shared__"],Rt=Tt.toString,Bt=Pt.hasOwnProperty,zt=0,Dt=function(){var t=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),jt=Pt.toString,Ft=Rt.call(Et),Zt=pe._,Nt=Mt("^"+Rt.call(Bt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=me?e.Buffer:o,Gt=e.Symbol,Yt=e.Uint8Array,Wt=Vt?Vt.allocUnsafe:o,Ut=cn(Et.getPrototypeOf,Et),Xt=Et.create,Ht=Pt.propertyIsEnumerable,Kt=Lt.splice,Qt=Gt?Gt.isConcatSpreadable:o,Jt=Gt?Gt.iterator:o,qt=Gt?Gt.toStringTag:o,ee=function(){try{var t=ho(Et,"defineProperty");return t({},"",{}),t}catch(e){}}(),re=e.clearTimeout!==pe.clearTimeout&&e.clearTimeout,le=r&&r.now!==pe.Date.now&&r.now,de=e.setTimeout!==pe.setTimeout&&e.setTimeout,he=Ct.ceil,ve=Ct.floor,ge=Et.getOwnPropertySymbols,ye=Vt?Vt.isBuffer:o,be=e.isFinite,Fe=Lt.join,Xe=cn(Et.keys,Et),bn=Ct.max,xn=Ct.min,wn=r.now,An=e.parseInt,_n=Ct.random,kn=Lt.reverse,Cn=ho(e,"DataView"),En=ho(e,"Map"),Mn=ho(e,"Promise"),Sn=ho(e,"Set"),In=ho(e,"WeakMap"),Ln=ho(Et,"create"),Tn=In&&new In,Pn={},On=Zo(Cn),Rn=Zo(En),Bn=Zo(Mn),zn=Zo(Sn),Dn=Zo(In),jn=Gt?Gt.prototype:o,Fn=jn?jn.valueOf:o,Zn=jn?jn.toString:o;function Nn(t){if(rs(t)&&!Ua(t)&&!(t instanceof Wn)){if(t instanceof Yn)return t;if(Bt.call(t,"__wrapped__"))return No(t)}return new Yn(t)}var Vn=function(){function t(){}return function(e){if(!ns(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function Gn(){}function Yn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Wn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Hn;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new Xn(t);this.size=e.size}function Jn(t,e){var n=Ua(t),r=!n&&Wa(t),i=!n&&!r&&Qa(t),o=!n&&!r&&!i&&fs(t),a=n||r||i||o,s=a?Qe(t.length,St):[],u=s.length;for(var l in t)!e&&!Bt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||xo(l,u))||s.push(l);return s}function qn(t){var e=t.length;return e?t[Kr(0,e-1)]:o}function $n(t,e){return Do(Li(t),ur(e,0,t.length))}function tr(t){return Do(Li(t))}function er(t,e,n){(n!==o&&!Va(t[e],n)||n===o&&!(e in t))&&ar(t,e,n)}function nr(t,e,n){var r=t[e];Bt.call(t,e)&&Va(r,n)&&(n!==o||e in t)||ar(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(Va(t[n][0],e))return n;return-1}function ir(t,e,n,r){return hr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function or(t,e){return t&&Ti(e,Os(e),t)}function ar(t,e,n){"__proto__"==e&&ee?ee(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var r=-1,i=e.length,a=n(i),s=null==t;++r<i;)a[r]=s?o:Ss(t,e[r]);return a}function ur(t,e,n){return t===t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function lr(t,e,n,r,i,a){var s,u=1&e,l=2&e,c=4&e;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!ns(t))return t;var f=Ua(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Bt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Li(t,s)}else{var d=go(t),h=d==k||d==C;if(Qa(t))return ki(t,u);if(d==S||d==b||h&&!i){if(s=l||h?{}:yo(t),!u)return l?function(t,e){return Ti(t,vo(t),e)}(t,function(t,e){return t&&Ti(e,Rs(e),t)}(s,t)):function(t,e){return Ti(t,po(t),e)}(t,or(s,t))}else{if(!ue[d])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case B:return Ci(t);case w:case A:return new r(+t);case z:return function(t,e){var n=e?Ci(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case D:case j:case F:case Z:case N:case V:case G:case Y:case W:return Ei(t,n);case E:return new r;case M:case P:return new r(t);case L:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case T:return new r;case O:return i=t,Fn?Et(Fn.call(i)):{}}var i}(t,d,u)}}a||(a=new Qn);var p=a.get(t);if(p)return p;a.set(t,s),us(t)?t.forEach((function(r){s.add(lr(r,e,n,r,t,a))})):is(t)&&t.forEach((function(r,i){s.set(i,lr(r,e,n,i,t,a))}));var v=f?o:(c?l?oo:io:l?Rs:Os)(t);return Se(v||t,(function(r,i){v&&(r=t[i=r]),nr(s,i,lr(r,e,n,i,t,a))})),s}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Et(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function fr(t,e,n){if("function"!=typeof t)throw new It(a);return Oo((function(){t.apply(o,n)}),e)}function dr(t,e,n,r){var i=-1,o=Pe,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=Re(e,qe(n))),r?(o=Oe,a=!1):e.length>=200&&(o=tn,a=!1,e=new Kn(e));t:for(;++i<s;){var c=t[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var d=l;d--;)if(e[d]===f)continue t;u.push(c)}else o(e,f,r)||u.push(c)}return u}Nn.templateSettings={escape:$,evaluate:tt,interpolate:et,variable:"",imports:{_:Nn}},Nn.prototype=Gn.prototype,Nn.prototype.constructor=Nn,Yn.prototype=Vn(Gn.prototype),Yn.prototype.constructor=Yn,Wn.prototype=Vn(Gn.prototype),Wn.prototype.constructor=Wn,Un.prototype.clear=function(){this.__data__=Ln?Ln(null):{},this.size=0},Un.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Un.prototype.get=function(t){var e=this.__data__;if(Ln){var n=e[t];return n===s?o:n}return Bt.call(e,t)?e[t]:o},Un.prototype.has=function(t){var e=this.__data__;return Ln?e[t]!==o:Bt.call(e,t)},Un.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ln&&e===o?s:e,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Xn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?o:e[n][1]},Xn.prototype.has=function(t){return rr(this.__data__,t)>-1},Xn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(En||Xn),string:new Un}},Hn.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},Hn.prototype.get=function(t){return co(this,t).get(t)},Hn.prototype.has=function(t){return co(this,t).has(t)},Hn.prototype.set=function(t,e){var n=co(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(t){return this.__data__.set(t,s),this},Kn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!En||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(t,e),this.size=n.size,this};var hr=Ri(wr),pr=Ri(Ar,!0);function vr(t,e){var n=!0;return hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function gr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s===s&&!cs(s):n(s,u)))var u=s,l=a}return l}function mr(t,e){var n=[];return hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?yr(s,e-1,n,r,i):Be(i,s):r||(i[i.length]=s)}return i}var br=Bi(),xr=Bi(!0);function wr(t,e){return t&&br(t,e,Os)}function Ar(t,e){return t&&xr(t,e,Os)}function _r(t,e){return Te(e,(function(e){return $a(t[e])}))}function kr(t,e){for(var n=0,r=(e=xi(e,t)).length;null!=t&&n<r;)t=t[Fo(e[n++])];return n&&n==r?t:o}function Cr(t,e,n){var r=e(t);return Ua(t)?r:Be(r,n(t))}function Er(t){return null==t?t===o?"[object Undefined]":"[object Null]":qt&&qt in Et(t)?function(t){var e=Bt.call(t,qt),n=t[qt];try{t[qt]=o;var r=!0}catch(a){}var i=jt.call(t);r&&(e?t[qt]=n:delete t[qt]);return i}(t):function(t){return jt.call(t)}(t)}function Mr(t,e){return t>e}function Sr(t,e){return null!=t&&Bt.call(t,e)}function Ir(t,e){return null!=t&&e in Et(t)}function Lr(t,e,r){for(var i=r?Oe:Pe,a=t[0].length,s=t.length,u=s,l=n(s),c=1/0,f=[];u--;){var d=t[u];u&&e&&(d=Re(d,qe(e))),c=xn(d.length,c),l[u]=!r&&(e||a>=120&&d.length>=120)?new Kn(u&&d):o}d=t[0];var h=-1,p=l[0];t:for(;++h<a&&f.length<c;){var v=d[h],g=e?e(v):v;if(v=r||0!==v?v:0,!(p?tn(p,g):i(f,g,r))){for(u=s;--u;){var m=l[u];if(!(m?tn(m,g):i(t[u],g,r)))continue t}p&&p.push(g),f.push(v)}}return f}function Tr(t,e,n){var r=null==(t=Io(t,e=xi(e,t)))?t:t[Fo(qo(e))];return null==r?o:Ee(r,t,n)}function Pr(t){return rs(t)&&Er(t)==b}function Or(t,e,n,r,i){return t===e||(null==t||null==e||!rs(t)&&!rs(e)?t!==t&&e!==e:function(t,e,n,r,i,a){var s=Ua(t),u=Ua(e),l=s?x:go(t),c=u?x:go(e),f=(l=l==b?S:l)==S,d=(c=c==b?S:c)==S,h=l==c;if(h&&Qa(t)){if(!Qa(e))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Qn),s||fs(t)?no(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case z:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B:return!(t.byteLength!=e.byteLength||!o(new Yt(t),new Yt(e)));case w:case A:case M:return Va(+t,+e);case _:return t.name==e.name&&t.message==e.message;case L:case P:return t==e+"";case E:var s=ln;case T:var u=1&r;if(s||(s=dn),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=no(s(t),s(e),r,i,o,a);return a.delete(t),c;case O:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,l,n,r,i,a);if(!(1&n)){var p=f&&Bt.call(t,"__wrapped__"),v=d&&Bt.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,m=v?e.value():e;return a||(a=new Qn),i(g,m,n,r,a)}}if(!h)return!1;return a||(a=new Qn),function(t,e,n,r,i,a){var s=1&n,u=io(t),l=u.length,c=io(e).length;if(l!=c&&!s)return!1;var f=l;for(;f--;){var d=u[f];if(!(s?d in e:Bt.call(e,d)))return!1}var h=a.get(t),p=a.get(e);if(h&&p)return h==e&&p==t;var v=!0;a.set(t,e),a.set(e,t);var g=s;for(;++f<l;){var m=t[d=u[f]],y=e[d];if(r)var b=s?r(y,m,d,e,t,a):r(m,y,d,t,e,a);if(!(b===o?m===y||i(m,y,n,r,a):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return a.delete(t),a.delete(e),v}(t,e,n,r,i,a)}(t,e,n,r,Or,i))}function Rr(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=Et(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var l=(u=n[i])[0],c=t[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in t))return!1}else{var d=new Qn;if(r)var h=r(c,f,l,t,e,d);if(!(h===o?Or(f,c,3,r,d):h))return!1}}return!0}function Br(t){return!(!ns(t)||(e=t,Dt&&Dt in e))&&($a(t)?Nt:bt).test(Zo(t));var e}function zr(t){return"function"==typeof t?t:null==t?ou:"object"==typeof t?Ua(t)?Vr(t[0],t[1]):Nr(t):pu(t)}function Dr(t){if(!Co(t))return Xe(t);var e=[];for(var n in Et(t))Bt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function jr(t){if(!ns(t))return function(t){var e=[];if(null!=t)for(var n in Et(t))e.push(n);return e}(t);var e=Co(t),n=[];for(var r in t)("constructor"!=r||!e&&Bt.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function Zr(t,e){var r=-1,i=Ha(t)?n(t.length):[];return hr(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Nr(t){var e=fo(t);return 1==e.length&&e[0][2]?Mo(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function Vr(t,e){return Ao(t)&&Eo(e)?Mo(Fo(t),e):function(n){var r=Ss(n,t);return r===o&&r===e?Is(n,t):Or(e,r,3)}}function Gr(t,e,n,r,i){t!==e&&br(e,(function(a,s){if(i||(i=new Qn),ns(a))!function(t,e,n,r,i,a,s){var u=To(t,n),l=To(e,n),c=s.get(l);if(c)return void er(t,n,c);var f=a?a(u,l,n+"",t,e,s):o,d=f===o;if(d){var h=Ua(l),p=!h&&Qa(l),v=!h&&!p&&fs(l);f=l,h||p||v?Ua(u)?f=u:Ka(u)?f=Li(u):p?(d=!1,f=ki(l,!0)):v?(d=!1,f=Ei(l,!0)):f=[]:as(l)||Wa(l)?(f=u,Wa(u)?f=bs(u):ns(u)&&!$a(u)||(f=yo(l))):d=!1}d&&(s.set(l,f),i(f,l,r,a,s),s.delete(l));er(t,n,f)}(t,e,s,n,Gr,r,i);else{var u=r?r(To(t,s),a,s+"",t,e,i):o;u===o&&(u=a),er(t,s,u)}}),Rs)}function Yr(t,e){var n=t.length;if(n)return xo(e+=e<0?n:0,n)?t[e]:o}function Wr(t,e,n){e=e.length?Re(e,(function(t){return Ua(t)?function(e){return kr(e,1===t.length?t[0]:t)}:t})):[ou];var r=-1;e=Re(e,qe(lo()));var i=Zr(t,(function(t,n,i){var o=Re(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Mi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Ur(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=kr(t,a);n(s,a)&&ti(o,xi(a,t),s)}return o}function Xr(t,e,n,r){var i=r?Ge:Ve,o=-1,a=e.length,s=t;for(t===e&&(e=Li(e)),n&&(s=Re(t,qe(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&Kt.call(s,u,1),Kt.call(t,u,1);return t}function Hr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;xo(i)?Kt.call(t,i,1):di(t,i)}}return t}function Kr(t,e){return t+ve(_n()*(e-t+1))}function Qr(t,e){var n="";if(!t||e<1||e>v)return n;do{e%2&&(n+=t),(e=ve(e/2))&&(t+=t)}while(e);return n}function Jr(t,e){return Ro(So(t,e,ou),t+"")}function qr(t){return qn(Vs(t))}function $r(t,e){var n=Vs(t);return Do(n,ur(e,0,n.length))}function ti(t,e,n,r){if(!ns(t))return t;for(var i=-1,a=(e=xi(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var l=Fo(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=s){var f=u[l];(c=r?r(f,l,u):o)===o&&(c=ns(f)?f:xo(e[i+1])?[]:{})}nr(u,l,c),u=u[l]}return t}var ei=Tn?function(t,e){return Tn.set(t,e),t}:ou,ni=ee?function(t,e){return ee(t,"toString",{configurable:!0,enumerable:!1,value:nu(e),writable:!0})}:ou;function ri(t){return Do(Vs(t))}function ii(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function oi(t,e){var n;return hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!cs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return si(t,e,ou,n)}function si(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!==e,u=null===e,l=cs(e),c=e===o;i<a;){var f=ve((i+a)/2),d=n(t[f]),h=d!==o,p=null===d,v=d===d,g=cs(d);if(s)var m=r||v;else m=c?v&&(r||h):u?v&&h&&(r||!p):l?v&&h&&!p&&(r||!g):!p&&!g&&(r?d<=e:d<e);m?i=f+1:a=f}return xn(a,4294967294)}function ui(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Va(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function li(t){return"number"==typeof t?t:cs(t)?g:+t}function ci(t){if("string"==typeof t)return t;if(Ua(t))return Re(t,ci)+"";if(cs(t))return Zn?Zn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,n){var r=-1,i=Pe,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Oe;else if(o>=200){var l=e?null:Qi(t);if(l)return dn(l);a=!1,i=tn,u=new Kn}else u=e?[]:s;t:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue t;e&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function di(t,e){return null==(t=Io(t,e=xi(e,t)))||delete t[Fo(qo(e))]}function hi(t,e,n,r){return ti(t,e,n(kr(t,e)),r)}function pi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function vi(t,e){var n=t;return n instanceof Wn&&(n=n.value()),ze(e,(function(t,e){return e.func.apply(e.thisArg,Be([t],e.args))}),n)}function gi(t,e,r){var i=t.length;if(i<2)return i?fi(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=dr(a[o]||s,t[u],e,r));return fi(yr(a,1),e,r)}function mi(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function yi(t){return Ka(t)?t:[]}function bi(t){return"function"==typeof t?t:ou}function xi(t,e){return Ua(t)?t:Ao(t,e)?[t]:jo(xs(t))}var wi=Jr;function Ai(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:ii(t,e,n)}var _i=re||function(t){return pe.clearTimeout(t)};function ki(t,e){if(e)return t.slice();var n=t.length,r=Wt?Wt(n):new t.constructor(n);return t.copy(r),r}function Ci(t){var e=new t.constructor(t.byteLength);return new Yt(e).set(new Yt(t)),e}function Ei(t,e){var n=e?Ci(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Mi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t===t,a=cs(t),s=e!==o,u=null===e,l=e===e,c=cs(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function Si(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,l=e.length,c=bn(a-s,0),f=n(l+c),d=!i;++u<l;)f[u]=e[u];for(;++o<s;)(d||o<a)&&(f[r[o]]=t[o]);for(;c--;)f[u++]=t[o++];return f}function Ii(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,l=-1,c=e.length,f=bn(a-u,0),d=n(f+c),h=!i;++o<f;)d[o]=t[o];for(var p=o;++l<c;)d[p+l]=e[l];for(;++s<u;)(h||o<a)&&(d[p+r[s]]=t[o++]);return d}function Li(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ti(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?ar(n,u,l):nr(n,u,l)}return n}function Pi(t,e){return function(n,r){var i=Ua(n)?Me:ir,o=e?e():{};return i(n,t,lo(r,2),o)}}function Oi(t){return Jr((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&wo(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=Et(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e}))}function Ri(t,e){return function(n,r){if(null==n)return n;if(!Ha(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Et(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Bi(t){return function(e,n,r){for(var i=-1,o=Et(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function zi(t){return function(e){var n=un(e=xs(e))?vn(e):o,r=n?n[0]:e.charAt(0),i=n?Ai(n,1).join(""):e.slice(1);return r[t]()+i}}function Di(t){return function(e){return ze($s(Ws(e).replace($t,"")),t,"")}}function ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Vn(t.prototype),r=t.apply(n,e);return ns(r)?r:n}}function Fi(t){return function(e,n,r){var i=Et(e);if(!Ha(e)){var a=lo(n,3);e=Os(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function Zi(t){return ro((function(e){var n=e.length,r=n,i=Yn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new It(a);if(i&&!u&&"wrapper"==so(s))var u=new Yn([],!0)}for(r=u?r:n;++r<n;){var l=so(s=e[r]),c="wrapper"==l?ao(s):o;u=c&&_o(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[so(c[0])].apply(u,c[3]):1==s.length&&_o(s)?u[l]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ua(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ni(t,e,r,i,a,s,u,l,c,f){var h=e&d,p=1&e,v=2&e,g=24&e,m=512&e,y=v?o:ji(t);return function o(){for(var d=arguments.length,b=n(d),x=d;x--;)b[x]=arguments[x];if(g)var w=uo(o),A=rn(b,w);if(i&&(b=Si(b,i,a,g)),s&&(b=Ii(b,s,u,g)),d-=A,g&&d<f){var _=fn(b,w);return Hi(t,e,Ni,o.placeholder,r,b,_,l,c,f-d)}var k=p?r:this,C=v?k[t]:t;return d=b.length,l?b=Lo(b,l):m&&d>1&&b.reverse(),h&&c<d&&(b.length=c),this&&this!==pe&&this instanceof o&&(C=y||ji(C)),C.apply(k,b)}}function Vi(t,e){return function(n,r){return function(t,e,n,r){return wr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Gi(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),i=t(n,r)}return i}}function Yi(t){return ro((function(e){return e=Re(e,qe(lo())),Jr((function(n){var r=this;return t(e,(function(t){return Ee(t,r,n)}))}))}))}function Wi(t,e){var n=(e=e===o?" ":ci(e)).length;if(n<2)return n?Qr(e,t):e;var r=Qr(e,he(t/pn(e)));return un(e)?Ai(vn(r),0,t).join(""):r.slice(0,t)}function Ui(t){return function(e,r,i){return i&&"number"!=typeof i&&wo(e,r,i)&&(r=i=o),e=vs(e),r===o?(r=e,e=0):r=vs(r),function(t,e,r,i){for(var o=-1,a=bn(he((e-t)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=t,t+=r;return s}(e,r,i=i===o?e<r?1:-1:vs(i),t)}}function Xi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ys(e),n=ys(n)),t(e,n)}}function Hi(t,e,n,r,i,a,s,u,l,d){var h=8&e;e|=h?c:f,4&(e&=~(h?f:c))||(e&=-4);var p=[t,e,i,h?a:o,h?s:o,h?o:a,h?o:s,u,l,d],v=n.apply(o,p);return _o(t)&&Po(v,p),v.placeholder=r,Bo(v,t,e)}function Ki(t){var e=Ct[t];return function(t,n){if(t=ys(t),(n=null==n?0:xn(gs(n),292))&&be(t)){var r=(xs(t)+"e").split("e");return+((r=(xs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Qi=Sn&&1/dn(new Sn([,-0]))[1]==p?function(t){return new Sn(t)}:cu;function Ji(t){return function(e){var n=go(e);return n==E?ln(e):n==T?hn(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function qi(t,e,r,i,s,p,v,g){var m=2&e;if(!m&&"function"!=typeof t)throw new It(a);var y=i?i.length:0;if(y||(e&=-97,i=s=o),v=v===o?v:bn(gs(v),0),g=g===o?g:gs(g),y-=s?s.length:0,e&f){var b=i,x=s;i=s=o}var w=m?o:ao(t),A=[t,e,r,i,s,b,x,p,v,g];if(w&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==d&&8==n||r==d&&n==h&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var l=t[3];t[3]=l?Si(l,s,e[4]):s,t[4]=l?fn(t[3],u):e[4]}(s=e[5])&&(l=t[5],t[5]=l?Ii(l,s,e[6]):s,t[6]=l?fn(t[5],u):e[6]);(s=e[7])&&(t[7]=s);r&d&&(t[8]=null==t[8]?e[8]:xn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(A,w),t=A[0],e=A[1],r=A[2],i=A[3],s=A[4],!(g=A[9]=A[9]===o?m?0:t.length:bn(A[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||e==l?function(t,e,r){var i=ji(t);return function a(){for(var s=arguments.length,u=n(s),l=s,c=uo(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:fn(u,c);return(s-=f.length)<r?Hi(t,e,Ni,a.placeholder,o,u,f,o,o,r-s):Ee(this&&this!==pe&&this instanceof a?i:t,this,u)}}(t,e,g):e!=c&&33!=e||s.length?Ni.apply(o,A):function(t,e,r,i){var o=1&e,a=ji(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),d=this&&this!==pe&&this instanceof e?a:t;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return Ee(d,o?r:this,f)}}(t,e,r,i);else var _=function(t,e,n){var r=1&e,i=ji(t);return function e(){return(this&&this!==pe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return Bo((w?ei:Po)(_,A),t,e)}function $i(t,e,n,r){return t===o||Va(t,Pt[n])&&!Bt.call(r,n)?e:t}function to(t,e,n,r,i,a){return ns(t)&&ns(e)&&(a.set(e,t),Gr(t,e,o,to,a),a.delete(e)),t}function eo(t){return as(t)?o:t}function no(t,e,n,r,i,a){var s=1&n,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),f=a.get(e);if(c&&f)return c==e&&f==t;var d=-1,h=!0,p=2&n?new Kn:o;for(a.set(t,e),a.set(e,t);++d<u;){var v=t[d],g=e[d];if(r)var m=s?r(g,v,d,e,t,a):r(v,g,d,t,e,a);if(m!==o){if(m)continue;h=!1;break}if(p){if(!je(e,(function(t,e){if(!tn(p,e)&&(v===t||i(v,t,n,r,a)))return p.push(e)}))){h=!1;break}}else if(v!==g&&!i(v,g,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function ro(t){return Ro(So(t,o,Xo),t+"")}function io(t){return Cr(t,Os,po)}function oo(t){return Cr(t,Rs,vo)}var ao=Tn?function(t){return Tn.get(t)}:cu;function so(t){for(var e=t.name+"",n=Pn[e],r=Bt.call(Pn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function uo(t){return(Bt.call(Nn,"placeholder")?Nn:t).placeholder}function lo(){var t=Nn.iteratee||au;return t=t===au?zr:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function fo(t){for(var e=Os(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Eo(i)]}return e}function ho(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return Br(n)?n:o}var po=ge?function(t){return null==t?[]:(t=Et(t),Te(ge(t),(function(e){return Ht.call(t,e)})))}:mu,vo=ge?function(t){for(var e=[];t;)Be(e,po(t)),t=Ut(t);return e}:mu,go=Er;function mo(t,e,n){for(var r=-1,i=(e=xi(e,t)).length,o=!1;++r<i;){var a=Fo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&es(i)&&xo(a,i)&&(Ua(t)||Wa(t))}function yo(t){return"function"!=typeof t.constructor||Co(t)?{}:Vn(Ut(t))}function bo(t){return Ua(t)||Wa(t)||!!(Qt&&t&&t[Qt])}function xo(t,e){var n=typeof t;return!!(e=null==e?v:e)&&("number"==n||"symbol"!=n&&wt.test(t))&&t>-1&&t%1==0&&t<e}function wo(t,e,n){if(!ns(n))return!1;var r=typeof e;return!!("number"==r?Ha(n)&&xo(e,n.length):"string"==r&&e in n)&&Va(n[e],t)}function Ao(t,e){if(Ua(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cs(t))||(rt.test(t)||!nt.test(t)||null!=e&&t in Et(e))}function _o(t){var e=so(t),n=Nn[e];if("function"!=typeof n||!(e in Wn.prototype))return!1;if(t===n)return!0;var r=ao(n);return!!r&&t===r[0]}(Cn&&go(new Cn(new ArrayBuffer(1)))!=z||En&&go(new En)!=E||Mn&&go(Mn.resolve())!=I||Sn&&go(new Sn)!=T||In&&go(new In)!=R)&&(go=function(t){var e=Er(t),n=e==S?t.constructor:o,r=n?Zo(n):"";if(r)switch(r){case On:return z;case Rn:return E;case Bn:return I;case zn:return T;case Dn:return R}return e});var ko=Ot?$a:yu;function Co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Pt)}function Eo(t){return t===t&&!ns(t)}function Mo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in Et(n)))}}function So(t,e,r){return e=bn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=bn(i.length-e,0),s=n(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(s),Ee(t,this,u)}}function Io(t,e){return e.length<2?t:kr(t,ii(e,0,-1))}function Lo(t,e){for(var n=t.length,r=xn(e.length,n),i=Li(t);r--;){var a=e[r];t[r]=xo(a,n)?i[a]:o}return t}function To(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Po=zo(ei),Oo=de||function(t,e){return pe.setTimeout(t,e)},Ro=zo(ni);function Bo(t,e,n){var r=e+"";return Ro(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Se(y,(function(n){var r="_."+n[0];e&n[1]&&!Pe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ft):[]}(r),n)))}function zo(t){var e=0,n=0;return function(){var r=wn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Do(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=Kr(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var jo=function(t){var e=za(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,r,i){e.push(r?i.replace(pt,"$1"):n||t)})),e}));function Fo(t){if("string"==typeof t||cs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Zo(t){if(null!=t){try{return Rt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function No(t){if(t instanceof Wn)return t.clone();var e=new Yn(t.__wrapped__,t.__chain__);return e.__actions__=Li(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vo=Jr((function(t,e){return Ka(t)?dr(t,yr(e,1,Ka,!0)):[]})),Go=Jr((function(t,e){var n=qo(e);return Ka(n)&&(n=o),Ka(t)?dr(t,yr(e,1,Ka,!0),lo(n,2)):[]})),Yo=Jr((function(t,e){var n=qo(e);return Ka(n)&&(n=o),Ka(t)?dr(t,yr(e,1,Ka,!0),o,n):[]}));function Wo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=bn(r+i,0)),Ne(t,lo(e,3),i)}function Uo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?bn(r+i,0):xn(i,r-1)),Ne(t,lo(e,3),i,!0)}function Xo(t){return(null==t?0:t.length)?yr(t,1):[]}function Ho(t){return t&&t.length?t[0]:o}var Ko=Jr((function(t){var e=Re(t,yi);return e.length&&e[0]===t[0]?Lr(e):[]})),Qo=Jr((function(t){var e=qo(t),n=Re(t,yi);return e===qo(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Lr(n,lo(e,2)):[]})),Jo=Jr((function(t){var e=qo(t),n=Re(t,yi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Lr(n,o,e):[]}));function qo(t){var e=null==t?0:t.length;return e?t[e-1]:o}var $o=Jr(ta);function ta(t,e){return t&&t.length&&e&&e.length?Xr(t,e):t}var ea=ro((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return Hr(t,Re(e,(function(t){return xo(t,n)?+t:t})).sort(Mi)),r}));function na(t){return null==t?t:kn.call(t)}var ra=Jr((function(t){return fi(yr(t,1,Ka,!0))})),ia=Jr((function(t){var e=qo(t);return Ka(e)&&(e=o),fi(yr(t,1,Ka,!0),lo(e,2))})),oa=Jr((function(t){var e=qo(t);return e="function"==typeof e?e:o,fi(yr(t,1,Ka,!0),o,e)}));function aa(t){if(!t||!t.length)return[];var e=0;return t=Te(t,(function(t){if(Ka(t))return e=bn(t.length,e),!0})),Qe(e,(function(e){return Re(t,Ue(e))}))}function sa(t,e){if(!t||!t.length)return[];var n=aa(t);return null==e?n:Re(n,(function(t){return Ee(e,o,t)}))}var ua=Jr((function(t,e){return Ka(t)?dr(t,e):[]})),la=Jr((function(t){return gi(Te(t,Ka))})),ca=Jr((function(t){var e=qo(t);return Ka(e)&&(e=o),gi(Te(t,Ka),lo(e,2))})),fa=Jr((function(t){var e=qo(t);return e="function"==typeof e?e:o,gi(Te(t,Ka),o,e)})),da=Jr(aa);var ha=Jr((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,sa(t,n)}));function pa(t){var e=Nn(t);return e.__chain__=!0,e}function va(t,e){return e(t)}var ga=ro((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Wn&&xo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:va,args:[i],thisArg:o}),new Yn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var ma=Pi((function(t,e,n){Bt.call(t,n)?++t[n]:ar(t,n,1)}));var ya=Fi(Wo),ba=Fi(Uo);function xa(t,e){return(Ua(t)?Se:hr)(t,lo(e,3))}function wa(t,e){return(Ua(t)?Ie:pr)(t,lo(e,3))}var Aa=Pi((function(t,e,n){Bt.call(t,n)?t[n].push(e):ar(t,n,[e])}));var _a=Jr((function(t,e,r){var i=-1,o="function"==typeof e,a=Ha(t)?n(t.length):[];return hr(t,(function(t){a[++i]=o?Ee(e,t,r):Tr(t,e,r)})),a})),ka=Pi((function(t,e,n){ar(t,n,e)}));function Ca(t,e){return(Ua(t)?Re:Zr)(t,lo(e,3))}var Ea=Pi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ma=Jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&wo(t,e[0],e[1])?e=[]:n>2&&wo(e[0],e[1],e[2])&&(e=[e[0]]),Wr(t,yr(e,1),[])})),Sa=le||function(){return pe.Date.now()};function Ia(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,qi(t,d,o,o,o,o,e)}function La(t,e){var n;if("function"!=typeof e)throw new It(a);return t=gs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ta=Jr((function(t,e,n){var r=1;if(n.length){var i=fn(n,uo(Ta));r|=c}return qi(t,r,e,n,i)})),Pa=Jr((function(t,e,n){var r=3;if(n.length){var i=fn(n,uo(Pa));r|=c}return qi(e,r,t,n,i)}));function Oa(t,e,n){var r,i,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof t)throw new It(a);function v(e){var n=r,a=i;return r=i=o,f=e,u=t.apply(a,n)}function g(t){return f=t,l=Oo(y,e),d?v(t):u}function m(t){var n=t-c;return c===o||n>=e||n<0||h&&t-f>=s}function y(){var t=Sa();if(m(t))return b(t);l=Oo(y,function(t){var n=e-(t-c);return h?xn(n,s-(t-f)):n}(t))}function b(t){return l=o,p&&r?v(t):(r=i=o,u)}function x(){var t=Sa(),n=m(t);if(r=arguments,i=this,c=t,n){if(l===o)return g(c);if(h)return _i(l),l=Oo(y,e),v(c)}return l===o&&(l=Oo(y,e)),u}return e=ys(e)||0,ns(n)&&(d=!!n.leading,s=(h="maxWait"in n)?bn(ys(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),x.cancel=function(){l!==o&&_i(l),f=0,r=c=i=l=o},x.flush=function(){return l===o?u:b(Sa())},x}var Ra=Jr((function(t,e){return fr(t,1,e)})),Ba=Jr((function(t,e,n){return fr(t,ys(e)||0,n)}));function za(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new It(a);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(za.Cache||Hn),n}function Da(t){if("function"!=typeof t)throw new It(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}za.Cache=Hn;var ja=wi((function(t,e){var n=(e=1==e.length&&Ua(e[0])?Re(e[0],qe(lo())):Re(yr(e,1),qe(lo()))).length;return Jr((function(r){for(var i=-1,o=xn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ee(t,this,r)}))})),Fa=Jr((function(t,e){var n=fn(e,uo(Fa));return qi(t,c,o,e,n)})),Za=Jr((function(t,e){var n=fn(e,uo(Za));return qi(t,f,o,e,n)})),Na=ro((function(t,e){return qi(t,h,o,o,o,e)}));function Va(t,e){return t===e||t!==t&&e!==e}var Ga=Xi(Mr),Ya=Xi((function(t,e){return t>=e})),Wa=Pr(function(){return arguments}())?Pr:function(t){return rs(t)&&Bt.call(t,"callee")&&!Ht.call(t,"callee")},Ua=n.isArray,Xa=xe?qe(xe):function(t){return rs(t)&&Er(t)==B};function Ha(t){return null!=t&&es(t.length)&&!$a(t)}function Ka(t){return rs(t)&&Ha(t)}var Qa=ye||yu,Ja=we?qe(we):function(t){return rs(t)&&Er(t)==A};function qa(t){if(!rs(t))return!1;var e=Er(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!as(t)}function $a(t){if(!ns(t))return!1;var e=Er(t);return e==k||e==C||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ts(t){return"number"==typeof t&&t==gs(t)}function es(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function ns(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function rs(t){return null!=t&&"object"==typeof t}var is=Ae?qe(Ae):function(t){return rs(t)&&go(t)==E};function os(t){return"number"==typeof t||rs(t)&&Er(t)==M}function as(t){if(!rs(t)||Er(t)!=S)return!1;var e=Ut(t);if(null===e)return!0;var n=Bt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rt.call(n)==Ft}var ss=_e?qe(_e):function(t){return rs(t)&&Er(t)==L};var us=ke?qe(ke):function(t){return rs(t)&&go(t)==T};function ls(t){return"string"==typeof t||!Ua(t)&&rs(t)&&Er(t)==P}function cs(t){return"symbol"==typeof t||rs(t)&&Er(t)==O}var fs=Ce?qe(Ce):function(t){return rs(t)&&es(t.length)&&!!se[Er(t)]};var ds=Xi(Fr),hs=Xi((function(t,e){return t<=e}));function ps(t){if(!t)return[];if(Ha(t))return ls(t)?vn(t):Li(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=go(t);return(e==E?ln:e==T?dn:Vs)(t)}function vs(t){return t?(t=ys(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function gs(t){var e=vs(t),n=e%1;return e===e?n?e-n:e:0}function ms(t){return t?ur(gs(t),0,m):0}function ys(t){if("number"==typeof t)return t;if(cs(t))return g;if(ns(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ns(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=yt.test(t);return n||xt.test(t)?fe(t.slice(2),n?2:8):mt.test(t)?g:+t}function bs(t){return Ti(t,Rs(t))}function xs(t){return null==t?"":ci(t)}var ws=Oi((function(t,e){if(Co(e)||Ha(e))Ti(e,Os(e),t);else for(var n in e)Bt.call(e,n)&&nr(t,n,e[n])})),As=Oi((function(t,e){Ti(e,Rs(e),t)})),_s=Oi((function(t,e,n,r){Ti(e,Rs(e),t,r)})),ks=Oi((function(t,e,n,r){Ti(e,Os(e),t,r)})),Cs=ro(sr);var Es=Jr((function(t,e){t=Et(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&wo(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=Rs(a),u=-1,l=s.length;++u<l;){var c=s[u],f=t[c];(f===o||Va(f,Pt[c])&&!Bt.call(t,c))&&(t[c]=a[c])}return t})),Ms=Jr((function(t){return t.push(o,to),Ee(zs,o,t)}));function Ss(t,e,n){var r=null==t?o:kr(t,e);return r===o?n:r}function Is(t,e){return null!=t&&mo(t,e,Ir)}var Ls=Vi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),nu(ou)),Ts=Vi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Bt.call(t,e)?t[e].push(n):t[e]=[n]}),lo),Ps=Jr(Tr);function Os(t){return Ha(t)?Jn(t):Dr(t)}function Rs(t){return Ha(t)?Jn(t,!0):jr(t)}var Bs=Oi((function(t,e,n){Gr(t,e,n)})),zs=Oi((function(t,e,n,r){Gr(t,e,n,r)})),Ds=ro((function(t,e){var n={};if(null==t)return n;var r=!1;e=Re(e,(function(e){return e=xi(e,t),r||(r=e.length>1),e})),Ti(t,oo(t),n),r&&(n=lr(n,7,eo));for(var i=e.length;i--;)di(n,e[i]);return n}));var js=ro((function(t,e){return null==t?{}:function(t,e){return Ur(t,e,(function(e,n){return Is(t,n)}))}(t,e)}));function Fs(t,e){if(null==t)return{};var n=Re(oo(t),(function(t){return[t]}));return e=lo(e),Ur(t,n,(function(t,n){return e(t,n[0])}))}var Zs=Ji(Os),Ns=Ji(Rs);function Vs(t){return null==t?[]:$e(t,Os(t))}var Gs=Di((function(t,e,n){return e=e.toLowerCase(),t+(n?Ys(e):e)}));function Ys(t){return qs(xs(t).toLowerCase())}function Ws(t){return(t=xs(t))&&t.replace(At,on).replace(te,"")}var Us=Di((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Xs=Di((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Hs=zi("toLowerCase");var Ks=Di((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Qs=Di((function(t,e,n){return t+(n?" ":"")+qs(e)}));var Js=Di((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),qs=zi("toUpperCase");function $s(t,e,n){return t=xs(t),(e=n?o:e)===o?function(t){return ie.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(dt)||[]}(t):t.match(e)||[]}var tu=Jr((function(t,e){try{return Ee(t,o,e)}catch(n){return qa(n)?n:new i(n)}})),eu=ro((function(t,e){return Se(e,(function(e){e=Fo(e),ar(t,e,Ta(t[e],t))})),t}));function nu(t){return function(){return t}}var ru=Zi(),iu=Zi(!0);function ou(t){return t}function au(t){return zr("function"==typeof t?t:lr(t,1))}var su=Jr((function(t,e){return function(n){return Tr(n,t,e)}})),uu=Jr((function(t,e){return function(n){return Tr(t,n,e)}}));function lu(t,e,n){var r=Os(e),i=_r(e,r);null!=n||ns(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=_r(e,Os(e)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=$a(t);return Se(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Li(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Be([this.value()],arguments))})})),t}function cu(){}var fu=Yi(Re),du=Yi(Le),hu=Yi(je);function pu(t){return Ao(t)?Ue(Fo(t)):function(t){return function(e){return kr(e,t)}}(t)}var vu=Ui(),gu=Ui(!0);function mu(){return[]}function yu(){return!1}var bu=Gi((function(t,e){return t+e}),0),xu=Ki("ceil"),wu=Gi((function(t,e){return t/e}),1),Au=Ki("floor");var _u=Gi((function(t,e){return t*e}),1),ku=Ki("round"),Cu=Gi((function(t,e){return t-e}),0);return Nn.after=function(t,e){if("function"!=typeof e)throw new It(a);return t=gs(t),function(){if(--t<1)return e.apply(this,arguments)}},Nn.ary=Ia,Nn.assign=ws,Nn.assignIn=As,Nn.assignInWith=_s,Nn.assignWith=ks,Nn.at=Cs,Nn.before=La,Nn.bind=Ta,Nn.bindAll=eu,Nn.bindKey=Pa,Nn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ua(t)?t:[t]},Nn.chain=pa,Nn.chunk=function(t,e,r){e=(r?wo(t,e,r):e===o)?1:bn(gs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=n(he(i/e));a<i;)u[s++]=ii(t,a,a+=e);return u},Nn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Nn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Be(Ua(r)?Li(r):[r],yr(e,1))},Nn.cond=function(t){var e=null==t?0:t.length,n=lo();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new It(a);return[n(t[0]),t[1]]})):[],Jr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ee(i[0],this,n))return Ee(i[1],this,n)}}))},Nn.conforms=function(t){return function(t){var e=Os(t);return function(n){return cr(n,t,e)}}(lr(t,1))},Nn.constant=nu,Nn.countBy=ma,Nn.create=function(t,e){var n=Vn(t);return null==e?n:or(n,e)},Nn.curry=function t(e,n,r){var i=qi(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Nn.curryRight=function t(e,n,r){var i=qi(e,l,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Nn.debounce=Oa,Nn.defaults=Es,Nn.defaultsDeep=Ms,Nn.defer=Ra,Nn.delay=Ba,Nn.difference=Vo,Nn.differenceBy=Go,Nn.differenceWith=Yo,Nn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=n||e===o?1:gs(e))<0?0:e,r):[]},Nn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,0,(e=r-(e=n||e===o?1:gs(e)))<0?0:e):[]},Nn.dropRightWhile=function(t,e){return t&&t.length?pi(t,lo(e,3),!0,!0):[]},Nn.dropWhile=function(t,e){return t&&t.length?pi(t,lo(e,3),!0):[]},Nn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&wo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ms(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Nn.filter=function(t,e){return(Ua(t)?Te:mr)(t,lo(e,3))},Nn.flatMap=function(t,e){return yr(Ca(t,e),1)},Nn.flatMapDeep=function(t,e){return yr(Ca(t,e),p)},Nn.flatMapDepth=function(t,e,n){return n=n===o?1:gs(n),yr(Ca(t,e),n)},Nn.flatten=Xo,Nn.flattenDeep=function(t){return(null==t?0:t.length)?yr(t,p):[]},Nn.flattenDepth=function(t,e){return(null==t?0:t.length)?yr(t,e=e===o?1:gs(e)):[]},Nn.flip=function(t){return qi(t,512)},Nn.flow=ru,Nn.flowRight=iu,Nn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Nn.functions=function(t){return null==t?[]:_r(t,Os(t))},Nn.functionsIn=function(t){return null==t?[]:_r(t,Rs(t))},Nn.groupBy=Aa,Nn.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},Nn.intersection=Ko,Nn.intersectionBy=Qo,Nn.intersectionWith=Jo,Nn.invert=Ls,Nn.invertBy=Ts,Nn.invokeMap=_a,Nn.iteratee=au,Nn.keyBy=ka,Nn.keys=Os,Nn.keysIn=Rs,Nn.map=Ca,Nn.mapKeys=function(t,e){var n={};return e=lo(e,3),wr(t,(function(t,r,i){ar(n,e(t,r,i),t)})),n},Nn.mapValues=function(t,e){var n={};return e=lo(e,3),wr(t,(function(t,r,i){ar(n,r,e(t,r,i))})),n},Nn.matches=function(t){return Nr(lr(t,1))},Nn.matchesProperty=function(t,e){return Vr(t,lr(e,1))},Nn.memoize=za,Nn.merge=Bs,Nn.mergeWith=zs,Nn.method=su,Nn.methodOf=uu,Nn.mixin=lu,Nn.negate=Da,Nn.nthArg=function(t){return t=gs(t),Jr((function(e){return Yr(e,t)}))},Nn.omit=Ds,Nn.omitBy=function(t,e){return Fs(t,Da(lo(e)))},Nn.once=function(t){return La(2,t)},Nn.orderBy=function(t,e,n,r){return null==t?[]:(Ua(e)||(e=null==e?[]:[e]),Ua(n=r?o:n)||(n=null==n?[]:[n]),Wr(t,e,n))},Nn.over=fu,Nn.overArgs=ja,Nn.overEvery=du,Nn.overSome=hu,Nn.partial=Fa,Nn.partialRight=Za,Nn.partition=Ea,Nn.pick=js,Nn.pickBy=Fs,Nn.property=pu,Nn.propertyOf=function(t){return function(e){return null==t?o:kr(t,e)}},Nn.pull=$o,Nn.pullAll=ta,Nn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Xr(t,e,lo(n,2)):t},Nn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Xr(t,e,o,n):t},Nn.pullAt=ea,Nn.range=vu,Nn.rangeRight=gu,Nn.rearg=Na,Nn.reject=function(t,e){return(Ua(t)?Te:mr)(t,Da(lo(e,3)))},Nn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=lo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Hr(t,i),n},Nn.rest=function(t,e){if("function"!=typeof t)throw new It(a);return Jr(t,e=e===o?e:gs(e))},Nn.reverse=na,Nn.sampleSize=function(t,e,n){return e=(n?wo(t,e,n):e===o)?1:gs(e),(Ua(t)?$n:$r)(t,e)},Nn.set=function(t,e,n){return null==t?t:ti(t,e,n)},Nn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:ti(t,e,n,r)},Nn.shuffle=function(t){return(Ua(t)?tr:ri)(t)},Nn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&wo(t,e,n)?(e=0,n=r):(e=null==e?0:gs(e),n=n===o?r:gs(n)),ii(t,e,n)):[]},Nn.sortBy=Ma,Nn.sortedUniq=function(t){return t&&t.length?ui(t):[]},Nn.sortedUniqBy=function(t,e){return t&&t.length?ui(t,lo(e,2)):[]},Nn.split=function(t,e,n){return n&&"number"!=typeof n&&wo(t,e,n)&&(e=n=o),(n=n===o?m:n>>>0)?(t=xs(t))&&("string"==typeof e||null!=e&&!ss(e))&&!(e=ci(e))&&un(t)?Ai(vn(t),0,n):t.split(e,n):[]},Nn.spread=function(t,e){if("function"!=typeof t)throw new It(a);return e=null==e?0:bn(gs(e),0),Jr((function(n){var r=n[e],i=Ai(n,0,e);return r&&Be(i,r),Ee(t,this,i)}))},Nn.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},Nn.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||e===o?1:gs(e))<0?0:e):[]},Nn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=r-(e=n||e===o?1:gs(e)))<0?0:e,r):[]},Nn.takeRightWhile=function(t,e){return t&&t.length?pi(t,lo(e,3),!1,!0):[]},Nn.takeWhile=function(t,e){return t&&t.length?pi(t,lo(e,3)):[]},Nn.tap=function(t,e){return e(t),t},Nn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new It(a);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oa(t,e,{leading:r,maxWait:e,trailing:i})},Nn.thru=va,Nn.toArray=ps,Nn.toPairs=Zs,Nn.toPairsIn=Ns,Nn.toPath=function(t){return Ua(t)?Re(t,Fo):cs(t)?[t]:Li(jo(xs(t)))},Nn.toPlainObject=bs,Nn.transform=function(t,e,n){var r=Ua(t),i=r||Qa(t)||fs(t);if(e=lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ns(t)&&$a(o)?Vn(Ut(t)):{}}return(i?Se:wr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Nn.unary=function(t){return Ia(t,1)},Nn.union=ra,Nn.unionBy=ia,Nn.unionWith=oa,Nn.uniq=function(t){return t&&t.length?fi(t):[]},Nn.uniqBy=function(t,e){return t&&t.length?fi(t,lo(e,2)):[]},Nn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?fi(t,o,e):[]},Nn.unset=function(t,e){return null==t||di(t,e)},Nn.unzip=aa,Nn.unzipWith=sa,Nn.update=function(t,e,n){return null==t?t:hi(t,e,bi(n))},Nn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:hi(t,e,bi(n),r)},Nn.values=Vs,Nn.valuesIn=function(t){return null==t?[]:$e(t,Rs(t))},Nn.without=ua,Nn.words=$s,Nn.wrap=function(t,e){return Fa(bi(e),t)},Nn.xor=la,Nn.xorBy=ca,Nn.xorWith=fa,Nn.zip=da,Nn.zipObject=function(t,e){return mi(t||[],e||[],nr)},Nn.zipObjectDeep=function(t,e){return mi(t||[],e||[],ti)},Nn.zipWith=ha,Nn.entries=Zs,Nn.entriesIn=Ns,Nn.extend=As,Nn.extendWith=_s,lu(Nn,Nn),Nn.add=bu,Nn.attempt=tu,Nn.camelCase=Gs,Nn.capitalize=Ys,Nn.ceil=xu,Nn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=ys(n))===n?n:0),e!==o&&(e=(e=ys(e))===e?e:0),ur(ys(t),e,n)},Nn.clone=function(t){return lr(t,4)},Nn.cloneDeep=function(t){return lr(t,5)},Nn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:o)},Nn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:o)},Nn.conformsTo=function(t,e){return null==e||cr(t,e,Os(e))},Nn.deburr=Ws,Nn.defaultTo=function(t,e){return null==t||t!==t?e:t},Nn.divide=wu,Nn.endsWith=function(t,e,n){t=xs(t),e=ci(e);var r=t.length,i=n=n===o?r:ur(gs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Nn.eq=Va,Nn.escape=function(t){return(t=xs(t))&&q.test(t)?t.replace(Q,an):t},Nn.escapeRegExp=function(t){return(t=xs(t))&&at.test(t)?t.replace(ot,"\\$&"):t},Nn.every=function(t,e,n){var r=Ua(t)?Le:vr;return n&&wo(t,e,n)&&(e=o),r(t,lo(e,3))},Nn.find=ya,Nn.findIndex=Wo,Nn.findKey=function(t,e){return Ze(t,lo(e,3),wr)},Nn.findLast=ba,Nn.findLastIndex=Uo,Nn.findLastKey=function(t,e){return Ze(t,lo(e,3),Ar)},Nn.floor=Au,Nn.forEach=xa,Nn.forEachRight=wa,Nn.forIn=function(t,e){return null==t?t:br(t,lo(e,3),Rs)},Nn.forInRight=function(t,e){return null==t?t:xr(t,lo(e,3),Rs)},Nn.forOwn=function(t,e){return t&&wr(t,lo(e,3))},Nn.forOwnRight=function(t,e){return t&&Ar(t,lo(e,3))},Nn.get=Ss,Nn.gt=Ga,Nn.gte=Ya,Nn.has=function(t,e){return null!=t&&mo(t,e,Sr)},Nn.hasIn=Is,Nn.head=Ho,Nn.identity=ou,Nn.includes=function(t,e,n,r){t=Ha(t)?t:Vs(t),n=n&&!r?gs(n):0;var i=t.length;return n<0&&(n=bn(i+n,0)),ls(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ve(t,e,n)>-1},Nn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=bn(r+i,0)),Ve(t,e,i)},Nn.inRange=function(t,e,n){return e=vs(e),n===o?(n=e,e=0):n=vs(n),function(t,e,n){return t>=xn(e,n)&&t<bn(e,n)}(t=ys(t),e,n)},Nn.invoke=Ps,Nn.isArguments=Wa,Nn.isArray=Ua,Nn.isArrayBuffer=Xa,Nn.isArrayLike=Ha,Nn.isArrayLikeObject=Ka,Nn.isBoolean=function(t){return!0===t||!1===t||rs(t)&&Er(t)==w},Nn.isBuffer=Qa,Nn.isDate=Ja,Nn.isElement=function(t){return rs(t)&&1===t.nodeType&&!as(t)},Nn.isEmpty=function(t){if(null==t)return!0;if(Ha(t)&&(Ua(t)||"string"==typeof t||"function"==typeof t.splice||Qa(t)||fs(t)||Wa(t)))return!t.length;var e=go(t);if(e==E||e==T)return!t.size;if(Co(t))return!Dr(t).length;for(var n in t)if(Bt.call(t,n))return!1;return!0},Nn.isEqual=function(t,e){return Or(t,e)},Nn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Or(t,e,o,n):!!r},Nn.isError=qa,Nn.isFinite=function(t){return"number"==typeof t&&be(t)},Nn.isFunction=$a,Nn.isInteger=ts,Nn.isLength=es,Nn.isMap=is,Nn.isMatch=function(t,e){return t===e||Rr(t,e,fo(e))},Nn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Rr(t,e,fo(e),n)},Nn.isNaN=function(t){return os(t)&&t!=+t},Nn.isNative=function(t){if(ko(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Br(t)},Nn.isNil=function(t){return null==t},Nn.isNull=function(t){return null===t},Nn.isNumber=os,Nn.isObject=ns,Nn.isObjectLike=rs,Nn.isPlainObject=as,Nn.isRegExp=ss,Nn.isSafeInteger=function(t){return ts(t)&&t>=-9007199254740991&&t<=v},Nn.isSet=us,Nn.isString=ls,Nn.isSymbol=cs,Nn.isTypedArray=fs,Nn.isUndefined=function(t){return t===o},Nn.isWeakMap=function(t){return rs(t)&&go(t)==R},Nn.isWeakSet=function(t){return rs(t)&&"[object WeakSet]"==Er(t)},Nn.join=function(t,e){return null==t?"":Fe.call(t,e)},Nn.kebabCase=Us,Nn.last=qo,Nn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?bn(r+i,0):xn(i,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Ne(t,Ye,i,!0)},Nn.lowerCase=Xs,Nn.lowerFirst=Hs,Nn.lt=ds,Nn.lte=hs,Nn.max=function(t){return t&&t.length?gr(t,ou,Mr):o},Nn.maxBy=function(t,e){return t&&t.length?gr(t,lo(e,2),Mr):o},Nn.mean=function(t){return We(t,ou)},Nn.meanBy=function(t,e){return We(t,lo(e,2))},Nn.min=function(t){return t&&t.length?gr(t,ou,Fr):o},Nn.minBy=function(t,e){return t&&t.length?gr(t,lo(e,2),Fr):o},Nn.stubArray=mu,Nn.stubFalse=yu,Nn.stubObject=function(){return{}},Nn.stubString=function(){return""},Nn.stubTrue=function(){return!0},Nn.multiply=_u,Nn.nth=function(t,e){return t&&t.length?Yr(t,gs(e)):o},Nn.noConflict=function(){return pe._===this&&(pe._=Zt),this},Nn.noop=cu,Nn.now=Sa,Nn.pad=function(t,e,n){t=xs(t);var r=(e=gs(e))?pn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Wi(ve(i),n)+t+Wi(he(i),n)},Nn.padEnd=function(t,e,n){t=xs(t);var r=(e=gs(e))?pn(t):0;return e&&r<e?t+Wi(e-r,n):t},Nn.padStart=function(t,e,n){t=xs(t);var r=(e=gs(e))?pn(t):0;return e&&r<e?Wi(e-r,n)+t:t},Nn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),An(xs(t).replace(st,""),e||0)},Nn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&wo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=vs(t),e===o?(e=t,t=0):e=vs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=_n();return xn(t+i*(e-t+ce("1e-"+((i+"").length-1))),e)}return Kr(t,e)},Nn.reduce=function(t,e,n){var r=Ua(t)?ze:He,i=arguments.length<3;return r(t,lo(e,4),n,i,hr)},Nn.reduceRight=function(t,e,n){var r=Ua(t)?De:He,i=arguments.length<3;return r(t,lo(e,4),n,i,pr)},Nn.repeat=function(t,e,n){return e=(n?wo(t,e,n):e===o)?1:gs(e),Qr(xs(t),e)},Nn.replace=function(){var t=arguments,e=xs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Nn.result=function(t,e,n){var r=-1,i=(e=xi(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[Fo(e[r])];a===o&&(r=i,a=n),t=$a(a)?a.call(t):a}return t},Nn.round=ku,Nn.runInContext=t,Nn.sample=function(t){return(Ua(t)?qn:qr)(t)},Nn.size=function(t){if(null==t)return 0;if(Ha(t))return ls(t)?pn(t):t.length;var e=go(t);return e==E||e==T?t.size:Dr(t).length},Nn.snakeCase=Ks,Nn.some=function(t,e,n){var r=Ua(t)?je:oi;return n&&wo(t,e,n)&&(e=o),r(t,lo(e,3))},Nn.sortedIndex=function(t,e){return ai(t,e)},Nn.sortedIndexBy=function(t,e,n){return si(t,e,lo(n,2))},Nn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&Va(t[r],e))return r}return-1},Nn.sortedLastIndex=function(t,e){return ai(t,e,!0)},Nn.sortedLastIndexBy=function(t,e,n){return si(t,e,lo(n,2),!0)},Nn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(Va(t[n],e))return n}return-1},Nn.startCase=Qs,Nn.startsWith=function(t,e,n){return t=xs(t),n=null==n?0:ur(gs(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e},Nn.subtract=Cu,Nn.sum=function(t){return t&&t.length?Ke(t,ou):0},Nn.sumBy=function(t,e){return t&&t.length?Ke(t,lo(e,2)):0},Nn.template=function(t,e,n){var r=Nn.templateSettings;n&&wo(t,e,n)&&(e=o),t=xs(t),e=_s({},e,r,$i);var a,s,u=_s({},e.imports,r.imports,$i),l=Os(u),c=$e(u,l),f=0,d=e.interpolate||_t,h="__p += '",p=Mt((e.escape||_t).source+"|"+d.source+"|"+(d===et?vt:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),v="//# sourceURL="+(Bt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(p,(function(e,n,r,i,o,u){return r||(r=i),h+=t.slice(f,u).replace(kt,sn),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),o&&(s=!0,h+="';\n"+o+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+e.length,e})),h+="';\n";var g=Bt.call(e,"variable")&&e.variable;if(g){if(ht.test(g))throw new i("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(U,""):h).replace(X,"$1").replace(H,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=tu((function(){return ut(l,v+"return "+h).apply(o,c)}));if(m.source=h,qa(m))throw m;return m},Nn.times=function(t,e){if((t=gs(t))<1||t>v)return[];var n=m,r=xn(t,m);e=lo(e),t-=m;for(var i=Qe(r,e);++n<t;)e(n);return i},Nn.toFinite=vs,Nn.toInteger=gs,Nn.toLength=ms,Nn.toLower=function(t){return xs(t).toLowerCase()},Nn.toNumber=ys,Nn.toSafeInteger=function(t){return t?ur(gs(t),-9007199254740991,v):0===t?t:0},Nn.toString=xs,Nn.toUpper=function(t){return xs(t).toUpperCase()},Nn.trim=function(t,e,n){if((t=xs(t))&&(n||e===o))return Je(t);if(!t||!(e=ci(e)))return t;var r=vn(t),i=vn(e);return Ai(r,en(r,i),nn(r,i)+1).join("")},Nn.trimEnd=function(t,e,n){if((t=xs(t))&&(n||e===o))return t.slice(0,gn(t)+1);if(!t||!(e=ci(e)))return t;var r=vn(t);return Ai(r,0,nn(r,vn(e))+1).join("")},Nn.trimStart=function(t,e,n){if((t=xs(t))&&(n||e===o))return t.replace(st,"");if(!t||!(e=ci(e)))return t;var r=vn(t);return Ai(r,en(r,vn(e))).join("")},Nn.truncate=function(t,e){var n=30,r="...";if(ns(e)){var i="separator"in e?e.separator:i;n="length"in e?gs(e.length):n,r="omission"in e?ci(e.omission):r}var a=(t=xs(t)).length;if(un(t)){var s=vn(t);a=s.length}if(n>=a)return t;var u=n-pn(r);if(u<1)return r;var l=s?Ai(s,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),ss(i)){if(t.slice(u).search(i)){var c,f=l;for(i.global||(i=Mt(i.source,xs(gt.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;l=l.slice(0,d===o?u:d)}}else if(t.indexOf(ci(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Nn.unescape=function(t){return(t=xs(t))&&J.test(t)?t.replace(K,mn):t},Nn.uniqueId=function(t){var e=++zt;return xs(t)+e},Nn.upperCase=Js,Nn.upperFirst=qs,Nn.each=xa,Nn.eachRight=wa,Nn.first=Ho,lu(Nn,function(){var t={};return wr(Nn,(function(e,n){Bt.call(Nn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Nn.VERSION="4.17.21",Se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Nn[t].placeholder=Nn})),Se(["drop","take"],(function(t,e){Wn.prototype[t]=function(n){n=n===o?1:bn(gs(n),0);var r=this.__filtered__&&!e?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,m),type:t+(r.__dir__<0?"Right":"")}),r},Wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Wn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Wn.prototype[t]=function(){return this[n](1).value()[0]}})),Se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Wn.prototype[t]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ou)},Wn.prototype.find=function(t){return this.filter(t).head()},Wn.prototype.findLast=function(t){return this.reverse().find(t)},Wn.prototype.invokeMap=Jr((function(t,e){return"function"==typeof t?new Wn(this):this.map((function(n){return Tr(n,t,e)}))})),Wn.prototype.reject=function(t){return this.filter(Da(lo(t)))},Wn.prototype.slice=function(t,e){t=gs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Wn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=gs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Wn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Wn.prototype.toArray=function(){return this.take(m)},wr(Wn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Nn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(Nn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Wn,l=s[0],c=u||Ua(e),f=function(t){var e=i.apply(Nn,Be([t],s));return r&&d?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=u&&!h;if(!a&&c){e=v?e:new Wn(this);var g=t.apply(e,s);return g.__actions__.push({func:va,args:[f],thisArg:o}),new Yn(g,d)}return p&&v?t.apply(this,s):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),Se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Nn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ua(i)?i:[],t)}return this[n]((function(n){return e.apply(Ua(n)?n:[],t)}))}})),wr(Wn.prototype,(function(t,e){var n=Nn[e];if(n){var r=n.name+"";Bt.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:e,func:n})}})),Pn[Ni(o,2).name]=[{name:"wrapper",func:o}],Wn.prototype.clone=function(){var t=new Wn(this.__wrapped__);return t.__actions__=Li(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Li(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Li(this.__views__),t},Wn.prototype.reverse=function(){if(this.__filtered__){var t=new Wn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Wn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ua(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=xn(e,t+a);break;case"takeRight":t=bn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=xn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return vi(t,this.__actions__);var p=[];t:for(;u--&&d<h;){for(var v=-1,g=t[l+=e];++v<f;){var m=c[v],y=m.iteratee,b=m.type,x=y(g);if(2==b)g=x;else if(!x){if(1==b)continue t;break t}}p[d++]=g}return p},Nn.prototype.at=ga,Nn.prototype.chain=function(){return pa(this)},Nn.prototype.commit=function(){return new Yn(this.value(),this.__chain__)},Nn.prototype.next=function(){this.__values__===o&&(this.__values__=ps(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Nn.prototype.plant=function(t){for(var e,n=this;n instanceof Gn;){var r=No(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Nn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wn){var e=t;return this.__actions__.length&&(e=new Wn(this)),(e=e.reverse()).__actions__.push({func:va,args:[na],thisArg:o}),new Yn(e,this.__chain__)}return this.thru(na)},Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Nn.prototype.first=Nn.prototype.head,Jt&&(Nn.prototype[Jt]=function(){return this}),Nn}();pe._=yn,(i=function(){return yn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(39),n(21)(t))},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){var r=n(138);t.exports=function(t,e){return r(t,5,e="function"==typeof e?e:void 0)}},function(t,e,n){var r=n(305),i=n(65);t.exports=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=i(n))===n?n:0),void 0!==e&&(e=(e=i(e))===e?e:0),r(i(t),e,n)}},function(t,e){t.exports=function(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},function(t,e,n){var r=n(130),i=n(80);t.exports=function(t,e){return r(i(t,e),1)}},function(t,e,n){var r=n(119),i=n(101),o=n(308),a=n(310),s=n(313),u=n(314),l=n(118);t.exports=function(t,e,n){if((t=l(t))&&(n||void 0===e))return i(t);if(!t||!(e=r(e)))return t;var c=u(t),f=u(e),d=s(c,f),h=a(c,f)+1;return o(c,d,h).join("")}},function(t,e,n){var r=n(309);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(146);t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},function(t,e){t.exports=function(t){return t!==t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(146);t.exports=function(t,e){for(var n=-1,i=t.length;++n<i&&r(e,t[n],0)>-1;);return n}},function(t,e,n){var r=n(315),i=n(316),o=n(317);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",l="[\\ufe0e\\ufe0f]?",c=l+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+l+u+")*"),f="(?:"+[o+r+"?",r,a,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+f+c,"g");t.exports=function(t){return t.match(d)||[]}},function(t,e,n){var r=n(52);t.exports=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?r(t,e,void 0,n):!!i}},function(t,e,n){var r;!function(){function i(t,e,n){return t.call.apply(t.bind,arguments)}function o(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function a(t,e,n){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var l=!!window.FontFace;function c(t,e,n,r){if(e=t.c.createElement(e),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r&&e.appendChild(t.c.createTextNode(r)),e}function f(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,e,n){e=e||[],n=n||[];for(var r=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var o=!1,a=0;a<r.length;a+=1)if(e[i]===r[a]){o=!0;break}o||r.push(e[i])}for(e=[],i=0;i<r.length;i+=1){for(o=!1,a=0;a<n.length;a+=1)if(r[i]===n[a]){o=!0;break}o||e.push(r[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var n=t.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==e)return!0;return!1}function v(t,e,n){function r(){s&&i&&o&&(s(a),s=null)}e=c(t,"link",{rel:"stylesheet",href:e,media:"all"});var i=!1,o=!0,a=null,s=n||null;l?(e.onload=function(){i=!0,r()},e.onerror=function(){i=!0,a=Error("Stylesheet failed to load"),r()}):setTimeout((function(){i=!0,r()}),0),f(t,"head",e)}function g(t,e,n,r){var i=t.c.getElementsByTagName("head")[0];if(i){var o=c(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout((function(){a||(a=!0,n&&n(Error("Script load timeout")))}),r||5e3),o}return null}function m(){this.a=0,this.c=null}function y(t){return t.a++,function(){t.a--,x(t)}}function b(t,e){t.c=e,x(t)}function x(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}function A(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function _(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var r=t[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?e.push("'"+r+"'"):e.push(r)}return e.join(",")}function k(t){return t.a+t.f}function C(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function E(t){var e=4,n="n",r=null;return t&&((r=t.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=t.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?e=7:/[1-9]00/.test(r[1])&&(e=parseInt(r[1].substr(0,1),10)))),n+e}function M(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new w("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function S(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),n=[],r=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),h(t.f,n,r)}I(t,"inactive")}function I(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,k(n)):t.h[e]())}function L(){this.c={}}function T(t,e){this.c=t,this.f=e,this.a=c(this.c,"span",{"aria-hidden":"true"},this.f)}function P(t){f(t.c,"body",t.a)}function O(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+_(t.c)+";font-style:"+C(t)+";font-weight:"+t.f+"00;"}function R(t,e,n,r,i,o){this.g=t,this.j=e,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function B(t,e,n,r,i,o,a){this.v=t,this.B=e,this.c=n,this.a=r,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new T(this.c,this.s),this.h=new T(this.c,this.s),this.j=new T(this.c,this.s),this.m=new T(this.c,this.s),t=O(t=new A(this.a.c+",serif",k(this.a))),this.g.a.style.cssText=t,t=O(t=new A(this.a.c+",sans-serif",k(this.a))),this.h.a.style.cssText=t,t=O(t=new A("serif",k(this.a))),this.j.a.style.cssText=t,t=O(t=new A("sans-serif",k(this.a))),this.m.a.style.cssText=t,P(this.g),P(this.h),P(this.j),P(this.m)}w.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},R.prototype.start=function(){var t=this.c.o.document,e=this,n=s(),r=new Promise((function(r,i){!function o(){s()-n>=e.f?i():t.fonts.load(function(t){return C(t)+" "+t.f+"00 300px "+_(t.c)}(e.a),e.h).then((function(t){1<=t.length?r():setTimeout(o,25)}),(function(){i()}))}()})),i=null,o=new Promise((function(t,n){i=setTimeout(n,e.f)}));Promise.race([o,r]).then((function(){i&&(clearTimeout(i),i=null),e.g(e.a)}),(function(){e.j(e.a)}))};var z={D:"serif",C:"sans-serif"},D=null;function j(){if(null===D){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return D}function F(t,e,n){for(var r in z)if(z.hasOwnProperty(r)&&e===t.f[z[r]]&&n===t.f[z[r]])return!0;return!1}function Z(t){var e,n=t.g.a.offsetWidth,r=t.h.a.offsetWidth;(e=n===t.f.serif&&r===t.f["sans-serif"])||(e=j()&&F(t,n,r)),e?s()-t.A>=t.w?j()&&F(t,n,r)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?N(t,t.v):N(t,t.B):function(t){setTimeout(a((function(){Z(this)}),t),50)}(t):N(t,t.v)}function N(t,e){setTimeout(a((function(){d(this.g.a),d(this.h.a),d(this.j.a),d(this.m.a),e(this.a)}),t),0)}function V(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}B.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),Z(this)};var G=null;function Y(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&h(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),I(t,"active")):S(t.a))}function W(t){this.j=t,this.a=new L,this.h=0,this.f=this.g=!0}function U(t,e,n,r,i){var o=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=i||null,s=r||{};if(0===n.length&&o)S(e.a);else{e.f+=n.length,o&&(e.j=o);var u,l=[];for(u=0;u<n.length;u++){var c=n[u],f=s[c.c],d=e.a,p=c;if(d.g&&h(d.f,[d.a.c("wf",p.c,k(p).toString(),"loading")]),I(d,"fontloading",p),d=null,null===G)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var v=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);G=p?42<parseInt(p[1],10):!v}else G=!1;d=G?new R(a(e.g,e),a(e.h,e),e.c,c,e.s,f):new B(a(e.g,e),a(e.h,e),e.c,c,e.s,t,f),l.push(d)}for(u=0;u<l.length;u++)l[u].start()}}),0)}function X(t,e){this.c=t,this.a=e}function H(t,e){this.c=t,this.a=e}function K(t,e){this.c=t||Q,this.a=[],this.f=[],this.g=e||""}V.prototype.g=function(t){var e=this.a;e.g&&h(e.f,[e.a.c("wf",t.c,k(t).toString(),"active")],[e.a.c("wf",t.c,k(t).toString(),"loading"),e.a.c("wf",t.c,k(t).toString(),"inactive")]),I(e,"fontactive",t),this.m=!0,Y(this)},V.prototype.h=function(t){var e=this.a;if(e.g){var n=p(e.f,e.a.c("wf",t.c,k(t).toString(),"active")),r=[],i=[e.a.c("wf",t.c,k(t).toString(),"loading")];n||r.push(e.a.c("wf",t.c,k(t).toString(),"inactive")),h(e.f,r,i)}I(e,"fontinactive",t),Y(this)},W.prototype.load=function(t){this.c=new u(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var r=[],i=n.timeout;!function(t){t.g&&h(t.f,[t.a.c("wf","loading")]),I(t,"loading")}(e);r=function(t,e,n){var r,i=[];for(r in e)if(e.hasOwnProperty(r)){var o=t.c[r];o&&i.push(o(e[r],n))}return i}(t.a,n,t.c);var o=new V(t.c,e,i);for(t.h=r.length,e=0,n=r.length;e<n;e++)r[e].load((function(e,n,r){U(t,o,e,n,r)}))}(this,new M(this.c,t),t)},X.prototype.load=function(t){function e(){if(o["__mti_fntLst"+r]){var n,i=o["__mti_fntLst"+r](),a=[];if(i)for(var s=0;s<i.length;s++){var u=i[s].fontfamily;void 0!=i[s].fontStyle&&void 0!=i[s].fontWeight?(n=i[s].fontStyle+i[s].fontWeight,a.push(new A(u,n))):a.push(new A(u))}t(a)}else setTimeout((function(){e()}),50)}var n=this,r=n.a.projectId,i=n.a.version;if(r){var o=n.c.o;g(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(i?"?v="+i:""),(function(i){i?t([]):(o["__MonotypeConfiguration__"+r]=function(){return n.a},e())})).id="__MonotypeAPIScript__"+r}else t([])},H.prototype.load=function(t){var e,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new m;for(e=0,n=r.length;e<n;e++)v(this.c,r[e],y(a));var s=[];for(e=0,n=i.length;e<n;e++)if((r=i[e].split(":"))[1])for(var u=r[1].split(","),l=0;l<u.length;l+=1)s.push(new A(r[0],u[l]));else s.push(new A(r[0]));b(a,(function(){t(s,o)}))};var Q="https://fonts.googleapis.com/css";function J(t){this.f=t,this.a=[],this.c={}}var q={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},$={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function nt(t,e){this.c=t,this.a=e}var rt={Arimo:!0,Cousine:!0,Tinos:!0};function it(t,e){this.c=t,this.a=e}function ot(t,e){this.c=t,this.f=e,this.a=[]}nt.prototype.load=function(t){var e=new m,n=this.c,r=new K(this.a.api,this.a.text),i=this.a.families;!function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r].split(":");3==i.length&&t.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),t.a.push(i.join(o))}}(r,i);var o=new J(i);!function(t){for(var e=t.f.length,n=0;n<e;n++){var r=t.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var a;if(a=[],s=r[1])for(var s,u=(s=s.split(",")).length,l=0;l<u;l++){var c;if((c=s[l]).match(/^[\w-]+$/))if(null==(f=et.exec(c.toLowerCase())))c="";else{if(c=null==(c=f[2])||""==c?"n":tt[c],null==(f=f[1])||""==f)f="4";else var f=$[f]||(isNaN(f)?"4":f.substr(0,1));c=[c,f].join("")}else c="";c&&a.push(c)}0<a.length&&(o=a),3==r.length&&(a=[],0<(r=(r=r[2])?r.split(","):a).length&&(r=q[r[0]])&&(t.c[i]=r))}for(t.c[i]||(r=q[i])&&(t.c[i]=r),r=0;r<o.length;r+=1)t.a.push(new A(i,o[r]))}}(o),v(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],r=0;r<e;r++)n.push(t.a[r].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(r),y(e)),b(e,(function(){t(o.a,o.c,rt)}))},it.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var r=[],i=0;i<e.length;i+=2)for(var o=e[i],a=e[i+1],s=0;s<a.length;s++)r.push(new A(o,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(u){}t(r)}}),2e3):t([])},ot.prototype.load=function(t){var e=this.f.id,n=this.c.o,r=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var i=0,o=n.fonts.length;i<o;++i){var a=n.fonts[i];r.a.push(new A(a.name,E("font-weight:"+a.weight+";font-style:"+a.style)))}t(r.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var at=new W(window);at.a.c.custom=function(t,e){return new H(e,t)},at.a.c.fontdeck=function(t,e){return new ot(e,t)},at.a.c.monotype=function(t,e){return new X(e,t)},at.a.c.typekit=function(t,e){return new it(e,t)},at.a.c.google=function(t,e){return new nt(e,t)};var st={load:a(at.load,at)};void 0===(r=function(){return st}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";n(63);var r=n(3),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:c,props:o,_owner:a.current}}e.jsx=l,e.jsxs=l},function(t,e,n){var r=n(322),i=n(375),o=n(164);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(149),i=n(153);t.exports=function(t,e,n,o){var a=n.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var l=n[a];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){var c=(l=n[a])[0],f=t[c],d=l[1];if(u&&l[2]){if(void 0===f&&!(c in t))return!1}else{var h=new r;if(o)var p=o(f,d,c,t,e,h);if(!(void 0===p?i(d,f,3,o,h):p))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(55),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(55);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(55);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(55);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(54);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(54),i=n(82),o=n(83);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(150),i=n(336),o=n(35),a=n(152),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},function(t,e,n){var r=n(56),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(337),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(11)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(340),i=n(54),o=n(82);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(341),i=n(342),o=n(343),a=n(344),s=n(345);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(57);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(57),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(57),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(57);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(58);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(58);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(58);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(58);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(149),i=n(154),o=n(357),a=n(361),s=n(162),u=n(10),l=n(86),c=n(88),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,g,m){var y=u(t),b=u(e),x=y?d:s(t),w=b?d:s(e),A=(x=x==f?h:x)==h,_=(w=w==f?h:w)==h,k=x==w;if(k&&l(t)){if(!l(e))return!1;y=!0,A=!1}if(k&&!A)return m||(m=new r),y||c(t)?i(t,e,n,v,g,m):o(t,e,x,n,v,g,m);if(!(1&n)){var C=A&&p.call(t,"__wrapped__"),E=_&&p.call(e,"__wrapped__");if(C||E){var M=C?t.value():t,S=E?e.value():e;return m||(m=new r),g(M,S,n,v,m)}}return!!k&&(m||(m=new r),a(t,e,n,v,g,m))}},function(t,e,n){var r=n(83),i=n(353),o=n(354);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(56),i=n(358),o=n(81),a=n(154),s=n(359),u=n(360),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,r,l,f,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),t.size!=e.size&&!p)return!1;var v=d.get(t);if(v)return v==e;r|=2,d.set(t,e);var g=a(h(t),h(e),r,l,f,d);return d.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},function(t,e,n){var r=n(11).Uint8Array;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(362),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,l=r(t),c=l.length;if(c!=r(e).length&&!u)return!1;for(var f=c;f--;){var d=l[f];if(!(u?d in e:i.call(e,d)))return!1}var h=s.get(t),p=s.get(e);if(h&&p)return h==e&&p==t;var v=!0;s.set(t,e),s.set(e,t);for(var g=u;++f<c;){var m=t[d=l[f]],y=e[d];if(o)var b=u?o(y,m,d,e,t,s):o(m,y,d,t,e,s);if(!(void 0===b?m===y||a(m,y,n,o,s):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(t),s.delete(e),v}},function(t,e,n){var r=n(155),i=n(157),o=n(84);t.exports=function(t){return r(t,o,i)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(34),i=n(36);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(34),i=n(89),o=n(36),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(151),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(21)(t))},function(t,e,n){var r=n(161)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(17)(n(11),"DataView");t.exports=r},function(t,e,n){var r=n(17)(n(11),"Promise");t.exports=r},function(t,e,n){var r=n(17)(n(11),"Set");t.exports=r},function(t,e,n){var r=n(17)(n(11),"WeakMap");t.exports=r},function(t,e,n){var r=n(163),i=n(84);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(153),i=n(377),o=n(383),a=n(92),s=n(163),u=n(164),l=n(37);t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},function(t,e,n){var r=n(91);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(379),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(380);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(83);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(382);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(56),i=n(147),o=n(10),a=n(93),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},function(t,e,n){var r=n(384),i=n(165);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(386),i=n(387),o=n(92),a=n(37);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(91);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(91),i=n(389),o=n(60);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var l=e[a],c=r(t,l);n(c,l)&&i(u,o(l,t),c)}return u}},function(t,e,n){var r=n(390),i=n(60),o=n(87),a=n(35),s=n(37);t.exports=function(t,e,n,u){if(!a(t))return t;for(var l=-1,c=(e=i(e,t)).length,f=c-1,d=t;null!=d&&++l<c;){var h=s(e[l]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(l!=f){var v=d[h];void 0===(p=u?u(v,h,d):void 0)&&(p=a(v)?v:o(e[l+1])?[]:{})}r(d,h,p),d=d[h]}return t}},function(t,e,n){var r=n(167),i=n(81),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(17),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e,n){var r=n(155),i=n(393),o=n(395);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(156),i=n(394),o=n(157),a=n(158),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){var r=n(161)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(159),i=n(396),o=n(59);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(35),i=n(90),o=n(397),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(168),i=n(402)(r);t.exports=i},function(t,e,n){var r=n(401)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(59);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(166);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(T){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==n&&r.call(w,o)&&(b=w);var A=y.prototype=g.prototype=Object.create(b);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function C(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:L}}function L(){return{value:e,done:!0}}return m.prototype=y,u(A,"constructor",y),u(y,"constructor",m),m.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},_(k.prototype),u(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new k(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(A),u(A,s,"Generator"),u(A,o,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){!function(t){"use strict";function e(t){for(var e,n,r=1,i=arguments.length;r<i;r++)for(e in n=arguments[r])t[e]=n[e];return t}var n=Object.create||function(t){return r.prototype=t,new r};function r(){}function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function s(t,e,n){var r,i,o=function(){r=!1,i&&(a.apply(n,i),i=!1)},a=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(o,e),r=!0)};return a}function u(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function l(){return!1}function c(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function f(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return f(t).split(/\s+/)}function h(t,e){for(var r in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?n(t.options):{}),e)t.options[r]=e[r];return t.options}function p(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var v=/\{ *([\w_-]+) *\}/g;function g(t,e){return t.replace(v,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r}))}var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function A(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var _=window.requestAnimationFrame||x("RequestAnimationFrame")||A,k=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function C(t,e,n){if(!n||_!==A)return _.call(window,i(t,e));t.call(e)}function E(t){t&&k.call(window,t)}var M={extend:e,create:n,bind:i,lastId:o,stamp:a,throttle:s,wrapNum:u,falseFn:l,formatNum:c,trim:f,splitWords:d,setOptions:h,getParamString:p,template:g,isArray:m,indexOf:y,emptyImageUrl:b,requestFn:_,cancelFn:k,requestAnimFrame:C,cancelAnimFrame:E};function S(){}S.extend=function(t){function r(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var i=r.__super__=this.prototype,o=n(i);for(var a in(o.constructor=r).prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(r[a]=this[a]);return t.statics&&(e(r,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=m(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=e(n(o.options),t.options)),e(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},r},S.include=function(t){return e(this.prototype,t),this},S.mergeOptions=function(t){return e(this.prototype.options,t),this},S.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var I={on:function(t,e,n){if("object"==typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=d(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var r in t)this._off(r,t[r],e);else for(var i=0,o=(t=d(t)).length;i<o;i++)this._off(t[i],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=void 0);for(var i={fn:e,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(i)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(e){if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var a=r[i];if(a.ctx===n&&a.fn===e)return a.fn=l,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,o=r.length;i<o;i++)r[i].fn=l;delete this._events[t]}},fire:function(t,n,r){if(!this.listens(t,r))return this;var i=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=i((function(){this.off(t,e,n).off(t,o,n)}),this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var T=S.extend(I);function P(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var O=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function R(t,e,n){return t instanceof P?t:m(t)?new P(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new P(t.x,t.y):new P(t,e,n)}function B(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(t,e){return!t||t instanceof B?t:new B(t,e)}function D(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function j(t,e){return t instanceof D?t:new D(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function Z(t,e,n){return t instanceof F?t:m(t)&&"object"!=typeof t[0]?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,n)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new P(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new P(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(t){var e=(t=R(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=R(t)).x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},B.prototype={extend:function(t){return t=R(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new P(this.min.x,this.max.y)},getTopRight:function(){return new P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t=("number"==typeof t[0]||t instanceof P?R:z)(t))instanceof B?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=z(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,a=i.y>=e.y&&r.y<=n.y;return o&&a},overlaps:function(t){t=z(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,a=i.y>e.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},D.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof F)n=e=t;else{if(!(t instanceof D))return t?this.extend(Z(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new F(e.lat,e.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new D(new F(e.lat-r,e.lng-i),new F(n.lat+r,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=("number"==typeof t[0]||t instanceof F||"lat"in t?Z:j)(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof D?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,a=i.lng>=e.lng&&r.lng<=n.lng;return o&&a},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,a=i.lng>e.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var N,V={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new B(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!(F.prototype={equals:function(t,e){return!!t&&(t=Z(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return G.distance(this,Z(t))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new F(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0==r&&0==i)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new D(new F(o.lat-r,o.lng-i),new F(a.lat-r,a.lng-i))}},G=e({},V,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),Y=6378137,W={R:Y,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new P(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:new B([-(N=Y*Math.PI),-N],[N,N])};function U(t,e,n,r){if(m(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function X(t,e,n,r){return new U(t,e,n,r)}U.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new P((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var H,K=e({},G,{code:"EPSG:3857",projection:W,transformation:X(H=.5/(Math.PI*W.R),.5,-H,.5)}),Q=e({},K,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t,e){for(var n,r,i,o,a="",s=0,u=t.length;s<u;s++){for(n=0,r=(i=t[s]).length;n<r;n++)a+=(n?"L":"M")+(o=i[n]).x+" "+o.y;a+=e?Lt?"z":"x":""}return a||"M0 0"}var $=document.documentElement.style,tt="ActiveXObject"in window,et=tt&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),rt=Pt("webkit"),it=Pt("android"),ot=Pt("android 2")||Pt("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=it&&Pt("Google")&&at<537&&!("AudioNode"in window),ut=!!window.opera,lt=!nt&&Pt("chrome"),ct=Pt("gecko")&&!rt&&!ut&&!tt,ft=!lt&&Pt("safari"),dt=Pt("phantom"),ht="OTransition"in $,pt=0===navigator.platform.indexOf("Win"),vt=tt&&"transition"in $,gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ot,mt="MozPerspective"in $,yt=!window.L_DISABLE_3D&&(vt||gt||mt)&&!ht&&!dt,bt="undefined"!=typeof orientation||Pt("mobile"),xt=bt&&rt,wt=bt&&gt,At=!window.PointerEvent&&window.MSPointerEvent,_t=!(!window.PointerEvent&&!At),kt=!window.L_NO_TOUCH&&(_t||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ct=bt&&ut,Et=bt&&ct,Mt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),St=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(t){}return t}(),It=!!document.createElement("canvas").getContext,Lt=!(!document.createElementNS||!J("svg").createSVGRect),Tt=!Lt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Pt(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var Ot={ie:tt,ielt9:et,edge:nt,webkit:rt,android:it,android23:ot,androidStock:st,opera:ut,chrome:lt,gecko:ct,safari:ft,phantom:dt,opera12:ht,win:pt,ie3d:vt,webkit3d:gt,gecko3d:mt,any3d:yt,mobile:bt,mobileWebkit:xt,mobileWebkit3d:wt,msPointer:At,pointer:_t,touch:kt,mobileOpera:Ct,mobileGecko:Et,retina:Mt,passiveEvents:St,canvas:It,svg:Lt,vml:Tt},Rt=At?"MSPointerDown":"pointerdown",Bt=At?"MSPointerMove":"pointermove",zt=At?"MSPointerUp":"pointerup",Dt=At?"MSPointerCancel":"pointercancel",jt={},Ft=!1;function Zt(t,e,n,r){function o(t){Yt(t,s)}var a,s,u,l,c,f,d,h;function p(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Yt(t,l)}return"touchstart"===e?(c=t,f=n,d=r,h=i((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&De(t),Yt(t,f)})),c["_leaflet_touchstart"+d]=h,c.addEventListener(Rt,h,!1),Ft||(document.addEventListener(Rt,Nt,!0),document.addEventListener(Bt,Vt,!0),document.addEventListener(zt,Gt,!0),document.addEventListener(Dt,Gt,!0),Ft=!0)):"touchmove"===e?(l=n,(u=t)["_leaflet_touchmove"+r]=p,u.addEventListener(Bt,p,!1)):"touchend"===e&&(s=n,(a=t)["_leaflet_touchend"+r]=o,a.addEventListener(zt,o,!1),a.addEventListener(Dt,o,!1)),this}function Nt(t){jt[t.pointerId]=t}function Vt(t){jt[t.pointerId]&&(jt[t.pointerId]=t)}function Gt(t){delete jt[t.pointerId]}function Yt(t,e){for(var n in t.touches=[],jt)t.touches.push(jt[n]);t.changedTouches=[t],e(t)}var Wt,Ut,Xt,Ht,Kt,Qt,Jt=At?"MSPointerDown":_t?"pointerdown":"touchstart",qt=At?"MSPointerUp":_t?"pointerup":"touchend",$t="_leaflet_",te=ge(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ee=ge(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ne="webkitTransition"===ee||"OTransition"===ee?ee+"End":"transitionend";function re(t){return"string"==typeof t?document.getElementById(t):t}function ie(t,e){var n,r=t.style[e]||t.currentStyle&&t.currentStyle[e];return r&&"auto"!==r||!document.defaultView||(r=(n=document.defaultView.getComputedStyle(t,null))?n[e]:null),"auto"===r?null:r}function oe(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function ae(t){var e=t.parentNode;e&&e.removeChild(t)}function se(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ue(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function le(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=pe(t);return 0<n.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function fe(t,e){var n;if(void 0!==t.classList)for(var r=d(e),i=0,o=r.length;i<o;i++)t.classList.add(r[i]);else ce(t,e)||he(t,((n=pe(t))?n+" ":"")+e)}function de(t,e){void 0!==t.classList?t.classList.remove(e):he(t,f((" "+pe(t)+" ").replace(" "+e+" "," ")))}function he(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function pe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ve(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}(t,e)}function ge(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function me(t,e,n){var r=e||new P(0,0);t.style[te]=(vt?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function ye(t,e){t._leaflet_pos=e,yt?me(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function be(t){return t._leaflet_pos||new P(0,0)}function xe(){Me(window,"dragstart",De)}function we(){Ie(window,"dragstart",De)}function Ae(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(_e(),Qt=(Kt=t).style.outline,t.style.outline="none",Me(window,"keydown",_e))}function _e(){Kt&&(Kt.style.outline=Qt,Qt=Kt=void 0,Ie(window,"keydown",_e))}function ke(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function Ce(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}Ht="onselectstart"in document?(Xt=function(){Me(window,"selectstart",De)},function(){Ie(window,"selectstart",De)}):(Ut=ge(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),Xt=function(){var t;Ut&&(t=document.documentElement.style,Wt=t[Ut],t[Ut]="none")},function(){Ut&&(document.documentElement.style[Ut]=Wt,Wt=void 0)});var Ee={TRANSFORM:te,TRANSITION:ee,TRANSITION_END:ne,get:re,getStyle:ie,create:oe,remove:ae,empty:se,toFront:ue,toBack:le,hasClass:ce,addClass:fe,removeClass:de,setClass:he,getClass:pe,setOpacity:ve,testProp:ge,setTransform:me,setPosition:ye,getPosition:be,disableTextSelection:Xt,enableTextSelection:Ht,disableImageDrag:xe,enableImageDrag:we,preventOutline:Ae,restoreOutline:_e,getSizedParentNode:ke,getScale:Ce};function Me(t,e,n,r){if("object"==typeof e)for(var i in e)Pe(t,i,e[i],n);else for(var o=0,a=(e=d(e)).length;o<a;o++)Pe(t,e[o],n,r);return this}var Se="_leaflet_events";function Ie(t,e,n,r){if("object"==typeof e)for(var i in e)Oe(t,i,e[i],n);else if(e)for(var o=0,a=(e=d(e)).length;o<a;o++)Oe(t,e[o],n,r);else{for(var s in t[Se])Oe(t,s,t[Se][s]);delete t[Se]}return this}function Le(){return _t&&!nt&&!ft}var Te={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pe(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):"");if(t[Se]&&t[Se][i])return this;var o,s,u,l,c,f,d=function(e){return n.call(r||t,e||window.event)},h=d;function p(t){if(_t){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(1<t.touches.length)return;var e=Date.now(),n=e-(l||e);c=t.touches?t.touches[0]:t,f=0<n&&n<=250,l=e}function v(t){if(f&&!c.cancelBubble){if(_t){if("mouse"===t.pointerType)return;var e,n,r={};for(n in c)e=c[n],r[n]=e&&e.bind?e.bind(c):e;c=r}c.type="dblclick",c.button=0,s(c),l=null}}_t&&0===e.indexOf("touch")?Zt(t,e,d,i):kt&&"dblclick"===e&&!Le()?(s=d,f=!1,(o=t)[$t+Jt+(u=i)]=p,o[$t+qt+u]=v,o[$t+"dblclick"+u]=s,o.addEventListener(Jt,p,!!St&&{passive:!1}),o.addEventListener(qt,v,!!St&&{passive:!1}),o.addEventListener("dblclick",s,!1)):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Te[e]||e,d,!!St&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(d=function(e){e=e||window.event,We(t,e)&&h(e)},t.addEventListener(Te[e],d,!1)):t.addEventListener(e,h,!1):"attachEvent"in t&&t.attachEvent("on"+e,d),t[Se]=t[Se]||{},t[Se][i]=d}function Oe(t,e,n,r){var i,o,s,u,l,c,f,d,h=e+a(n)+(r?"_"+a(r):""),p=t[Se]&&t[Se][h];if(!p)return this;_t&&0===e.indexOf("touch")?(d=(c=t)["_leaflet_"+(f=e)+h],"touchstart"===f?c.removeEventListener(Rt,d,!1):"touchmove"===f?c.removeEventListener(Bt,d,!1):"touchend"===f&&(c.removeEventListener(zt,d,!1),c.removeEventListener(Dt,d,!1))):kt&&"dblclick"===e&&!Le()?(s=(i=t)[$t+Jt+(o=h)],u=i[$t+qt+o],l=i[$t+"dblclick"+o],i.removeEventListener(Jt,s,!!St&&{passive:!1}),i.removeEventListener(qt,u,!!St&&{passive:!1}),i.removeEventListener("dblclick",l,!1)):"removeEventListener"in t?t.removeEventListener(Te[e]||e,p,!1):"detachEvent"in t&&t.detachEvent("on"+e,p),t[Se][h]=null}function Re(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ye(t),this}function Be(t){return Pe(t,"wheel",Re),this}function ze(t){return Me(t,"mousedown touchstart dblclick",Re),Pe(t,"click",Ge),this}function De(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function je(t){return De(t),Re(t),this}function Fe(t,e){if(!e)return new P(t.clientX,t.clientY);var n=Ce(e),r=n.boundingClientRect;return new P((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Ze=pt&&lt?2*window.devicePixelRatio:ct?window.devicePixelRatio:1;function Ne(t){return nt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ze:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ve={};function Ge(t){Ve[t.type]=!0}function Ye(t){var e=Ve[t.type];return Ve[t.type]=!1,e}function We(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ue={on:Me,off:Ie,stopPropagation:Re,disableScrollPropagation:Be,disableClickPropagation:ze,preventDefault:De,stop:je,getMousePosition:Fe,getWheelDelta:Ne,fakeStop:Ge,skipped:Ye,isExternalTarget:We,addListener:Me,removeListener:Ie},Xe=T.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=be(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(t){var e=new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ye(this._el,n),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),He=T.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=h(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(Z(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ee&&yt&&!Ct&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,ne,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,r){return n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(Z(t),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=e({animate:r.animate},r.zoom),r.pan=e({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,n),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(yt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(yt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof P?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=R(e.paddingTopLeft||e.padding||[0,0]),r=R(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"==typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){return e=e||{},(t=R(t).round()).x||t.y?(!0===e.animate||this.getSize().contains(t)?(this._panAnim||(this._panAnim=new Xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate?(fe(this._mapPane,"leaflet-pan-anim"),n=this._getMapPanePos().subtract(t).round(),this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this):this.fire("moveend");var n},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!yt)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),a=this._zoom;t=Z(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,e),l=i.distanceTo(r)||1,c=1.42,f=c*c;function d(t){var e=(u*u-s*s+(t?-1:1)*f*f*l*l)/(2*(t?u:s)*f*l),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function h(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var v=d(0);function g(t){return s*(p(v)*(h(e=v+c*t)/p(e))-h(v))/f;var e}var m=Date.now(),y=(d(1)-v)/c,b=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o,u,f=(Date.now()-m)/b,d=(o=f,(1-Math.pow(1-o,1.5))*y);f<=1?(this._flyToFrame=C(n,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(g(d)/l)),a),this.getScaleZoom(s/(u=d,s*(p(v)/p(v+c*u))),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=j(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,j(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n,r,i=R((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=R(e.paddingBottomRight||e.padding||[0,0]),a=this.getCenter(),s=this.project(a),u=this.project(t),l=this.getPixelBounds(),c=l.getSize().divideBy(2),f=z([l.min.add(i),l.max.subtract(o)]);return f.contains(u)||(this._enforcingBounds=!0,n=s.subtract(u),r=R(u.x+n.x,u.y+n.y),(u.x<f.min.x||u.x>f.max.x)&&(r.x=s.x-n.x,0<n.x?r.x+=c.x-i.x:r.x-=c.x-o.x),(u.y<f.min.y||u.y>f.max.y)&&(r.y=s.y-n.y,0<n.y?r.y+=c.y-i.y:r.y-=c.y-o.y),this.panTo(this.unproject(r),e),this._enforcingBounds=!1),this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=n.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,t):navigator.geolocation.getCurrentPosition(n,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e,n=new F(t.coords.latitude,t.coords.longitude),r=n.toBounds(2*t.coords.accuracy),i=this._locateOptions;i.setView&&(e=this.getBoundsZoom(r),this.setView(n,i.maxZoom?Math.min(e,i.maxZoom):e));var o={latlng:n,bounds:r,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(E(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ae(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=oe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new D(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),l=z(this.project(s,r),this.project(a,r)).getSize(),c=yt?this.options.zoomSnap:1,f=u.x/l.x,d=u.y/l.y,h=e?Math.max(f,d):Math.min(f,d);return r=this.getScaleZoom(h,r),c&&(r=Math.round(r/(c/100))*(c/100),r=e?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new B(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(Z(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(R(t),e)},layerPointToLatLng:function(t){var e=R(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(Z(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Z(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(Z(t),Z(e))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Z(t)))},mouseEventToContainerPoint:function(t){return Fe(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=re(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Me(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt,fe(t,"leaflet-container"+(kt?" leaflet-touch":"")+(Mt?" leaflet-retina":"")+(et?" leaflet-oldie":"")+(ft?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ie(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ye(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(t.markerPane,"leaflet-zoom-hide"),fe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ye(this._mapPane,new P(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,!1)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ye(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?Ie:Me;e((this._targets[a(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),yt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=C((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(i&&!We(o,t))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!We(o,t)||(r=[this]),r},_handleDOMEvent:function(t){var e;this._loaded&&!Ye(t)&&("mousedown"!==(e=t.type)&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Ae(t.target||t.srcElement),this._fireDOMEvent(t,e))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,r){var i;if("click"===t.type&&((i=e({},t)).type="preclick",this._fireDOMEvent(i,i.type,r)),!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,n))).length){var o=r[0];"contextmenu"===n&&o.listens(n,!0)&&De(t);var a,s={originalEvent:t};"keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type&&(a=o.getLatLng&&(!o._radius||o._radius<=10),s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint));for(var u=0;u<r.length;u++)if(r[u].fire(n,s,!0),s.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,n))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return be(this._mapPane)||new P(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return z([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new B(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new B(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=z(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max);return new P(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=yt?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){de(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=te,n=this._proxy.style[e];me(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();me(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(C((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&de(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),C((function(){this._moveEnd(!0)}),this))}});function Ke(t){return new Qe(t)}var Qe=S.extend({options:{position:"topright"},initialize:function(t){h(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return fe(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}});He.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=oe("div",e+"control-container",this._container);function r(r,i){var o=e+r+" "+e+i;t[r+i]=oe("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ae(this._controlCorners[t]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Je=Qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Qe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):de(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return de(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),ze(e),Be(e);var r=this._section=oe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),it||Me(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=oe("a",t+"-toggle",e);i.href="#",i.title="Layers",kt?(Me(i,"click",je),Me(i,"click",this.expand,this)):Me(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=oe("div",t+"-base",r),this._separator=oe("div",t+"-separator",r),this._overlaysList=oe("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;se(this._baseLayersList),se(this._overlaysList),this._layerControlInputs=[];for(var t,e,n,r=0,i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,r+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&1<r,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(e),e.layerId=a(t.layer),Me(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;0<=o;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;0<=i;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),qe=Qe.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=oe("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=oe("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),ze(o),Me(o,"click",je),Me(o,"click",i,this),Me(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";de(this._zoomInButton,e),de(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMinZoom()||fe(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMaxZoom()||fe(this._zoomInButton,e)}});He.mergeOptions({zoomControl:!0}),He.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new qe,this.addControl(this.zoomControl))}));var $e=Qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=oe("div",e),r=this.options;return this._addScales(r,e+"-line",n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=oe("div",e,n)),t.imperial&&(this._iScale=oe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;5280<i?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(10<=n?10:5<=n?5:3<=n?3:2<=n?2:1)}}),tn=Qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){h(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=oe("div","leaflet-control-attribution"),ze(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});He.mergeOptions({attributionControl:!0}),He.addInitHook((function(){this.options.attributionControl&&(new tn).addTo(this)})),Qe.Layers=Je,Qe.Zoom=qe,Qe.Scale=$e,Qe.Attribution=tn,Ke.layers=function(t,e,n){return new Je(t,e,n)},Ke.zoom=function(t){return new qe(t)},Ke.scale=function(t){return new $e(t)},Ke.attribution=function(t){return new tn(t)};var en=S.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});en.addTo=function(t,e){return t.addHandler(e,this),this};var nn,rn={Events:I},on=kt?"touchstart mousedown":"mousedown",an={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},sn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},un=T.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){h(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Me(this._dragStartTarget,on,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(),Ie(this._dragStartTarget,on,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){var e,n;!t._simulated&&this._enabled&&(this._moved=!1,ce(this._element,"leaflet-zoom-anim")||un._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((un._dragging=this)._preventOutline&&Ae(this._element),xe(),Xt(),this._moving||(this.fire("down"),e=t.touches?t.touches[0]:t,n=ke(this._element),this._startPoint=new P(e.clientX,e.clientY),this._parentScale=Ce(n),Me(document,sn[t.type],this._onMove,this),Me(document,an[t.type],this._onUp,this))))},_onMove:function(t){var e,n;!t._simulated&&this._enabled&&(t.touches&&1<t.touches.length?this._moved=!0:((n=new P((e=t.touches&&1===t.touches.length?t.touches[0]:t).clientX,e.clientY)._subtract(this._startPoint)).x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,De(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=be(this._element).subtract(n),fe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,E(this._animRequest),this._lastEvent=t,this._animRequest=C(this._updatePosition,this,!0))))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ye(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in de(document.body,"leaflet-dragging"),this._lastTarget&&(de(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),sn)Ie(document,sn[t],this._onMove,this),Ie(document,an[t],this._onUp,this);we(),Ht(),this._moved&&this._moving&&(E(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,un._dragging=!1}});function ln(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,function t(e,n,r,i,o){var a,s,u,l=0;for(s=i+1;s<=o-1;s++)l<(u=pn(e[s],e[i],e[o],!0))&&(a=s,l=u);r<l&&(n[a]=1,t(e,n,r,i,a),t(e,n,r,a,o))}(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}(t=function(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)(function(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r})(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<o-1&&n.push(t[o-1]),n}(t,n),n)}function cn(t,e,n){return Math.sqrt(pn(t,e,n,!0))}function fn(t,e,n,r,i){var o,a,s,u=r?nn:hn(t,n),l=hn(e,n);for(nn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;s=hn(a=dn(t,e,o=u||l,n,i),n),o===u?(t=a,u=s):(e=a,l=s)}}function dn(t,e,n,r,i){var o,a,s=e.x-t.x,u=e.y-t.y,l=r.min,c=r.max;return 8&n?(o=t.x+s*(c.y-t.y)/u,a=c.y):4&n?(o=t.x+s*(l.y-t.y)/u,a=l.y):2&n?(o=c.x,a=t.y+u*(c.x-t.x)/s):1&n&&(o=l.x,a=t.y+u*(l.x-t.x)/s),new P(o,a,i)}function hn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function pn(t,e,n,r){var i,o=e.x,a=e.y,s=n.x-o,u=n.y-a,l=s*s+u*u;return 0<l&&(1<(i=((t.x-o)*s+(t.y-a)*u)/l)?(o=n.x,a=n.y):0<i&&(o+=s*i,a+=u*i)),s=t.x-o,u=t.y-a,r?s*s+u*u:new P(o,a)}function vn(t){return!m(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function gn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vn(t)}var mn={simplify:ln,pointToSegmentDistance:cn,closestPointOnSegment:function(t,e,n){return pn(t,e,n)},clipSegment:fn,_getEdgeIntersection:dn,_getBitCode:hn,_sqClosestPointOnSegment:pn,isFlat:vn,_flat:gn};function yn(t,e,n){for(var r,i,o,a,s,u,l,c=[1,4,2,8],f=0,d=t.length;f<d;f++)t[f]._code=hn(t[f],e);for(o=0;o<4;o++){for(u=c[o],r=[],f=0,i=(d=t.length)-1;f<d;i=f++)a=t[f],s=t[i],a._code&u?s._code&u||((l=dn(s,a,u,e,n))._code=hn(l,e),r.push(l)):(s._code&u&&((l=dn(s,a,u,e,n))._code=hn(l,e),r.push(l)),r.push(a));t=r}return t}var bn,xn={clipPolygon:yn},wn={project:function(t){return new P(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new B([-180,-90],[180,90])},An={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new P(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&1e-7<Math.abs(l);u++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=l=Math.PI/2-2*Math.atan(a*e)-s;return new F(s*n,t.x*n/r)}},_n={LonLat:wn,Mercator:An,SphericalMercator:W},kn=e({},G,{code:"EPSG:3395",projection:An,transformation:X(bn=.5/(Math.PI*An.R),.5,-bn,.5)}),Cn=e({},G,{code:"EPSG:4326",projection:wn,transformation:X(1/180,1,-1/180,.5)}),En=e({},V,{projection:wn,transformation:X(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});V.Earth=G,V.EPSG3395=kn,V.EPSG3857=K,V.EPSG900913=Q,V.EPSG4326=Cn,V.Simple=En;var Mn=T.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e,n=t.target;n.hasLayer(this)&&(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents&&(e=this.getEvents(),n.on(e,this),this.once("remove",(function(){n.off(e,this)}),this)),this.onAdd(n),this.getAttribution&&n.attributionControl&&n.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),n.fire("layeradd",{layer:this}))}});He.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?m(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=Mn.extend({initialize:function(t,e){var n,r;if(h(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:a}),In=Sn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Sn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Sn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new D;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Ln=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){h(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"==typeof r&&(r=[r,r]);var i=R(r),o=R("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Mt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Tn=Ln.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Tn.imagePath||(Tn.imagePath=this._detectIconPath()),(this.options.imagePath||Tn.imagePath)+Ln.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),e=ie(t,"background-image")||ie(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Pn=en.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new un(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&de(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e,n=this._marker,r=n._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,a=be(n._icon),s=r.getPixelBounds(),u=r.getPixelOrigin(),l=z(s.min._subtract(u).add(o),s.max._subtract(u).subtract(o));l.contains(a)||(e=R((Math.max(l.max.x,a.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i),r.panBy(e,{animate:!1}),this._draggable._newPos._add(e),this._draggable._startPos._add(e),ye(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=C(this._adjustPan.bind(this,t)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=be(e._icon),i=e._map.layerPointToLatLng(r);n&&ye(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),On=Mn.extend({options:{icon:new Tn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){h(this,e),this._latlng=Z(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=Z(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var t;return this._icon&&this._map&&(t=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(t)),this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),fe(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(fe(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ye(this._icon,t),this._shadow&&ye(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){var t;this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pn&&(t=this.options.draggable,this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pn(this),t&&this.dragging.enable()))},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ve(this._icon,t),this._shadow&&ve(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Rn=Mn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return h(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Bn=Rn.extend({options:{fill:!0,radius:10},initialize:function(t,e){h(this,e),this._latlng=Z(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=Z(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Rn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new B(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),zn=Bn.extend({initialize:function(t,n,r){if("number"==typeof n&&(n=e({},r,{radius:n})),h(this,n),this._latlng=Z(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Rn.prototype.setStyle,_project:function(){var t,e,n,r,i,o,a,s,u=this._latlng.lng,l=this._latlng.lat,c=this._map,f=c.options.crs;f.distance===G.distance?(t=Math.PI/180,e=this._mRadius/G.R/t,n=c.project([l+e,u]),r=c.project([l-e,u]),i=n.add(r).divideBy(2),o=c.unproject(i).lat,a=Math.acos((Math.cos(e*t)-Math.sin(l*t)*Math.sin(o*t))/(Math.cos(l*t)*Math.cos(o*t)))/t,!isNaN(a)&&0!==a||(a=e/Math.cos(Math.PI/180*l)),this._point=i.subtract(c.getPixelOrigin()),this._radius=isNaN(a)?0:i.x-c.project([o,u-a]).x,this._radiusY=i.y-n.y):(s=f.unproject(f.project(this._latlng).subtract([this._mRadius,0])),this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(s).x),this._updateBounds()}}),Dn=Rn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){h(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=pn,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){var f=o(t,e=u[l-1],n=u[l],!0);f<r&&(r=f,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(e=t=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(r=t=0;t<u-1;t++)if(i=s[t],o=s[t+1],e<(r+=n=i.distanceTo(o)))return a=(r-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=Z(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new D,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=vn(t),r=0,i=t.length;r<i;r++)n?(e[r]=Z(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new P(t,t);this._pxBounds=new B([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var r,i,o=t[0]instanceof F,a=t.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var e,n,r,i,o=this._parts,a=0,s=0,u=this._rings.length;a<u;a++)for(e=0,n=(i=this._rings[a]).length;e<n-1;e++)(r=fn(i[e],i[e+1],t,e,!0))&&(o[s]=o[s]||[],o[s].push(r[0]),r[1]===i[e+1]&&e!==n-2||(o[s].push(r[1]),s++))},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=ln(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((e||0!==r)&&cn(t,s[i],s[r])<=u)return!0;return!1}});Dn._flat=gn;var jn=Dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(t=o=a=s=0,e=c-1;t<c;e=t++)n=l[t],r=l[e],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return u=0===o?l[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Dn.prototype._convertLatLngs.call(this,t),n=e.length;return 2<=n&&e[0]instanceof F&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Dn.prototype._setLatLngs.call(this,t),vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new P(e,e);if(t=new B(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=yn(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,a,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(u=(e=this._parts[i]).length)-1;o<u;a=o++)n=e[o],r=e[a],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||Dn.prototype._containsPoint.call(this,t,!0)}}),Fn=In.extend({initialize:function(t,e){h(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=m(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=Zn(t,o);return a?(a.feature=Xn(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Zn(t,e){var n,r,i,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Vn;if(!s&&!a)return null;switch(a.type){case"Point":return Nn(l,t,n=c(s),e);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=c(s[i]),u.push(Nn(l,t,n,e));return new In(u);case"LineString":case"MultiLineString":return r=Gn(s,"LineString"===a.type?0:1,c),new Dn(r,e);case"Polygon":case"MultiPolygon":return r=Gn(s,"Polygon"===a.type?1:2,c),new jn(r,e);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var f=Zn({geometry:a.geometries[i],type:"Feature",properties:t.properties},e);f&&u.push(f)}return new In(u);default:throw new Error("Invalid GeoJSON object.")}}function Nn(t,e,n,r){return t?t(e,n):new On(n,r&&r.markersInheritOptions&&r)}function Vn(t){return new F(t[1],t[0],t[2])}function Gn(t,e,n){for(var r,i=[],o=0,a=t.length;o<a;o++)r=e?Gn(t[o],e-1,n):(n||Vn)(t[o]),i.push(r);return i}function Yn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function Wn(t,e,n,r){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?Wn(t[o],e-1,n,r):Yn(t[o],r));return!e&&n&&i.push(i[0]),i}function Un(t,n){return t.feature?e({},t.feature,{geometry:n}):Xn(n)}function Xn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Hn={toGeoJSON:function(t){return Un(this,{type:"Point",coordinates:Yn(this.getLatLng(),t)})}};function Kn(t,e){return new Fn(t,e)}On.include(Hn),zn.include(Hn),Bn.include(Hn),Dn.include({toGeoJSON:function(t){var e=!vn(this._latlngs);return Un(this,{type:(e?"Multi":"")+"LineString",coordinates:Wn(this._latlngs,e?1:0,!1,t)})}}),jn.include({toGeoJSON:function(t){var e=!vn(this._latlngs),n=e&&!vn(this._latlngs[0]),r=Wn(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),Un(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Sn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Un(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){var i,o;e.toGeoJSON&&(i=e.toGeoJSON(t),n?r.push(i.geometry):"FeatureCollection"===(o=Xn(i)).type?r.push.apply(r,o.features):r.push(o))})),n?Un(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Qn=Kn,Jn=Mn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ue(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:oe("img");fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;me(this._image,n,e)},_reset:function(){var t=this._image,e=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ye(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),qn=Jn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:oe("video");if(fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=0<n.length?r:[e.src]}else{m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var a=0;a<this._url.length;a++){var s=oe("source");s.src=this._url[a],e.appendChild(s)}}}}),$n=Jn.extend({_initImage:function(){var t=this._image=this._url;fe(t,"leaflet-image-layer"),this._zoomAnimated&&fe(t,"leaflet-zoom-animated"),this.options.className&&fe(t,this.options.className),t.onselectstart=l,t.onmousemove=l}}),tr=Mn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){h(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ve(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(ve(this._container,0),this._removeTimeout=setTimeout(i(ae,void 0,this._container),200)):ae(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Z(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ue(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Mn||(n=e,e=t),e instanceof In)for(var r in t._layers){e=t._layers[r];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){var t,e,n,r,i;this._map&&(t=this._map.latLngToLayerPoint(this._latlng),e=R(this.options.offset),n=this._getAnchor(),this._zoomAnimated?ye(this._container,t.add(n)):e=e.add(t).add(n),r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x,this._container.style.bottom=r+"px",this._container.style.left=i+"px")},_getAnchor:function(){return[0,0]}}),er=tr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){tr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Rn||this._source.on("preclick",Re))},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Rn||this._source.off("preclick",Re))},getEvents:function(){var t=tr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=this._container=oe("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=oe("div",e+"-content-wrapper",n);this._contentNode=oe("div",e+"-content",r),ze(n),Be(this._contentNode),Me(n,"contextmenu",Re),this._tipContainer=oe("div",e+"-tip-container",n),this._tip=oe("div",e+"-tip",this._tipContainer),this.options.closeButton&&((t=this._closeButton=oe("a",e+"-close-button",n)).href="#close",t.innerHTML="&#215;",Me(t,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&i<r?(e.height=i+"px",fe(t,o)):de(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ye(this._container,e.add(n))},_adjustPan:function(){var t,e,n,r,i,o,a,s,u,l,c,f;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),t=this._map,e=parseInt(ie(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,(i=new P(this._containerLeft,-n-this._containerBottom))._add(be(this._container)),o=t.layerPointToContainerPoint(i),a=R(this.options.autoPanPadding),s=R(this.options.autoPanPaddingTopLeft||a),u=R(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),f=c=0,o.x+r+u.x>l.x&&(c=o.x+r-l.x+u.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+u.y>l.y&&(f=o.y+n-l.y+u.y),o.y-f-s.y<0&&(f=o.y-s.y),(c||f)&&t.fire("autopanstart").panBy([c,f]))},_onCloseButtonClick:function(t){this._close(),je(t)},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});He.mergeOptions({closePopupOnClick:!0}),He.include({openPopup:function(t,e,n){return t instanceof er||(t=new er(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Mn.include({bindPopup:function(t,e){return t instanceof er?(h(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new er(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(je(t),e instanceof Rn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var nr=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){tr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=tr.prototype.getEvents.call(this);return kt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n=this._map,r=this._container,i=n.latLngToContainerPoint(n.getCenter()),o=n.layerPointToContainerPoint(t),a=this.options.direction,s=r.offsetWidth,u=r.offsetHeight,l=R(this.options.offset),c=this._getAnchor(),f="top"===a?(e=s/2,u):"bottom"===a?(e=s/2,0):(e="center"===a?s/2:"right"===a?0:"left"===a?s:o.x<i.x?(a="right",0):(a="left",s+2*(l.x+c.x)),u/2);t=t.subtract(R(e,f,!0)).add(l).add(c),de(r,"leaflet-tooltip-right"),de(r,"leaflet-tooltip-left"),de(r,"leaflet-tooltip-top"),de(r,"leaflet-tooltip-bottom"),fe(r,"leaflet-tooltip-"+a),ye(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ve(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});He.include({openTooltip:function(t,e,n){return t instanceof nr||(t=new nr(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Mn.include({bindTooltip:function(t,e){return t instanceof nr?(h(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=new nr(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){var e,n;!t&&this._tooltipHandlersAdded||(e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),kt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t)},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var rr=Ln.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e,n=t&&"DIV"===t.tagName?t:document.createElement("div"),r=this.options;return r.html instanceof Element?(se(n),n.appendChild(r.html)):n.innerHTML=!1!==r.html?r.html:"",r.bgPos&&(e=R(r.bgPos),n.style.backgroundPosition=-e.x+"px "+-e.y+"px"),this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});Ln.Default=Tn;var ir=Mn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:bt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){h(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ae(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof P?t:new P(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!et){ve(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i,o=this._tiles[r];o.current&&o.loaded&&(i=Math.min(1,(t-o.loaded)/200),ve(o.el,i),i<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0))}n&&!this._noPrune&&this._pruneTiles(),e&&(E(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ae(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),l(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(n=this._tiles[t]).retain=n.current;for(t in this._tiles)(n=this._tiles[t]).current&&!n.active&&(e=n.coords,this._retainParent(e.x,e.y,e.z,e.z-5)||this._retainChildren(e.x,e.y,e.z,e.z+2));for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ae(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new P(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),r<a&&this._retainParent(i,o,a,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var a=new P(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=Math.round(e),o=(i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i),this.options.updateWhenZooming&&i!==this._tileZoom);r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();yt?me(t.el,i,r):ye(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new B(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new B(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new P(c.x,c.y))||(this._tiles[l].current=!1)}if(1<Math.abs(n-this._tileZoom))this._setView(t,n);else{for(var f=i.min.y;f<=i.max.y;f++)for(var d=i.min.x;d<=i.max.x;d++){var h,p=new P(d,f);p.z=this._tileZoom,this._isValidTile(p)&&((h=this._tiles[this._tileCoordsToKey(p)])?h.current=!0:a.push(p))}if(a.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var v=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],v);this._level.el.appendChild(v)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new D(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new P(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ae(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,et&&this.options.opacity<1&&ve(t,this.options.opacity),it&&!ot&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&C(i(this._tileReady,this,t,null,o)),ye(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(ve(n.el,0),E(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(fe(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),et||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new P(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new B(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),or=ir.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=h(this,e)).detectRetina&&Mt&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),it||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Me(n,"load",i(this._tileOnLoad,this,e,n)),Me(n,"error",i(this._tileOnError,this,e,n)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var n,r={r:Mt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(n=this._globalTileRange.max.y-t.y,this.options.tms&&(r.y=n),r["-y"]=n),g(this._url,e(r,this.options))},_tileOnLoad:function(t,e){et?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=b,ae(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return st||e.el.setAttribute("src",b),ir.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==b))return ir.prototype._tileReady.call(this,t,e,n)}});function ar(t,e){return new or(t,e)}var sr=or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var r=e({},this.defaultWmsParams);for(var i in n)i in this.options||(r[i]=n[i]);var o=(n=h(this,n)).detectRetina&&Mt?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,or.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=z(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,a=(1.3<=this._wmsVersion&&this._crs===Cn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=or.prototype.getTileUrl.call(this,t);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});or.WMS=sr,ar.wms=function(t,e){return new sr(t,e)};var ur=Mn.extend({options:{padding:.1,tolerance:0},initialize:function(t){h(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=be(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e).subtract(o),s=i.multiplyBy(-n).add(r).add(i).subtract(a);yt?me(this._container,s,n):ye(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new B(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lr=ur.extend({getEvents:function(){var t=ur.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Me(t,"mousemove",this._onMouseMove,this),Me(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,ae(this._container),Ie(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){var t,e,n,r;this._map._animatingZoom&&this._bounds||(ur.prototype._update.call(this),t=this._bounds,e=this._container,n=t.getSize(),r=Mt?2:1,ye(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Mt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update"))},_reset:function(){ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);var e=(this._layers[a(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){for(var e,n=t.options.dashArray.split(/[, ]+/),r=[],i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(t){var e;t._pxBounds&&(e=(t.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t,e=this._redrawBounds;e?(t=e.getSize(),this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var t,e,n=this._redrawBounds;this._ctx.save(),n&&(e=n.getSize(),this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,e.x,e.y),this._ctx.clip()),this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){var e,n,r,i;this._drawing&&!t._empty()&&(e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),1!=(i=(Math.max(Math.round(t._radiusY),1)||r)/r)&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!=i&&n.restore(),this._fillStroke(n,t))},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&(("click"===t.type||"preclick"!==t.type)&&this._map._draggableMoved(e)||(n=e));n&&(Ge(t),this._fireEvent([n],t))},_onMouseMove:function(t){var e;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(e=this._map.mouseEventToLayerPoint(t),this._handleMouseHover(t,e))},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(de(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(fe(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e,n,r=t._order;r&&(e=r.next,n=r.prev,e&&((e.prev=n)?n.next=e:e&&(this._drawFirst=e),r.prev=this._drawLast,(this._drawLast.next=r).next=null,this._drawLast=r,this._requestRedraw(t)))},_bringToBack:function(t){var e,n,r=t._order;r&&(e=r.next,(n=r.prev)&&((n.next=e)?e.prev=n:n&&(this._drawLast=n),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(t)))}});function cr(t){return It?new lr(t):null}var fr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),dr={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ur.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=fr("shape");fe(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=fr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ae(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e=e||(t._stroke=fr("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=m(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n=n||(t._fill=fr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ue(t._container)},_bringToBack:function(t){le(t._container)}},hr=Tt?fr:J,pr=ur.extend({getEvents:function(){var t=ur.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=hr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Ie(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){var t,e,n;this._map._animatingZoom&&this._bounds||(ur.prototype._update.call(this),e=(t=this._bounds).getSize(),n=this._container,this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ye(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update"))},_initPath:function(t){var e=t._path=hr("path");t.options.className&&fe(e,t.options.className),t.options.interactive&&fe(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ae(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,q(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ue(t._path)},_bringToBack:function(t){le(t._path)}});function vr(t){return Lt||Tt?new pr(t):null}Tt&&pr.include(dr),He.include({getRenderer:function(t){var e=(e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());return this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&cr(t)||vr(t)}});var gr=jn.extend({initialize:function(t,e){jn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pr.create=hr,pr.pointsToPath=q,Fn.geometryToLayer=Zn,Fn.coordsToLatLng=Vn,Fn.coordsToLatLngs=Gn,Fn.latLngToCoords=Yn,Fn.latLngsToCoords=Wn,Fn.getFeature=Un,Fn.asFeature=Xn,He.mergeOptions({boxZoom:!0});var mr=en.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),xe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Me(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new B(this._point,this._startPoint),n=e.getSize();ye(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ae(this._box),de(this._container,"leaflet-crosshair")),Ht(),we(),Ie(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){var e;1!==t.which&&1!==t.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0),e=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})))},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});He.addInitHook("addHandler","boxZoom",mr),He.mergeOptions({doubleClickZoom:!0});var yr=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});He.addInitHook("addHandler","doubleClickZoom",yr),He.mergeOptions({dragging:!0,inertia:!ot,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var br=en.extend({addHooks:function(){var t;this._draggable||(t=this._map,this._draggable=new un(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))),fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){de(this._map._container,"leaflet-grab"),de(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t,e=this._map;e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(t=j(this._map.options.maxBounds),this._offsetLimit=z(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){var e,n;this._map.options.inertia&&(e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(n),this._times.push(e),this._prunePositions(e)),this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){var t,e;this._viscosity&&this._offsetLimit&&(t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit,t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t))},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e,n,r,i,o,a,s,u,l,c=this._map,f=c.options,d=!f.inertia||this._times.length<2;c.fire("dragend",t),d?c.fire("moveend"):(this._prunePositions(+new Date),e=this._lastPos.subtract(this._positions[0]),n=(this._lastTime-this._times[0])/1e3,r=f.easeLinearity,o=(i=e.multiplyBy(r/n)).distanceTo([0,0]),a=Math.min(f.inertiaMaxSpeed,o),s=i.multiplyBy(a/o),u=a/(f.inertiaDeceleration*r),(l=s.multiplyBy(-u/2).round()).x||l.y?(l=c._limitOffset(l,c.options.maxBounds),C((function(){c.panBy(l,{duration:u,easeLinearity:r,noMoveStart:!0,animate:!0})}))):c.fire("moveend"))}});He.addInitHook("addHandler","dragging",br),He.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xr=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Me(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ie(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var t,e,n,r;this._focused||(t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft,this._map._container.focus(),window.scrollTo(r,n))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){for(var e=this._panKeys={},n=this.keyCodes,r=0,i=n.left.length;r<i;r++)e[n.left[r]]=[-1*t,0];for(r=0,i=n.right.length;r<i;r++)e[n.right[r]]=[t,0];for(r=0,i=n.down.length;r<i;r++)e[n.down[r]]=[0,t];for(r=0,i=n.up.length;r<i;r++)e[n.up[r]]=[0,-1*t]},_setZoomDelta:function(t){for(var e=this._zoomKeys={},n=this.keyCodes,r=0,i=n.zoomIn.length;r<i;r++)e[n.zoomIn[r]]=t;for(r=0,i=n.zoomOut.length;r<i;r++)e[n.zoomOut[r]]=-t},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=R(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}je(t)}}});He.addInitHook("addHandler","keyboard",xr),He.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wr=en.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ie(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ne(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),je(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(0<this._delta?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});He.addInitHook("addHandler","scrollWheelZoom",wr),He.mergeOptions({tap:!0,tapTolerance:15});var Ar=en.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(De(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new P(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&fe(n,"leaflet-active"),this._holdTimeout=setTimeout(i((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Me(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){var e,n;clearTimeout(this._holdTimeout),Ie(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches&&((n=(e=t.changedTouches[0]).target)&&n.tagName&&"a"===n.tagName.toLowerCase()&&de(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new P(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});!kt||_t&&!ft||He.addInitHook("addHandler","tap",Ar),He.mergeOptions({touchZoom:kt&&!ot,bounceAtZoomLimits:!0});var _r=en.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e,n,r=this._map;!t.touches||2!==t.touches.length||r._animatingZoom||this._zooming||(e=r.mouseEventToContainerPoint(t.touches[0]),n=r.mouseEventToContainerPoint(t.touches[1]),this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),"center"!==r.options.touchZoom&&(this._pinchStartLatLng=r.containerPointToLatLng(e.add(n)._divideBy(2))),this._startDist=e.distanceTo(n),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend",this._onTouchEnd,this),De(t))},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&1<o)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1==o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var s=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=C(s,this,!0),De(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,E(this._animRequest),Ie(document,"touchmove",this._onTouchMove,this),Ie(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});He.addInitHook("addHandler","touchZoom",_r),He.BoxZoom=mr,He.DoubleClickZoom=yr,He.Drag=br,He.Keyboard=xr,He.ScrollWheelZoom=wr,He.Tap=Ar,He.TouchZoom=_r,t.version="1.7.1",t.Control=Qe,t.control=Ke,t.Browser=Ot,t.Evented=T,t.Mixin=rn,t.Util=M,t.Class=S,t.Handler=en,t.extend=e,t.bind=i,t.stamp=a,t.setOptions=h,t.DomEvent=Ue,t.DomUtil=Ee,t.PosAnimation=Xe,t.Draggable=un,t.LineUtil=mn,t.PolyUtil=xn,t.Point=P,t.point=R,t.Bounds=B,t.bounds=z,t.Transformation=U,t.transformation=X,t.Projection=_n,t.LatLng=F,t.latLng=Z,t.LatLngBounds=D,t.latLngBounds=j,t.CRS=V,t.GeoJSON=Fn,t.geoJSON=Kn,t.geoJson=Qn,t.Layer=Mn,t.LayerGroup=Sn,t.layerGroup=function(t,e){return new Sn(t,e)},t.FeatureGroup=In,t.featureGroup=function(t,e){return new In(t,e)},t.ImageOverlay=Jn,t.imageOverlay=function(t,e,n){return new Jn(t,e,n)},t.VideoOverlay=qn,t.videoOverlay=function(t,e,n){return new qn(t,e,n)},t.SVGOverlay=$n,t.svgOverlay=function(t,e,n){return new $n(t,e,n)},t.DivOverlay=tr,t.Popup=er,t.popup=function(t,e){return new er(t,e)},t.Tooltip=nr,t.tooltip=function(t,e){return new nr(t,e)},t.Icon=Ln,t.icon=function(t){return new Ln(t)},t.DivIcon=rr,t.divIcon=function(t){return new rr(t)},t.Marker=On,t.marker=function(t,e){return new On(t,e)},t.TileLayer=or,t.tileLayer=ar,t.GridLayer=ir,t.gridLayer=function(t){return new ir(t)},t.SVG=pr,t.svg=vr,t.Renderer=ur,t.Canvas=lr,t.canvas=cr,t.Path=Rn,t.CircleMarker=Bn,t.circleMarker=function(t,e){return new Bn(t,e)},t.Circle=zn,t.circle=function(t,e,n){return new zn(t,e,n)},t.Polyline=Dn,t.polyline=function(t,e){return new Dn(t,e)},t.Polygon=jn,t.polygon=function(t,e){return new jn(t,e)},t.Rectangle=gr,t.rectangle=function(t,e){return new gr(t,e)},t.Map=He,t.map=function(t,e){return new He(t,e)};var kr=window.L;t.noConflict=function(){return window.L=kr,this},window.L=t}(e)},function(t,e,n){}]]);
//# sourceMappingURL=2.ee670b45.chunk.js.map